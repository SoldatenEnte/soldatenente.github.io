(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var by={exports:{}},Eh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function jD(){if(OE)return Eh;OE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Eh.Fragment=t,Eh.jsx=n,Eh.jsxs=n,Eh}var LE;function FD(){return LE||(LE=1,by.exports=jD()),by.exports}var tt=FD(),Ey={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function HD(){if(NE)return re;NE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function E(R){return R===null||typeof R!="object"?null:(R=T&&R[T]||R["@@iterator"],typeof R=="function"?R:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function H(R,ht,wt){this.props=R,this.context=ht,this.refs=U,this.updater=wt||x}H.prototype.isReactComponent={},H.prototype.setState=function(R,ht){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,ht,"setState")},H.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function F(){}F.prototype=H.prototype;function K(R,ht,wt){this.props=R,this.context=ht,this.refs=U,this.updater=wt||x}var Z=K.prototype=new F;Z.constructor=K,O(Z,H.prototype),Z.isPureReactComponent=!0;var ot=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function q(R,ht,wt,j,Rt,kt){return wt=kt.ref,{$$typeof:e,type:R,key:ht,ref:wt!==void 0?wt:null,props:kt}}function P(R,ht){return q(R.type,ht,void 0,void 0,void 0,R.props)}function D(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function G(R){var ht={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(wt){return ht[wt]})}var N=/\/+/g;function M(R,ht){return typeof R=="object"&&R!==null&&R.key!=null?G(""+R.key):ht.toString(36)}function k(){}function it(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(k,k):(R.status="pending",R.then(function(ht){R.status==="pending"&&(R.status="fulfilled",R.value=ht)},function(ht){R.status==="pending"&&(R.status="rejected",R.reason=ht)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function W(R,ht,wt,j,Rt){var kt=typeof R;(kt==="undefined"||kt==="boolean")&&(R=null);var At=!1;if(R===null)At=!0;else switch(kt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(R.$$typeof){case e:case t:At=!0;break;case v:return At=R._init,W(At(R._payload),ht,wt,j,Rt)}}if(At)return Rt=Rt(R),At=j===""?"."+M(R,0):j,ot(Rt)?(wt="",At!=null&&(wt=At.replace(N,"$&/")+"/"),W(Rt,ht,wt,"",function(gn){return gn})):Rt!=null&&(D(Rt)&&(Rt=P(Rt,wt+(Rt.key==null||R&&R.key===Rt.key?"":(""+Rt.key).replace(N,"$&/")+"/")+At)),ht.push(Rt)),1;At=0;var ge=j===""?".":j+":";if(ot(R))for(var Jt=0;Jt<R.length;Jt++)j=R[Jt],kt=ge+M(j,Jt),At+=W(j,ht,wt,kt,Rt);else if(Jt=E(R),typeof Jt=="function")for(R=Jt.call(R),Jt=0;!(j=R.next()).done;)j=j.value,kt=ge+M(j,Jt++),At+=W(j,ht,wt,kt,Rt);else if(kt==="object"){if(typeof R.then=="function")return W(it(R),ht,wt,j,Rt);throw ht=String(R),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.")}return At}function et(R,ht,wt){if(R==null)return R;var j=[],Rt=0;return W(R,j,"","",function(kt){return ht.call(wt,kt,Rt++)}),j}function rt(R){if(R._status===-1){var ht=R._result;ht=ht(),ht.then(function(wt){(R._status===0||R._status===-1)&&(R._status=1,R._result=wt)},function(wt){(R._status===0||R._status===-1)&&(R._status=2,R._result=wt)}),R._status===-1&&(R._status=0,R._result=ht)}if(R._status===1)return R._result.default;throw R._result}var st=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ht=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(ht))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Pt(){}return re.Children={map:et,forEach:function(R,ht,wt){et(R,function(){ht.apply(this,arguments)},wt)},count:function(R){var ht=0;return et(R,function(){ht++}),ht},toArray:function(R){return et(R,function(ht){return ht})||[]},only:function(R){if(!D(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},re.Component=H,re.Fragment=n,re.Profiler=s,re.PureComponent=K,re.StrictMode=i,re.Suspense=p,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,re.__COMPILER_RUNTIME={__proto__:null,c:function(R){return J.H.useMemoCache(R)}},re.cache=function(R){return function(){return R.apply(null,arguments)}},re.cloneElement=function(R,ht,wt){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var j=O({},R.props),Rt=R.key,kt=void 0;if(ht!=null)for(At in ht.ref!==void 0&&(kt=void 0),ht.key!==void 0&&(Rt=""+ht.key),ht)!$.call(ht,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&ht.ref===void 0||(j[At]=ht[At]);var At=arguments.length-2;if(At===1)j.children=wt;else if(1<At){for(var ge=Array(At),Jt=0;Jt<At;Jt++)ge[Jt]=arguments[Jt+2];j.children=ge}return q(R.type,Rt,void 0,void 0,kt,j)},re.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},re.createElement=function(R,ht,wt){var j,Rt={},kt=null;if(ht!=null)for(j in ht.key!==void 0&&(kt=""+ht.key),ht)$.call(ht,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(Rt[j]=ht[j]);var At=arguments.length-2;if(At===1)Rt.children=wt;else if(1<At){for(var ge=Array(At),Jt=0;Jt<At;Jt++)ge[Jt]=arguments[Jt+2];Rt.children=ge}if(R&&R.defaultProps)for(j in At=R.defaultProps,At)Rt[j]===void 0&&(Rt[j]=At[j]);return q(R,kt,void 0,void 0,null,Rt)},re.createRef=function(){return{current:null}},re.forwardRef=function(R){return{$$typeof:d,render:R}},re.isValidElement=D,re.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:rt}},re.memo=function(R,ht){return{$$typeof:m,type:R,compare:ht===void 0?null:ht}},re.startTransition=function(R){var ht=J.T,wt={};J.T=wt;try{var j=R(),Rt=J.S;Rt!==null&&Rt(wt,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(Pt,st)}catch(kt){st(kt)}finally{J.T=ht}},re.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},re.use=function(R){return J.H.use(R)},re.useActionState=function(R,ht,wt){return J.H.useActionState(R,ht,wt)},re.useCallback=function(R,ht){return J.H.useCallback(R,ht)},re.useContext=function(R){return J.H.useContext(R)},re.useDebugValue=function(){},re.useDeferredValue=function(R,ht){return J.H.useDeferredValue(R,ht)},re.useEffect=function(R,ht,wt){var j=J.H;if(typeof wt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(R,ht)},re.useId=function(){return J.H.useId()},re.useImperativeHandle=function(R,ht,wt){return J.H.useImperativeHandle(R,ht,wt)},re.useInsertionEffect=function(R,ht){return J.H.useInsertionEffect(R,ht)},re.useLayoutEffect=function(R,ht){return J.H.useLayoutEffect(R,ht)},re.useMemo=function(R,ht){return J.H.useMemo(R,ht)},re.useOptimistic=function(R,ht){return J.H.useOptimistic(R,ht)},re.useReducer=function(R,ht,wt){return J.H.useReducer(R,ht,wt)},re.useRef=function(R){return J.H.useRef(R)},re.useState=function(R){return J.H.useState(R)},re.useSyncExternalStore=function(R,ht,wt){return J.H.useSyncExternalStore(R,ht,wt)},re.useTransition=function(){return J.H.useTransition()},re.version="19.1.1",re}var VE;function Qo(){return VE||(VE=1,Ey.exports=HD()),Ey.exports}var Y=Qo();const Op=hm(Y);var Sy={exports:{}},Sh={},xy={exports:{}},Ay={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function qD(){return zE||(zE=1,(function(e){function t(et,rt){var st=et.length;et.push(rt);t:for(;0<st;){var Pt=st-1>>>1,R=et[Pt];if(0<s(R,rt))et[Pt]=rt,et[st]=R,st=Pt;else break t}}function n(et){return et.length===0?null:et[0]}function i(et){if(et.length===0)return null;var rt=et[0],st=et.pop();if(st!==rt){et[0]=st;t:for(var Pt=0,R=et.length,ht=R>>>1;Pt<ht;){var wt=2*(Pt+1)-1,j=et[wt],Rt=wt+1,kt=et[Rt];if(0>s(j,st))Rt<R&&0>s(kt,j)?(et[Pt]=kt,et[Rt]=st,Pt=Rt):(et[Pt]=j,et[wt]=st,Pt=wt);else if(Rt<R&&0>s(kt,st))et[Pt]=kt,et[Rt]=st,Pt=Rt;else break t}}return rt}function s(et,rt){var st=et.sortIndex-rt.sortIndex;return st!==0?st:et.id-rt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],m=[],v=1,T=null,E=3,x=!1,O=!1,U=!1,H=!1,F=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ot(et){for(var rt=n(m);rt!==null;){if(rt.callback===null)i(m);else if(rt.startTime<=et)i(m),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=n(m)}}function J(et){if(U=!1,ot(et),!O)if(n(p)!==null)O=!0,$||($=!0,M());else{var rt=n(m);rt!==null&&W(J,rt.startTime-et)}}var $=!1,q=-1,P=5,D=-1;function G(){return H?!0:!(e.unstable_now()-D<P)}function N(){if(H=!1,$){var et=e.unstable_now();D=et;var rt=!0;try{t:{O=!1,U&&(U=!1,K(q),q=-1),x=!0;var st=E;try{e:{for(ot(et),T=n(p);T!==null&&!(T.expirationTime>et&&G());){var Pt=T.callback;if(typeof Pt=="function"){T.callback=null,E=T.priorityLevel;var R=Pt(T.expirationTime<=et);if(et=e.unstable_now(),typeof R=="function"){T.callback=R,ot(et),rt=!0;break e}T===n(p)&&i(p),ot(et)}else i(p);T=n(p)}if(T!==null)rt=!0;else{var ht=n(m);ht!==null&&W(J,ht.startTime-et),rt=!1}}break t}finally{T=null,E=st,x=!1}rt=void 0}}finally{rt?M():$=!1}}}var M;if(typeof Z=="function")M=function(){Z(N)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,it=k.port2;k.port1.onmessage=N,M=function(){it.postMessage(null)}}else M=function(){F(N,0)};function W(et,rt){q=F(function(){et(e.unstable_now())},rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(et){et.callback=null},e.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<et?Math.floor(1e3/et):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(et){switch(E){case 1:case 2:case 3:var rt=3;break;default:rt=E}var st=E;E=rt;try{return et()}finally{E=st}},e.unstable_requestPaint=function(){H=!0},e.unstable_runWithPriority=function(et,rt){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var st=E;E=et;try{return rt()}finally{E=st}},e.unstable_scheduleCallback=function(et,rt,st){var Pt=e.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Pt+st:Pt):st=Pt,et){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=st+R,et={id:v++,callback:rt,priorityLevel:et,startTime:st,expirationTime:R,sortIndex:-1},st>Pt?(et.sortIndex=st,t(m,et),n(p)===null&&et===n(m)&&(U?(K(q),q=-1):U=!0,W(J,st-Pt))):(et.sortIndex=R,t(p,et),O||x||(O=!0,$||($=!0,M()))),et},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(et){var rt=E;return function(){var st=E;E=rt;try{return et.apply(this,arguments)}finally{E=st}}}})(Ay)),Ay}var UE;function GD(){return UE||(UE=1,xy.exports=qD()),xy.exports}var Ry={exports:{}},pi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function ZD(){if(BE)return pi;BE=1;var e=Qo();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:p,containerInfo:m,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pi.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,v)},pi.flushSync=function(p){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=v,i.d.f()}},pi.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},pi.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},pi.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,T=d(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:x}):v==="script"&&i.d.X(p,{crossOrigin:T,integrity:E,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pi.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},pi.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=d(v,m.crossOrigin);i.d.L(p,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pi.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},pi.requestFormReset=function(p){i.d.r(p)},pi.unstable_batchedUpdates=function(p,m){return p(m)},pi.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},pi.useFormStatus=function(){return c.H.useHostTransitionStatus()},pi.version="19.1.1",pi}var jE;function YA(){if(jE)return Ry.exports;jE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ry.exports=ZD(),Ry.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function WD(){if(FE)return Sh;FE=1;var e=GD(),t=Qo(),n=YA();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var u=r,f=a;;){var _=u.return;if(_===null)break;var w=_.alternate;if(w===null){if(f=_.return,f!==null){u=f;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===u)return d(_),r;if(w===f)return d(_),a;w=w.sibling}throw Error(i(188))}if(u.return!==f.return)u=_,f=w;else{for(var I=!1,z=_.child;z;){if(z===u){I=!0,u=_,f=w;break}if(z===f){I=!0,f=_,u=w;break}z=z.sibling}if(!I){for(z=w.child;z;){if(z===u){I=!0,u=w,f=_;break}if(z===f){I=!0,f=w,u=_;break}z=z.sibling}if(!I)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function it(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case H:return"Profiler";case U:return"StrictMode";case J:return"Suspense";case $:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case Z:return(r.displayName||"Context")+".Provider";case K:return(r._context.displayName||"Context")+".Consumer";case ot:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case q:return a=r.displayName||null,a!==null?a:it(r.type)||"Memo";case P:a=r._payload,r=r._init;try{return it(r(a))}catch{}}return null}var W=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Pt=[],R=-1;function ht(r){return{current:r}}function wt(r){0>R||(r.current=Pt[R],Pt[R]=null,R--)}function j(r,a){R++,Pt[R]=r.current,r.current=a}var Rt=ht(null),kt=ht(null),At=ht(null),ge=ht(null);function Jt(r,a){switch(j(At,a),j(kt,r),j(Rt,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?lE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=lE(a),r=uE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}wt(Rt),j(Rt,r)}function gn(){wt(Rt),wt(kt),wt(At)}function Pn(r){r.memoizedState!==null&&j(ge,r);var a=Rt.current,u=uE(a,r.type);a!==u&&(j(kt,r),j(Rt,u))}function zn(r){kt.current===r&&(wt(Rt),wt(kt)),ge.current===r&&(wt(ge),_h._currentValue=st)}var Ti=Object.prototype.hasOwnProperty,Gi=e.unstable_scheduleCallback,Fr=e.unstable_cancelCallback,Hr=e.unstable_shouldYield,ms=e.unstable_requestPaint,kn=e.unstable_now,gs=e.unstable_getCurrentPriorityLevel,ys=e.unstable_ImmediatePriority,gr=e.unstable_UserBlockingPriority,Zi=e.unstable_NormalPriority,Oa=e.unstable_LowPriority,qr=e.unstable_IdlePriority,ta=e.log,La=e.unstable_setDisableYieldValue,gt=null,bt=null;function zt(r){if(typeof ta=="function"&&La(r),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(gt,r)}catch{}}var Ft=Math.clz32?Math.clz32:$n,ye=Math.log,Un=Math.LN2;function $n(r){return r>>>=0,r===0?32:31-(ye(r)/Un|0)|0}var yn=256,Yn=4194304;function _n(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function nn(r,a,u){var f=r.pendingLanes;if(f===0)return 0;var _=0,w=r.suspendedLanes,I=r.pingedLanes;r=r.warmLanes;var z=f&134217727;return z!==0?(f=z&~w,f!==0?_=_n(f):(I&=z,I!==0?_=_n(I):u||(u=z&~r,u!==0&&(_=_n(u))))):(z=f&~w,z!==0?_=_n(z):I!==0?_=_n(I):u||(u=f&~r,u!==0&&(_=_n(u)))),_===0?0:a!==0&&a!==_&&(a&w)===0&&(w=_&-_,u=a&-a,w>=u||w===32&&(u&4194048)!==0)?a:_}function vn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Xn(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var r=yn;return yn<<=1,(yn&4194048)===0&&(yn=256),r}function Na(){var r=Yn;return Yn<<=1,(Yn&62914560)===0&&(Yn=4194304),r}function yr(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function _r(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ol(r,a,u,f,_,w){var I=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var z=r.entanglements,Q=r.expirationTimes,ft=r.hiddenUpdates;for(u=I&~u;0<u;){var _t=31-Ft(u),Et=1<<_t;z[_t]=0,Q[_t]=-1;var dt=ft[_t];if(dt!==null)for(ft[_t]=null,_t=0;_t<dt.length;_t++){var pt=dt[_t];pt!==null&&(pt.lane&=-536870913)}u&=~Et}f!==0&&vr(r,f,0),w!==0&&_===0&&r.tag!==0&&(r.suspendedLanes|=w&~(I&~a))}function vr(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-Ft(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function ll(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var f=31-Ft(u),_=1<<f;_&a|r[f]&a&&(r[f]|=a),u&=~_}}function _s(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Va(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function vs(){var r=rt.p;return r!==0?r:(r=window.event,r===void 0?32:CE(r.type))}function za(r,a){var u=rt.p;try{return rt.p=r,a()}finally{rt.p=u}}var Ve=Math.random().toString(36).slice(2),cn="__reactFiber$"+Ve,rn="__reactProps$"+Ve,Mi="__reactContainer$"+Ve,li="__reactEvents$"+Ve,Ut="__reactListeners$"+Ve,Gr="__reactHandles$"+Ve,ul="__reactResources$"+Ve,ws="__reactMarker$"+Ve;function Zr(r){delete r[cn],delete r[rn],delete r[li],delete r[Ut],delete r[Gr]}function Wi(r){var a=r[cn];if(a)return a;for(var u=r.parentNode;u;){if(a=u[Mi]||u[cn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=dE(r);r!==null;){if(u=r[cn])return u;r=dE(r)}return a}r=u,u=r.parentNode}return null}function Ki(r){if(r=r[cn]||r[Mi]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Qn(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Bn(r){var a=r[ul];return a||(a=r[ul]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Xe(r){r[ws]=!0}var cl=new Set,Ua={};function $i(r,a){wr(r,a),wr(r+"Capture",a)}function wr(r,a){for(Ua[r]=a,r=0;r<a.length;r++)cl.add(a[r])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},na={};function ou(r){return Ti.call(na,r)?!0:Ti.call(ea,r)?!1:au.test(r)?na[r]=!0:(ea[r]=!0,!1)}function Ts(r,a,u){if(ou(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function Tr(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function Mn(r,a,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+f)}}var Wr,bs;function br(r){if(Wr===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Wr=a&&a[1]||"",bs=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+r+bs}var ia=!1;function Er(r,a){if(!r||ia)return"";ia=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(pt){var dt=pt}Reflect.construct(r,[],Et)}else{try{Et.call()}catch(pt){dt=pt}r.call(Et.prototype)}}else{try{throw Error()}catch(pt){dt=pt}(Et=r())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(pt){if(pt&&dt&&typeof pt.stack=="string")return[pt.stack,dt.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),I=w[0],z=w[1];if(I&&z){var Q=I.split(`
`),ft=z.split(`
`);for(_=f=0;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;for(;_<ft.length&&!ft[_].includes("DetermineComponentFrameRoot");)_++;if(f===Q.length||_===ft.length)for(f=Q.length-1,_=ft.length-1;1<=f&&0<=_&&Q[f]!==ft[_];)_--;for(;1<=f&&0<=_;f--,_--)if(Q[f]!==ft[_]){if(f!==1||_!==1)do if(f--,_--,0>_||Q[f]!==ft[_]){var _t=`
`+Q[f].replace(" at new "," at ");return r.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",r.displayName)),_t}while(1<=f&&0<=_);break}}}finally{ia=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?br(u):""}function oe(r){switch(r.tag){case 26:case 27:case 5:return br(r.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return Er(r.type,!1);case 11:return Er(r.type.render,!1);case 1:return Er(r.type,!0);case 31:return br("Activity");default:return""}}function Se(r){try{var a="";do a+=oe(r),r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function wn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Sr(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Es(r){var a=Sr(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),f=""+r[a];if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var _=u.get,w=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return _.call(this)},set:function(I){f=""+I,w.call(this,I)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ss(r){r._valueTracker||(r._valueTracker=Es(r))}function te(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return r&&(f=Sr(r)?r.checked?"true":"false":r.value),r=f,r!==u?(a.setValue(r),!0):!1}function Re(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var hl=/[\n"\\]/g;function Ge(r){return r.replace(hl,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ze(r,a,u,f,_,w,I,z){r.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.type=I:r.removeAttribute("type"),a!=null?I==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+wn(a)):r.value!==""+wn(a)&&(r.value=""+wn(a)):I!=="submit"&&I!=="reset"||r.removeAttribute("value"),a!=null?Yi(r,I,wn(a)):u!=null?Yi(r,I,wn(u)):f!=null&&r.removeAttribute("value"),_==null&&w!=null&&(r.defaultChecked=!!w),_!=null&&(r.checked=_&&typeof _!="function"&&typeof _!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?r.name=""+wn(z):r.removeAttribute("name")}function ra(r,a,u,f,_,w,I,z){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),a!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||a!=null))return;u=u!=null?""+wn(u):"",a=a!=null?""+wn(a):u,z||a===r.value||(r.value=a),r.defaultValue=a}f=f??_,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=z?r.checked:!!f,r.defaultChecked=!!f,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(r.name=I)}function Yi(r,a,u){a==="number"&&Re(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Jn(r,a,u,f){if(r=r.options,a){a={};for(var _=0;_<u.length;_++)a["$"+u[_]]=!0;for(u=0;u<r.length;u++)_=a.hasOwnProperty("$"+r[u].value),r[u].selected!==_&&(r[u].selected=_),_&&f&&(r[u].defaultSelected=!0)}else{for(u=""+wn(u),a=null,_=0;_<r.length;_++){if(r[_].value===u){r[_].selected=!0,f&&(r[_].defaultSelected=!0);return}a!==null||r[_].disabled||(a=r[_])}a!==null&&(a.selected=!0)}}function Zt(r,a,u){if(a!=null&&(a=""+wn(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+wn(u):""}function bi(r,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(i(92));if(W(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=wn(a),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function jn(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var Xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ba(r,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,u):typeof u!="number"||u===0||Xi.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function Kr(r,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var _ in a)f=a[_],a.hasOwnProperty(_)&&u[_]!==f&&Ba(r,_,f)}else for(var w in a)a.hasOwnProperty(w)&&Ba(r,w,a[w])}function sa(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ja=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xs(r){return ja.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Qi=null;function ti(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xr=null,Ji=null;function dl(r){var a=Ki(r);if(a&&(r=a.stateNode)){var u=r[rn]||null;t:switch(r=a.stateNode,a.type){case"input":if(ze(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ge(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==r&&f.form===r.form){var _=f[rn]||null;if(!_)throw Error(i(90));ze(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===r.form&&te(f)}break t;case"textarea":Zt(r,u.value,u.defaultValue);break t;case"select":a=u.value,a!=null&&Jn(r,!!u.multiple,a,!1)}}}var Ht=!1;function Ei(r,a,u){if(Ht)return r(a,u);Ht=!0;try{var f=r(a);return f}finally{if(Ht=!1,(xr!==null||Ji!==null)&&(Md(),xr&&(a=xr,r=Ji,Ji=xr=null,dl(a),r)))for(a=0;a<r.length;a++)dl(r[a])}}function _e(r,a){var u=r.stateNode;if(u===null)return null;var f=u[rn]||null;if(f===null)return null;u=f[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Di)try{var $r={};Object.defineProperty($r,"passive",{get:function(){ui=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{ui=!1}var Oi=null,ci=null,tr=null;function Yr(){if(tr)return tr;var r,a=ci,u=a.length,f,_="value"in Oi?Oi.value:Oi.textContent,w=_.length;for(r=0;r<u&&a[r]===_[r];r++);var I=u-r;for(f=1;f<=I&&a[u-f]===_[w-f];f++);return tr=_.slice(r,1<f?1-f:void 0)}function Pe(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Fn(){return!0}function Fa(){return!1}function hn(r){function a(u,f,_,w,I){this._reactName=u,this._targetInst=_,this.type=f,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var z in r)r.hasOwnProperty(z)&&(u=r[z],this[z]=u?u(w):w[z]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Fn:Fa,this.isPropagationStopped=Fa,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),a}var Te={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=hn(Te),Xr=v({},Te,{view:0,detail:0}),lu=hn(Xr),oa,ie,Ar,Dn=v({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ar&&(Ar&&r.type==="mousemove"?(oa=r.screenX-Ar.screenX,ie=r.screenY-Ar.screenY):ie=oa=0,Ar=r),oa)},movementY:function(r){return"movementY"in r?r.movementY:ie}}),Hn=hn(Dn),pl=v({},Dn,{dataTransfer:0}),Lc=hn(pl),Qr=v({},Xr,{relatedTarget:0}),Ha=hn(Qr),qa=v({},Te,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=hn(qa),uu=v({},Te,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),As=hn(uu),Nc=v({},Te,{data:0}),hi=hn(Nc),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ml={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=er[r])?!!a[r]:!1}function Rs(){return Za}var Wa=v({},Xr,{key:function(r){if(r.key){var a=la[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Pe(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ml[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(r){return r.type==="keypress"?Pe(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Pe(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ka=hn(Wa),gl=v({},Dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=hn(gl),Jr=v({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),cu=hn(Jr),Ya=v({},Te,{propertyName:0,elapsedTime:0,pseudoElement:0}),hu=hn(Ya),yl=v({},Dn,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ua=hn(yl),Tn=v({},Te,{newState:0,oldState:0}),Rr=hn(Tn),fu=[9,13,27,32],fi=Di&&"CompositionEvent"in window,g=null;Di&&"documentMode"in document&&(g=document.documentMode);var S=Di&&"TextEvent"in window&&!g,C=Di&&(!fi||g&&8<g&&11>=g),B=" ",lt=!1;function yt(r,a){switch(r){case"keyup":return fu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function It(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var he=!1;function sn(r,a){switch(r){case"compositionend":return It(a);case"keypress":return a.which!==32?null:(lt=!0,B);case"textInput":return r=a.data,r===B&&lt?null:r;default:return null}}function fe(r,a){if(he)return r==="compositionend"||!fi&&yt(r,a)?(r=Yr(),tr=ci=Oi=null,he=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return C&&a.locale!=="ko"?null:a.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!xe[r.type]:a==="textarea"}function ts(r,a,u,f){xr?Ji?Ji.push(f):Ji=[f]:xr=f,a=zd(a,"onChange"),0<a.length&&(u=new aa("onChange","change",null,u,f),r.push({event:u,listeners:a}))}var Oe=null,Cr=null;function Ir(r){iE(r,0)}function du(r){var a=Qn(r);if(te(a))return r}function Xa(r,a){if(r==="change")return a}var Vc=!1;if(Di){var Qa;if(Di){var zc="oninput"in document;if(!zc){var es=document.createElement("div");es.setAttribute("oninput","return;"),zc=typeof es.oninput=="function"}Qa=zc}else Qa=!1;Vc=Qa&&(!document.documentMode||9<document.documentMode)}function _l(){Oe&&(Oe.detachEvent("onpropertychange",Xf),Cr=Oe=null)}function Xf(r){if(r.propertyName==="value"&&du(Cr)){var a=[];ts(a,Cr,r,ti(r)),Ei(Ir,a)}}function Uc(r,a,u){r==="focusin"?(_l(),Oe=a,Cr=u,Oe.attachEvent("onpropertychange",Xf)):r==="focusout"&&_l()}function Zm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return du(Cr)}function ns(r,a){if(r==="click")return du(a)}function Wm(r,a){if(r==="input"||r==="change")return du(a)}function Ja(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Si=typeof Object.is=="function"?Object.is:Ja;function xi(r,a){if(Si(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var _=u[f];if(!Ti.call(a,_)||!Si(r[_],a[_]))return!1}return!0}function vl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Bc(r,a){var u=vl(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=a&&f>=a)return{node:u,offset:a-r};r=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=vl(u)}}function pu(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?pu(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function wl(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Re(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=Re(r.document)}return a}function Tl(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var mu=Di&&"documentMode"in document&&11>=document.documentMode,nr=null,to=null,ca=null,gu=!1;function Qf(r,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;gu||nr==null||nr!==Re(f)||(f=nr,"selectionStart"in f&&Tl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ca&&xi(ca,f)||(ca=f,f=zd(to,"onSelect"),0<f.length&&(a=new aa("onSelect","select",null,a,u),r.push({event:a,listeners:f}),a.target=nr)))}function Pr(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var eo={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},yu={},Jf={};Di&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Cs(r){if(yu[r])return yu[r];if(!eo[r])return r;var a=eo[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in Jf)return yu[r]=a[u];return r}var td=Cs("animationend"),ir=Cs("animationiteration"),bl=Cs("animationstart"),Km=Cs("transitionrun"),_u=Cs("transitionstart"),$m=Cs("transitioncancel"),jc=Cs("transitionend"),ed=new Map,ha="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ha.push("scrollEnd");function rr(r,a){ed.set(r,a),$i(a,[r])}var fa=new WeakMap;function Ai(r,a){if(typeof r=="object"&&r!==null){var u=fa.get(r);return u!==void 0?u:(a={value:r,source:a,stack:Se(a)},fa.set(r,a),a)}return{value:r,source:a,stack:Se(a)}}var Ri=[],no=0,sr=0;function El(){for(var r=no,a=sr=no=0;a<r;){var u=Ri[a];Ri[a++]=null;var f=Ri[a];Ri[a++]=null;var _=Ri[a];Ri[a++]=null;var w=Ri[a];if(Ri[a++]=null,f!==null&&_!==null){var I=f.pending;I===null?_.next=_:(_.next=I.next,I.next=_),f.pending=_}w!==0&&xl(u,_,w)}}function Sl(r,a,u,f){Ri[no++]=r,Ri[no++]=a,Ri[no++]=u,Ri[no++]=f,sr|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function da(r,a,u,f){return Sl(r,a,u,f),Is(r)}function io(r,a){return Sl(r,null,null,a),Is(r)}function xl(r,a,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var _=!1,w=r.return;w!==null;)w.childLanes|=u,f=w.alternate,f!==null&&(f.childLanes|=u),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(_=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,_&&a!==null&&(_=31-Ft(u),r=w.hiddenUpdates,f=r[_],f===null?r[_]=[a]:f.push(a),a.lane=u|536870912),w):null}function Is(r){if(50<ch)throw ch=0,Zg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var pa={};function nd(r,a,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(r,a,u,f){return new nd(r,a,u,f)}function vu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function kr(r,a){var u=r.alternate;return u===null?(u=Ci(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Fc(r,a){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Al(r,a,u,f,_,w){var I=0;if(f=r,typeof r=="function")vu(r)&&(I=1);else if(typeof r=="string")I=CD(r,u,Rt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case D:return r=Ci(31,u,a,_),r.elementType=D,r.lanes=w,r;case O:return Ps(u.children,_,w,a);case U:I=8,_|=24;break;case H:return r=Ci(12,u,a,_|2),r.elementType=H,r.lanes=w,r;case J:return r=Ci(13,u,a,_),r.elementType=J,r.lanes=w,r;case $:return r=Ci(19,u,a,_),r.elementType=$,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case Z:I=10;break t;case K:I=9;break t;case ot:I=11;break t;case q:I=14;break t;case P:I=16,f=null;break t}I=29,u=Error(i(130,r===null?"null":typeof r,"")),f=null}return a=Ci(I,u,a,_),a.elementType=r,a.type=f,a.lanes=w,a}function Ps(r,a,u,f){return r=Ci(7,r,f,a),r.lanes=u,r}function Hc(r,a,u){return r=Ci(6,r,null,a),r.lanes=u,r}function wu(r,a,u){return a=Ci(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var ma=[],ro=0,o=null,h=0,y=[],b=0,A=null,V=1,X="";function ut(r,a){ma[ro++]=h,ma[ro++]=o,o=r,h=a}function mt(r,a,u){y[b++]=V,y[b++]=X,y[b++]=A,A=r;var f=V;r=X;var _=32-Ft(f)-1;f&=~(1<<_),u+=1;var w=32-Ft(a)+_;if(30<w){var I=_-_%5;w=(f&(1<<I)-1).toString(32),f>>=I,_-=I,V=1<<32-Ft(a)+_|u<<_|f,X=w+r}else V=1<<w|u<<_|f,X=r}function xt(r){r.return!==null&&(ut(r,1),mt(r,1,0))}function Mt(r){for(;r===o;)o=ma[--ro],ma[ro]=null,h=ma[--ro],ma[ro]=null;for(;r===A;)A=y[--b],y[b]=null,X=y[--b],y[b]=null,V=y[--b],y[b]=null}var Lt=null,Vt=null,Xt=!1,Be=null,Qe=!1,qn=Error(i(519));function Li(r){var a=Error(i(418,""));throw ao(Ai(a,r)),qn}function id(r){var a=r.stateNode,u=r.type,f=r.memoizedProps;switch(a[cn]=r,a[rn]=f,u){case"dialog":ce("cancel",a),ce("close",a);break;case"iframe":case"object":case"embed":ce("load",a);break;case"video":case"audio":for(u=0;u<fh.length;u++)ce(fh[u],a);break;case"source":ce("error",a);break;case"img":case"image":case"link":ce("error",a),ce("load",a);break;case"details":ce("toggle",a);break;case"input":ce("invalid",a),ra(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ss(a);break;case"select":ce("invalid",a);break;case"textarea":ce("invalid",a),bi(a,f.value,f.defaultValue,f.children),Ss(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||oE(a.textContent,u)?(f.popover!=null&&(ce("beforetoggle",a),ce("toggle",a)),f.onScroll!=null&&ce("scroll",a),f.onScrollEnd!=null&&ce("scrollend",a),f.onClick!=null&&(a.onclick=Ud),a=!0):a=!1,a||Li(r)}function rd(r){for(Lt=r.return;Lt;)switch(Lt.tag){case 5:case 13:Qe=!1;return;case 27:case 3:Qe=!0;return;default:Lt=Lt.return}}function Rl(r){if(r!==Lt)return!1;if(!Xt)return rd(r),Xt=!0,!1;var a=r.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||ly(r.type,r.memoizedProps)),u=!u),u&&Vt&&Li(r),rd(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(a===0){Vt=as(r.nextSibling);break t}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;r=r.nextSibling}Vt=null}}else a===27?(a=Vt,bo(r.type)?(r=fy,fy=null,Vt=r):Vt=a):Vt=Lt?as(r.stateNode.nextSibling):null;return!0}function so(){Vt=Lt=null,Xt=!1}function sd(){var r=Be;return r!==null&&(zi===null?zi=r:zi.push.apply(zi,r),Be=null),r}function ao(r){Be===null?Be=[r]:Be.push(r)}var Ze=ht(null),Mr=null,is=null;function ks(r,a,u){j(Ze,a._currentValue),a._currentValue=u}function rs(r){r._currentValue=Ze.current,wt(Ze)}function Cl(r,a,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===u)break;r=r.return}}function Tu(r,a,u,f){var _=r.child;for(_!==null&&(_.return=r);_!==null;){var w=_.dependencies;if(w!==null){var I=_.child;w=w.firstContext;t:for(;w!==null;){var z=w;w=_;for(var Q=0;Q<a.length;Q++)if(z.context===a[Q]){w.lanes|=u,z=w.alternate,z!==null&&(z.lanes|=u),Cl(w.return,u,r),f||(I=null);break t}w=z.next}}else if(_.tag===18){if(I=_.return,I===null)throw Error(i(341));I.lanes|=u,w=I.alternate,w!==null&&(w.lanes|=u),Cl(I,u,r),I=null}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===r){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}}function Il(r,a,u,f){r=null;for(var _=a,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var I=_.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var z=_.type;Si(_.pendingProps.value,I.value)||(r!==null?r.push(z):r=[z])}}else if(_===ge.current){if(I=_.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(r!==null?r.push(_h):r=[_h])}_=_.return}r!==null&&Tu(a,r,u,f),a.flags|=262144}function ad(r){for(r=r.firstContext;r!==null;){if(!Si(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Pl(r){Mr=r,is=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function di(r){return Ww(Mr,r)}function od(r,a){return Mr===null&&Pl(r),Ww(r,a)}function Ww(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},is===null){if(r===null)throw Error(i(308));is=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else is=is.next=a;return u}var RM=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},CM=e.unstable_scheduleCallback,IM=e.unstable_NormalPriority,On={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ym(){return{controller:new RM,data:new Map,refCount:0}}function qc(r){r.refCount--,r.refCount===0&&CM(IM,function(){r.controller.abort()})}var Gc=null,Xm=0,bu=0,Eu=null;function PM(r,a){if(Gc===null){var u=Gc=[];Xm=0,bu=Jg(),Eu={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Xm++,a.then(Kw,Kw),a}function Kw(){if(--Xm===0&&Gc!==null){Eu!==null&&(Eu.status="fulfilled");var r=Gc;Gc=null,bu=0,Eu=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function kM(r,a){var u=[],f={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var _=0;_<u.length;_++)(0,u[_])(a)},function(_){for(f.status="rejected",f.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),f}var $w=et.S;et.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&PM(r,a),$w!==null&&$w(r,a)};var kl=ht(null);function Qm(){var r=kl.current;return r!==null?r:je.pooledCache}function ld(r,a){a===null?j(kl,kl.current):j(kl,a.pool)}function Yw(){var r=Qm();return r===null?null:{parent:On._currentValue,pool:r}}var Zc=Error(i(460)),Xw=Error(i(474)),ud=Error(i(542)),Jm={then:function(){}};function Qw(r){return r=r.status,r==="fulfilled"||r==="rejected"}function cd(){}function Jw(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(cd,cd),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,eT(r),r;default:if(typeof a.status=="string")a.then(cd,cd);else{if(r=je,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var _=a;_.status="fulfilled",_.value=f}},function(f){if(a.status==="pending"){var _=a;_.status="rejected",_.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,eT(r),r}throw Wc=a,Zc}}var Wc=null;function tT(){if(Wc===null)throw Error(i(459));var r=Wc;return Wc=null,r}function eT(r){if(r===Zc||r===ud)throw Error(i(483))}var oo=!1;function tg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eg(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function lo(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function uo(r,a,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ce&2)!==0){var _=f.pending;return _===null?a.next=a:(a.next=_.next,_.next=a),f.pending=a,a=Is(r),xl(r,null,u),a}return Sl(r,f,a,u),Is(r)}function Kc(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,ll(r,u)}}function ng(r,a){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var _=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?_=w=I:w=w.next=I,u=u.next}while(u!==null);w===null?_=w=a:w=w.next=a}else _=w=a;u={baseState:f.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var ig=!1;function $c(){if(ig){var r=Eu;if(r!==null)throw r}}function Yc(r,a,u,f){ig=!1;var _=r.updateQueue;oo=!1;var w=_.firstBaseUpdate,I=_.lastBaseUpdate,z=_.shared.pending;if(z!==null){_.shared.pending=null;var Q=z,ft=Q.next;Q.next=null,I===null?w=ft:I.next=ft,I=Q;var _t=r.alternate;_t!==null&&(_t=_t.updateQueue,z=_t.lastBaseUpdate,z!==I&&(z===null?_t.firstBaseUpdate=ft:z.next=ft,_t.lastBaseUpdate=Q))}if(w!==null){var Et=_.baseState;I=0,_t=ft=Q=null,z=w;do{var dt=z.lane&-536870913,pt=dt!==z.lane;if(pt?(ve&dt)===dt:(f&dt)===dt){dt!==0&&dt===bu&&(ig=!0),_t!==null&&(_t=_t.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});t:{var $t=r,qt=z;dt=a;var De=u;switch(qt.tag){case 1:if($t=qt.payload,typeof $t=="function"){Et=$t.call(De,Et,dt);break t}Et=$t;break t;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=qt.payload,dt=typeof $t=="function"?$t.call(De,Et,dt):$t,dt==null)break t;Et=v({},Et,dt);break t;case 2:oo=!0}}dt=z.callback,dt!==null&&(r.flags|=64,pt&&(r.flags|=8192),pt=_.callbacks,pt===null?_.callbacks=[dt]:pt.push(dt))}else pt={lane:dt,tag:z.tag,payload:z.payload,callback:z.callback,next:null},_t===null?(ft=_t=pt,Q=Et):_t=_t.next=pt,I|=dt;if(z=z.next,z===null){if(z=_.shared.pending,z===null)break;pt=z,z=pt.next,pt.next=null,_.lastBaseUpdate=pt,_.shared.pending=null}}while(!0);_t===null&&(Q=Et),_.baseState=Q,_.firstBaseUpdate=ft,_.lastBaseUpdate=_t,w===null&&(_.shared.lanes=0),_o|=I,r.lanes=I,r.memoizedState=Et}}function nT(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function iT(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)nT(u[r],a)}var Su=ht(null),hd=ht(0);function rT(r,a){r=ba,j(hd,r),j(Su,a),ba=r|a.baseLanes}function rg(){j(hd,ba),j(Su,Su.current)}function sg(){ba=hd.current,wt(Su),wt(hd)}var co=0,ae=null,ke=null,bn=null,fd=!1,xu=!1,Ml=!1,dd=0,Xc=0,Au=null,MM=0;function fn(){throw Error(i(321))}function ag(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!Si(r[u],a[u]))return!1;return!0}function og(r,a,u,f,_,w){return co=w,ae=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,et.H=r===null||r.memoizedState===null?jT:FT,Ml=!1,w=u(f,_),Ml=!1,xu&&(w=aT(a,u,f,_)),sT(r),w}function sT(r){et.H=vd;var a=ke!==null&&ke.next!==null;if(co=0,bn=ke=ae=null,fd=!1,Xc=0,Au=null,a)throw Error(i(300));r===null||Gn||(r=r.dependencies,r!==null&&ad(r)&&(Gn=!0))}function aT(r,a,u,f){ae=r;var _=0;do{if(xu&&(Au=null),Xc=0,xu=!1,25<=_)throw Error(i(301));if(_+=1,bn=ke=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}et.H=UM,w=a(u,f)}while(xu);return w}function DM(){var r=et.H,a=r.useState()[0];return a=typeof a.then=="function"?Qc(a):a,r=r.useState()[0],(ke!==null?ke.memoizedState:null)!==r&&(ae.flags|=1024),a}function lg(){var r=dd!==0;return dd=0,r}function ug(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function cg(r){if(fd){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}fd=!1}co=0,bn=ke=ae=null,xu=!1,Xc=dd=0,Au=null}function Ni(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?ae.memoizedState=bn=r:bn=bn.next=r,bn}function En(){if(ke===null){var r=ae.alternate;r=r!==null?r.memoizedState:null}else r=ke.next;var a=bn===null?ae.memoizedState:bn.next;if(a!==null)bn=a,ke=r;else{if(r===null)throw ae.alternate===null?Error(i(467)):Error(i(310));ke=r,r={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},bn===null?ae.memoizedState=bn=r:bn=bn.next=r}return bn}function hg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qc(r){var a=Xc;return Xc+=1,Au===null&&(Au=[]),r=Jw(Au,r,a),a=ae,(bn===null?a.memoizedState:bn.next)===null&&(a=a.alternate,et.H=a===null||a.memoizedState===null?jT:FT),r}function pd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Qc(r);if(r.$$typeof===Z)return di(r)}throw Error(i(438,String(r)))}function fg(r){var a=null,u=ae.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=ae.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(_){return _.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=hg(),ae.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),f=0;f<r;f++)u[f]=G;return a.index++,u}function ga(r,a){return typeof a=="function"?a(r):a}function md(r){var a=En();return dg(a,ke,r)}function dg(r,a,u){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var _=r.baseQueue,w=f.pending;if(w!==null){if(_!==null){var I=_.next;_.next=w.next,w.next=I}a.baseQueue=_=w,f.pending=null}if(w=r.baseState,_===null)r.memoizedState=w;else{a=_.next;var z=I=null,Q=null,ft=a,_t=!1;do{var Et=ft.lane&-536870913;if(Et!==ft.lane?(ve&Et)===Et:(co&Et)===Et){var dt=ft.revertLane;if(dt===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),Et===bu&&(_t=!0);else if((co&dt)===dt){ft=ft.next,dt===bu&&(_t=!0);continue}else Et={lane:0,revertLane:ft.revertLane,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},Q===null?(z=Q=Et,I=w):Q=Q.next=Et,ae.lanes|=dt,_o|=dt;Et=ft.action,Ml&&u(w,Et),w=ft.hasEagerState?ft.eagerState:u(w,Et)}else dt={lane:Et,revertLane:ft.revertLane,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},Q===null?(z=Q=dt,I=w):Q=Q.next=dt,ae.lanes|=Et,_o|=Et;ft=ft.next}while(ft!==null&&ft!==a);if(Q===null?I=w:Q.next=z,!Si(w,r.memoizedState)&&(Gn=!0,_t&&(u=Eu,u!==null)))throw u;r.memoizedState=w,r.baseState=I,r.baseQueue=Q,f.lastRenderedState=w}return _===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function pg(r){var a=En(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var f=u.dispatch,_=u.pending,w=a.memoizedState;if(_!==null){u.pending=null;var I=_=_.next;do w=r(w,I.action),I=I.next;while(I!==_);Si(w,a.memoizedState)||(Gn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,f]}function oT(r,a,u){var f=ae,_=En(),w=Xt;if(w){if(u===void 0)throw Error(i(407));u=u()}else u=a();var I=!Si((ke||_).memoizedState,u);I&&(_.memoizedState=u,Gn=!0),_=_.queue;var z=cT.bind(null,f,_,r);if(Jc(2048,8,z,[r]),_.getSnapshot!==a||I||bn!==null&&bn.memoizedState.tag&1){if(f.flags|=2048,Ru(9,gd(),uT.bind(null,f,_,u,a),null),je===null)throw Error(i(349));w||(co&124)!==0||lT(f,a,u)}return u}function lT(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=ae.updateQueue,a===null?(a=hg(),ae.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function uT(r,a,u,f){a.value=u,a.getSnapshot=f,hT(a)&&fT(r)}function cT(r,a,u){return u(function(){hT(a)&&fT(r)})}function hT(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!Si(r,u)}catch{return!0}}function fT(r){var a=io(r,2);a!==null&&cr(a,r,2)}function mg(r){var a=Ni();if(typeof r=="function"){var u=r;if(r=u(),Ml){zt(!0);try{u()}finally{zt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:r},a}function dT(r,a,u,f){return r.baseState=u,dg(r,ke,typeof f=="function"?f:ga)}function OM(r,a,u,f,_){if(_d(r))throw Error(i(485));if(r=a.action,r!==null){var w={payload:_,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};et.T!==null?u(!0):w.isTransition=!1,f(w),u=a.pending,u===null?(w.next=a.pending=w,pT(a,w)):(w.next=u.next,a.pending=u.next=w)}}function pT(r,a){var u=a.action,f=a.payload,_=r.state;if(a.isTransition){var w=et.T,I={};et.T=I;try{var z=u(_,f),Q=et.S;Q!==null&&Q(I,z),mT(r,a,z)}catch(ft){gg(r,a,ft)}finally{et.T=w}}else try{w=u(_,f),mT(r,a,w)}catch(ft){gg(r,a,ft)}}function mT(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){gT(r,a,f)},function(f){return gg(r,a,f)}):gT(r,a,u)}function gT(r,a,u){a.status="fulfilled",a.value=u,yT(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,pT(r,u)))}function gg(r,a,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,yT(a),a=a.next;while(a!==f)}r.action=null}function yT(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function _T(r,a){return a}function vT(r,a){if(Xt){var u=je.formState;if(u!==null){t:{var f=ae;if(Xt){if(Vt){e:{for(var _=Vt,w=Qe;_.nodeType!==8;){if(!w){_=null;break e}if(_=as(_.nextSibling),_===null){_=null;break e}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){Vt=as(_.nextSibling),f=_.data==="F!";break t}}Li(f)}f=!1}f&&(a=u[0])}}return u=Ni(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_T,lastRenderedState:a},u.queue=f,u=zT.bind(null,ae,f),f.dispatch=u,f=mg(!1),w=Tg.bind(null,ae,!1,f.queue),f=Ni(),_={state:a,dispatch:null,action:r,pending:null},f.queue=_,u=OM.bind(null,ae,_,w,u),_.dispatch=u,f.memoizedState=r,[a,u,!1]}function wT(r){var a=En();return TT(a,ke,r)}function TT(r,a,u){if(a=dg(r,a,_T)[0],r=md(ga)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Qc(a)}catch(I){throw I===Zc?ud:I}else f=a;a=En();var _=a.queue,w=_.dispatch;return u!==a.memoizedState&&(ae.flags|=2048,Ru(9,gd(),LM.bind(null,_,u),null)),[f,w,r]}function LM(r,a){r.action=a}function bT(r){var a=En(),u=ke;if(u!==null)return TT(a,u,r);En(),a=a.memoizedState,u=En();var f=u.queue.dispatch;return u.memoizedState=r,[a,f,!1]}function Ru(r,a,u,f){return r={tag:r,create:u,deps:f,inst:a,next:null},a=ae.updateQueue,a===null&&(a=hg(),ae.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,a.lastEffect=r),r}function gd(){return{destroy:void 0,resource:void 0}}function ET(){return En().memoizedState}function yd(r,a,u,f){var _=Ni();f=f===void 0?null:f,ae.flags|=r,_.memoizedState=Ru(1|a,gd(),u,f)}function Jc(r,a,u,f){var _=En();f=f===void 0?null:f;var w=_.memoizedState.inst;ke!==null&&f!==null&&ag(f,ke.memoizedState.deps)?_.memoizedState=Ru(a,w,u,f):(ae.flags|=r,_.memoizedState=Ru(1|a,w,u,f))}function ST(r,a){yd(8390656,8,r,a)}function xT(r,a){Jc(2048,8,r,a)}function AT(r,a){return Jc(4,2,r,a)}function RT(r,a){return Jc(4,4,r,a)}function CT(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function IT(r,a,u){u=u!=null?u.concat([r]):null,Jc(4,4,CT.bind(null,a,r),u)}function yg(){}function PT(r,a){var u=En();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&ag(a,f[1])?f[0]:(u.memoizedState=[r,a],r)}function kT(r,a){var u=En();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&ag(a,f[1]))return f[0];if(f=r(),Ml){zt(!0);try{r()}finally{zt(!1)}}return u.memoizedState=[f,a],f}function _g(r,a,u){return u===void 0||(co&1073741824)!==0?r.memoizedState=a:(r.memoizedState=u,r=Ob(),ae.lanes|=r,_o|=r,u)}function MT(r,a,u,f){return Si(u,a)?u:Su.current!==null?(r=_g(r,u,f),Si(r,a)||(Gn=!0),r):(co&42)===0?(Gn=!0,r.memoizedState=u):(r=Ob(),ae.lanes|=r,_o|=r,a)}function DT(r,a,u,f,_){var w=rt.p;rt.p=w!==0&&8>w?w:8;var I=et.T,z={};et.T=z,Tg(r,!1,a,u);try{var Q=_(),ft=et.S;if(ft!==null&&ft(z,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var _t=kM(Q,f);th(r,a,_t,ur(r))}else th(r,a,f,ur(r))}catch(Et){th(r,a,{then:function(){},status:"rejected",reason:Et},ur())}finally{rt.p=w,et.T=I}}function NM(){}function vg(r,a,u,f){if(r.tag!==5)throw Error(i(476));var _=OT(r).queue;DT(r,_,a,st,u===null?NM:function(){return LT(r),u(f)})}function OT(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:st},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function LT(r){var a=OT(r).next.queue;th(r,a,{},ur())}function wg(){return di(_h)}function NT(){return En().memoizedState}function VT(){return En().memoizedState}function VM(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=ur();r=lo(u);var f=uo(a,r,u);f!==null&&(cr(f,a,u),Kc(f,a,u)),a={cache:Ym()},r.payload=a;return}a=a.return}}function zM(r,a,u){var f=ur();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},_d(r)?UT(a,u):(u=da(r,a,u,f),u!==null&&(cr(u,r,f),BT(u,a,f)))}function zT(r,a,u){var f=ur();th(r,a,u,f)}function th(r,a,u,f){var _={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(_d(r))UT(a,_);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var I=a.lastRenderedState,z=w(I,u);if(_.hasEagerState=!0,_.eagerState=z,Si(z,I))return Sl(r,a,_,0),je===null&&El(),!1}catch{}finally{}if(u=da(r,a,_,f),u!==null)return cr(u,r,f),BT(u,a,f),!0}return!1}function Tg(r,a,u,f){if(f={lane:2,revertLane:Jg(),action:f,hasEagerState:!1,eagerState:null,next:null},_d(r)){if(a)throw Error(i(479))}else a=da(r,u,f,2),a!==null&&cr(a,r,2)}function _d(r){var a=r.alternate;return r===ae||a!==null&&a===ae}function UT(r,a){xu=fd=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function BT(r,a,u){if((u&4194048)!==0){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,ll(r,u)}}var vd={readContext:di,use:pd,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn},jT={readContext:di,use:pd,useCallback:function(r,a){return Ni().memoizedState=[r,a===void 0?null:a],r},useContext:di,useEffect:ST,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,yd(4194308,4,CT.bind(null,a,r),u)},useLayoutEffect:function(r,a){return yd(4194308,4,r,a)},useInsertionEffect:function(r,a){yd(4,2,r,a)},useMemo:function(r,a){var u=Ni();a=a===void 0?null:a;var f=r();if(Ml){zt(!0);try{r()}finally{zt(!1)}}return u.memoizedState=[f,a],f},useReducer:function(r,a,u){var f=Ni();if(u!==void 0){var _=u(a);if(Ml){zt(!0);try{u(a)}finally{zt(!1)}}}else _=a;return f.memoizedState=f.baseState=_,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:_},f.queue=r,r=r.dispatch=zM.bind(null,ae,r),[f.memoizedState,r]},useRef:function(r){var a=Ni();return r={current:r},a.memoizedState=r},useState:function(r){r=mg(r);var a=r.queue,u=zT.bind(null,ae,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:yg,useDeferredValue:function(r,a){var u=Ni();return _g(u,r,a)},useTransition:function(){var r=mg(!1);return r=DT.bind(null,ae,r.queue,!0,!1),Ni().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var f=ae,_=Ni();if(Xt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),je===null)throw Error(i(349));(ve&124)!==0||lT(f,a,u)}_.memoizedState=u;var w={value:u,getSnapshot:a};return _.queue=w,ST(cT.bind(null,f,w,r),[r]),f.flags|=2048,Ru(9,gd(),uT.bind(null,f,w,u,a),null),u},useId:function(){var r=Ni(),a=je.identifierPrefix;if(Xt){var u=X,f=V;u=(f&~(1<<32-Ft(f)-1)).toString(32)+u,a=""+a+"R"+u,u=dd++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=MM++,a=""+a+"r"+u.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:wg,useFormState:vT,useActionState:vT,useOptimistic:function(r){var a=Ni();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Tg.bind(null,ae,!0,u),u.dispatch=a,[r,a]},useMemoCache:fg,useCacheRefresh:function(){return Ni().memoizedState=VM.bind(null,ae)}},FT={readContext:di,use:pd,useCallback:PT,useContext:di,useEffect:xT,useImperativeHandle:IT,useInsertionEffect:AT,useLayoutEffect:RT,useMemo:kT,useReducer:md,useRef:ET,useState:function(){return md(ga)},useDebugValue:yg,useDeferredValue:function(r,a){var u=En();return MT(u,ke.memoizedState,r,a)},useTransition:function(){var r=md(ga)[0],a=En().memoizedState;return[typeof r=="boolean"?r:Qc(r),a]},useSyncExternalStore:oT,useId:NT,useHostTransitionStatus:wg,useFormState:wT,useActionState:wT,useOptimistic:function(r,a){var u=En();return dT(u,ke,r,a)},useMemoCache:fg,useCacheRefresh:VT},UM={readContext:di,use:pd,useCallback:PT,useContext:di,useEffect:xT,useImperativeHandle:IT,useInsertionEffect:AT,useLayoutEffect:RT,useMemo:kT,useReducer:pg,useRef:ET,useState:function(){return pg(ga)},useDebugValue:yg,useDeferredValue:function(r,a){var u=En();return ke===null?_g(u,r,a):MT(u,ke.memoizedState,r,a)},useTransition:function(){var r=pg(ga)[0],a=En().memoizedState;return[typeof r=="boolean"?r:Qc(r),a]},useSyncExternalStore:oT,useId:NT,useHostTransitionStatus:wg,useFormState:bT,useActionState:bT,useOptimistic:function(r,a){var u=En();return ke!==null?dT(u,ke,r,a):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:fg,useCacheRefresh:VT},Cu=null,eh=0;function wd(r){var a=eh;return eh+=1,Cu===null&&(Cu=[]),Jw(Cu,r,a)}function nh(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Td(r,a){throw a.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function HT(r){var a=r._init;return a(r._payload)}function qT(r){function a(at,nt){if(r){var ct=at.deletions;ct===null?(at.deletions=[nt],at.flags|=16):ct.push(nt)}}function u(at,nt){if(!r)return null;for(;nt!==null;)a(at,nt),nt=nt.sibling;return null}function f(at){for(var nt=new Map;at!==null;)at.key!==null?nt.set(at.key,at):nt.set(at.index,at),at=at.sibling;return nt}function _(at,nt){return at=kr(at,nt),at.index=0,at.sibling=null,at}function w(at,nt,ct){return at.index=ct,r?(ct=at.alternate,ct!==null?(ct=ct.index,ct<nt?(at.flags|=67108866,nt):ct):(at.flags|=67108866,nt)):(at.flags|=1048576,nt)}function I(at){return r&&at.alternate===null&&(at.flags|=67108866),at}function z(at,nt,ct,vt){return nt===null||nt.tag!==6?(nt=Hc(ct,at.mode,vt),nt.return=at,nt):(nt=_(nt,ct),nt.return=at,nt)}function Q(at,nt,ct,vt){var Nt=ct.type;return Nt===O?_t(at,nt,ct.props.children,vt,ct.key):nt!==null&&(nt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===P&&HT(Nt)===nt.type)?(nt=_(nt,ct.props),nh(nt,ct),nt.return=at,nt):(nt=Al(ct.type,ct.key,ct.props,null,at.mode,vt),nh(nt,ct),nt.return=at,nt)}function ft(at,nt,ct,vt){return nt===null||nt.tag!==4||nt.stateNode.containerInfo!==ct.containerInfo||nt.stateNode.implementation!==ct.implementation?(nt=wu(ct,at.mode,vt),nt.return=at,nt):(nt=_(nt,ct.children||[]),nt.return=at,nt)}function _t(at,nt,ct,vt,Nt){return nt===null||nt.tag!==7?(nt=Ps(ct,at.mode,vt,Nt),nt.return=at,nt):(nt=_(nt,ct),nt.return=at,nt)}function Et(at,nt,ct){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return nt=Hc(""+nt,at.mode,ct),nt.return=at,nt;if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case E:return ct=Al(nt.type,nt.key,nt.props,null,at.mode,ct),nh(ct,nt),ct.return=at,ct;case x:return nt=wu(nt,at.mode,ct),nt.return=at,nt;case P:var vt=nt._init;return nt=vt(nt._payload),Et(at,nt,ct)}if(W(nt)||M(nt))return nt=Ps(nt,at.mode,ct,null),nt.return=at,nt;if(typeof nt.then=="function")return Et(at,wd(nt),ct);if(nt.$$typeof===Z)return Et(at,od(at,nt),ct);Td(at,nt)}return null}function dt(at,nt,ct,vt){var Nt=nt!==null?nt.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Nt!==null?null:z(at,nt,""+ct,vt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case E:return ct.key===Nt?Q(at,nt,ct,vt):null;case x:return ct.key===Nt?ft(at,nt,ct,vt):null;case P:return Nt=ct._init,ct=Nt(ct._payload),dt(at,nt,ct,vt)}if(W(ct)||M(ct))return Nt!==null?null:_t(at,nt,ct,vt,null);if(typeof ct.then=="function")return dt(at,nt,wd(ct),vt);if(ct.$$typeof===Z)return dt(at,nt,od(at,ct),vt);Td(at,ct)}return null}function pt(at,nt,ct,vt,Nt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return at=at.get(ct)||null,z(nt,at,""+vt,Nt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case E:return at=at.get(vt.key===null?ct:vt.key)||null,Q(nt,at,vt,Nt);case x:return at=at.get(vt.key===null?ct:vt.key)||null,ft(nt,at,vt,Nt);case P:var le=vt._init;return vt=le(vt._payload),pt(at,nt,ct,vt,Nt)}if(W(vt)||M(vt))return at=at.get(ct)||null,_t(nt,at,vt,Nt,null);if(typeof vt.then=="function")return pt(at,nt,ct,wd(vt),Nt);if(vt.$$typeof===Z)return pt(at,nt,ct,od(nt,vt),Nt);Td(nt,vt)}return null}function $t(at,nt,ct,vt){for(var Nt=null,le=null,Bt=nt,Gt=nt=0,Wn=null;Bt!==null&&Gt<ct.length;Gt++){Bt.index>Gt?(Wn=Bt,Bt=null):Wn=Bt.sibling;var be=dt(at,Bt,ct[Gt],vt);if(be===null){Bt===null&&(Bt=Wn);break}r&&Bt&&be.alternate===null&&a(at,Bt),nt=w(be,nt,Gt),le===null?Nt=be:le.sibling=be,le=be,Bt=Wn}if(Gt===ct.length)return u(at,Bt),Xt&&ut(at,Gt),Nt;if(Bt===null){for(;Gt<ct.length;Gt++)Bt=Et(at,ct[Gt],vt),Bt!==null&&(nt=w(Bt,nt,Gt),le===null?Nt=Bt:le.sibling=Bt,le=Bt);return Xt&&ut(at,Gt),Nt}for(Bt=f(Bt);Gt<ct.length;Gt++)Wn=pt(Bt,at,Gt,ct[Gt],vt),Wn!==null&&(r&&Wn.alternate!==null&&Bt.delete(Wn.key===null?Gt:Wn.key),nt=w(Wn,nt,Gt),le===null?Nt=Wn:le.sibling=Wn,le=Wn);return r&&Bt.forEach(function(Ro){return a(at,Ro)}),Xt&&ut(at,Gt),Nt}function qt(at,nt,ct,vt){if(ct==null)throw Error(i(151));for(var Nt=null,le=null,Bt=nt,Gt=nt=0,Wn=null,be=ct.next();Bt!==null&&!be.done;Gt++,be=ct.next()){Bt.index>Gt?(Wn=Bt,Bt=null):Wn=Bt.sibling;var Ro=dt(at,Bt,be.value,vt);if(Ro===null){Bt===null&&(Bt=Wn);break}r&&Bt&&Ro.alternate===null&&a(at,Bt),nt=w(Ro,nt,Gt),le===null?Nt=Ro:le.sibling=Ro,le=Ro,Bt=Wn}if(be.done)return u(at,Bt),Xt&&ut(at,Gt),Nt;if(Bt===null){for(;!be.done;Gt++,be=ct.next())be=Et(at,be.value,vt),be!==null&&(nt=w(be,nt,Gt),le===null?Nt=be:le.sibling=be,le=be);return Xt&&ut(at,Gt),Nt}for(Bt=f(Bt);!be.done;Gt++,be=ct.next())be=pt(Bt,at,Gt,be.value,vt),be!==null&&(r&&be.alternate!==null&&Bt.delete(be.key===null?Gt:be.key),nt=w(be,nt,Gt),le===null?Nt=be:le.sibling=be,le=be);return r&&Bt.forEach(function(BD){return a(at,BD)}),Xt&&ut(at,Gt),Nt}function De(at,nt,ct,vt){if(typeof ct=="object"&&ct!==null&&ct.type===O&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case E:t:{for(var Nt=ct.key;nt!==null;){if(nt.key===Nt){if(Nt=ct.type,Nt===O){if(nt.tag===7){u(at,nt.sibling),vt=_(nt,ct.props.children),vt.return=at,at=vt;break t}}else if(nt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===P&&HT(Nt)===nt.type){u(at,nt.sibling),vt=_(nt,ct.props),nh(vt,ct),vt.return=at,at=vt;break t}u(at,nt);break}else a(at,nt);nt=nt.sibling}ct.type===O?(vt=Ps(ct.props.children,at.mode,vt,ct.key),vt.return=at,at=vt):(vt=Al(ct.type,ct.key,ct.props,null,at.mode,vt),nh(vt,ct),vt.return=at,at=vt)}return I(at);case x:t:{for(Nt=ct.key;nt!==null;){if(nt.key===Nt)if(nt.tag===4&&nt.stateNode.containerInfo===ct.containerInfo&&nt.stateNode.implementation===ct.implementation){u(at,nt.sibling),vt=_(nt,ct.children||[]),vt.return=at,at=vt;break t}else{u(at,nt);break}else a(at,nt);nt=nt.sibling}vt=wu(ct,at.mode,vt),vt.return=at,at=vt}return I(at);case P:return Nt=ct._init,ct=Nt(ct._payload),De(at,nt,ct,vt)}if(W(ct))return $t(at,nt,ct,vt);if(M(ct)){if(Nt=M(ct),typeof Nt!="function")throw Error(i(150));return ct=Nt.call(ct),qt(at,nt,ct,vt)}if(typeof ct.then=="function")return De(at,nt,wd(ct),vt);if(ct.$$typeof===Z)return De(at,nt,od(at,ct),vt);Td(at,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,nt!==null&&nt.tag===6?(u(at,nt.sibling),vt=_(nt,ct),vt.return=at,at=vt):(u(at,nt),vt=Hc(ct,at.mode,vt),vt.return=at,at=vt),I(at)):u(at,nt)}return function(at,nt,ct,vt){try{eh=0;var Nt=De(at,nt,ct,vt);return Cu=null,Nt}catch(Bt){if(Bt===Zc||Bt===ud)throw Bt;var le=Ci(29,Bt,null,at.mode);return le.lanes=vt,le.return=at,le}finally{}}}var Iu=qT(!0),GT=qT(!1),Dr=ht(null),Ms=null;function ho(r){var a=r.alternate;j(Ln,Ln.current&1),j(Dr,r),Ms===null&&(a===null||Su.current!==null||a.memoizedState!==null)&&(Ms=r)}function ZT(r){if(r.tag===22){if(j(Ln,Ln.current),j(Dr,r),Ms===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Ms=r)}}else fo()}function fo(){j(Ln,Ln.current),j(Dr,Dr.current)}function ya(r){wt(Dr),Ms===r&&(Ms=null),wt(Ln)}var Ln=ht(0);function bd(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||hy(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function bg(r,a,u,f){a=r.memoizedState,u=u(f,a),u=u==null?a:v({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Eg={enqueueSetState:function(r,a,u){r=r._reactInternals;var f=ur(),_=lo(f);_.payload=a,u!=null&&(_.callback=u),a=uo(r,_,f),a!==null&&(cr(a,r,f),Kc(a,r,f))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var f=ur(),_=lo(f);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=uo(r,_,f),a!==null&&(cr(a,r,f),Kc(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=ur(),f=lo(u);f.tag=2,a!=null&&(f.callback=a),a=uo(r,f,u),a!==null&&(cr(a,r,u),Kc(a,r,u))}};function WT(r,a,u,f,_,w,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,w,I):a.prototype&&a.prototype.isPureReactComponent?!xi(u,f)||!xi(_,w):!0}function KT(r,a,u,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==r&&Eg.enqueueReplaceState(a,a.state,null)}function Dl(r,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(r=r.defaultProps){u===a&&(u=v({},u));for(var _ in r)u[_]===void 0&&(u[_]=r[_])}return u}var Ed=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function $T(r){Ed(r)}function YT(r){console.error(r)}function XT(r){Ed(r)}function Sd(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function QT(r,a,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Sg(r,a,u){return u=lo(u),u.tag=3,u.payload={element:null},u.callback=function(){Sd(r,a)},u}function JT(r){return r=lo(r),r.tag=3,r}function tb(r,a,u,f){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var w=f.value;r.payload=function(){return _(w)},r.callback=function(){QT(a,u,f)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(r.callback=function(){QT(a,u,f),typeof _!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var z=f.stack;this.componentDidCatch(f.value,{componentStack:z!==null?z:""})})}function BM(r,a,u,f,_){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&Il(a,u,_,!0),u=Dr.current,u!==null){switch(u.tag){case 13:return Ms===null?Kg():u.alternate===null&&an===0&&(an=3),u.flags&=-257,u.flags|=65536,u.lanes=_,f===Jm?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),Yg(r,f,_)),!1;case 22:return u.flags|=65536,f===Jm?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),Yg(r,f,_)),!1}throw Error(i(435,u.tag))}return Yg(r,f,_),Kg(),!1}if(Xt)return a=Dr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=_,f!==qn&&(r=Error(i(422),{cause:f}),ao(Ai(r,u)))):(f!==qn&&(a=Error(i(423),{cause:f}),ao(Ai(a,u))),r=r.current.alternate,r.flags|=65536,_&=-_,r.lanes|=_,f=Ai(f,u),_=Sg(r.stateNode,f,_),ng(r,_),an!==4&&(an=2)),!1;var w=Error(i(520),{cause:f});if(w=Ai(w,u),uh===null?uh=[w]:uh.push(w),an!==4&&(an=2),a===null)return!0;f=Ai(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=_&-_,u.lanes|=r,r=Sg(u.stateNode,f,r),ng(u,r),!1;case 1:if(a=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vo===null||!vo.has(w))))return u.flags|=65536,_&=-_,u.lanes|=_,_=JT(_),tb(_,r,u,f),ng(u,_),!1}u=u.return}while(u!==null);return!1}var eb=Error(i(461)),Gn=!1;function ei(r,a,u,f){a.child=r===null?GT(a,null,u,f):Iu(a,r.child,u,f)}function nb(r,a,u,f,_){u=u.render;var w=a.ref;if("ref"in f){var I={};for(var z in f)z!=="ref"&&(I[z]=f[z])}else I=f;return Pl(a),f=og(r,a,u,I,w,_),z=lg(),r!==null&&!Gn?(ug(r,a,_),_a(r,a,_)):(Xt&&z&&xt(a),a.flags|=1,ei(r,a,f,_),a.child)}function ib(r,a,u,f,_){if(r===null){var w=u.type;return typeof w=="function"&&!vu(w)&&w.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=w,rb(r,a,w,f,_)):(r=Al(u.type,null,f,a,a.mode,_),r.ref=a.ref,r.return=a,a.child=r)}if(w=r.child,!Mg(r,_)){var I=w.memoizedProps;if(u=u.compare,u=u!==null?u:xi,u(I,f)&&r.ref===a.ref)return _a(r,a,_)}return a.flags|=1,r=kr(w,f),r.ref=a.ref,r.return=a,a.child=r}function rb(r,a,u,f,_){if(r!==null){var w=r.memoizedProps;if(xi(w,f)&&r.ref===a.ref)if(Gn=!1,a.pendingProps=f=w,Mg(r,_))(r.flags&131072)!==0&&(Gn=!0);else return a.lanes=r.lanes,_a(r,a,_)}return xg(r,a,u,f,_)}function sb(r,a,u){var f=a.pendingProps,_=f.children,w=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=w!==null?w.baseLanes|u:u,r!==null){for(_=a.child=r.child,w=0;_!==null;)w=w|_.lanes|_.childLanes,_=_.sibling;a.childLanes=w&~f}else a.childLanes=0,a.child=null;return ab(r,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&ld(a,w!==null?w.cachePool:null),w!==null?rT(a,w):rg(),ZT(a);else return a.lanes=a.childLanes=536870912,ab(r,a,w!==null?w.baseLanes|u:u,u)}else w!==null?(ld(a,w.cachePool),rT(a,w),fo(),a.memoizedState=null):(r!==null&&ld(a,null),rg(),fo());return ei(r,a,_,u),a.child}function ab(r,a,u,f){var _=Qm();return _=_===null?null:{parent:On._currentValue,pool:_},a.memoizedState={baseLanes:u,cachePool:_},r!==null&&ld(a,null),rg(),ZT(a),r!==null&&Il(r,a,f,!0),null}function xd(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(a.flags|=4194816)}}function xg(r,a,u,f,_){return Pl(a),u=og(r,a,u,f,void 0,_),f=lg(),r!==null&&!Gn?(ug(r,a,_),_a(r,a,_)):(Xt&&f&&xt(a),a.flags|=1,ei(r,a,u,_),a.child)}function ob(r,a,u,f,_,w){return Pl(a),a.updateQueue=null,u=aT(a,f,u,_),sT(r),f=lg(),r!==null&&!Gn?(ug(r,a,w),_a(r,a,w)):(Xt&&f&&xt(a),a.flags|=1,ei(r,a,u,w),a.child)}function lb(r,a,u,f,_){if(Pl(a),a.stateNode===null){var w=pa,I=u.contextType;typeof I=="object"&&I!==null&&(w=di(I)),w=new u(f,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Eg,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=f,w.state=a.memoizedState,w.refs={},tg(a),I=u.contextType,w.context=typeof I=="object"&&I!==null?di(I):pa,w.state=a.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(bg(a,u,I,f),w.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&Eg.enqueueReplaceState(w,w.state,null),Yc(a,f,w,_),$c(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){w=a.stateNode;var z=a.memoizedProps,Q=Dl(u,z);w.props=Q;var ft=w.context,_t=u.contextType;I=pa,typeof _t=="object"&&_t!==null&&(I=di(_t));var Et=u.getDerivedStateFromProps;_t=typeof Et=="function"||typeof w.getSnapshotBeforeUpdate=="function",z=a.pendingProps!==z,_t||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(z||ft!==I)&&KT(a,w,f,I),oo=!1;var dt=a.memoizedState;w.state=dt,Yc(a,f,w,_),$c(),ft=a.memoizedState,z||dt!==ft||oo?(typeof Et=="function"&&(bg(a,u,Et,f),ft=a.memoizedState),(Q=oo||WT(a,u,Q,f,dt,ft,I))?(_t||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=ft),w.props=f,w.state=ft,w.context=I,f=Q):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{w=a.stateNode,eg(r,a),I=a.memoizedProps,_t=Dl(u,I),w.props=_t,Et=a.pendingProps,dt=w.context,ft=u.contextType,Q=pa,typeof ft=="object"&&ft!==null&&(Q=di(ft)),z=u.getDerivedStateFromProps,(ft=typeof z=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==Et||dt!==Q)&&KT(a,w,f,Q),oo=!1,dt=a.memoizedState,w.state=dt,Yc(a,f,w,_),$c();var pt=a.memoizedState;I!==Et||dt!==pt||oo||r!==null&&r.dependencies!==null&&ad(r.dependencies)?(typeof z=="function"&&(bg(a,u,z,f),pt=a.memoizedState),(_t=oo||WT(a,u,_t,f,dt,pt,Q)||r!==null&&r.dependencies!==null&&ad(r.dependencies))?(ft||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,pt,Q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,pt,Q)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&dt===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&dt===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=pt),w.props=f,w.state=pt,w.context=Q,f=_t):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&dt===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&dt===r.memoizedState||(a.flags|=1024),f=!1)}return w=f,xd(r,a),f=(a.flags&128)!==0,w||f?(w=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,r!==null&&f?(a.child=Iu(a,r.child,null,_),a.child=Iu(a,null,u,_)):ei(r,a,u,_),a.memoizedState=w.state,r=a.child):r=_a(r,a,_),r}function ub(r,a,u,f){return so(),a.flags|=256,ei(r,a,u,f),a.child}var Ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rg(r){return{baseLanes:r,cachePool:Yw()}}function Cg(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=Or),r}function cb(r,a,u){var f=a.pendingProps,_=!1,w=(a.flags&128)!==0,I;if((I=w)||(I=r!==null&&r.memoizedState===null?!1:(Ln.current&2)!==0),I&&(_=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,r===null){if(Xt){if(_?ho(a):fo(),Xt){var z=Vt,Q;if(Q=z){t:{for(Q=z,z=Qe;Q.nodeType!==8;){if(!z){z=null;break t}if(Q=as(Q.nextSibling),Q===null){z=null;break t}}z=Q}z!==null?(a.memoizedState={dehydrated:z,treeContext:A!==null?{id:V,overflow:X}:null,retryLane:536870912,hydrationErrors:null},Q=Ci(18,null,null,0),Q.stateNode=z,Q.return=a,a.child=Q,Lt=a,Vt=null,Q=!0):Q=!1}Q||Li(a)}if(z=a.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return hy(z)?a.lanes=32:a.lanes=536870912,null;ya(a)}return z=f.children,f=f.fallback,_?(fo(),_=a.mode,z=Ad({mode:"hidden",children:z},_),f=Ps(f,_,u,null),z.return=a,f.return=a,z.sibling=f,a.child=z,_=a.child,_.memoizedState=Rg(u),_.childLanes=Cg(r,I,u),a.memoizedState=Ag,f):(ho(a),Ig(a,z))}if(Q=r.memoizedState,Q!==null&&(z=Q.dehydrated,z!==null)){if(w)a.flags&256?(ho(a),a.flags&=-257,a=Pg(r,a,u)):a.memoizedState!==null?(fo(),a.child=r.child,a.flags|=128,a=null):(fo(),_=f.fallback,z=a.mode,f=Ad({mode:"visible",children:f.children},z),_=Ps(_,z,u,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,Iu(a,r.child,null,u),f=a.child,f.memoizedState=Rg(u),f.childLanes=Cg(r,I,u),a.memoizedState=Ag,a=_);else if(ho(a),hy(z)){if(I=z.nextSibling&&z.nextSibling.dataset,I)var ft=I.dgst;I=ft,f=Error(i(419)),f.stack="",f.digest=I,ao({value:f,source:null,stack:null}),a=Pg(r,a,u)}else if(Gn||Il(r,a,u,!1),I=(u&r.childLanes)!==0,Gn||I){if(I=je,I!==null&&(f=u&-u,f=(f&42)!==0?1:_s(f),f=(f&(I.suspendedLanes|u))!==0?0:f,f!==0&&f!==Q.retryLane))throw Q.retryLane=f,io(r,f),cr(I,r,f),eb;z.data==="$?"||Kg(),a=Pg(r,a,u)}else z.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=Q.treeContext,Vt=as(z.nextSibling),Lt=a,Xt=!0,Be=null,Qe=!1,r!==null&&(y[b++]=V,y[b++]=X,y[b++]=A,V=r.id,X=r.overflow,A=a),a=Ig(a,f.children),a.flags|=4096);return a}return _?(fo(),_=f.fallback,z=a.mode,Q=r.child,ft=Q.sibling,f=kr(Q,{mode:"hidden",children:f.children}),f.subtreeFlags=Q.subtreeFlags&65011712,ft!==null?_=kr(ft,_):(_=Ps(_,z,u,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,z=r.child.memoizedState,z===null?z=Rg(u):(Q=z.cachePool,Q!==null?(ft=On._currentValue,Q=Q.parent!==ft?{parent:ft,pool:ft}:Q):Q=Yw(),z={baseLanes:z.baseLanes|u,cachePool:Q}),_.memoizedState=z,_.childLanes=Cg(r,I,u),a.memoizedState=Ag,f):(ho(a),u=r.child,r=u.sibling,u=kr(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,r!==null&&(I=a.deletions,I===null?(a.deletions=[r],a.flags|=16):I.push(r)),a.child=u,a.memoizedState=null,u)}function Ig(r,a){return a=Ad({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Ad(r,a){return r=Ci(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Pg(r,a,u){return Iu(a,r.child,null,u),r=Ig(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function hb(r,a,u){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),Cl(r.return,a,u)}function kg(r,a,u,f,_){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:_}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=u,w.tailMode=_)}function fb(r,a,u){var f=a.pendingProps,_=f.revealOrder,w=f.tail;if(ei(r,a,f.children,u),f=Ln.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hb(r,u,a);else if(r.tag===19)hb(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(j(Ln,f),_){case"forwards":for(u=a.child,_=null;u!==null;)r=u.alternate,r!==null&&bd(r)===null&&(_=u),u=u.sibling;u=_,u===null?(_=a.child,a.child=null):(_=u.sibling,u.sibling=null),kg(a,!1,_,u,w);break;case"backwards":for(u=null,_=a.child,a.child=null;_!==null;){if(r=_.alternate,r!==null&&bd(r)===null){a.child=_;break}r=_.sibling,_.sibling=u,u=_,_=r}kg(a,!0,u,null,w);break;case"together":kg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function _a(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),_o|=a.lanes,(u&a.childLanes)===0)if(r!==null){if(Il(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,u=kr(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=kr(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function Mg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&ad(r)))}function jM(r,a,u){switch(a.tag){case 3:Jt(a,a.stateNode.containerInfo),ks(a,On,r.memoizedState.cache),so();break;case 27:case 5:Pn(a);break;case 4:Jt(a,a.stateNode.containerInfo);break;case 10:ks(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(ho(a),a.flags|=128,null):(u&a.child.childLanes)!==0?cb(r,a,u):(ho(a),r=_a(r,a,u),r!==null?r.sibling:null);ho(a);break;case 19:var _=(r.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(Il(r,a,u,!1),f=(u&a.childLanes)!==0),_){if(f)return fb(r,a,u);a.flags|=128}if(_=a.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),j(Ln,Ln.current),f)break;return null;case 22:case 23:return a.lanes=0,sb(r,a,u);case 24:ks(a,On,r.memoizedState.cache)}return _a(r,a,u)}function db(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)Gn=!0;else{if(!Mg(r,u)&&(a.flags&128)===0)return Gn=!1,jM(r,a,u);Gn=(r.flags&131072)!==0}else Gn=!1,Xt&&(a.flags&1048576)!==0&&mt(a,h,a.index);switch(a.lanes=0,a.tag){case 16:t:{r=a.pendingProps;var f=a.elementType,_=f._init;if(f=_(f._payload),a.type=f,typeof f=="function")vu(f)?(r=Dl(f,r),a.tag=1,a=lb(null,a,f,r,u)):(a.tag=0,a=xg(null,a,f,r,u));else{if(f!=null){if(_=f.$$typeof,_===ot){a.tag=11,a=nb(null,a,f,r,u);break t}else if(_===q){a.tag=14,a=ib(null,a,f,r,u);break t}}throw a=it(f)||f,Error(i(306,a,""))}}return a;case 0:return xg(r,a,a.type,a.pendingProps,u);case 1:return f=a.type,_=Dl(f,a.pendingProps),lb(r,a,f,_,u);case 3:t:{if(Jt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));f=a.pendingProps;var w=a.memoizedState;_=w.element,eg(r,a),Yc(a,f,null,u);var I=a.memoizedState;if(f=I.cache,ks(a,On,f),f!==w.cache&&Tu(a,[On],u,!0),$c(),f=I.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=ub(r,a,f,u);break t}else if(f!==_){_=Ai(Error(i(424)),a),ao(_),a=ub(r,a,f,u);break t}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Vt=as(r.firstChild),Lt=a,Xt=!0,Be=null,Qe=!0,u=GT(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(so(),f===_){a=_a(r,a,u);break t}ei(r,a,f,u)}a=a.child}return a;case 26:return xd(r,a),r===null?(u=yE(a.type,null,a.pendingProps,null))?a.memoizedState=u:Xt||(u=a.type,r=a.pendingProps,f=Bd(At.current).createElement(u),f[cn]=a,f[rn]=r,ii(f,u,r),Xe(f),a.stateNode=f):a.memoizedState=yE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Pn(a),r===null&&Xt&&(f=a.stateNode=pE(a.type,a.pendingProps,At.current),Lt=a,Qe=!0,_=Vt,bo(a.type)?(fy=_,Vt=as(f.firstChild)):Vt=_),ei(r,a,a.pendingProps.children,u),xd(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Xt&&((_=f=Vt)&&(f=mD(f,a.type,a.pendingProps,Qe),f!==null?(a.stateNode=f,Lt=a,Vt=as(f.firstChild),Qe=!1,_=!0):_=!1),_||Li(a)),Pn(a),_=a.type,w=a.pendingProps,I=r!==null?r.memoizedProps:null,f=w.children,ly(_,w)?f=null:I!==null&&ly(_,I)&&(a.flags|=32),a.memoizedState!==null&&(_=og(r,a,DM,null,null,u),_h._currentValue=_),xd(r,a),ei(r,a,f,u),a.child;case 6:return r===null&&Xt&&((r=u=Vt)&&(u=gD(u,a.pendingProps,Qe),u!==null?(a.stateNode=u,Lt=a,Vt=null,r=!0):r=!1),r||Li(a)),null;case 13:return cb(r,a,u);case 4:return Jt(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=Iu(a,null,f,u):ei(r,a,f,u),a.child;case 11:return nb(r,a,a.type,a.pendingProps,u);case 7:return ei(r,a,a.pendingProps,u),a.child;case 8:return ei(r,a,a.pendingProps.children,u),a.child;case 12:return ei(r,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,ks(a,a.type,f.value),ei(r,a,f.children,u),a.child;case 9:return _=a.type._context,f=a.pendingProps.children,Pl(a),_=di(_),f=f(_),a.flags|=1,ei(r,a,f,u),a.child;case 14:return ib(r,a,a.type,a.pendingProps,u);case 15:return rb(r,a,a.type,a.pendingProps,u);case 19:return fb(r,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},r===null?(u=Ad(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=kr(r.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return sb(r,a,u);case 24:return Pl(a),f=di(On),r===null?(_=Qm(),_===null&&(_=je,w=Ym(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=u),_=w),a.memoizedState={parent:f,cache:_},tg(a),ks(a,On,_)):((r.lanes&u)!==0&&(eg(r,a),Yc(a,null,null,u),$c()),_=r.memoizedState,w=a.memoizedState,_.parent!==f?(_={parent:f,cache:f},a.memoizedState=_,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=_),ks(a,On,f)):(f=w.cache,ks(a,On,f),f!==_.cache&&Tu(a,[On],u,!0))),ei(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function va(r){r.flags|=4}function pb(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!bE(a)){if(a=Dr.current,a!==null&&((ve&4194048)===ve?Ms!==null:(ve&62914560)!==ve&&(ve&536870912)===0||a!==Ms))throw Wc=Jm,Xw;r.flags|=8192}}function Rd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Na():536870912,r.lanes|=a,Du|=a)}function ih(r,a){if(!Xt)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Je(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(a)for(var _=r.child;_!==null;)u|=_.lanes|_.childLanes,f|=_.subtreeFlags&65011712,f|=_.flags&65011712,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)u|=_.lanes|_.childLanes,f|=_.subtreeFlags,f|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=f,r.childLanes=u,a}function FM(r,a,u){var f=a.pendingProps;switch(Mt(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(a),null;case 1:return Je(a),null;case 3:return u=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),rs(On),gn(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Rl(a)?va(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,sd())),Je(a),null;case 26:return u=a.memoizedState,r===null?(va(a),u!==null?(Je(a),pb(a,u)):(Je(a),a.flags&=-16777217)):u?u!==r.memoizedState?(va(a),Je(a),pb(a,u)):(Je(a),a.flags&=-16777217):(r.memoizedProps!==f&&va(a),Je(a),a.flags&=-16777217),null;case 27:zn(a),u=At.current;var _=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==f&&va(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Je(a),null}r=Rt.current,Rl(a)?id(a):(r=pE(_,f,u),a.stateNode=r,va(a))}return Je(a),null;case 5:if(zn(a),u=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&va(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Je(a),null}if(r=Rt.current,Rl(a))id(a);else{switch(_=Bd(At.current),r){case 1:r=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?_.createElement("select",{is:f.is}):_.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?_.createElement(u,{is:f.is}):_.createElement(u)}}r[cn]=a,r[rn]=f;t:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)r.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break t;for(;_.sibling===null;){if(_.return===null||_.return===a)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=r;t:switch(ii(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&va(a)}}return Je(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&va(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(r=At.current,Rl(a)){if(r=a.stateNode,u=a.memoizedProps,f=null,_=Lt,_!==null)switch(_.tag){case 27:case 5:f=_.memoizedProps}r[cn]=a,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||oE(r.nodeValue,u)),r||Li(a)}else r=Bd(r).createTextNode(f),r[cn]=a,a.stateNode=r}return Je(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(_=Rl(a),f!==null&&f.dehydrated!==null){if(r===null){if(!_)throw Error(i(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[cn]=a}else so(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Je(a),_=!1}else _=sd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=_),_=!0;if(!_)return a.flags&256?(ya(a),a):(ya(a),null)}if(ya(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=a.child,_=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(_=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==_&&(f.flags|=2048)}return u!==r&&u&&(a.child.flags|=8192),Rd(a,a.updateQueue),Je(a),null;case 4:return gn(),r===null&&iy(a.stateNode.containerInfo),Je(a),null;case 10:return rs(a.type),Je(a),null;case 19:if(wt(Ln),_=a.memoizedState,_===null)return Je(a),null;if(f=(a.flags&128)!==0,w=_.rendering,w===null)if(f)ih(_,!1);else{if(an!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(w=bd(r),w!==null){for(a.flags|=128,ih(_,!1),r=w.updateQueue,a.updateQueue=r,Rd(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)Fc(u,r),u=u.sibling;return j(Ln,Ln.current&1|2),a.child}r=r.sibling}_.tail!==null&&kn()>Pd&&(a.flags|=128,f=!0,ih(_,!1),a.lanes=4194304)}else{if(!f)if(r=bd(w),r!==null){if(a.flags|=128,f=!0,r=r.updateQueue,a.updateQueue=r,Rd(a,r),ih(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!Xt)return Je(a),null}else 2*kn()-_.renderingStartTime>Pd&&u!==536870912&&(a.flags|=128,f=!0,ih(_,!1),a.lanes=4194304);_.isBackwards?(w.sibling=a.child,a.child=w):(r=_.last,r!==null?r.sibling=w:a.child=w,_.last=w)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=kn(),a.sibling=null,r=Ln.current,j(Ln,f?r&1|2:r&1),a):(Je(a),null);case 22:case 23:return ya(a),sg(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Je(a),a.subtreeFlags&6&&(a.flags|=8192)):Je(a),u=a.updateQueue,u!==null&&Rd(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),r!==null&&wt(kl),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),rs(On),Je(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function HM(r,a){switch(Mt(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return rs(On),gn(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return zn(a),null;case 13:if(ya(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));so()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return wt(Ln),null;case 4:return gn(),null;case 10:return rs(a.type),null;case 22:case 23:return ya(a),sg(),r!==null&&wt(kl),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return rs(On),null;case 25:return null;default:return null}}function mb(r,a){switch(Mt(a),a.tag){case 3:rs(On),gn();break;case 26:case 27:case 5:zn(a);break;case 4:gn();break;case 13:ya(a);break;case 19:wt(Ln);break;case 10:rs(a.type);break;case 22:case 23:ya(a),sg(),r!==null&&wt(kl);break;case 24:rs(On)}}function rh(r,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&r)===r){f=void 0;var w=u.create,I=u.inst;f=w(),I.destroy=f}u=u.next}while(u!==_)}}catch(z){Le(a,a.return,z)}}function po(r,a,u){try{var f=a.updateQueue,_=f!==null?f.lastEffect:null;if(_!==null){var w=_.next;f=w;do{if((f.tag&r)===r){var I=f.inst,z=I.destroy;if(z!==void 0){I.destroy=void 0,_=a;var Q=u,ft=z;try{ft()}catch(_t){Le(_,Q,_t)}}}f=f.next}while(f!==w)}}catch(_t){Le(a,a.return,_t)}}function gb(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{iT(a,u)}catch(f){Le(r,r.return,f)}}}function yb(r,a,u){u.props=Dl(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){Le(r,a,f)}}function sh(r,a){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(_){Le(r,a,_)}}function Ds(r,a){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(_){Le(r,a,_)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){Le(r,a,_)}else u.current=null}function _b(r){var a=r.type,u=r.memoizedProps,f=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(_){Le(r,r.return,_)}}function Dg(r,a,u){try{var f=r.stateNode;cD(f,r.type,u,a),f[rn]=a}catch(_){Le(r,r.return,_)}}function vb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bo(r.type)||r.tag===4}function Og(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||vb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bo(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lg(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(r),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Ud));else if(f!==4&&(f===27&&bo(r.type)&&(u=r.stateNode,a=null),r=r.child,r!==null))for(Lg(r,a,u),r=r.sibling;r!==null;)Lg(r,a,u),r=r.sibling}function Cd(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(f!==4&&(f===27&&bo(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Cd(r,a,u),r=r.sibling;r!==null;)Cd(r,a,u),r=r.sibling}function wb(r){var a=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,_=a.attributes;_.length;)a.removeAttributeNode(_[0]);ii(a,f,u),a[cn]=r,a[rn]=u}catch(w){Le(r,r.return,w)}}var wa=!1,dn=!1,Ng=!1,Tb=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function qM(r,a){if(r=r.containerInfo,ay=Zd,r=wl(r),Tl(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var _=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break t}var I=0,z=-1,Q=-1,ft=0,_t=0,Et=r,dt=null;e:for(;;){for(var pt;Et!==u||_!==0&&Et.nodeType!==3||(z=I+_),Et!==w||f!==0&&Et.nodeType!==3||(Q=I+f),Et.nodeType===3&&(I+=Et.nodeValue.length),(pt=Et.firstChild)!==null;)dt=Et,Et=pt;for(;;){if(Et===r)break e;if(dt===u&&++ft===_&&(z=I),dt===w&&++_t===f&&(Q=I),(pt=Et.nextSibling)!==null)break;Et=dt,dt=Et.parentNode}Et=pt}u=z===-1||Q===-1?null:{start:z,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(oy={focusedElem:r,selectionRange:u},Zd=!1,Zn=a;Zn!==null;)if(a=Zn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Zn=r;else for(;Zn!==null;){switch(a=Zn,w=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,u=a,_=w.memoizedProps,w=w.memoizedState,f=u.stateNode;try{var $t=Dl(u.type,_,u.elementType===u.type);r=f.getSnapshotBeforeUpdate($t,w),f.__reactInternalSnapshotBeforeUpdate=r}catch(qt){Le(u,u.return,qt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)cy(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":cy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Zn=r;break}Zn=a.return}}function bb(r,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:mo(r,u),f&4&&rh(5,u);break;case 1:if(mo(r,u),f&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(I){Le(u,u.return,I)}else{var _=Dl(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(_,a,r.__reactInternalSnapshotBeforeUpdate)}catch(I){Le(u,u.return,I)}}f&64&&gb(u),f&512&&sh(u,u.return);break;case 3:if(mo(r,u),f&64&&(r=u.updateQueue,r!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{iT(r,a)}catch(I){Le(u,u.return,I)}}break;case 27:a===null&&f&4&&wb(u);case 26:case 5:mo(r,u),a===null&&f&4&&_b(u),f&512&&sh(u,u.return);break;case 12:mo(r,u);break;case 13:mo(r,u),f&4&&xb(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=JM.bind(null,u),yD(r,u))));break;case 22:if(f=u.memoizedState!==null||wa,!f){a=a!==null&&a.memoizedState!==null||dn,_=wa;var w=dn;wa=f,(dn=a)&&!w?go(r,u,(u.subtreeFlags&8772)!==0):mo(r,u),wa=_,dn=w}break;case 30:break;default:mo(r,u)}}function Eb(r){var a=r.alternate;a!==null&&(r.alternate=null,Eb(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Zr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var We=null,Vi=!1;function Ta(r,a,u){for(u=u.child;u!==null;)Sb(r,a,u),u=u.sibling}function Sb(r,a,u){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(gt,u)}catch{}switch(u.tag){case 26:dn||Ds(u,a),Ta(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:dn||Ds(u,a);var f=We,_=Vi;bo(u.type)&&(We=u.stateNode,Vi=!1),Ta(r,a,u),ph(u.stateNode),We=f,Vi=_;break;case 5:dn||Ds(u,a);case 6:if(f=We,_=Vi,We=null,Ta(r,a,u),We=f,Vi=_,We!==null)if(Vi)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(u.stateNode)}catch(w){Le(u,a,w)}else try{We.removeChild(u.stateNode)}catch(w){Le(u,a,w)}break;case 18:We!==null&&(Vi?(r=We,fE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),bh(r)):fE(We,u.stateNode));break;case 4:f=We,_=Vi,We=u.stateNode.containerInfo,Vi=!0,Ta(r,a,u),We=f,Vi=_;break;case 0:case 11:case 14:case 15:dn||po(2,u,a),dn||po(4,u,a),Ta(r,a,u);break;case 1:dn||(Ds(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&yb(u,a,f)),Ta(r,a,u);break;case 21:Ta(r,a,u);break;case 22:dn=(f=dn)||u.memoizedState!==null,Ta(r,a,u),dn=f;break;default:Ta(r,a,u)}}function xb(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{bh(r)}catch(u){Le(a,a.return,u)}}function GM(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Tb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Tb),a;default:throw Error(i(435,r.tag))}}function Vg(r,a){var u=GM(r);a.forEach(function(f){var _=tD.bind(null,r,f);u.has(f)||(u.add(f),f.then(_,_))})}function ar(r,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var _=u[f],w=r,I=a,z=I;t:for(;z!==null;){switch(z.tag){case 27:if(bo(z.type)){We=z.stateNode,Vi=!1;break t}break;case 5:We=z.stateNode,Vi=!1;break t;case 3:case 4:We=z.stateNode.containerInfo,Vi=!0;break t}z=z.return}if(We===null)throw Error(i(160));Sb(w,I,_),We=null,Vi=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Ab(a,r),a=a.sibling}var ss=null;function Ab(r,a){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ar(a,r),or(r),f&4&&(po(3,r,r.return),rh(3,r),po(5,r,r.return));break;case 1:ar(a,r),or(r),f&512&&(dn||u===null||Ds(u,u.return)),f&64&&wa&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var _=ss;if(ar(a,r),or(r),f&512&&(dn||u===null||Ds(u,u.return)),f&4){var w=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){t:{f=r.type,u=r.memoizedProps,_=_.ownerDocument||_;e:switch(f){case"title":w=_.getElementsByTagName("title")[0],(!w||w[ws]||w[cn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(f),_.head.insertBefore(w,_.querySelector("head > title"))),ii(w,f,u),w[cn]=r,Xe(w),f=w;break t;case"link":var I=wE("link","href",_).get(f+(u.href||""));if(I){for(var z=0;z<I.length;z++)if(w=I[z],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(z,1);break e}}w=_.createElement(f),ii(w,f,u),_.head.appendChild(w);break;case"meta":if(I=wE("meta","content",_).get(f+(u.content||""))){for(z=0;z<I.length;z++)if(w=I[z],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(z,1);break e}}w=_.createElement(f),ii(w,f,u),_.head.appendChild(w);break;default:throw Error(i(468,f))}w[cn]=r,Xe(w),f=w}r.stateNode=f}else TE(_,r.type,r.stateNode);else r.stateNode=vE(_,f,r.memoizedProps);else w!==f?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,f===null?TE(_,r.type,r.stateNode):vE(_,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Dg(r,r.memoizedProps,u.memoizedProps)}break;case 27:ar(a,r),or(r),f&512&&(dn||u===null||Ds(u,u.return)),u!==null&&f&4&&Dg(r,r.memoizedProps,u.memoizedProps);break;case 5:if(ar(a,r),or(r),f&512&&(dn||u===null||Ds(u,u.return)),r.flags&32){_=r.stateNode;try{jn(_,"")}catch(pt){Le(r,r.return,pt)}}f&4&&r.stateNode!=null&&(_=r.memoizedProps,Dg(r,_,u!==null?u.memoizedProps:_)),f&1024&&(Ng=!0);break;case 6:if(ar(a,r),or(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(pt){Le(r,r.return,pt)}}break;case 3:if(Hd=null,_=ss,ss=jd(a.containerInfo),ar(a,r),ss=_,or(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{bh(a.containerInfo)}catch(pt){Le(r,r.return,pt)}Ng&&(Ng=!1,Rb(r));break;case 4:f=ss,ss=jd(r.stateNode.containerInfo),ar(a,r),or(r),ss=f;break;case 12:ar(a,r),or(r);break;case 13:ar(a,r),or(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Hg=kn()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Vg(r,f)));break;case 22:_=r.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,ft=wa,_t=dn;if(wa=ft||_,dn=_t||Q,ar(a,r),dn=_t,wa=ft,or(r),f&8192)t:for(a=r.stateNode,a._visibility=_?a._visibility&-2:a._visibility|1,_&&(u===null||Q||wa||dn||Ol(r)),u=null,a=r;;){if(a.tag===5||a.tag===26){if(u===null){Q=u=a;try{if(w=Q.stateNode,_)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{z=Q.stateNode;var Et=Q.memoizedProps.style,dt=Et!=null&&Et.hasOwnProperty("display")?Et.display:null;z.style.display=dt==null||typeof dt=="boolean"?"":(""+dt).trim()}}catch(pt){Le(Q,Q.return,pt)}}}else if(a.tag===6){if(u===null){Q=a;try{Q.stateNode.nodeValue=_?"":Q.memoizedProps}catch(pt){Le(Q,Q.return,pt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Vg(r,u))));break;case 19:ar(a,r),or(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Vg(r,f)));break;case 30:break;case 21:break;default:ar(a,r),or(r)}}function or(r){var a=r.flags;if(a&2){try{for(var u,f=r.return;f!==null;){if(vb(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var _=u.stateNode,w=Og(r);Cd(r,w,_);break;case 5:var I=u.stateNode;u.flags&32&&(jn(I,""),u.flags&=-33);var z=Og(r);Cd(r,z,I);break;case 3:case 4:var Q=u.stateNode.containerInfo,ft=Og(r);Lg(r,ft,Q);break;default:throw Error(i(161))}}catch(_t){Le(r,r.return,_t)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Rb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Rb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function mo(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)bb(r,a.alternate,a),a=a.sibling}function Ol(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:po(4,a,a.return),Ol(a);break;case 1:Ds(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&yb(a,a.return,u),Ol(a);break;case 27:ph(a.stateNode);case 26:case 5:Ds(a,a.return),Ol(a);break;case 22:a.memoizedState===null&&Ol(a);break;case 30:Ol(a);break;default:Ol(a)}r=r.sibling}}function go(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,_=r,w=a,I=w.flags;switch(w.tag){case 0:case 11:case 15:go(_,w,u),rh(4,w);break;case 1:if(go(_,w,u),f=w,_=f.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ft){Le(f,f.return,ft)}if(f=w,_=f.updateQueue,_!==null){var z=f.stateNode;try{var Q=_.shared.hiddenCallbacks;if(Q!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Q.length;_++)nT(Q[_],z)}catch(ft){Le(f,f.return,ft)}}u&&I&64&&gb(w),sh(w,w.return);break;case 27:wb(w);case 26:case 5:go(_,w,u),u&&f===null&&I&4&&_b(w),sh(w,w.return);break;case 12:go(_,w,u);break;case 13:go(_,w,u),u&&I&4&&xb(_,w);break;case 22:w.memoizedState===null&&go(_,w,u),sh(w,w.return);break;case 30:break;default:go(_,w,u)}a=a.sibling}}function zg(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&qc(u))}function Ug(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&qc(r))}function Os(r,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cb(r,a,u,f),a=a.sibling}function Cb(r,a,u,f){var _=a.flags;switch(a.tag){case 0:case 11:case 15:Os(r,a,u,f),_&2048&&rh(9,a);break;case 1:Os(r,a,u,f);break;case 3:Os(r,a,u,f),_&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&qc(r)));break;case 12:if(_&2048){Os(r,a,u,f),r=a.stateNode;try{var w=a.memoizedProps,I=w.id,z=w.onPostCommit;typeof z=="function"&&z(I,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Q){Le(a,a.return,Q)}}else Os(r,a,u,f);break;case 13:Os(r,a,u,f);break;case 23:break;case 22:w=a.stateNode,I=a.alternate,a.memoizedState!==null?w._visibility&2?Os(r,a,u,f):ah(r,a):w._visibility&2?Os(r,a,u,f):(w._visibility|=2,Pu(r,a,u,f,(a.subtreeFlags&10256)!==0)),_&2048&&zg(I,a);break;case 24:Os(r,a,u,f),_&2048&&Ug(a.alternate,a);break;default:Os(r,a,u,f)}}function Pu(r,a,u,f,_){for(_=_&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var w=r,I=a,z=u,Q=f,ft=I.flags;switch(I.tag){case 0:case 11:case 15:Pu(w,I,z,Q,_),rh(8,I);break;case 23:break;case 22:var _t=I.stateNode;I.memoizedState!==null?_t._visibility&2?Pu(w,I,z,Q,_):ah(w,I):(_t._visibility|=2,Pu(w,I,z,Q,_)),_&&ft&2048&&zg(I.alternate,I);break;case 24:Pu(w,I,z,Q,_),_&&ft&2048&&Ug(I.alternate,I);break;default:Pu(w,I,z,Q,_)}a=a.sibling}}function ah(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,f=a,_=f.flags;switch(f.tag){case 22:ah(u,f),_&2048&&zg(f.alternate,f);break;case 24:ah(u,f),_&2048&&Ug(f.alternate,f);break;default:ah(u,f)}a=a.sibling}}var oh=8192;function ku(r){if(r.subtreeFlags&oh)for(r=r.child;r!==null;)Ib(r),r=r.sibling}function Ib(r){switch(r.tag){case 26:ku(r),r.flags&oh&&r.memoizedState!==null&&PD(ss,r.memoizedState,r.memoizedProps);break;case 5:ku(r);break;case 3:case 4:var a=ss;ss=jd(r.stateNode.containerInfo),ku(r),ss=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=oh,oh=16777216,ku(r),oh=a):ku(r));break;default:ku(r)}}function Pb(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function lh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Zn=f,Mb(f,r)}Pb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)kb(r),r=r.sibling}function kb(r){switch(r.tag){case 0:case 11:case 15:lh(r),r.flags&2048&&po(9,r,r.return);break;case 3:lh(r);break;case 12:lh(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Id(r)):lh(r);break;default:lh(r)}}function Id(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Zn=f,Mb(f,r)}Pb(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:po(8,a,a.return),Id(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Id(a));break;default:Id(a)}r=r.sibling}}function Mb(r,a){for(;Zn!==null;){var u=Zn;switch(u.tag){case 0:case 11:case 15:po(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:qc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Zn=f;else t:for(u=r;Zn!==null;){f=Zn;var _=f.sibling,w=f.return;if(Eb(f),f===u){Zn=null;break t}if(_!==null){_.return=w,Zn=_;break t}Zn=w}}}var ZM={getCacheForType:function(r){var a=di(On),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u}},WM=typeof WeakMap=="function"?WeakMap:Map,Ce=0,je=null,ue=null,ve=0,Ie=0,lr=null,yo=!1,Mu=!1,Bg=!1,ba=0,an=0,_o=0,Ll=0,jg=0,Or=0,Du=0,uh=null,zi=null,Fg=!1,Hg=0,Pd=1/0,kd=null,vo=null,ni=0,wo=null,Ou=null,Lu=0,qg=0,Gg=null,Db=null,ch=0,Zg=null;function ur(){if((Ce&2)!==0&&ve!==0)return ve&-ve;if(et.T!==null){var r=bu;return r!==0?r:Jg()}return vs()}function Ob(){Or===0&&(Or=(ve&536870912)===0||Xt?al():536870912);var r=Dr.current;return r!==null&&(r.flags|=32),Or}function cr(r,a,u){(r===je&&(Ie===2||Ie===9)||r.cancelPendingCommit!==null)&&(Nu(r,0),To(r,ve,Or,!1)),_r(r,u),((Ce&2)===0||r!==je)&&(r===je&&((Ce&2)===0&&(Ll|=u),an===4&&To(r,ve,Or,!1)),Ls(r))}function Lb(r,a,u){if((Ce&6)!==0)throw Error(i(327));var f=!u&&(a&124)===0&&(a&r.expiredLanes)===0||vn(r,a),_=f?YM(r,a):$g(r,a,!0),w=f;do{if(_===0){Mu&&!f&&To(r,a,0,!1);break}else{if(u=r.current.alternate,w&&!KM(u)){_=$g(r,a,!1),w=!1;continue}if(_===2){if(w=a,r.errorRecoveryDisabledLanes&w)var I=0;else I=r.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;t:{var z=r;_=uh;var Q=z.current.memoizedState.isDehydrated;if(Q&&(Nu(z,I).flags|=256),I=$g(z,I,!1),I!==2){if(Bg&&!Q){z.errorRecoveryDisabledLanes|=w,Ll|=w,_=4;break t}w=zi,zi=_,w!==null&&(zi===null?zi=w:zi.push.apply(zi,w))}_=I}if(w=!1,_!==2)continue}}if(_===1){Nu(r,0),To(r,a,0,!0);break}t:{switch(f=r,w=_,w){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:To(f,a,Or,!yo);break t;case 2:zi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(_=Hg+300-kn(),10<_)){if(To(f,a,Or,!yo),nn(f,0,!0)!==0)break t;f.timeoutHandle=cE(Nb.bind(null,f,u,zi,kd,Fg,a,Or,Ll,Du,yo,w,2,-0,0),_);break t}Nb(f,u,zi,kd,Fg,a,Or,Ll,Du,yo,w,0,-0,0)}}break}while(!0);Ls(r)}function Nb(r,a,u,f,_,w,I,z,Q,ft,_t,Et,dt,pt){if(r.timeoutHandle=-1,Et=a.subtreeFlags,(Et&8192||(Et&16785408)===16785408)&&(yh={stylesheets:null,count:0,unsuspend:ID},Ib(a),Et=kD(),Et!==null)){r.cancelPendingCommit=Et(Hb.bind(null,r,a,w,u,f,_,I,z,Q,_t,1,dt,pt)),To(r,w,I,!ft);return}Hb(r,a,w,u,f,_,I,z,Q)}function KM(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var _=u[f],w=_.getSnapshot;_=_.value;try{if(!Si(w(),_))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function To(r,a,u,f){a&=~jg,a&=~Ll,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var _=a;0<_;){var w=31-Ft(_),I=1<<w;f[w]=-1,_&=~I}u!==0&&vr(r,u,a)}function Md(){return(Ce&6)===0?(hh(0),!1):!0}function Wg(){if(ue!==null){if(Ie===0)var r=ue.return;else r=ue,is=Mr=null,cg(r),Cu=null,eh=0,r=ue;for(;r!==null;)mb(r.alternate,r),r=r.return;ue=null}}function Nu(r,a){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,fD(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Wg(),je=r,ue=u=kr(r.current,null),ve=a,Ie=0,lr=null,yo=!1,Mu=vn(r,a),Bg=!1,Du=Or=jg=Ll=_o=an=0,zi=uh=null,Fg=!1,(a&8)!==0&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var _=31-Ft(f),w=1<<_;a|=r[_],f&=~w}return ba=a,El(),u}function Vb(r,a){ae=null,et.H=vd,a===Zc||a===ud?(a=tT(),Ie=3):a===Xw?(a=tT(),Ie=4):Ie=a===eb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,lr=a,ue===null&&(an=1,Sd(r,Ai(a,r.current)))}function zb(){var r=et.H;return et.H=vd,r===null?vd:r}function Ub(){var r=et.A;return et.A=ZM,r}function Kg(){an=4,yo||(ve&4194048)!==ve&&Dr.current!==null||(Mu=!0),(_o&134217727)===0&&(Ll&134217727)===0||je===null||To(je,ve,Or,!1)}function $g(r,a,u){var f=Ce;Ce|=2;var _=zb(),w=Ub();(je!==r||ve!==a)&&(kd=null,Nu(r,a)),a=!1;var I=an;t:do try{if(Ie!==0&&ue!==null){var z=ue,Q=lr;switch(Ie){case 8:Wg(),I=6;break t;case 3:case 2:case 9:case 6:Dr.current===null&&(a=!0);var ft=Ie;if(Ie=0,lr=null,Vu(r,z,Q,ft),u&&Mu){I=0;break t}break;default:ft=Ie,Ie=0,lr=null,Vu(r,z,Q,ft)}}$M(),I=an;break}catch(_t){Vb(r,_t)}while(!0);return a&&r.shellSuspendCounter++,is=Mr=null,Ce=f,et.H=_,et.A=w,ue===null&&(je=null,ve=0,El()),I}function $M(){for(;ue!==null;)Bb(ue)}function YM(r,a){var u=Ce;Ce|=2;var f=zb(),_=Ub();je!==r||ve!==a?(kd=null,Pd=kn()+500,Nu(r,a)):Mu=vn(r,a);t:do try{if(Ie!==0&&ue!==null){a=ue;var w=lr;e:switch(Ie){case 1:Ie=0,lr=null,Vu(r,a,w,1);break;case 2:case 9:if(Qw(w)){Ie=0,lr=null,jb(a);break}a=function(){Ie!==2&&Ie!==9||je!==r||(Ie=7),Ls(r)},w.then(a,a);break t;case 3:Ie=7;break t;case 4:Ie=5;break t;case 7:Qw(w)?(Ie=0,lr=null,jb(a)):(Ie=0,lr=null,Vu(r,a,w,7));break;case 5:var I=null;switch(ue.tag){case 26:I=ue.memoizedState;case 5:case 27:var z=ue;if(!I||bE(I)){Ie=0,lr=null;var Q=z.sibling;if(Q!==null)ue=Q;else{var ft=z.return;ft!==null?(ue=ft,Dd(ft)):ue=null}break e}}Ie=0,lr=null,Vu(r,a,w,5);break;case 6:Ie=0,lr=null,Vu(r,a,w,6);break;case 8:Wg(),an=6;break t;default:throw Error(i(462))}}XM();break}catch(_t){Vb(r,_t)}while(!0);return is=Mr=null,et.H=f,et.A=_,Ce=u,ue!==null?0:(je=null,ve=0,El(),an)}function XM(){for(;ue!==null&&!Hr();)Bb(ue)}function Bb(r){var a=db(r.alternate,r,ba);r.memoizedProps=r.pendingProps,a===null?Dd(r):ue=a}function jb(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=ob(u,a,a.pendingProps,a.type,void 0,ve);break;case 11:a=ob(u,a,a.pendingProps,a.type.render,a.ref,ve);break;case 5:cg(a);default:mb(u,a),a=ue=Fc(a,ba),a=db(u,a,ba)}r.memoizedProps=r.pendingProps,a===null?Dd(r):ue=a}function Vu(r,a,u,f){is=Mr=null,cg(a),Cu=null,eh=0;var _=a.return;try{if(BM(r,_,a,u,ve)){an=1,Sd(r,Ai(u,r.current)),ue=null;return}}catch(w){if(_!==null)throw ue=_,w;an=1,Sd(r,Ai(u,r.current)),ue=null;return}a.flags&32768?(Xt||f===1?r=!0:Mu||(ve&536870912)!==0?r=!1:(yo=r=!0,(f===2||f===9||f===3||f===6)&&(f=Dr.current,f!==null&&f.tag===13&&(f.flags|=16384))),Fb(a,r)):Dd(a)}function Dd(r){var a=r;do{if((a.flags&32768)!==0){Fb(a,yo);return}r=a.return;var u=FM(a.alternate,a,ba);if(u!==null){ue=u;return}if(a=a.sibling,a!==null){ue=a;return}ue=a=r}while(a!==null);an===0&&(an=5)}function Fb(r,a){do{var u=HM(r.alternate,r);if(u!==null){u.flags&=32767,ue=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){ue=r;return}ue=r=u}while(r!==null);an=6,ue=null}function Hb(r,a,u,f,_,w,I,z,Q){r.cancelPendingCommit=null;do Od();while(ni!==0);if((Ce&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(w=a.lanes|a.childLanes,w|=sr,ol(r,u,w,I,z,Q),r===je&&(ue=je=null,ve=0),Ou=a,wo=r,Lu=u,qg=w,Gg=_,Db=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,eD(Zi,function(){return Kb(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=et.T,et.T=null,_=rt.p,rt.p=2,I=Ce,Ce|=4;try{qM(r,a,u)}finally{Ce=I,rt.p=_,et.T=f}}ni=1,qb(),Gb(),Zb()}}function qb(){if(ni===1){ni=0;var r=wo,a=Ou,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=et.T,et.T=null;var f=rt.p;rt.p=2;var _=Ce;Ce|=4;try{Ab(a,r);var w=oy,I=wl(r.containerInfo),z=w.focusedElem,Q=w.selectionRange;if(I!==z&&z&&z.ownerDocument&&pu(z.ownerDocument.documentElement,z)){if(Q!==null&&Tl(z)){var ft=Q.start,_t=Q.end;if(_t===void 0&&(_t=ft),"selectionStart"in z)z.selectionStart=ft,z.selectionEnd=Math.min(_t,z.value.length);else{var Et=z.ownerDocument||document,dt=Et&&Et.defaultView||window;if(dt.getSelection){var pt=dt.getSelection(),$t=z.textContent.length,qt=Math.min(Q.start,$t),De=Q.end===void 0?qt:Math.min(Q.end,$t);!pt.extend&&qt>De&&(I=De,De=qt,qt=I);var at=Bc(z,qt),nt=Bc(z,De);if(at&&nt&&(pt.rangeCount!==1||pt.anchorNode!==at.node||pt.anchorOffset!==at.offset||pt.focusNode!==nt.node||pt.focusOffset!==nt.offset)){var ct=Et.createRange();ct.setStart(at.node,at.offset),pt.removeAllRanges(),qt>De?(pt.addRange(ct),pt.extend(nt.node,nt.offset)):(ct.setEnd(nt.node,nt.offset),pt.addRange(ct))}}}}for(Et=[],pt=z;pt=pt.parentNode;)pt.nodeType===1&&Et.push({element:pt,left:pt.scrollLeft,top:pt.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Et.length;z++){var vt=Et[z];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}Zd=!!ay,oy=ay=null}finally{Ce=_,rt.p=f,et.T=u}}r.current=a,ni=2}}function Gb(){if(ni===2){ni=0;var r=wo,a=Ou,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=et.T,et.T=null;var f=rt.p;rt.p=2;var _=Ce;Ce|=4;try{bb(r,a.alternate,a)}finally{Ce=_,rt.p=f,et.T=u}}ni=3}}function Zb(){if(ni===4||ni===3){ni=0,ms();var r=wo,a=Ou,u=Lu,f=Db;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ni=5:(ni=0,Ou=wo=null,Wb(r,r.pendingLanes));var _=r.pendingLanes;if(_===0&&(vo=null),Va(u),a=a.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(gt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=et.T,_=rt.p,rt.p=2,et.T=null;try{for(var w=r.onRecoverableError,I=0;I<f.length;I++){var z=f[I];w(z.value,{componentStack:z.stack})}}finally{et.T=a,rt.p=_}}(Lu&3)!==0&&Od(),Ls(r),_=r.pendingLanes,(u&4194090)!==0&&(_&42)!==0?r===Zg?ch++:(ch=0,Zg=r):ch=0,hh(0)}}function Wb(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,qc(a)))}function Od(r){return qb(),Gb(),Zb(),Kb()}function Kb(){if(ni!==5)return!1;var r=wo,a=qg;qg=0;var u=Va(Lu),f=et.T,_=rt.p;try{rt.p=32>u?32:u,et.T=null,u=Gg,Gg=null;var w=wo,I=Lu;if(ni=0,Ou=wo=null,Lu=0,(Ce&6)!==0)throw Error(i(331));var z=Ce;if(Ce|=4,kb(w.current),Cb(w,w.current,I,u),Ce=z,hh(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(gt,w)}catch{}return!0}finally{rt.p=_,et.T=f,Wb(r,a)}}function $b(r,a,u){a=Ai(u,a),a=Sg(r.stateNode,a,2),r=uo(r,a,2),r!==null&&(_r(r,2),Ls(r))}function Le(r,a,u){if(r.tag===3)$b(r,r,u);else for(;a!==null;){if(a.tag===3){$b(a,r,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(vo===null||!vo.has(f))){r=Ai(u,r),u=JT(2),f=uo(a,u,2),f!==null&&(tb(u,f,a,r),_r(f,2),Ls(f));break}}a=a.return}}function Yg(r,a,u){var f=r.pingCache;if(f===null){f=r.pingCache=new WM;var _=new Set;f.set(a,_)}else _=f.get(a),_===void 0&&(_=new Set,f.set(a,_));_.has(u)||(Bg=!0,_.add(u),r=QM.bind(null,r,a,u),a.then(r,r))}function QM(r,a,u){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,je===r&&(ve&u)===u&&(an===4||an===3&&(ve&62914560)===ve&&300>kn()-Hg?(Ce&2)===0&&Nu(r,0):jg|=u,Du===ve&&(Du=0)),Ls(r)}function Yb(r,a){a===0&&(a=Na()),r=io(r,a),r!==null&&(_r(r,a),Ls(r))}function JM(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),Yb(r,u)}function tD(r,a){var u=0;switch(r.tag){case 13:var f=r.stateNode,_=r.memoizedState;_!==null&&(u=_.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),Yb(r,u)}function eD(r,a){return Gi(r,a)}var Ld=null,zu=null,Xg=!1,Nd=!1,Qg=!1,Nl=0;function Ls(r){r!==zu&&r.next===null&&(zu===null?Ld=zu=r:zu=zu.next=r),Nd=!0,Xg||(Xg=!0,iD())}function hh(r,a){if(!Qg&&Nd){Qg=!0;do for(var u=!1,f=Ld;f!==null;){if(r!==0){var _=f.pendingLanes;if(_===0)var w=0;else{var I=f.suspendedLanes,z=f.pingedLanes;w=(1<<31-Ft(42|r)+1)-1,w&=_&~(I&~z),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,tE(f,w))}else w=ve,w=nn(f,f===je?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||vn(f,w)||(u=!0,tE(f,w));f=f.next}while(u);Qg=!1}}function nD(){Xb()}function Xb(){Nd=Xg=!1;var r=0;Nl!==0&&(hD()&&(r=Nl),Nl=0);for(var a=kn(),u=null,f=Ld;f!==null;){var _=f.next,w=Qb(f,a);w===0?(f.next=null,u===null?Ld=_:u.next=_,_===null&&(zu=u)):(u=f,(r!==0||(w&3)!==0)&&(Nd=!0)),f=_}hh(r)}function Qb(r,a){for(var u=r.suspendedLanes,f=r.pingedLanes,_=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var I=31-Ft(w),z=1<<I,Q=_[I];Q===-1?((z&u)===0||(z&f)!==0)&&(_[I]=Xn(z,a)):Q<=a&&(r.expiredLanes|=z),w&=~z}if(a=je,u=ve,u=nn(r,r===a?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===a&&(Ie===2||Ie===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Fr(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||vn(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(f!==null&&Fr(f),Va(u)){case 2:case 8:u=gr;break;case 32:u=Zi;break;case 268435456:u=qr;break;default:u=Zi}return f=Jb.bind(null,r),u=Gi(u,f),r.callbackPriority=a,r.callbackNode=u,a}return f!==null&&f!==null&&Fr(f),r.callbackPriority=2,r.callbackNode=null,2}function Jb(r,a){if(ni!==0&&ni!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Od()&&r.callbackNode!==u)return null;var f=ve;return f=nn(r,r===je?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(Lb(r,f,a),Qb(r,kn()),r.callbackNode!=null&&r.callbackNode===u?Jb.bind(null,r):null)}function tE(r,a){if(Od())return null;Lb(r,a,!0)}function iD(){dD(function(){(Ce&6)!==0?Gi(ys,nD):Xb()})}function Jg(){return Nl===0&&(Nl=al()),Nl}function eE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:xs(""+r)}function nE(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function rD(r,a,u,f,_){if(a==="submit"&&u&&u.stateNode===_){var w=eE((_[rn]||null).action),I=f.submitter;I&&(a=(a=I[rn]||null)?eE(a.formAction):I.getAttribute("formAction"),a!==null&&(w=a,I=null));var z=new aa("action","action",null,f,_);r.push({event:z,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Nl!==0){var Q=I?nE(_,I):new FormData(_);vg(u,{pending:!0,data:Q,method:_.method,action:w},null,Q)}}else typeof w=="function"&&(z.preventDefault(),Q=I?nE(_,I):new FormData(_),vg(u,{pending:!0,data:Q,method:_.method,action:w},w,Q))},currentTarget:_}]})}}for(var ty=0;ty<ha.length;ty++){var ey=ha[ty],sD=ey.toLowerCase(),aD=ey[0].toUpperCase()+ey.slice(1);rr(sD,"on"+aD)}rr(td,"onAnimationEnd"),rr(ir,"onAnimationIteration"),rr(bl,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(Km,"onTransitionRun"),rr(_u,"onTransitionStart"),rr($m,"onTransitionCancel"),rr(jc,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fh));function iE(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],_=f.event;f=f.listeners;t:{var w=void 0;if(a)for(var I=f.length-1;0<=I;I--){var z=f[I],Q=z.instance,ft=z.currentTarget;if(z=z.listener,Q!==w&&_.isPropagationStopped())break t;w=z,_.currentTarget=ft;try{w(_)}catch(_t){Ed(_t)}_.currentTarget=null,w=Q}else for(I=0;I<f.length;I++){if(z=f[I],Q=z.instance,ft=z.currentTarget,z=z.listener,Q!==w&&_.isPropagationStopped())break t;w=z,_.currentTarget=ft;try{w(_)}catch(_t){Ed(_t)}_.currentTarget=null,w=Q}}}}function ce(r,a){var u=a[li];u===void 0&&(u=a[li]=new Set);var f=r+"__bubble";u.has(f)||(rE(a,r,2,!1),u.add(f))}function ny(r,a,u){var f=0;a&&(f|=4),rE(u,r,f,a)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function iy(r){if(!r[Vd]){r[Vd]=!0,cl.forEach(function(u){u!=="selectionchange"&&(oD.has(u)||ny(u,!1,r),ny(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Vd]||(a[Vd]=!0,ny("selectionchange",!1,a))}}function rE(r,a,u,f){switch(CE(a)){case 2:var _=OD;break;case 8:_=LD;break;default:_=yy}u=_.bind(null,a,u,r),_=void 0,!ui||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(_=!0),f?_!==void 0?r.addEventListener(a,u,{capture:!0,passive:_}):r.addEventListener(a,u,!0):_!==void 0?r.addEventListener(a,u,{passive:_}):r.addEventListener(a,u,!1)}function ry(r,a,u,f,_){var w=f;if((a&1)===0&&(a&2)===0&&f!==null)t:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var z=f.stateNode.containerInfo;if(z===_)break;if(I===4)for(I=f.return;I!==null;){var Q=I.tag;if((Q===3||Q===4)&&I.stateNode.containerInfo===_)return;I=I.return}for(;z!==null;){if(I=Wi(z),I===null)return;if(Q=I.tag,Q===5||Q===6||Q===26||Q===27){f=w=I;continue t}z=z.parentNode}}f=f.return}Ei(function(){var ft=w,_t=ti(u),Et=[];t:{var dt=ed.get(r);if(dt!==void 0){var pt=aa,$t=r;switch(r){case"keypress":if(Pe(u)===0)break t;case"keydown":case"keyup":pt=Ka;break;case"focusin":$t="focus",pt=Ha;break;case"focusout":$t="blur",pt=Ha;break;case"beforeblur":case"afterblur":pt=Ha;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=cu;break;case td:case ir:case bl:pt=Ga;break;case jc:pt=hu;break;case"scroll":case"scrollend":pt=lu;break;case"wheel":pt=ua;break;case"copy":case"cut":case"paste":pt=As;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=$a;break;case"toggle":case"beforetoggle":pt=Rr}var qt=(a&4)!==0,De=!qt&&(r==="scroll"||r==="scrollend"),at=qt?dt!==null?dt+"Capture":null:dt;qt=[];for(var nt=ft,ct;nt!==null;){var vt=nt;if(ct=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||ct===null||at===null||(vt=_e(nt,at),vt!=null&&qt.push(dh(nt,vt,ct))),De)break;nt=nt.return}0<qt.length&&(dt=new pt(dt,$t,null,u,_t),Et.push({event:dt,listeners:qt}))}}if((a&7)===0){t:{if(dt=r==="mouseover"||r==="pointerover",pt=r==="mouseout"||r==="pointerout",dt&&u!==Qi&&($t=u.relatedTarget||u.fromElement)&&(Wi($t)||$t[Mi]))break t;if((pt||dt)&&(dt=_t.window===_t?_t:(dt=_t.ownerDocument)?dt.defaultView||dt.parentWindow:window,pt?($t=u.relatedTarget||u.toElement,pt=ft,$t=$t?Wi($t):null,$t!==null&&(De=l($t),qt=$t.tag,$t!==De||qt!==5&&qt!==27&&qt!==6)&&($t=null)):(pt=null,$t=ft),pt!==$t)){if(qt=Hn,vt="onMouseLeave",at="onMouseEnter",nt="mouse",(r==="pointerout"||r==="pointerover")&&(qt=$a,vt="onPointerLeave",at="onPointerEnter",nt="pointer"),De=pt==null?dt:Qn(pt),ct=$t==null?dt:Qn($t),dt=new qt(vt,nt+"leave",pt,u,_t),dt.target=De,dt.relatedTarget=ct,vt=null,Wi(_t)===ft&&(qt=new qt(at,nt+"enter",$t,u,_t),qt.target=ct,qt.relatedTarget=De,vt=qt),De=vt,pt&&$t)e:{for(qt=pt,at=$t,nt=0,ct=qt;ct;ct=Uu(ct))nt++;for(ct=0,vt=at;vt;vt=Uu(vt))ct++;for(;0<nt-ct;)qt=Uu(qt),nt--;for(;0<ct-nt;)at=Uu(at),ct--;for(;nt--;){if(qt===at||at!==null&&qt===at.alternate)break e;qt=Uu(qt),at=Uu(at)}qt=null}else qt=null;pt!==null&&sE(Et,dt,pt,qt,!1),$t!==null&&De!==null&&sE(Et,De,$t,qt,!0)}}t:{if(dt=ft?Qn(ft):window,pt=dt.nodeName&&dt.nodeName.toLowerCase(),pt==="select"||pt==="input"&&dt.type==="file")var Nt=Xa;else if(Ue(dt))if(Vc)Nt=Wm;else{Nt=Zm;var le=Uc}else pt=dt.nodeName,!pt||pt.toLowerCase()!=="input"||dt.type!=="checkbox"&&dt.type!=="radio"?ft&&sa(ft.elementType)&&(Nt=Xa):Nt=ns;if(Nt&&(Nt=Nt(r,ft))){ts(Et,Nt,u,_t);break t}le&&le(r,dt,ft),r==="focusout"&&ft&&dt.type==="number"&&ft.memoizedProps.value!=null&&Yi(dt,"number",dt.value)}switch(le=ft?Qn(ft):window,r){case"focusin":(Ue(le)||le.contentEditable==="true")&&(nr=le,to=ft,ca=null);break;case"focusout":ca=to=nr=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,Qf(Et,u,_t);break;case"selectionchange":if(mu)break;case"keydown":case"keyup":Qf(Et,u,_t)}var Bt;if(fi)t:{switch(r){case"compositionstart":var Gt="onCompositionStart";break t;case"compositionend":Gt="onCompositionEnd";break t;case"compositionupdate":Gt="onCompositionUpdate";break t}Gt=void 0}else he?yt(r,u)&&(Gt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Gt="onCompositionStart");Gt&&(C&&u.locale!=="ko"&&(he||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&he&&(Bt=Yr()):(Oi=_t,ci="value"in Oi?Oi.value:Oi.textContent,he=!0)),le=zd(ft,Gt),0<le.length&&(Gt=new hi(Gt,r,null,u,_t),Et.push({event:Gt,listeners:le}),Bt?Gt.data=Bt:(Bt=It(u),Bt!==null&&(Gt.data=Bt)))),(Bt=S?sn(r,u):fe(r,u))&&(Gt=zd(ft,"onBeforeInput"),0<Gt.length&&(le=new hi("onBeforeInput","beforeinput",null,u,_t),Et.push({event:le,listeners:Gt}),le.data=Bt)),rD(Et,r,ft,u,_t)}iE(Et,a)})}function dh(r,a,u){return{instance:r,listener:a,currentTarget:u}}function zd(r,a){for(var u=a+"Capture",f=[];r!==null;){var _=r,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=_e(r,u),_!=null&&f.unshift(dh(r,_,w)),_=_e(r,a),_!=null&&f.push(dh(r,_,w))),r.tag===3)return f;r=r.return}return[]}function Uu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function sE(r,a,u,f,_){for(var w=a._reactName,I=[];u!==null&&u!==f;){var z=u,Q=z.alternate,ft=z.stateNode;if(z=z.tag,Q!==null&&Q===f)break;z!==5&&z!==26&&z!==27||ft===null||(Q=ft,_?(ft=_e(u,w),ft!=null&&I.unshift(dh(u,ft,Q))):_||(ft=_e(u,w),ft!=null&&I.push(dh(u,ft,Q)))),u=u.return}I.length!==0&&r.push({event:a,listeners:I})}var lD=/\r\n?/g,uD=/\u0000|\uFFFD/g;function aE(r){return(typeof r=="string"?r:""+r).replace(lD,`
`).replace(uD,"")}function oE(r,a){return a=aE(a),aE(r)===a}function Ud(){}function Me(r,a,u,f,_,w){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||jn(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&jn(r,""+f);break;case"className":Tr(r,"class",f);break;case"tabIndex":Tr(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(r,u,f);break;case"style":Kr(r,f,w);break;case"data":if(a!=="object"){Tr(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=xs(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(a!=="input"&&Me(r,a,"name",_.name,_,null),Me(r,a,"formEncType",_.formEncType,_,null),Me(r,a,"formMethod",_.formMethod,_,null),Me(r,a,"formTarget",_.formTarget,_,null)):(Me(r,a,"encType",_.encType,_,null),Me(r,a,"method",_.method,_,null),Me(r,a,"target",_.target,_,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=xs(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=Ud);break;case"onScroll":f!=null&&ce("scroll",r);break;case"onScrollEnd":f!=null&&ce("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=xs(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":ce("beforetoggle",r),ce("toggle",r),Ts(r,"popover",f);break;case"xlinkActuate":Mn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Mn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Mn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Mn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Mn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Mn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ts(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=fl.get(u)||u,Ts(r,u,f))}}function sy(r,a,u,f,_,w){switch(u){case"style":Kr(r,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof f=="string"?jn(r,f):(typeof f=="number"||typeof f=="bigint")&&jn(r,""+f);break;case"onScroll":f!=null&&ce("scroll",r);break;case"onScrollEnd":f!=null&&ce("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Ud);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),a=u.slice(2,_?u.length-7:void 0),w=r[rn]||null,w=w!=null?w[u]:null,typeof w=="function"&&r.removeEventListener(a,w,_),typeof f=="function")){typeof w!="function"&&w!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,f,_);break t}u in r?r[u]=f:f===!0?r.setAttribute(u,""):Ts(r,u,f)}}}function ii(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",r),ce("load",r);var f=!1,_=!1,w;for(w in u)if(u.hasOwnProperty(w)){var I=u[w];if(I!=null)switch(w){case"src":f=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Me(r,a,w,I,u,null)}}_&&Me(r,a,"srcSet",u.srcSet,u,null),f&&Me(r,a,"src",u.src,u,null);return;case"input":ce("invalid",r);var z=w=I=_=null,Q=null,ft=null;for(f in u)if(u.hasOwnProperty(f)){var _t=u[f];if(_t!=null)switch(f){case"name":_=_t;break;case"type":I=_t;break;case"checked":Q=_t;break;case"defaultChecked":ft=_t;break;case"value":w=_t;break;case"defaultValue":z=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(i(137,a));break;default:Me(r,a,f,_t,u,null)}}ra(r,w,z,Q,ft,I,_,!1),Ss(r);return;case"select":ce("invalid",r),f=I=w=null;for(_ in u)if(u.hasOwnProperty(_)&&(z=u[_],z!=null))switch(_){case"value":w=z;break;case"defaultValue":I=z;break;case"multiple":f=z;default:Me(r,a,_,z,u,null)}a=w,u=I,r.multiple=!!f,a!=null?Jn(r,!!f,a,!1):u!=null&&Jn(r,!!f,u,!0);return;case"textarea":ce("invalid",r),w=_=f=null;for(I in u)if(u.hasOwnProperty(I)&&(z=u[I],z!=null))switch(I){case"value":f=z;break;case"defaultValue":_=z;break;case"children":w=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:Me(r,a,I,z,u,null)}bi(r,f,_,w),Ss(r);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(f=u[Q],f!=null))switch(Q){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Me(r,a,Q,f,u,null)}return;case"dialog":ce("beforetoggle",r),ce("toggle",r),ce("cancel",r),ce("close",r);break;case"iframe":case"object":ce("load",r);break;case"video":case"audio":for(f=0;f<fh.length;f++)ce(fh[f],r);break;case"image":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"embed":case"source":case"link":ce("error",r),ce("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ft in u)if(u.hasOwnProperty(ft)&&(f=u[ft],f!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Me(r,a,ft,f,u,null)}return;default:if(sa(a)){for(_t in u)u.hasOwnProperty(_t)&&(f=u[_t],f!==void 0&&sy(r,a,_t,f,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(f=u[z],f!=null&&Me(r,a,z,f,u,null))}function cD(r,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,I=null,z=null,Q=null,ft=null,_t=null;for(pt in u){var Et=u[pt];if(u.hasOwnProperty(pt)&&Et!=null)switch(pt){case"checked":break;case"value":break;case"defaultValue":Q=Et;default:f.hasOwnProperty(pt)||Me(r,a,pt,null,f,Et)}}for(var dt in f){var pt=f[dt];if(Et=u[dt],f.hasOwnProperty(dt)&&(pt!=null||Et!=null))switch(dt){case"type":w=pt;break;case"name":_=pt;break;case"checked":ft=pt;break;case"defaultChecked":_t=pt;break;case"value":I=pt;break;case"defaultValue":z=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(i(137,a));break;default:pt!==Et&&Me(r,a,dt,pt,f,Et)}}ze(r,I,z,Q,ft,_t,w,_);return;case"select":pt=I=z=dt=null;for(w in u)if(Q=u[w],u.hasOwnProperty(w)&&Q!=null)switch(w){case"value":break;case"multiple":pt=Q;default:f.hasOwnProperty(w)||Me(r,a,w,null,f,Q)}for(_ in f)if(w=f[_],Q=u[_],f.hasOwnProperty(_)&&(w!=null||Q!=null))switch(_){case"value":dt=w;break;case"defaultValue":z=w;break;case"multiple":I=w;default:w!==Q&&Me(r,a,_,w,f,Q)}a=z,u=I,f=pt,dt!=null?Jn(r,!!u,dt,!1):!!f!=!!u&&(a!=null?Jn(r,!!u,a,!0):Jn(r,!!u,u?[]:"",!1));return;case"textarea":pt=dt=null;for(z in u)if(_=u[z],u.hasOwnProperty(z)&&_!=null&&!f.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Me(r,a,z,null,f,_)}for(I in f)if(_=f[I],w=u[I],f.hasOwnProperty(I)&&(_!=null||w!=null))switch(I){case"value":dt=_;break;case"defaultValue":pt=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==w&&Me(r,a,I,_,f,w)}Zt(r,dt,pt);return;case"option":for(var $t in u)if(dt=u[$t],u.hasOwnProperty($t)&&dt!=null&&!f.hasOwnProperty($t))switch($t){case"selected":r.selected=!1;break;default:Me(r,a,$t,null,f,dt)}for(Q in f)if(dt=f[Q],pt=u[Q],f.hasOwnProperty(Q)&&dt!==pt&&(dt!=null||pt!=null))switch(Q){case"selected":r.selected=dt&&typeof dt!="function"&&typeof dt!="symbol";break;default:Me(r,a,Q,dt,f,pt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in u)dt=u[qt],u.hasOwnProperty(qt)&&dt!=null&&!f.hasOwnProperty(qt)&&Me(r,a,qt,null,f,dt);for(ft in f)if(dt=f[ft],pt=u[ft],f.hasOwnProperty(ft)&&dt!==pt&&(dt!=null||pt!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(i(137,a));break;default:Me(r,a,ft,dt,f,pt)}return;default:if(sa(a)){for(var De in u)dt=u[De],u.hasOwnProperty(De)&&dt!==void 0&&!f.hasOwnProperty(De)&&sy(r,a,De,void 0,f,dt);for(_t in f)dt=f[_t],pt=u[_t],!f.hasOwnProperty(_t)||dt===pt||dt===void 0&&pt===void 0||sy(r,a,_t,dt,f,pt);return}}for(var at in u)dt=u[at],u.hasOwnProperty(at)&&dt!=null&&!f.hasOwnProperty(at)&&Me(r,a,at,null,f,dt);for(Et in f)dt=f[Et],pt=u[Et],!f.hasOwnProperty(Et)||dt===pt||dt==null&&pt==null||Me(r,a,Et,dt,f,pt)}var ay=null,oy=null;function Bd(r){return r.nodeType===9?r:r.ownerDocument}function lE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function ly(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var uy=null;function hD(){var r=window.event;return r&&r.type==="popstate"?r===uy?!1:(uy=r,!0):(uy=null,!1)}var cE=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0,hE=typeof Promise=="function"?Promise:void 0,dD=typeof queueMicrotask=="function"?queueMicrotask:typeof hE<"u"?function(r){return hE.resolve(null).then(r).catch(pD)}:cE;function pD(r){setTimeout(function(){throw r})}function bo(r){return r==="head"}function fE(r,a){var u=a,f=0,_=0;do{var w=u.nextSibling;if(r.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<f&&8>f){u=f;var I=r.ownerDocument;if(u&1&&ph(I.documentElement),u&2&&ph(I.body),u&4)for(u=I.head,ph(u),I=u.firstChild;I;){var z=I.nextSibling,Q=I.nodeName;I[ws]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&I.rel.toLowerCase()==="stylesheet"||u.removeChild(I),I=z}}if(_===0){r.removeChild(w),bh(a);return}_--}else u==="$"||u==="$?"||u==="$!"?_++:f=u.charCodeAt(0)-48;else f=0;u=w}while(u);bh(a)}function cy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":cy(u),Zr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function mD(r,a,u,f){for(;r.nodeType===1;){var _=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[ws])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==_.rel||r.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||r.getAttribute("title")!==(_.title==null?null:_.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(_.src==null?null:_.src)||r.getAttribute("type")!==(_.type==null?null:_.type)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=as(r.nextSibling),r===null)break}return null}function gD(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=as(r.nextSibling),r===null))return null;return r}function hy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function yD(r,a){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function as(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var fy=null;function dE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return r;a--}else u==="/$"&&a++}r=r.previousSibling}return null}function pE(r,a,u){switch(a=Bd(u),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function ph(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Zr(r)}var Lr=new Map,mE=new Set;function jd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ea=rt.d;rt.d={f:_D,r:vD,D:wD,C:TD,L:bD,m:ED,X:xD,S:SD,M:AD};function _D(){var r=Ea.f(),a=Md();return r||a}function vD(r){var a=Ki(r);a!==null&&a.tag===5&&a.type==="form"?LT(a):Ea.r(r)}var Bu=typeof document>"u"?null:document;function gE(r,a,u){var f=Bu;if(f&&typeof a=="string"&&a){var _=Ge(a);_='link[rel="'+r+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),mE.has(_)||(mE.add(_),r={rel:r,crossOrigin:u,href:a},f.querySelector(_)===null&&(a=f.createElement("link"),ii(a,"link",r),Xe(a),f.head.appendChild(a)))}}function wD(r){Ea.D(r),gE("dns-prefetch",r,null)}function TD(r,a){Ea.C(r,a),gE("preconnect",r,a)}function bD(r,a,u){Ea.L(r,a,u);var f=Bu;if(f&&r&&a){var _='link[rel="preload"][as="'+Ge(a)+'"]';a==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+Ge(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+Ge(u.imageSizes)+'"]')):_+='[href="'+Ge(r)+'"]';var w=_;switch(a){case"style":w=ju(r);break;case"script":w=Fu(r)}Lr.has(w)||(r=v({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),Lr.set(w,r),f.querySelector(_)!==null||a==="style"&&f.querySelector(mh(w))||a==="script"&&f.querySelector(gh(w))||(a=f.createElement("link"),ii(a,"link",r),Xe(a),f.head.appendChild(a)))}}function ED(r,a){Ea.m(r,a);var u=Bu;if(u&&r){var f=a&&typeof a.as=="string"?a.as:"script",_='link[rel="modulepreload"][as="'+Ge(f)+'"][href="'+Ge(r)+'"]',w=_;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Fu(r)}if(!Lr.has(w)&&(r=v({rel:"modulepreload",href:r},a),Lr.set(w,r),u.querySelector(_)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(gh(w)))return}f=u.createElement("link"),ii(f,"link",r),Xe(f),u.head.appendChild(f)}}}function SD(r,a,u){Ea.S(r,a,u);var f=Bu;if(f&&r){var _=Bn(f).hoistableStyles,w=ju(r);a=a||"default";var I=_.get(w);if(!I){var z={loading:0,preload:null};if(I=f.querySelector(mh(w)))z.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},u),(u=Lr.get(w))&&dy(r,u);var Q=I=f.createElement("link");Xe(Q),ii(Q,"link",r),Q._p=new Promise(function(ft,_t){Q.onload=ft,Q.onerror=_t}),Q.addEventListener("load",function(){z.loading|=1}),Q.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Fd(I,a,f)}I={type:"stylesheet",instance:I,count:1,state:z},_.set(w,I)}}}function xD(r,a){Ea.X(r,a);var u=Bu;if(u&&r){var f=Bn(u).hoistableScripts,_=Fu(r),w=f.get(_);w||(w=u.querySelector(gh(_)),w||(r=v({src:r,async:!0},a),(a=Lr.get(_))&&py(r,a),w=u.createElement("script"),Xe(w),ii(w,"link",r),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(_,w))}}function AD(r,a){Ea.M(r,a);var u=Bu;if(u&&r){var f=Bn(u).hoistableScripts,_=Fu(r),w=f.get(_);w||(w=u.querySelector(gh(_)),w||(r=v({src:r,async:!0,type:"module"},a),(a=Lr.get(_))&&py(r,a),w=u.createElement("script"),Xe(w),ii(w,"link",r),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(_,w))}}function yE(r,a,u,f){var _=(_=At.current)?jd(_):null;if(!_)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=ju(u.href),u=Bn(_).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=ju(u.href);var w=Bn(_).hoistableStyles,I=w.get(r);if(I||(_=_.ownerDocument||_,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,I),(w=_.querySelector(mh(r)))&&!w._p&&(I.instance=w,I.state.loading=5),Lr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Lr.set(r,u),w||RD(_,r,u,I.state))),a&&f===null)throw Error(i(528,""));return I}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Fu(u),u=Bn(_).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ju(r){return'href="'+Ge(r)+'"'}function mh(r){return'link[rel="stylesheet"]['+r+"]"}function _E(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function RD(r,a,u,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),ii(a,"link",u),Xe(a),r.head.appendChild(a))}function Fu(r){return'[src="'+Ge(r)+'"]'}function gh(r){return"script[async]"+r}function vE(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+Ge(u.href)+'"]');if(f)return a.instance=f,Xe(f),f;var _=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Xe(f),ii(f,"style",_),Fd(f,u.precedence,r),a.instance=f;case"stylesheet":_=ju(u.href);var w=r.querySelector(mh(_));if(w)return a.state.loading|=4,a.instance=w,Xe(w),w;f=_E(u),(_=Lr.get(_))&&dy(f,_),w=(r.ownerDocument||r).createElement("link"),Xe(w);var I=w;return I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),ii(w,"link",f),a.state.loading|=4,Fd(w,u.precedence,r),a.instance=w;case"script":return w=Fu(u.src),(_=r.querySelector(gh(w)))?(a.instance=_,Xe(_),_):(f=u,(_=Lr.get(w))&&(f=v({},u),py(f,_)),r=r.ownerDocument||r,_=r.createElement("script"),Xe(_),ii(_,"link",f),r.head.appendChild(_),a.instance=_);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Fd(f,u.precedence,r));return a.instance}function Fd(r,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=f.length?f[f.length-1]:null,w=_,I=0;I<f.length;I++){var z=f[I];if(z.dataset.precedence===a)w=z;else if(w!==_)break}w?w.parentNode.insertBefore(r,w.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function dy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function py(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Hd=null;function wE(r,a,u){if(Hd===null){var f=new Map,_=Hd=new Map;_.set(u,f)}else _=Hd,f=_.get(u),f||(f=new Map,_.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),_=0;_<u.length;_++){var w=u[_];if(!(w[ws]||w[cn]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(a)||"";I=r+I;var z=f.get(I);z?z.push(w):f.set(I,[w])}}return f}function TE(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function CD(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function bE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var yh=null;function ID(){}function PD(r,a,u){if(yh===null)throw Error(i(475));var f=yh;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var _=ju(u.href),w=r.querySelector(mh(_));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=qd.bind(f),r.then(f,f)),a.state.loading|=4,a.instance=w,Xe(w);return}w=r.ownerDocument||r,u=_E(u),(_=Lr.get(_))&&dy(u,_),w=w.createElement("link"),Xe(w);var I=w;I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),ii(w,"link",u),a.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=qd.bind(f),r.addEventListener("load",a),r.addEventListener("error",a))}}function kD(){if(yh===null)throw Error(i(475));var r=yh;return r.stylesheets&&r.count===0&&my(r,r.stylesheets),0<r.count?function(a){var u=setTimeout(function(){if(r.stylesheets&&my(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(u)}}:null}function qd(){if(this.count--,this.count===0){if(this.stylesheets)my(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Gd=null;function my(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Gd=new Map,a.forEach(MD,r),Gd=null,qd.call(r))}function MD(r,a){if(!(a.state.loading&4)){var u=Gd.get(r);if(u)var f=u.get(null);else{u=new Map,Gd.set(r,u);for(var _=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var I=_[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),f=I)}f&&u.set(null,f)}_=a.instance,I=_.getAttribute("data-precedence"),w=u.get(I)||f,w===f&&u.set(null,_),u.set(I,_),this.count++,f=qd.bind(this),_.addEventListener("load",f),_.addEventListener("error",f),w?w.parentNode.insertBefore(_,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(_,r.firstChild)),a.state.loading|=4}}var _h={$$typeof:Z,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function DD(r,a,u,f,_,w,I,z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=f,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function EE(r,a,u,f,_,w,I,z,Q,ft,_t,Et){return r=new DD(r,a,u,I,z,Q,ft,Et),a=1,w===!0&&(a|=24),w=Ci(3,null,null,a),r.current=w,w.stateNode=r,a=Ym(),a.refCount++,r.pooledCache=a,a.refCount++,w.memoizedState={element:f,isDehydrated:u,cache:a},tg(w),r}function SE(r){return r?(r=pa,r):pa}function xE(r,a,u,f,_,w){_=SE(_),f.context===null?f.context=_:f.pendingContext=_,f=lo(a),f.payload={element:u},w=w===void 0?null:w,w!==null&&(f.callback=w),u=uo(r,f,a),u!==null&&(cr(u,r,a),Kc(u,r,a))}function AE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function gy(r,a){AE(r,a),(r=r.alternate)&&AE(r,a)}function RE(r){if(r.tag===13){var a=io(r,67108864);a!==null&&cr(a,r,67108864),gy(r,67108864)}}var Zd=!0;function OD(r,a,u,f){var _=et.T;et.T=null;var w=rt.p;try{rt.p=2,yy(r,a,u,f)}finally{rt.p=w,et.T=_}}function LD(r,a,u,f){var _=et.T;et.T=null;var w=rt.p;try{rt.p=8,yy(r,a,u,f)}finally{rt.p=w,et.T=_}}function yy(r,a,u,f){if(Zd){var _=_y(f);if(_===null)ry(r,a,f,Wd,u),IE(r,f);else if(VD(_,r,a,u,f))f.stopPropagation();else if(IE(r,f),a&4&&-1<ND.indexOf(r)){for(;_!==null;){var w=Ki(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=_n(w.pendingLanes);if(I!==0){var z=w;for(z.pendingLanes|=2,z.entangledLanes|=2;I;){var Q=1<<31-Ft(I);z.entanglements[1]|=Q,I&=~Q}Ls(w),(Ce&6)===0&&(Pd=kn()+500,hh(0))}}break;case 13:z=io(w,2),z!==null&&cr(z,w,2),Md(),gy(w,2)}if(w=_y(f),w===null&&ry(r,a,f,Wd,u),w===_)break;_=w}_!==null&&f.stopPropagation()}else ry(r,a,f,null,u)}}function _y(r){return r=ti(r),vy(r)}var Wd=null;function vy(r){if(Wd=null,r=Wi(r),r!==null){var a=l(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=c(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Wd=r,null}function CE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gs()){case ys:return 2;case gr:return 8;case Zi:case Oa:return 32;case qr:return 268435456;default:return 32}default:return 32}}var wy=!1,Eo=null,So=null,xo=null,vh=new Map,wh=new Map,Ao=[],ND="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IE(r,a){switch(r){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":vh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(a.pointerId)}}function Th(r,a,u,f,_,w){return r===null||r.nativeEvent!==w?(r={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:w,targetContainers:[_]},a!==null&&(a=Ki(a),a!==null&&RE(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,_!==null&&a.indexOf(_)===-1&&a.push(_),r)}function VD(r,a,u,f,_){switch(a){case"focusin":return Eo=Th(Eo,r,a,u,f,_),!0;case"dragenter":return So=Th(So,r,a,u,f,_),!0;case"mouseover":return xo=Th(xo,r,a,u,f,_),!0;case"pointerover":var w=_.pointerId;return vh.set(w,Th(vh.get(w)||null,r,a,u,f,_)),!0;case"gotpointercapture":return w=_.pointerId,wh.set(w,Th(wh.get(w)||null,r,a,u,f,_)),!0}return!1}function PE(r){var a=Wi(r.target);if(a!==null){var u=l(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){r.blockedOn=a,za(r.priority,function(){if(u.tag===13){var f=ur();f=_s(f);var _=io(u,f);_!==null&&cr(_,u,f),gy(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Kd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=_y(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);Qi=f,u.target.dispatchEvent(f),Qi=null}else return a=Ki(u),a!==null&&RE(a),r.blockedOn=u,!1;a.shift()}return!0}function kE(r,a,u){Kd(r)&&u.delete(a)}function zD(){wy=!1,Eo!==null&&Kd(Eo)&&(Eo=null),So!==null&&Kd(So)&&(So=null),xo!==null&&Kd(xo)&&(xo=null),vh.forEach(kE),wh.forEach(kE)}function $d(r,a){r.blockedOn===a&&(r.blockedOn=null,wy||(wy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zD)))}var Yd=null;function ME(r){Yd!==r&&(Yd=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yd===r&&(Yd=null);for(var a=0;a<r.length;a+=3){var u=r[a],f=r[a+1],_=r[a+2];if(typeof f!="function"){if(vy(f||u)===null)continue;break}var w=Ki(u);w!==null&&(r.splice(a,3),a-=3,vg(w,{pending:!0,data:_,method:u.method,action:f},f,_))}}))}function bh(r){function a(Q){return $d(Q,r)}Eo!==null&&$d(Eo,r),So!==null&&$d(So,r),xo!==null&&$d(xo,r),vh.forEach(a),wh.forEach(a);for(var u=0;u<Ao.length;u++){var f=Ao[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Ao.length&&(u=Ao[0],u.blockedOn===null);)PE(u),u.blockedOn===null&&Ao.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var _=u[f],w=u[f+1],I=_[rn]||null;if(typeof w=="function")I||ME(u);else if(I){var z=null;if(w&&w.hasAttribute("formAction")){if(_=w,I=w[rn]||null)z=I.formAction;else if(vy(_)!==null)continue}else z=I.action;typeof z=="function"?u[f+1]=z:(u.splice(f,3),f-=3),ME(u)}}}function Ty(r){this._internalRoot=r}Xd.prototype.render=Ty.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,f=ur();xE(u,f,r,a,null,null)},Xd.prototype.unmount=Ty.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;xE(r.current,2,null,r,null,null),Md(),a[Mi]=null}};function Xd(r){this._internalRoot=r}Xd.prototype.unstable_scheduleHydration=function(r){if(r){var a=vs();r={blockedOn:null,target:r,priority:a};for(var u=0;u<Ao.length&&a!==0&&a<Ao[u].priority;u++);Ao.splice(u,0,r),u===0&&PE(r)}};var DE=t.version;if(DE!=="19.1.1")throw Error(i(527,DE,"19.1.1"));rt.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var UD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{gt=Qd.inject(UD),bt=Qd}catch{}}return Sh.createRoot=function(r,a){if(!s(r))throw Error(i(299));var u=!1,f="",_=$T,w=YT,I=XT,z=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(z=a.unstable_transitionCallbacks)),a=EE(r,1,!1,null,null,u,f,_,w,I,z,null),r[Mi]=a.current,iy(r),new Ty(a)},Sh.hydrateRoot=function(r,a,u){if(!s(r))throw Error(i(299));var f=!1,_="",w=$T,I=YT,z=XT,Q=null,ft=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks),u.formState!==void 0&&(ft=u.formState)),a=EE(r,1,!0,a,u??null,f,_,w,I,z,Q,ft),a.context=SE(null),u=a.current,f=ur(),f=_s(f),_=lo(f),_.callback=null,uo(u,_,f),u=f,a.current.lanes=u,_r(a,u),Ls(a),r[Mi]=a.current,iy(r),new Xd(a)},Sh.version="19.1.1",Sh}var HE;function KD(){if(HE)return Sy.exports;HE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sy.exports=WD(),Sy.exports}var $D=KD();const YD=hm($D);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qE="popstate";function XD(e={}){function t(i,s){let{pathname:l,search:c,hash:d}=i.location;return S_("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:ff(s)}return JD(t,n,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QD(){return Math.random().toString(36).substring(2,10)}function GE(e,t){return{usr:e.state,key:e.key,idx:t}}function S_(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?wc(t):t,state:n,key:t&&t.key||i||QD()}}function ff({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function wc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function JD(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let H=v(),F=H==null?null:H-m;m=H,p&&p({action:d,location:U.location,delta:F})}function E(H,F){d="PUSH";let K=S_(U.location,H,F);m=v()+1;let Z=GE(K,m),ot=U.createHref(K);try{c.pushState(Z,"",ot)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(ot)}l&&p&&p({action:d,location:U.location,delta:1})}function x(H,F){d="REPLACE";let K=S_(U.location,H,F);m=v();let Z=GE(K,m),ot=U.createHref(K);c.replaceState(Z,"",ot),l&&p&&p({action:d,location:U.location,delta:0})}function O(H){return tO(H)}let U={get action(){return d},get location(){return e(s,c)},listen(H){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(qE,T),p=H,()=>{s.removeEventListener(qE,T),p=null}},createHref(H){return t(s,H)},createURL:O,encodeLocation(H){let F=O(H);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:x,go(H){return c.go(H)}};return U}function tO(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$e(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:ff(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function XA(e,t,n="/"){return eO(e,t,n,!1)}function eO(e,t,n,i){let s=typeof t=="string"?wc(t):t,l=Ra(s.pathname||"/",n);if(l==null)return null;let c=QA(e);nO(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=dO(l);d=hO(c[p],m,i)}return d}function QA(e,t=[],n=[],i=""){let s=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&($e(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Aa([i,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&($e(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),QA(l.children,t,v,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:uO(m,l.index),routesMeta:v})};return e.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of JA(l.path))s(l,c,d)}),t}function JA(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=JA(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function nO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:cO(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var iO=/^:[\w-]+$/,rO=3,sO=2,aO=1,oO=10,lO=-2,ZE=e=>e==="*";function uO(e,t){let n=e.split("/"),i=n.length;return n.some(ZE)&&(i+=lO),t&&(i+=sO),n.filter(s=>!ZE(s)).reduce((s,l)=>s+(iO.test(l)?rO:l===""?aO:oO),i)}function cO(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function hO(e,t,n=!1){let{routesMeta:i}=e,s={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,v=l==="/"?t:t.slice(l.length)||"/",T=Lp({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),E=p.route;if(!T&&m&&n&&!i[i.length-1].route.index&&(T=Lp({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(s,T.params),c.push({params:s,pathname:Aa([l,T.pathname]),pathnameBase:yO(Aa([l,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(l=Aa([l,T.pathnameBase]))}return c}function Lp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=fO(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:T},E)=>{if(v==="*"){let O=d[E]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const x=d[E];return T&&!x?m[v]=void 0:m[v]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function fO(e,t=!1,n=!0){hs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function dO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ra(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function pO(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?wc(e):e;return{pathname:n?n.startsWith("/")?n:mO(n,t):t,search:_O(i),hash:vO(s)}}function mO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cy(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ov(e){let t=gO(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Lv(e,t,n,i=!1){let s;typeof e=="string"?s=wc(e):(s={...e},$e(!s.pathname||!s.pathname.includes("?"),Cy("?","pathname","search",s)),$e(!s.pathname||!s.pathname.includes("#"),Cy("#","pathname","hash",s)),$e(!s.search||!s.search.includes("#"),Cy("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let T=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),T-=1;s.pathname=E.join("/")}d=T>=0?t[T]:"/"}let p=pO(s,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Aa=e=>e.join("/").replace(/\/\/+/g,"/"),yO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_O=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var tR=["POST","PUT","PATCH","DELETE"];new Set(tR);var TO=["GET",...tR];new Set(TO);var Tc=Y.createContext(null);Tc.displayName="DataRouter";var fm=Y.createContext(null);fm.displayName="DataRouterState";Y.createContext(!1);var eR=Y.createContext({isTransitioning:!1});eR.displayName="ViewTransition";var bO=Y.createContext(new Map);bO.displayName="Fetchers";var EO=Y.createContext(null);EO.displayName="Await";var ps=Y.createContext(null);ps.displayName="Navigation";var Mf=Y.createContext(null);Mf.displayName="Location";var Qs=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Qs.displayName="Route";var Nv=Y.createContext(null);Nv.displayName="RouteError";function SO(e,{relative:t}={}){$e(bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=Y.useContext(ps),{hash:s,pathname:l,search:c}=Df(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Aa([n,l])),i.createHref({pathname:d,search:c,hash:s})}function bc(){return Y.useContext(Mf)!=null}function Jo(){return $e(bc(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Mf).location}var nR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iR(e){Y.useContext(ps).static||Y.useLayoutEffect(e)}function dm(){let{isDataRoute:e}=Y.useContext(Qs);return e?VO():xO()}function xO(){$e(bc(),"useNavigate() may be used only in the context of a <Router> component.");let e=Y.useContext(Tc),{basename:t,navigator:n}=Y.useContext(ps),{matches:i}=Y.useContext(Qs),{pathname:s}=Jo(),l=JSON.stringify(Ov(i)),c=Y.useRef(!1);return iR(()=>{c.current=!0}),Y.useCallback((p,m={})=>{if(hs(c.current,nR),!c.current)return;if(typeof p=="number"){n.go(p);return}let v=Lv(p,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Aa([t,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[t,n,l,s,e])}Y.createContext(null);function Df(e,{relative:t}={}){let{matches:n}=Y.useContext(Qs),{pathname:i}=Jo(),s=JSON.stringify(Ov(n));return Y.useMemo(()=>Lv(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function AO(e,t){return rR(e,t)}function rR(e,t,n,i){$e(bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=Y.useContext(ps),{matches:l}=Y.useContext(Qs),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let F=v&&v.path||"";sR(p,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let T=Jo(),E;if(t){let F=typeof t=="string"?wc(t):t;$e(m==="/"||F.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${F.pathname}" was given in the \`location\` prop.`),E=F}else E=T;let x=E.pathname||"/",O=x;if(m!=="/"){let F=m.replace(/^\//,"").split("/");O="/"+x.replace(/^\//,"").split("/").slice(F.length).join("/")}let U=XA(e,{pathname:O});hs(v||U!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),hs(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=kO(U&&U.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Aa([m,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?m:Aa([m,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,n,i);return t&&H?Y.createElement(Mf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},H):H}function RO(){let e=NO(),t=wO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:l},"ErrorBoundary")," or"," ",Y.createElement("code",{style:l},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:s},n):null,c)}var CO=Y.createElement(RO,null),IO=class extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Y.createElement(Qs.Provider,{value:this.props.routeContext},Y.createElement(Nv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PO({routeContext:e,match:t,children:n}){let i=Y.useContext(Tc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Qs.Provider,{value:e},n)}function kO(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n?.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);$e(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:T}=n,E=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||E){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,m,v)=>{let T,E=!1,x=null,O=null;n&&(T=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||CO,c&&(d<0&&v===0?(sR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,O=null):d===v&&(E=!0,O=m.route.hydrateFallbackElement||null)));let U=t.concat(s.slice(0,v+1)),H=()=>{let F;return T?F=x:E?F=O:m.route.Component?F=Y.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=p,Y.createElement(PO,{match:m,routeContext:{outlet:p,matches:U,isDataRoute:n!=null},children:F})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?Y.createElement(IO,{location:n.location,revalidation:n.revalidation,component:x,error:T,children:H(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):H()},null)}function Vv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MO(e){let t=Y.useContext(Tc);return $e(t,Vv(e)),t}function DO(e){let t=Y.useContext(fm);return $e(t,Vv(e)),t}function OO(e){let t=Y.useContext(Qs);return $e(t,Vv(e)),t}function zv(e){let t=OO(e),n=t.matches[t.matches.length-1];return $e(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function LO(){return zv("useRouteId")}function NO(){let e=Y.useContext(Nv),t=DO("useRouteError"),n=zv("useRouteError");return e!==void 0?e:t.errors?.[n]}function VO(){let{router:e}=MO("useNavigate"),t=zv("useNavigate"),n=Y.useRef(!1);return iR(()=>{n.current=!0}),Y.useCallback(async(s,l={})=>{hs(n.current,nR),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var WE={};function sR(e,t,n){!t&&!WE[e]&&(WE[e]=!0,hs(!1,n))}Y.memo(zO);function zO({routes:e,future:t,state:n}){return rR(e,void 0,n,t)}function UO({to:e,replace:t,state:n,relative:i}){$e(bc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=Y.useContext(ps);hs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=Y.useContext(Qs),{pathname:c}=Jo(),d=dm(),p=Lv(e,Ov(l),c,i==="path"),m=JSON.stringify(p);return Y.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:i})},[d,m,i,t,n]),null}function Uh(e){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BO({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:l=!1}){$e(!bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=Y.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=wc(n));let{pathname:p="/",search:m="",hash:v="",state:T=null,key:E="default"}=n,x=Y.useMemo(()=>{let O=Ra(p,c);return O==null?null:{location:{pathname:O,search:m,hash:v,state:T,key:E},navigationType:i}},[c,p,m,v,T,E,i]);return hs(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:Y.createElement(ps.Provider,{value:d},Y.createElement(Mf.Provider,{children:t,value:x}))}function jO({children:e,location:t}){return AO(x_(e),t)}function x_(e,t=[]){let n=[];return Y.Children.forEach(e,(i,s)=>{if(!Y.isValidElement(i))return;let l=[...t,s];if(i.type===Y.Fragment){n.push.apply(n,x_(i.props.children,l));return}$e(i.type===Uh,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=x_(i.props.children,l)),n.push(c)}),n}var yp="get",_p="application/x-www-form-urlencoded";function pm(e){return e!=null&&typeof e.tagName=="string"}function FO(e){return pm(e)&&e.tagName.toLowerCase()==="button"}function HO(e){return pm(e)&&e.tagName.toLowerCase()==="form"}function qO(e){return pm(e)&&e.tagName.toLowerCase()==="input"}function GO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ZO(e,t){return e.button===0&&(!t||t==="_self")&&!GO(e)}var Jd=null;function WO(){if(Jd===null)try{new FormData(document.createElement("form"),0),Jd=!1}catch{Jd=!0}return Jd}var KO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Iy(e){return e!=null&&!KO.has(e)?(hs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_p}"`),null):e}function $O(e,t){let n,i,s,l,c;if(HO(e)){let d=e.getAttribute("action");i=d?Ra(d,t):null,n=e.getAttribute("method")||yp,s=Iy(e.getAttribute("enctype"))||_p,l=new FormData(e)}else if(FO(e)||qO(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||d.getAttribute("action");if(i=p?Ra(p,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||yp,s=Iy(e.getAttribute("formenctype"))||Iy(d.getAttribute("enctype"))||_p,l=new FormData(d,e),!WO()){let{name:m,type:v,value:T}=e;if(v==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,T)}}else{if(pm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yp,i=null,s=_p,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YO(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&Ra(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function XO(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function JO(e,t,n){let i=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await XO(l,n);return c.links?c.links():[]}return[]}));return i2(i.flat(1).filter(QO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function KE(e,t,n,i,s,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,d=(p,m)=>n[m].pathname!==p.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?t.filter((p,m)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function t2(e,t,{includeHydrateFallback:n}={}){return e2(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function e2(e){return[...new Set(e)]}function n2(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function i2(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let l=JSON.stringify(n2(s));return n.has(l)||(n.add(l),i.push({key:l,link:s})),i},[])}function aR(){let e=Y.useContext(Tc);return Uv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function r2(){let e=Y.useContext(fm);return Uv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bv=Y.createContext(void 0);Bv.displayName="FrameworkContext";function oR(){let e=Y.useContext(Bv);return Uv(e,"You must render this element inside a <HydratedRouter> element"),e}function s2(e,t){let n=Y.useContext(Bv),[i,s]=Y.useState(!1),[l,c]=Y.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:T}=t,E=Y.useRef(null);Y.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let U=F=>{F.forEach(K=>{c(K.isIntersecting)})},H=new IntersectionObserver(U,{threshold:.5});return E.current&&H.observe(E.current),()=>{H.disconnect()}}},[e]),Y.useEffect(()=>{if(i){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[i]);let x=()=>{s(!0)},O=()=>{s(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:xh(d,x),onBlur:xh(p,O),onMouseEnter:xh(m,x),onMouseLeave:xh(v,O),onTouchStart:xh(T,x)}]:[!1,E,{}]}function xh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function a2({page:e,...t}){let{router:n}=aR(),i=Y.useMemo(()=>XA(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?Y.createElement(l2,{page:e,matches:i,...t}):null}function o2(e){let{manifest:t,routeModules:n}=oR(),[i,s]=Y.useState([]);return Y.useEffect(()=>{let l=!1;return JO(e,t,n).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,n]),i}function l2({page:e,matches:t,...n}){let i=Jo(),{manifest:s,routeModules:l}=oR(),{basename:c}=aR(),{loaderData:d,matches:p}=r2(),m=Y.useMemo(()=>KE(e,t,p,s,i,"data"),[e,t,p,s,i]),v=Y.useMemo(()=>KE(e,t,p,s,i,"assets"),[e,t,p,s,i]),T=Y.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let O=new Set,U=!1;if(t.forEach(F=>{let K=s.routes[F.route.id];!K||!K.hasLoader||(!m.some(Z=>Z.route.id===F.route.id)&&F.route.id in d&&l[F.route.id]?.shouldRevalidate||K.hasClientLoader?U=!0:O.add(F.route.id))}),O.size===0)return[];let H=YO(e,c,"data");return U&&O.size>0&&H.searchParams.set("_routes",t.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[H.pathname+H.search]},[c,d,i,s,m,t,e,l]),E=Y.useMemo(()=>t2(v,s),[v,s]),x=o2(v);return Y.createElement(Y.Fragment,null,T.map(O=>Y.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),E.map(O=>Y.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),x.map(({key:O,link:U})=>Y.createElement("link",{key:O,nonce:n.nonce,...U})))}function u2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var lR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lR&&(window.__reactRouterVersion="7.8.0")}catch{}function c2({basename:e,children:t,window:n}){let i=Y.useRef();i.current==null&&(i.current=XD({window:n,v5Compat:!0}));let s=i.current,[l,c]=Y.useState({action:s.action,location:s.location}),d=Y.useCallback(p=>{Y.startTransition(()=>c(p))},[c]);return Y.useLayoutEffect(()=>s.listen(d),[s,d]),Y.createElement(BO,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var uR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Np=Y.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:v,viewTransition:T,...E},x){let{basename:O}=Y.useContext(ps),U=typeof m=="string"&&uR.test(m),H,F=!1;if(typeof m=="string"&&U&&(H=m,lR))try{let D=new URL(window.location.href),G=m.startsWith("//")?new URL(D.protocol+m):new URL(m),N=Ra(G.pathname,O);G.origin===D.origin&&N!=null?m=N+G.search+G.hash:F=!0}catch{hs(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=SO(m,{relative:s}),[Z,ot,J]=s2(i,E),$=d2(m,{replace:c,state:d,target:p,preventScrollReset:v,relative:s,viewTransition:T});function q(D){t&&t(D),D.defaultPrevented||$(D)}let P=Y.createElement("a",{...E,...J,href:H||K,onClick:F||l?t:q,ref:u2(x,ot),target:p,"data-discover":!U&&n==="render"?"true":void 0});return Z&&!U?Y.createElement(Y.Fragment,null,P,Y.createElement(a2,{page:K})):P});Np.displayName="Link";var Bh=Y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...m},v){let T=Df(c,{relative:m.relative}),E=Jo(),x=Y.useContext(fm),{navigator:O,basename:U}=Y.useContext(ps),H=x!=null&&_2(T)&&d===!0,F=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,K=E.pathname,Z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(K=K.toLowerCase(),Z=Z?Z.toLowerCase():null,F=F.toLowerCase()),Z&&U&&(Z=Ra(Z,U)||Z);const ot=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let J=K===F||!s&&K.startsWith(F)&&K.charAt(ot)==="/",$=Z!=null&&(Z===F||!s&&Z.startsWith(F)&&Z.charAt(F.length)==="/"),q={isActive:J,isPending:$,isTransitioning:H},P=J?t:void 0,D;typeof i=="function"?D=i(q):D=[i,J?"active":null,$?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let G=typeof l=="function"?l(q):l;return Y.createElement(Np,{...m,"aria-current":P,className:D,ref:v,style:G,to:c,viewTransition:d},typeof p=="function"?p(q):p)});Bh.displayName="NavLink";var h2=Y.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:l,method:c=yp,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:T,...E},x)=>{let O=g2(),U=y2(d,{relative:m}),H=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&uR.test(d),K=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ot=Z.nativeEvent.submitter,J=ot?.getAttribute("formmethod")||c;O(ot||Z.currentTarget,{fetcherKey:t,method:J,navigate:n,replace:s,state:l,relative:m,preventScrollReset:v,viewTransition:T})};return Y.createElement("form",{ref:x,method:H,action:U,onSubmit:i?p:K,...E,"data-discover":!F&&e==="render"?"true":void 0})});h2.displayName="Form";function f2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cR(e){let t=Y.useContext(Tc);return $e(t,f2(e)),t}function d2(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=dm(),p=Jo(),m=Df(e,{relative:l});return Y.useCallback(v=>{if(ZO(v,t)){v.preventDefault();let T=n!==void 0?n:ff(p)===ff(m);d(e,{replace:T,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[p,d,m,n,i,t,e,s,l,c])}var p2=0,m2=()=>`__${String(++p2)}__`;function g2(){let{router:e}=cR("useSubmit"),{basename:t}=Y.useContext(ps),n=LO();return Y.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=$O(i,t);if(s.navigate===!1){let v=s.fetcherKey||m2();await e.fetch(v,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function y2(e,{relative:t}={}){let{basename:n}=Y.useContext(ps),i=Y.useContext(Qs);$e(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Df(e||".",{relative:t})},c=Jo();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Aa([n,l.pathname])),ff(l)}function _2(e,{relative:t}={}){let n=Y.useContext(eR);$e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=cR("useViewTransitionState"),s=Df(e,{relative:t});if(!n.isTransitioning)return!1;let l=Ra(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ra(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Lp(s.pathname,c)!=null||Lp(s.pathname,l)!=null}var v2=YA();/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T2=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),$E=e=>{const t=T2(e);return t.charAt(0).toUpperCase()+t.slice(1)},hR=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),b2=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=Y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:c,...d},p)=>Y.createElement("svg",{ref:p,...E2,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:hR("lucide",s),...!l&&!b2(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,v])=>Y.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=(e,t)=>{const n=Y.forwardRef(({className:i,...s},l)=>Y.createElement(S2,{ref:l,iconNode:t,className:hR(`lucide-${w2($E(e))}`,`lucide-${e}`,i),...s}));return n.displayName=$E(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Vp=Vn("book-open",x2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$h=Vn("calendar",A2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fR=Vn("clock",R2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],I2=Vn("heart",C2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],k2=Vn("house",P2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],D2=Vn("image",M2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],zp=Vn("loader",O2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N2=Vn("locate-fixed",L2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],z2=Vn("lock",V2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],dR=Vn("log-in",U2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],j2=Vn("log-out",B2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],H2=Vn("mail-open",F2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],G2=Vn("mail",q2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pR=Vn("map-pin",Z2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],K2=Vn("send",W2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Y2=Vn("square-pen",$2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Q2=Vn("trash-2",X2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tL=Vn("triangle-alert",J2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mR=Vn("x",eL),jv=Y.createContext({});function Fv(e){const t=Y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Hv=typeof window<"u",gR=Hv?Y.useLayoutEffect:Y.useEffect,mm=Y.createContext(null);function qv(e,t){e.indexOf(t)===-1&&e.push(t)}function Gv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ca=(e,t,n)=>n>t?t:n<e?e:n;let Zv=()=>{};const Ia={},yR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _R(e){return typeof e=="object"&&e!==null}const vR=e=>/^0[^.\s]+$/u.test(e);function Wv(e){let t;return()=>(t===void 0&&(t=e()),t)}const jr=e=>e,nL=(e,t)=>n=>t(e(n)),Of=(...e)=>e.reduce(nL),df=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Kv{constructor(){this.subscriptions=[]}add(t){return qv(this.subscriptions,t),()=>Gv(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bs=e=>e*1e3,js=e=>e/1e3;function wR(e,t){return t?e*(1e3/t):0}const TR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,iL=1e-7,rL=12;function sL(e,t,n,i,s){let l,c,d=0;do c=t+(n-t)/2,l=TR(c,i,s)-e,l>0?n=c:t=c;while(Math.abs(l)>iL&&++d<rL);return c}function Lf(e,t,n,i){if(e===t&&n===i)return jr;const s=l=>sL(l,0,1,e,n);return l=>l===0||l===1?l:TR(s(l),t,i)}const bR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ER=e=>t=>1-e(1-t),SR=Lf(.33,1.53,.69,.99),$v=ER(SR),xR=bR($v),AR=e=>(e*=2)<1?.5*$v(e):.5*(2-Math.pow(2,-10*(e-1))),Yv=e=>1-Math.sin(Math.acos(e)),RR=ER(Yv),CR=bR(Yv),aL=Lf(.42,0,1,1),oL=Lf(0,0,.58,1),IR=Lf(.42,0,.58,1),lL=e=>Array.isArray(e)&&typeof e[0]!="number",PR=e=>Array.isArray(e)&&typeof e[0]=="number",uL={linear:jr,easeIn:aL,easeInOut:IR,easeOut:oL,circIn:Yv,circInOut:CR,circOut:RR,backIn:$v,backInOut:xR,backOut:SR,anticipate:AR},cL=e=>typeof e=="string",YE=e=>{if(PR(e)){Zv(e.length===4);const[t,n,i,s]=e;return Lf(t,n,i,s)}else if(cL(e))return uL[e];return e},tp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hL(e,t){let n=new Set,i=new Set,s=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(m.schedule(v),e()),v(d)}const m={schedule:(v,T=!1,E=!1)=>{const O=E&&s?n:i;return T&&c.add(v),O.has(v)||O.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(d=v,s){l=!0;return}s=!0,[n,i]=[i,n],n.forEach(p),n.clear(),s=!1,l&&(l=!1,m.process(v))}};return m}const fL=40;function kR(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=tp.reduce((Z,ot)=>(Z[ot]=hL(l),Z),{}),{setup:d,read:p,resolveKeyframes:m,preUpdate:v,update:T,preRender:E,render:x,postRender:O}=c,U=()=>{const Z=Ia.useManualTiming?s.timestamp:performance.now();n=!1,Ia.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(Z-s.timestamp,fL),1)),s.timestamp=Z,s.isProcessing=!0,d.process(s),p.process(s),m.process(s),v.process(s),T.process(s),E.process(s),x.process(s),O.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(U))},H=()=>{n=!0,i=!0,s.isProcessing||e(U)};return{schedule:tp.reduce((Z,ot)=>{const J=c[ot];return Z[ot]=($,q=!1,P=!1)=>(n||H(),J.schedule($,q,P)),Z},{}),cancel:Z=>{for(let ot=0;ot<tp.length;ot++)c[tp[ot]].cancel(Z)},state:s,steps:c}}const{schedule:Ke,cancel:Ho,state:ri,steps:Py}=kR(typeof requestAnimationFrame<"u"?requestAnimationFrame:jr,!0);let vp;function dL(){vp=void 0}const Fi={now:()=>(vp===void 0&&Fi.set(ri.isProcessing||Ia.useManualTiming?ri.timestamp:performance.now()),vp),set:e=>{vp=e,queueMicrotask(dL)}},MR=e=>t=>typeof t=="string"&&t.startsWith(e),Xv=MR("--"),pL=MR("var(--"),Qv=e=>pL(e)?mL.test(e.split("/*")[0].trim()):!1,mL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ec={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pf={...Ec,transform:e=>Ca(0,1,e)},ep={...Ec,default:1},Yh=e=>Math.round(e*1e5)/1e5,Jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gL(e){return e==null}const yL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,t0=(e,t)=>n=>!!(typeof n=="string"&&yL.test(n)&&n.startsWith(e)||t&&!gL(n)&&Object.prototype.hasOwnProperty.call(n,t)),DR=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,l,c,d]=i.match(Jv);return{[e]:parseFloat(s),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},_L=e=>Ca(0,255,e),ky={...Ec,transform:e=>Math.round(_L(e))},Bl={test:t0("rgb","red"),parse:DR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+ky.transform(e)+", "+ky.transform(t)+", "+ky.transform(n)+", "+Yh(pf.transform(i))+")"};function vL(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const A_={test:t0("#"),parse:vL,transform:Bl.transform},Nf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Po=Nf("deg"),Fs=Nf("%"),Yt=Nf("px"),wL=Nf("vh"),TL=Nf("vw"),XE={...Fs,parse:e=>Fs.parse(e)/100,transform:e=>Fs.transform(e*100)},$u={test:t0("hsl","hue"),parse:DR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Fs.transform(Yh(t))+", "+Fs.transform(Yh(n))+", "+Yh(pf.transform(i))+")"},An={test:e=>Bl.test(e)||A_.test(e)||$u.test(e),parse:e=>Bl.test(e)?Bl.parse(e):$u.test(e)?$u.parse(e):A_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Bl.transform(e):$u.transform(e),getAnimatableNone:e=>{const t=An.parse(e);return t.alpha=0,An.transform(t)}},bL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EL(e){return isNaN(e)&&typeof e=="string"&&(e.match(Jv)?.length||0)+(e.match(bL)?.length||0)>0}const OR="number",LR="color",SL="var",xL="var(",QE="${}",AL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mf(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let l=0;const d=t.replace(AL,p=>(An.test(p)?(i.color.push(l),s.push(LR),n.push(An.parse(p))):p.startsWith(xL)?(i.var.push(l),s.push(SL),n.push(p)):(i.number.push(l),s.push(OR),n.push(parseFloat(p))),++l,QE)).split(QE);return{values:n,split:d,indexes:i,types:s}}function NR(e){return mf(e).values}function VR(e){const{split:t,types:n}=mf(e),i=t.length;return s=>{let l="";for(let c=0;c<i;c++)if(l+=t[c],s[c]!==void 0){const d=n[c];d===OR?l+=Yh(s[c]):d===LR?l+=An.transform(s[c]):l+=s[c]}return l}}const RL=e=>typeof e=="number"?0:An.test(e)?An.getAnimatableNone(e):e;function CL(e){const t=NR(e);return VR(e)(t.map(RL))}const qo={test:EL,parse:NR,createTransformer:VR,getAnimatableNone:CL};function My(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IL({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,l=0,c=0;if(!t)s=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;s=My(p,d,e+1/3),l=My(p,d,e),c=My(p,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Up(e,t){return n=>n>0?t:e}const tn=(e,t,n)=>e+(t-e)*n,Dy=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},PL=[A_,Bl,$u],kL=e=>PL.find(t=>t.test(e));function JE(e){const t=kL(e);if(!t)return!1;let n=t.parse(e);return t===$u&&(n=IL(n)),n}const tS=(e,t)=>{const n=JE(e),i=JE(t);if(!n||!i)return Up(e,t);const s={...n};return l=>(s.red=Dy(n.red,i.red,l),s.green=Dy(n.green,i.green,l),s.blue=Dy(n.blue,i.blue,l),s.alpha=tn(n.alpha,i.alpha,l),Bl.transform(s))},R_=new Set(["none","hidden"]);function ML(e,t){return R_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function DL(e,t){return n=>tn(e,t,n)}function e0(e){return typeof e=="number"?DL:typeof e=="string"?Qv(e)?Up:An.test(e)?tS:NL:Array.isArray(e)?zR:typeof e=="object"?An.test(e)?tS:OL:Up}function zR(e,t){const n=[...e],i=n.length,s=e.map((l,c)=>e0(l)(l,t[c]));return l=>{for(let c=0;c<i;c++)n[c]=s[c](l);return n}}function OL(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=e0(e[s])(e[s],t[s]));return s=>{for(const l in i)n[l]=i[l](s);return n}}function LL(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][i[l]],d=e.values[c]??0;n[s]=d,i[l]++}return n}const NL=(e,t)=>{const n=qo.createTransformer(t),i=mf(e),s=mf(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?R_.has(e)&&!s.values.length||R_.has(t)&&!i.values.length?ML(e,t):Of(zR(LL(i,s),s.values),n):Up(e,t)};function UR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?tn(e,t,n):e0(e)(e,t)}const VL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ke.update(t,n),stop:()=>Ho(t),now:()=>ri.isProcessing?ri.timestamp:Fi.now()}},BR=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let l=0;l<s;l++)i+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Bp=2e4;function n0(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Bp;)t+=n,i=e.next(t);return t>=Bp?1/0:t}function zL(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(n0(i),Bp);return{type:"keyframes",ease:l=>i.next(s*l).value/t,duration:js(s)}}const UL=5;function jR(e,t,n){const i=Math.max(t-UL,0);return wR(n-e(i),t-i)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oy=.001;function BL({duration:e=on.duration,bounce:t=on.bounce,velocity:n=on.velocity,mass:i=on.mass}){let s,l,c=1-t;c=Ca(on.minDamping,on.maxDamping,c),e=Ca(on.minDuration,on.maxDuration,js(e)),c<1?(s=m=>{const v=m*c,T=v*e,E=v-n,x=C_(m,c),O=Math.exp(-T);return Oy-E/x*O},l=m=>{const T=m*c*e,E=T*n+n,x=Math.pow(c,2)*Math.pow(m,2)*e,O=Math.exp(-T),U=C_(Math.pow(m,2),c);return(-s(m)+Oy>0?-1:1)*((E-x)*O)/U}):(s=m=>{const v=Math.exp(-m*e),T=(m-n)*e+1;return-Oy+v*T},l=m=>{const v=Math.exp(-m*e),T=(n-m)*(e*e);return v*T});const d=5/e,p=FL(s,l,d);if(e=Bs(e),isNaN(p))return{stiffness:on.stiffness,damping:on.damping,duration:e};{const m=Math.pow(p,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:e}}}const jL=12;function FL(e,t,n){let i=n;for(let s=1;s<jL;s++)i=i-e(i)/t(i);return i}function C_(e,t){return e*Math.sqrt(1-t*t)}const HL=["duration","bounce"],qL=["stiffness","damping","mass"];function eS(e,t){return t.some(n=>e[n]!==void 0)}function GL(e){let t={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...e};if(!eS(e,qL)&&eS(e,HL))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,l=2*Ca(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:on.mass,stiffness:s,damping:l}}else{const n=BL(e);t={...t,...n,mass:on.mass},t.isResolvedFromDuration=!0}return t}function jp(e=on.visualDuration,t=on.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:m,mass:v,duration:T,velocity:E,isResolvedFromDuration:x}=GL({...n,velocity:-js(n.velocity||0)}),O=E||0,U=m/(2*Math.sqrt(p*v)),H=c-l,F=js(Math.sqrt(p/v)),K=Math.abs(H)<5;i||(i=K?on.restSpeed.granular:on.restSpeed.default),s||(s=K?on.restDelta.granular:on.restDelta.default);let Z;if(U<1){const J=C_(F,U);Z=$=>{const q=Math.exp(-U*F*$);return c-q*((O+U*F*H)/J*Math.sin(J*$)+H*Math.cos(J*$))}}else if(U===1)Z=J=>c-Math.exp(-F*J)*(H+(O+F*H)*J);else{const J=F*Math.sqrt(U*U-1);Z=$=>{const q=Math.exp(-U*F*$),P=Math.min(J*$,300);return c-q*((O+U*F*H)*Math.sinh(P)+J*H*Math.cosh(P))/J}}const ot={calculatedDuration:x&&T||null,next:J=>{const $=Z(J);if(x)d.done=J>=T;else{let q=J===0?O:0;U<1&&(q=J===0?Bs(O):jR(Z,J,$));const P=Math.abs(q)<=i,D=Math.abs(c-$)<=s;d.done=P&&D}return d.value=d.done?c:$,d},toString:()=>{const J=Math.min(n0(ot),Bp),$=BR(q=>ot.next(J*q).value,J,30);return J+"ms "+$},toTransition:()=>{}};return ot}jp.applyToOptions=e=>{const t=zL(e,100,jp);return e.ease=t.ease,e.duration=Bs(t.duration),e.type="keyframes",e};function I_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:m=.5,restSpeed:v}){const T=e[0],E={done:!1,value:T},x=P=>d!==void 0&&P<d||p!==void 0&&P>p,O=P=>d===void 0?p:p===void 0||Math.abs(d-P)<Math.abs(p-P)?d:p;let U=n*t;const H=T+U,F=c===void 0?H:c(H);F!==H&&(U=F-T);const K=P=>-U*Math.exp(-P/i),Z=P=>F+K(P),ot=P=>{const D=K(P),G=Z(P);E.done=Math.abs(D)<=m,E.value=E.done?F:G};let J,$;const q=P=>{x(E.value)&&(J=P,$=jp({keyframes:[E.value,O(E.value)],velocity:jR(Z,P,E.value),damping:s,stiffness:l,restDelta:m,restSpeed:v}))};return q(0),{calculatedDuration:null,next:P=>{let D=!1;return!$&&J===void 0&&(D=!0,ot(P),q(P)),J!==void 0&&P>=J?$.next(P-J):(!D&&ot(P),E)}}}function ZL(e,t,n){const i=[],s=n||Ia.mix||UR,l=e.length-1;for(let c=0;c<l;c++){let d=s(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||jr:t;d=Of(p,d)}i.push(d)}return i}function WL(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const l=e.length;if(Zv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=ZL(t,i,s),p=d.length,m=v=>{if(c&&v<e[0])return t[0];let T=0;if(p>1)for(;T<e.length-2&&!(v<e[T+1]);T++);const E=df(e[T],e[T+1],v);return d[T](E)};return n?v=>m(Ca(e[0],e[l-1],v)):m}function KL(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=df(0,t,i);e.push(tn(n,1,s))}}function $L(e){const t=[0];return KL(t,e.length-1),t}function YL(e,t){return e.map(n=>n*t)}function XL(e,t){return e.map(()=>t||IR).splice(0,e.length-1)}function Xh({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=lL(i)?i.map(YE):YE(i),l={done:!1,value:t[0]},c=YL(n&&n.length===t.length?n:$L(t),e),d=WL(c,t,{ease:Array.isArray(s)?s:XL(t,s)});return{calculatedDuration:e,next:p=>(l.value=d(p),l.done=p>=e,l)}}const QL=e=>e!==null;function i0(e,{repeat:t,repeatType:n="loop"},i,s=1){const l=e.filter(QL),d=s<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const JL={decay:I_,inertia:I_,tween:Xh,keyframes:Xh,spring:jp};function FR(e){typeof e.type=="string"&&(e.type=JL[e.type])}class r0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const tN=e=>e/100;class s0 extends r0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Fi.now()&&this.tick(Fi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;FR(t);const{type:n=Xh,repeat:i=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const p=n||Xh;p!==Xh&&typeof d[0]!="number"&&(this.mixKeyframes=Of(tN,UR(d[0],d[1])),d=[0,100]);const m=p({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=n0(m));const{calculatedDuration:v}=m;this.calculatedDuration=v,this.resolvedDuration=v+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:v,repeat:T,repeatType:E,repeatDelay:x,type:O,onUpdate:U,finalKeyframe:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-m*(this.playbackSpeed>=0?1:-1),K=this.playbackSpeed>=0?F<0:F>s;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let Z=this.currentTime,ot=i;if(T){const P=Math.min(this.currentTime,s)/d;let D=Math.floor(P),G=P%1;!G&&P>=1&&(G=1),G===1&&D--,D=Math.min(D,T+1),!!(D%2)&&(E==="reverse"?(G=1-G,x&&(G-=x/d)):E==="mirror"&&(ot=c)),Z=Ca(0,1,G)*d}const J=K?{done:!1,value:v[0]}:ot.next(Z);l&&(J.value=l(J.value));let{done:$}=J;!K&&p!==null&&($=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return q&&O!==I_&&(J.value=i0(v,this.options,H,this.speed)),U&&U(J.value),q&&this.finish(),J}then(t,n){return this.finished.then(t,n)}get duration(){return js(this.calculatedDuration)}get time(){return js(this.currentTime)}set time(t){t=Bs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=js(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=VL,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function eN(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const jl=e=>e*180/Math.PI,P_=e=>{const t=jl(Math.atan2(e[1],e[0]));return k_(t)},nN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:P_,rotateZ:P_,skewX:e=>jl(Math.atan(e[1])),skewY:e=>jl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},k_=e=>(e=e%360,e<0&&(e+=360),e),nS=P_,iS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),rS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),iN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iS,scaleY:rS,scale:e=>(iS(e)+rS(e))/2,rotateX:e=>k_(jl(Math.atan2(e[6],e[5]))),rotateY:e=>k_(jl(Math.atan2(-e[2],e[0]))),rotateZ:nS,rotate:nS,skewX:e=>jl(Math.atan(e[4])),skewY:e=>jl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function M_(e){return e.includes("scale")?1:0}function D_(e,t){if(!e||e==="none")return M_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=iN,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=nN,s=d}if(!s)return M_(t);const l=i[t],c=s[1].split(",").map(sN);return typeof l=="function"?l(c):c[l]}const rN=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return D_(n,t)};function sN(e){return parseFloat(e.trim())}const Sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xc=new Set(Sc),sS=e=>e===Ec||e===Yt,aN=new Set(["x","y","z"]),oN=Sc.filter(e=>!aN.has(e));function lN(e){const t=[];return oN.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Hl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>D_(t,"x"),y:(e,{transform:t})=>D_(t,"y")};Hl.translateX=Hl.x;Hl.translateY=Hl.y;const ql=new Set;let O_=!1,L_=!1,N_=!1;function HR(){if(L_){const e=Array.from(ql).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=lN(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}L_=!1,O_=!1,ql.forEach(e=>e.complete(N_)),ql.clear()}function qR(){ql.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(L_=!0)})}function uN(){N_=!0,qR(),HR(),N_=!1}class a0{constructor(t,n,i,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ql.add(this),O_||(O_=!0,Ke.read(qR),Ke.resolveKeyframes(HR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const l=s?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}eN(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ql.delete(this)}cancel(){this.state==="scheduled"&&(ql.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cN=e=>e.startsWith("--");function hN(e,t,n){cN(t)?e.style.setProperty(t,n):e.style[t]=n}const fN=Wv(()=>window.ScrollTimeline!==void 0),dN={};function pN(e,t){const n=Wv(e);return()=>dN[t]??n()}const GR=pN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jh=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,aS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jh([0,.65,.55,1]),circOut:jh([.55,0,1,.45]),backIn:jh([.31,.01,.66,-.59]),backOut:jh([.33,1.53,.69,.99])};function ZR(e,t){if(e)return typeof e=="function"?GR()?BR(e,t):"ease-out":PR(e)?jh(e):Array.isArray(e)?e.map(n=>ZR(n,t)||aS.easeOut):aS[e]}function mN(e,t,n,{delay:i=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:p}={},m=void 0){const v={[t]:n};p&&(v.offset=p);const T=ZR(d,s);Array.isArray(T)&&(v.easing=T);const E={delay:i,duration:s,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),e.animate(v,E)}function WR(e){return typeof e=="function"&&"applyToOptions"in e}function gN({type:e,...t}){return WR(e)&&GR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class yN extends r0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Zv(typeof t.type!="string");const m=gN(t);this.animation=mN(n,i,s,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=i0(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):hN(n,i,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return js(Number(t))}get time(){return js(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Bs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&fN()?(this.animation.timeline=t,jr):n(this)}}const KR={anticipate:AR,backInOut:xR,circInOut:CR};function _N(e){return e in KR}function vN(e){typeof e.ease=="string"&&_N(e.ease)&&(e.ease=KR[e.ease])}const oS=10;class wN extends yN{constructor(t){vN(t),FR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new s0({...c,autoplay:!1}),p=Bs(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-oS).value,d.sample(p).value,oS),d.stop()}}const lS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qo.test(e)||e==="0")&&!e.startsWith("url("));function TN(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function bN(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=lS(s,t),d=lS(l,t);return!c||!d?!1:TN(e)||(n==="spring"||WR(n))&&i}function V_(e){e.duration=0,e.type}const EN=new Set(["opacity","clipPath","filter","transform"]),SN=Wv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xN(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=t.owner.getProps();return SN()&&n&&EN.has(n)&&(n!=="transform"||!m)&&!p&&!i&&s!=="mirror"&&l!==0&&c!=="inertia"}const AN=40;class RN extends r0{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:p,motionValue:m,element:v,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fi.now();const E={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:l,repeatType:c,name:p,motionValue:m,element:v,...T},x=v?.KeyframeResolver||a0;this.keyframeResolver=new x(d,(O,U,H)=>this.onKeyframesResolved(O,U,E,!H),p,m,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:p,isHandoff:m,onUpdate:v}=i;this.resolvedAt=Fi.now(),bN(t,l,c,d)||((Ia.instantAnimations||!p)&&v?.(i0(t,i,n)),t[0]=t[t.length-1],V_(i),i.repeat=0);const E={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>AN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},x=!m&&xN(E)?new wN({...E,element:E.motionValue.owner.current}):new s0(E);x.finished.then(()=>this.notifyFinished()).catch(jr),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),uN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const CN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IN(e){const t=CN.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function $R(e,t,n=1){const[i,s]=IN(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const c=l.trim();return yR(c)?parseFloat(c):c}return Qv(s)?$R(s,t,n+1):s}function o0(e,t){return e?.[t]??e?.default??e}const YR=new Set(["width","height","top","left","right","bottom",...Sc]),PN={test:e=>e==="auto",parse:e=>e},XR=e=>t=>t.test(e),QR=[Ec,Yt,Fs,Po,TL,wL,PN],uS=e=>QR.find(XR(e));function kN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vR(e):!0}const MN=new Set(["brightness","contrast","saturate","opacity"]);function DN(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Jv)||[];if(!i)return e;const s=n.replace(i,"");let l=MN.has(t)?1:0;return i!==n&&(l*=100),t+"("+l+s+")"}const ON=/\b([a-z-]*)\(.*?\)/gu,z_={...qo,getAnimatableNone:e=>{const t=e.match(ON);return t?t.map(DN).join(" "):e}},cS={...Ec,transform:Math.round},LN={rotate:Po,rotateX:Po,rotateY:Po,rotateZ:Po,scale:ep,scaleX:ep,scaleY:ep,scaleZ:ep,skew:Po,skewX:Po,skewY:Po,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:pf,originX:XE,originY:XE,originZ:Yt},l0={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,backgroundPositionX:Yt,backgroundPositionY:Yt,...LN,zIndex:cS,fillOpacity:pf,strokeOpacity:pf,numOctaves:cS},NN={...l0,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:z_,WebkitFilter:z_},JR=e=>NN[e];function tC(e,t){let n=JR(e);return n!==z_&&(n=qo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const VN=new Set(["auto","none","0"]);function zN(e,t,n){let i=0,s;for(;i<e.length&&!s;){const l=e[i];typeof l=="string"&&!VN.has(l)&&mf(l).values.length&&(s=e[i]),i++}if(s&&n)for(const l of t)e[l]=tC(n,s)}class UN extends a0{constructor(t,n,i,s,l){super(t,n,i,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let m=t[p];if(typeof m=="string"&&(m=m.trim(),Qv(m))){const v=$R(m,n.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!YR.has(i)||t.length!==2)return;const[s,l]=t,c=uS(s),d=uS(l);if(c!==d)if(sS(c)&&sS(d))for(let p=0;p<t.length;p++){const m=t[p];typeof m=="string"&&(t[p]=parseFloat(m))}else Hl[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||kN(t[s]))&&i.push(s);i.length&&zN(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Hl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function BN(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const eC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function nC(e){return _R(e)&&"offsetHeight"in e}const hS=30,jN=e=>!isNaN(parseFloat(e));class FN{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Fi.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Fi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Kv);const i=this.events[t].add(n);return t==="change"?()=>{i(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hS);return wR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cc(e,t){return new FN(e,t)}const{schedule:u0}=kR(queueMicrotask,!1),ls={x:!1,y:!1};function iC(){return ls.x||ls.y}function HN(e){return e==="x"||e==="y"?ls[e]?null:(ls[e]=!0,()=>{ls[e]=!1}):ls.x||ls.y?null:(ls.x=ls.y=!0,()=>{ls.x=ls.y=!1})}function rC(e,t){const n=BN(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function fS(e){return!(e.pointerType==="touch"||iC())}function qN(e,t,n={}){const[i,s,l]=rC(e,n),c=d=>{if(!fS(d))return;const{target:p}=d,m=t(p,d);if(typeof m!="function"||!p)return;const v=T=>{fS(T)&&(m(T),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,s)};return i.forEach(d=>{d.addEventListener("pointerenter",c,s)}),l}const sC=(e,t)=>t?e===t?!0:sC(e,t.parentElement):!1,c0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,GN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZN(e){return GN.has(e.tagName)||e.tabIndex!==-1}const wp=new WeakSet;function dS(e){return t=>{t.key==="Enter"&&e(t)}}function Ly(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const WN=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=dS(()=>{if(wp.has(n))return;Ly(n,"down");const s=dS(()=>{Ly(n,"up")}),l=()=>Ly(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function pS(e){return c0(e)&&!iC()}function KN(e,t,n={}){const[i,s,l]=rC(e,n),c=d=>{const p=d.currentTarget;if(!pS(d))return;wp.add(p);const m=t(p,d),v=(x,O)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",E),wp.has(p)&&wp.delete(p),pS(x)&&typeof m=="function"&&m(x,{success:O})},T=x=>{v(x,p===window||p===document||n.useGlobalTarget||sC(p,x.target))},E=x=>{v(x,!1)};window.addEventListener("pointerup",T,s),window.addEventListener("pointercancel",E,s)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),nC(d)&&(d.addEventListener("focus",m=>WN(m,s)),!ZN(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function aC(e){return _R(e)&&"ownerSVGElement"in e}function $N(e){return aC(e)&&e.tagName==="svg"}const _i=e=>!!(e&&e.getVelocity),YN=[...QR,An,qo],XN=e=>YN.find(XR(e)),h0=Y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class QN extends Y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=nC(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function JN({children:e,isPresent:t,anchorX:n,root:i}){const s=Y.useId(),l=Y.useRef(null),c=Y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=Y.useContext(h0);return Y.useInsertionEffect(()=>{const{width:p,height:m,top:v,left:T,right:E}=c.current;if(t||!l.current||!p||!m)return;const x=n==="left"?`left: ${T}`:`right: ${E}`;l.current.dataset.motionPopId=s;const O=document.createElement("style");d&&(O.nonce=d);const U=i??document.head;return U.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${x}px !important;
            top: ${v}px !important;
          }
        `),()=>{U.contains(O)&&U.removeChild(O)}},[t]),tt.jsx(QN,{isPresent:t,childRef:l,sizeRef:c,children:Y.cloneElement(e,{ref:l})})}const tV=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:l,mode:c,anchorX:d,root:p})=>{const m=Fv(eV),v=Y.useId();let T=!0,E=Y.useMemo(()=>(T=!1,{id:v,initial:t,isPresent:n,custom:s,onExitComplete:x=>{m.set(x,!0);for(const O of m.values())if(!O)return;i&&i()},register:x=>(m.set(x,!1),()=>m.delete(x))}),[n,m,i]);return l&&T&&(E={...E}),Y.useMemo(()=>{m.forEach((x,O)=>m.set(O,!1))},[n]),Y.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),c==="popLayout"&&(e=tt.jsx(JN,{isPresent:n,anchorX:d,root:p,children:e})),tt.jsx(mm.Provider,{value:E,children:e})};function eV(){return new Map}function oC(e=!0){const t=Y.useContext(mm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,l=Y.useId();Y.useEffect(()=>{if(e)return s(l)},[e]);const c=Y.useCallback(()=>e&&i&&i(l),[l,i,e]);return!n&&i?[!1,c]:[!0]}const np=e=>e.key||"";function mS(e){const t=[];return Y.Children.forEach(e,n=>{Y.isValidElement(n)&&t.push(n)}),t}const f0=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[m,v]=oC(c),T=Y.useMemo(()=>mS(e),[e]),E=c&&!m?[]:T.map(np),x=Y.useRef(!0),O=Y.useRef(T),U=Fv(()=>new Map),[H,F]=Y.useState(T),[K,Z]=Y.useState(T);gR(()=>{x.current=!1,O.current=T;for(let $=0;$<K.length;$++){const q=np(K[$]);E.includes(q)?U.delete(q):U.get(q)!==!0&&U.set(q,!1)}},[K,E.length,E.join("-")]);const ot=[];if(T!==H){let $=[...T];for(let q=0;q<K.length;q++){const P=K[q],D=np(P);E.includes(D)||($.splice(q,0,P),ot.push(P))}return l==="wait"&&ot.length&&($=ot),Z(mS($)),F(T),null}const{forceRender:J}=Y.useContext(jv);return tt.jsx(tt.Fragment,{children:K.map($=>{const q=np($),P=c&&!m?!1:T===K||E.includes(q),D=()=>{if(U.has(q))U.set(q,!0);else return;let G=!0;U.forEach(N=>{N||(G=!1)}),G&&(J?.(),Z(O.current),c&&v?.(),i&&i())};return tt.jsx(tV,{isPresent:P,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:p,onExitComplete:P?void 0:D,anchorX:d,children:$},q)})})},lC=Y.createContext({strict:!1}),gS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hc={};for(const e in gS)hc[e]={isEnabled:t=>gS[e].some(n=>!!t[n])};function nV(e){for(const t in e)hc[t]={...hc[t],...e[t]}}const iV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||iV.has(e)}let uC=e=>!Fp(e);function rV(e){typeof e=="function"&&(uC=t=>t.startsWith("on")?!Fp(t):e(t))}try{rV(require("@emotion/is-prop-valid").default)}catch{}function sV(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(uC(s)||n===!0&&Fp(s)||!t&&!Fp(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const gm=Y.createContext({});function ym(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function gf(e){return typeof e=="string"||Array.isArray(e)}const d0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p0=["initial",...d0];function _m(e){return ym(e.animate)||p0.some(t=>gf(e[t]))}function cC(e){return!!(_m(e)||e.variants)}function aV(e,t){if(_m(e)){const{initial:n,animate:i}=e;return{initial:n===!1||gf(n)?n:void 0,animate:gf(i)?i:void 0}}return e.inherit!==!1?t:{}}function oV(e){const{initial:t,animate:n}=aV(e,Y.useContext(gm));return Y.useMemo(()=>({initial:t,animate:n}),[yS(t),yS(n)])}function yS(e){return Array.isArray(e)?e.join(" "):e}const yf={};function lV(e){for(const t in e)yf[t]=e[t],Xv(t)&&(yf[t].isCSSVariable=!0)}function hC(e,{layout:t,layoutId:n}){return xc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!yf[e]||e==="opacity")}const uV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cV=Sc.length;function hV(e,t,n){let i="",s=!0;for(let l=0;l<cV;l++){const c=Sc[l],d=e[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const m=eC(d,l0[c]);if(!p){s=!1;const v=uV[c]||c;i+=`${v}(${m}) `}n&&(t[c]=m)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function m0(e,t,n){const{style:i,vars:s,transformOrigin:l}=e;let c=!1,d=!1;for(const p in t){const m=t[p];if(xc.has(p)){c=!0;continue}else if(Xv(p)){s[p]=m;continue}else{const v=eC(m,l0[p]);p.startsWith("origin")?(d=!0,l[p]=v):i[p]=v}}if(t.transform||(c||n?i.transform=hV(t,e.transform,n):i.transform&&(i.transform="none")),d){const{originX:p="50%",originY:m="50%",originZ:v=0}=l;i.transformOrigin=`${p} ${m} ${v}`}}const g0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fC(e,t,n){for(const i in t)!_i(t[i])&&!hC(i,n)&&(e[i]=t[i])}function fV({transformTemplate:e},t){return Y.useMemo(()=>{const n=g0();return m0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function dV(e,t){const n=e.style||{},i={};return fC(i,n,e),Object.assign(i,fV(e,t)),i}function pV(e,t){const n={},i=dV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const mV={offset:"stroke-dashoffset",array:"stroke-dasharray"},gV={offset:"strokeDashoffset",array:"strokeDasharray"};function yV(e,t,n=1,i=0,s=!0){e.pathLength=1;const l=s?mV:gV;e[l.offset]=Yt.transform(-i);const c=Yt.transform(t),d=Yt.transform(n);e[l.array]=`${c} ${d}`}function dC(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...d},p,m,v){if(m0(e,d,m),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:E}=e;T.transform&&(E.transform=T.transform,delete T.transform),(E.transform||T.transformOrigin)&&(E.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),E.transform&&(E.transformBox=v?.transformBox??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),s!==void 0&&yV(T,s,l,c,!1)}const pC=()=>({...g0(),attrs:{}}),mC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _V(e,t,n,i){const s=Y.useMemo(()=>{const l=pC();return dC(l,t,mC(i),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};fC(l,e.style,e),s.style={...l,...s.style}}return s}const vV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function y0(e){return typeof e!="string"||e.includes("-")?!1:!!(vV.indexOf(e)>-1||/[A-Z]/u.test(e))}function wV(e,t,n,{latestValues:i},s,l=!1){const d=(y0(e)?_V:pV)(t,i,s,e),p=sV(t,typeof e=="string",l),m=e!==Y.Fragment?{...p,...d,ref:n}:{},{children:v}=t,T=Y.useMemo(()=>_i(v)?v.get():v,[v]);return Y.createElement(e,{...m,children:T})}function _S(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function _0(e,t,n,i){if(typeof t=="function"){const[s,l]=_S(i);t=t(n!==void 0?n:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=_S(i);t=t(n!==void 0?n:e.custom,s,l)}return t}function Tp(e){return _i(e)?e.get():e}function TV({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:bV(n,i,s,e),renderState:t()}}function bV(e,t,n,i){const s={},l=i(e,{});for(const E in l)s[E]=Tp(l[E]);let{initial:c,animate:d}=e;const p=_m(e),m=cC(e);t&&m&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const T=v?d:c;if(T&&typeof T!="boolean"&&!ym(T)){const E=Array.isArray(T)?T:[T];for(let x=0;x<E.length;x++){const O=_0(e,E[x]);if(O){const{transitionEnd:U,transition:H,...F}=O;for(const K in F){let Z=F[K];if(Array.isArray(Z)){const ot=v?Z.length-1:0;Z=Z[ot]}Z!==null&&(s[K]=Z)}for(const K in U)s[K]=U[K]}}}return s}const gC=e=>(t,n)=>{const i=Y.useContext(gm),s=Y.useContext(mm),l=()=>TV(e,t,i,s);return n?l():Fv(l)};function v0(e,t,n){const{style:i}=e,s={};for(const l in i)(_i(i[l])||t.style&&_i(t.style[l])||hC(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(s[l]=i[l]);return s}const EV=gC({scrapeMotionValuesFromProps:v0,createRenderState:g0});function yC(e,t,n){const i=v0(e,t,n);for(const s in e)if(_i(e[s])||_i(t[s])){const l=Sc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[l]=e[s]}return i}const SV=gC({scrapeMotionValuesFromProps:yC,createRenderState:pC}),xV=Symbol.for("motionComponentSymbol");function Yu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function AV(e,t,n){return Y.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Yu(n)&&(n.current=i))},[t])}const w0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RV="framerAppearId",_C="data-"+w0(RV),vC=Y.createContext({});function CV(e,t,n,i,s){const{visualElement:l}=Y.useContext(gm),c=Y.useContext(lC),d=Y.useContext(mm),p=Y.useContext(h0).reducedMotion,m=Y.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=m.current,T=Y.useContext(vC);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&IV(m.current,n,s,T);const E=Y.useRef(!1);Y.useInsertionEffect(()=>{v&&E.current&&v.update(n,d)});const x=n[_C],O=Y.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return gR(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),O.current&&v.animationState&&v.animationState.animateChanges())}),Y.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),O.current=!1),v.enteringChildren=void 0)}),v}function IV(e,t,n,i){const{layoutId:s,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:m,layoutCrossfade:v}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wC(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||d&&Yu(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:p,layoutRoot:m})}function wC(e){if(e)return e.options.allowProjection!==!1?e.projection:wC(e.parent)}function Ny(e,{forwardMotionProps:t=!1}={},n,i){n&&nV(n);const s=y0(e)?SV:EV;function l(d,p){let m;const v={...Y.useContext(h0),...d,layoutId:PV(d)},{isStatic:T}=v,E=oV(d),x=s(d,T);if(!T&&Hv){kV();const O=MV(v);m=O.MeasureLayout,E.visualElement=CV(e,x,v,i,O.ProjectionNode)}return tt.jsxs(gm.Provider,{value:E,children:[m&&E.visualElement?tt.jsx(m,{visualElement:E.visualElement,...v}):null,wV(e,d,AV(x,E.visualElement,p),x,T,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=Y.forwardRef(l);return c[xV]=e,c}function PV({layoutId:e}){const t=Y.useContext(jv).id;return t&&e!==void 0?t+"-"+e:e}function kV(e,t){Y.useContext(lC).strict}function MV(e){const{drag:t,layout:n}=hc;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function DV(e,t){if(typeof Proxy>"u")return Ny;const n=new Map,i=(l,c)=>Ny(l,c,e,t),s=(l,c)=>i(l,c);return new Proxy(s,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Ny(c,void 0,e,t)),n.get(c))})}function TC({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function OV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Vy(e){return e===void 0||e===1}function U_({scale:e,scaleX:t,scaleY:n}){return!Vy(e)||!Vy(t)||!Vy(n)}function zl(e){return U_(e)||bC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bC(e){return vS(e.x)||vS(e.y)}function vS(e){return e&&e!=="0%"}function Hp(e,t,n){const i=e-n,s=t*i;return n+s}function wS(e,t,n,i,s){return s!==void 0&&(e=Hp(e,s,i)),Hp(e,n,i)+t}function B_(e,t=0,n=1,i,s){e.min=wS(e.min,t,n,i,s),e.max=wS(e.max,t,n,i,s)}function EC(e,{x:t,y:n}){B_(e.x,t.translate,t.scale,t.originPoint),B_(e.y,n.translate,n.scale,n.originPoint)}const TS=.999999999999,bS=1.0000000000001;function NV(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let l,c;for(let d=0;d<s;d++){l=n[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Qu(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,EC(e,c)),i&&zl(l.latestValues)&&Qu(e,l.latestValues))}t.x<bS&&t.x>TS&&(t.x=1),t.y<bS&&t.y>TS&&(t.y=1)}function Xu(e,t){e.min=e.min+t,e.max=e.max+t}function ES(e,t,n,i,s=.5){const l=tn(e.min,e.max,s);B_(e,t,n,l,i)}function Qu(e,t){ES(e.x,t.x,t.scaleX,t.scale,t.originX),ES(e.y,t.y,t.scaleY,t.scale,t.originY)}function SC(e,t){return TC(LV(e.getBoundingClientRect(),t))}function VV(e,t,n){const i=SC(e,n),{scroll:s}=t;return s&&(Xu(i.x,s.offset.x),Xu(i.y,s.offset.y)),i}const SS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ju=()=>({x:SS(),y:SS()}),xS=()=>({min:0,max:0}),pn=()=>({x:xS(),y:xS()}),j_={current:null},xC={current:!1};function zV(){if(xC.current=!0,!!Hv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>j_.current=e.matches;e.addEventListener("change",t),t()}else j_.current=!1}const UV=new WeakMap;function BV(e,t,n){for(const i in t){const s=t[i],l=n[i];if(_i(s))e.addValue(i,s);else if(_i(l))e.addValue(i,cc(s,{owner:e}));else if(l!==s)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(i);e.addValue(i,cc(c!==void 0?c:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const AS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jV{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Fi.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Ke.render(this.render,!1,!0))};const{latestValues:p,renderState:m}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=_m(n),this.isVariantNode=cC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in T){const x=T[E];p[E]!==void 0&&_i(x)&&x.set(p[E])}}mount(t){this.current=t,UV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),xC.current||zV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:j_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ho(this.notifyUpdate),Ho(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=xc.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ke.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hc){const n=hc[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<AS.length;i++){const s=AS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=BV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=cc(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(yR(i)||vR(i))?i=parseFloat(i):!XN(i)&&qo.test(n)&&(i=tC(t,n)),this.setBaseTarget(t,_i(i)?i.get():i)),_i(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=_0(this.props,n,this.presenceContext?.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!_i(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Kv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){u0.render(this.render)}}class AC extends jV{constructor(){super(...arguments),this.KeyframeResolver=UN}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_i(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function RC(e,{style:t,vars:n},i,s){const l=e.style;let c;for(c in t)l[c]=t[c];s?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function FV(e){return window.getComputedStyle(e)}class HV extends AC{constructor(){super(...arguments),this.type="html",this.renderInstance=RC}readValueFromInstance(t,n){if(xc.has(n))return this.projection?.isProjecting?M_(n):rN(t,n);{const i=FV(t),s=(Xv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return SC(t,n)}build(t,n,i){m0(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return v0(t,n,i)}}const CC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qV(e,t,n,i){RC(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(CC.has(s)?s:w0(s),t.attrs[s])}class GV extends AC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(xc.has(n)){const i=JR(n);return i&&i.default||0}return n=CC.has(n)?n:w0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return yC(t,n,i)}build(t,n,i){dC(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){qV(t,n,i,s)}mount(t){this.isSVGTag=mC(t.tagName),super.mount(t)}}const ZV=(e,t)=>y0(e)?new GV(t):new HV(t,{allowProjection:e!==Y.Fragment});function nc(e,t,n){const i=e.getProps();return _0(i,t,n!==void 0?n:i.custom,e)}const F_=e=>Array.isArray(e);function WV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,cc(n))}function KV(e){return F_(e)?e[e.length-1]||0:e}function $V(e,t){const n=nc(e,t);let{transitionEnd:i={},transition:s={},...l}=n||{};l={...l,...i};for(const c in l){const d=KV(l[c]);WV(e,c,d)}}function YV(e){return!!(_i(e)&&e.add)}function H_(e,t){const n=e.getValue("willChange");if(YV(n))return n.add(t);if(!n&&Ia.WillChange){const i=new Ia.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function IC(e){return e.props[_C]}const XV=e=>e!==null;function QV(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(XV),l=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[l]}const JV={type:"spring",stiffness:500,damping:25,restSpeed:10},t4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),e4={type:"keyframes",duration:.8},n4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},i4=(e,{keyframes:t})=>t.length>2?e4:xc.has(e)?e.startsWith("scale")?t4(t[1]):JV:n4;function r4({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:m,...v}){return!!Object.keys(v).length}const T0=(e,t,n,i={},s,l)=>c=>{const d=o0(i,e)||{},p=d.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Bs(p);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:E=>{t.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:s};r4(d)||Object.assign(v,i4(e,v)),v.duration&&(v.duration=Bs(v.duration)),v.repeatDelay&&(v.repeatDelay=Bs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(V_(v),v.delay===0&&(T=!0)),(Ia.instantAnimations||Ia.skipAnimations)&&(T=!0,V_(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,T&&!l&&t.get()!==void 0){const E=QV(v.keyframes,d);if(E!==void 0){Ke.update(()=>{v.onUpdate(E),v.onComplete()});return}}return d.isSync?new s0(v):new RN(v)};function s4({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function PC(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;i&&(l=i);const p=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const v in d){const T=e.getValue(v,e.latestValues[v]??null),E=d[v];if(E===void 0||m&&s4(m,v))continue;const x={delay:n,...o0(l||{},v)},O=T.get();if(O!==void 0&&!T.isAnimating&&!Array.isArray(E)&&E===O&&!x.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const F=IC(e);if(F){const K=window.MotionHandoffAnimation(F,v,Ke);K!==null&&(x.startTime=K,U=!0)}}H_(e,v),T.start(T0(v,T,E,e.shouldReduceMotion&&YR.has(v)?{type:!1}:x,e,U));const H=T.animation;H&&p.push(H)}return c&&Promise.all(p).then(()=>{Ke.update(()=>{c&&$V(e,c)})}),p}function kC(e,t,n,i=0,s=1){const l=Array.from(e).sort((m,v)=>m.sortNodePosition(v)).indexOf(t),c=e.size,d=(c-1)*i;return typeof n=="function"?n(l,c):s===1?l*i:d-l*i}function q_(e,t,n={}){const i=nc(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const l=i?()=>Promise.all(PC(e,i,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:T}=s;return a4(e,t,p,m,v,T,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[p,m]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function a4(e,t,n=0,i=0,s=0,l=1,c){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(q_(p,t,{...c,delay:n+(typeof i=="function"?0:i)+kC(e.variantChildren,p,i,s,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function o4(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(l=>q_(e,l,n));i=Promise.all(s)}else if(typeof t=="string")i=q_(e,t,n);else{const s=typeof t=="function"?nc(e,t,n.custom):t;i=Promise.all(PC(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function MC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const l4=p0.length;function DC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?DC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<l4;n++){const i=p0[n],s=e.props[i];(gf(s)||s===!1)&&(t[i]=s)}return t}const u4=[...d0].reverse(),c4=d0.length;function h4(e){return t=>Promise.all(t.map(({animation:n,options:i})=>o4(e,n,i)))}function f4(e){let t=h4(e),n=RS(),i=!0;const s=p=>(m,v)=>{const T=nc(e,v,p==="exit"?e.presenceContext?.custom:void 0);if(T){const{transition:E,transitionEnd:x,...O}=T;m={...m,...O,...x}}return m};function l(p){t=p(e)}function c(p){const{props:m}=e,v=DC(e.parent)||{},T=[],E=new Set;let x={},O=1/0;for(let H=0;H<c4;H++){const F=u4[H],K=n[F],Z=m[F]!==void 0?m[F]:v[F],ot=gf(Z),J=F===p?K.isActive:null;J===!1&&(O=H);let $=Z===v[F]&&Z!==m[F]&&ot;if($&&i&&e.manuallyAnimateOnMount&&($=!1),K.protectedKeys={...x},!K.isActive&&J===null||!Z&&!K.prevProp||ym(Z)||typeof Z=="boolean")continue;const q=d4(K.prevProp,Z);let P=q||F===p&&K.isActive&&!$&&ot||H>O&&ot,D=!1;const G=Array.isArray(Z)?Z:[Z];let N=G.reduce(s(F),{});J===!1&&(N={});const{prevResolvedValues:M={}}=K,k={...M,...N},it=rt=>{P=!0,E.has(rt)&&(D=!0,E.delete(rt)),K.needsAnimating[rt]=!0;const st=e.getValue(rt);st&&(st.liveStyle=!1)};for(const rt in k){const st=N[rt],Pt=M[rt];if(x.hasOwnProperty(rt))continue;let R=!1;F_(st)&&F_(Pt)?R=!MC(st,Pt):R=st!==Pt,R?st!=null?it(rt):E.add(rt):st!==void 0&&E.has(rt)?it(rt):K.protectedKeys[rt]=!0}K.prevProp=Z,K.prevResolvedValues=N,K.isActive&&(x={...x,...N}),i&&e.blockInitialAnimation&&(P=!1);const W=$&&q;P&&(!W||D)&&T.push(...G.map(rt=>{const st={type:F};if(typeof rt=="string"&&i&&!W&&e.manuallyAnimateOnMount&&e.parent){const{parent:Pt}=e,R=nc(Pt,rt);if(Pt.enteringChildren&&R){const{delayChildren:ht}=R.transition||{};st.delay=kC(Pt.enteringChildren,e,ht)}}return{animation:rt,options:st}}))}if(E.size){const H={};if(typeof m.initial!="boolean"){const F=nc(e,Array.isArray(m.initial)?m.initial[0]:m.initial);F&&F.transition&&(H.transition=F.transition)}E.forEach(F=>{const K=e.getBaseTarget(F),Z=e.getValue(F);Z&&(Z.liveStyle=!0),H[F]=K??null}),T.push({animation:H})}let U=!!T.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(U=!1),i=!1,U?t(T):Promise.resolve()}function d(p,m){if(n[p].isActive===m)return Promise.resolve();e.variantChildren?.forEach(T=>T.animationState?.setActive(p,m)),n[p].isActive=m;const v=c(p);for(const T in n)n[T].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=RS(),i=!0}}}function d4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!MC(t,e):!1}function Vl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RS(){return{animate:Vl(!0),whileInView:Vl(),whileHover:Vl(),whileTap:Vl(),whileDrag:Vl(),whileFocus:Vl(),exit:Vl()}}class tl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class p4 extends tl{constructor(t){super(t),t.animationState||(t.animationState=f4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ym(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let m4=0;class g4 extends tl{constructor(){super(...arguments),this.id=m4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const y4={animation:{Feature:p4},exit:{Feature:g4}};function _f(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Vf(e){return{point:{x:e.pageX,y:e.pageY}}}const _4=e=>t=>c0(t)&&e(t,Vf(t));function Qh(e,t,n,i){return _f(e,t,_4(n),i)}const OC=1e-4,v4=1-OC,w4=1+OC,LC=.01,T4=0-LC,b4=0+LC;function ki(e){return e.max-e.min}function E4(e,t,n){return Math.abs(e-t)<=n}function CS(e,t,n,i=.5){e.origin=i,e.originPoint=tn(t.min,t.max,e.origin),e.scale=ki(n)/ki(t),e.translate=tn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=v4&&e.scale<=w4||isNaN(e.scale))&&(e.scale=1),(e.translate>=T4&&e.translate<=b4||isNaN(e.translate))&&(e.translate=0)}function Jh(e,t,n,i){CS(e.x,t.x,n.x,i?i.originX:void 0),CS(e.y,t.y,n.y,i?i.originY:void 0)}function IS(e,t,n){e.min=n.min+t.min,e.max=e.min+ki(t)}function S4(e,t,n){IS(e.x,t.x,n.x),IS(e.y,t.y,n.y)}function PS(e,t,n){e.min=t.min-n.min,e.max=e.min+ki(t)}function tf(e,t,n){PS(e.x,t.x,n.x),PS(e.y,t.y,n.y)}function Vr(e){return[e("x"),e("y")]}const NC=({current:e})=>e?e.ownerDocument.defaultView:null,kS=(e,t)=>Math.abs(e-t);function x4(e,t){const n=kS(e.x,t.x),i=kS(e.y,t.y);return Math.sqrt(n**2+i**2)}class VC{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Uy(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,O=x4(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!O)return;const{point:U}=E,{timestamp:H}=ri;this.history.push({...U,timestamp:H});const{onStart:F,onMove:K}=this.handlers;x||(F&&F(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,E)},this.handlePointerMove=(E,x)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=zy(x,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(E,x)=>{this.end();const{onEnd:O,onSessionEnd:U,resumeAnimation:H}=this.handlers;if(this.dragSnapToOrigin&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Uy(E.type==="pointercancel"?this.lastMoveEventInfo:zy(x,this.transformPagePoint),this.history);this.startEvent&&O&&O(E,F),U&&U(E,F)},!c0(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=s||window;const d=Vf(t),p=zy(d,this.transformPagePoint),{point:m}=p,{timestamp:v}=ri;this.history=[{...m,timestamp:v}];const{onSessionStart:T}=n;T&&T(t,Uy(p,this.history)),this.removeListeners=Of(Qh(this.contextWindow,"pointermove",this.handlePointerMove),Qh(this.contextWindow,"pointerup",this.handlePointerUp),Qh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ho(this.updatePoint)}}function zy(e,t){return t?{point:t(e.point)}:e}function MS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Uy({point:e},t){return{point:e,delta:MS(e,zC(t)),offset:MS(e,A4(t)),velocity:R4(t,.1)}}function A4(e){return e[0]}function zC(e){return e[e.length-1]}function R4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=zC(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>Bs(t)));)n--;if(!i)return{x:0,y:0};const l=js(s.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-i.x)/l,y:(s.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function C4(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?tn(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?tn(n,e,i.max):Math.min(e,n)),e}function DS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function I4(e,{top:t,left:n,bottom:i,right:s}){return{x:DS(e.x,n,s),y:DS(e.y,t,i)}}function OS(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function P4(e,t){return{x:OS(e.x,t.x),y:OS(e.y,t.y)}}function k4(e,t){let n=.5;const i=ki(e),s=ki(t);return s>i?n=df(t.min,t.max-i,e.min):i>s&&(n=df(e.min,e.max-s,t.min)),Ca(0,1,n)}function M4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const G_=.35;function D4(e=G_){return e===!1?e=0:e===!0&&(e=G_),{x:LS(e,"left","right"),y:LS(e,"top","bottom")}}function LS(e,t,n){return{min:NS(e,t),max:NS(e,n)}}function NS(e,t){return typeof e=="number"?e:e[t]||0}const O4=new WeakMap;class L4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vf(T).point)},c=(T,E)=>{const{drag:x,dragPropagation:O,onDragStart:U}=this.getProps();if(x&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HN(x),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vr(F=>{let K=this.getAxisMotionValue(F).get()||0;if(Fs.test(K)){const{projection:Z}=this.visualElement;if(Z&&Z.layout){const ot=Z.layout.layoutBox[F];ot&&(K=ki(ot)*(parseFloat(K)/100))}}this.originPoint[F]=K}),U&&Ke.postRender(()=>U(T,E)),H_(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},d=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E;const{dragPropagation:x,dragDirectionLock:O,onDirectionLock:U,onDrag:H}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:F}=E;if(O&&this.currentDirection===null){this.currentDirection=N4(F),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),H&&H(T,E)},p=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E,this.stop(T,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Vr(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new VC(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:NC(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!i)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ke.postRender(()=>d(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!ip(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=C4(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Yu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=I4(i.layoutBox,t):this.constraints=!1,this.elastic=D4(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=M4(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yu(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=VV(i,s.root,this.visualElement.getTransformPagePoint());let c=P4(s.layout.layoutBox,l);if(n){const d=n(OV(c));this.hasMutatedConstraints=!!d,d&&(c=TC(d))}return c}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},m=Vr(v=>{if(!ip(v,n,this.currentDirection))return;let T=p&&p[v]||{};c&&(T={min:0,max:0});const E=s?200:1e6,x=s?40:1e7,O={type:"inertia",velocity:i?t[v]:0,bounceStiffness:E,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(v,O)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return H_(this.visualElement,t),i.start(T0(t,i,0,n,this.visualElement,!1))}stopAnimation(){Vr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Vr(n=>{const{drag:i}=this.getProps();if(!ip(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[n];l.set(t[n]-tn(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Yu(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();s[c]=k4({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vr(c=>{if(!ip(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];d.set(tn(p,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;O4.set(this.visualElement,this);const t=this.visualElement.current,n=Qh(t,"pointerdown",p=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Yu(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ke.read(i);const c=_f(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(Vr(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=p[v].translate,T.set(T.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=G_,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function ip(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function N4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class V4 extends tl{constructor(t){super(t),this.removeGroupControls=jr,this.removeListeners=jr,this.controls=new L4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jr}unmount(){this.removeGroupControls(),this.removeListeners()}}const VS=e=>(t,n)=>{e&&Ke.postRender(()=>e(t,n))};class z4 extends tl{constructor(){super(...arguments),this.removePointerDownListener=jr}onPointerDown(t){this.session=new VC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:VS(t),onStart:VS(n),onMove:i,onEnd:(l,c)=>{delete this.session,s&&Ke.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=Qh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ah={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Yt.test(e))e=parseFloat(e);else return e;const n=zS(e,t.target.x),i=zS(e,t.target.y);return`${n}% ${i}%`}},U4={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=qo.parse(e);if(s.length>5)return i;const l=qo.createTransformer(e),c=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;s[0+c]/=d,s[1+c]/=p;const m=tn(d,p,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),l(s)}};let By=!1;class B4 extends Y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:l}=t;lV(j4),l&&(n.group&&n.group.add(l),i&&i.register&&s&&i.register(l),By&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),bp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,By=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Ke.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),u0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;By=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function UC(e){const[t,n]=oC(),i=Y.useContext(jv);return tt.jsx(B4,{...e,layoutGroup:i,switchLayoutGroup:Y.useContext(vC),isPresent:t,safeToRemove:n})}const j4={borderRadius:{...Ah,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ah,borderTopRightRadius:Ah,borderBottomLeftRadius:Ah,borderBottomRightRadius:Ah,boxShadow:U4};function F4(e,t,n){const i=_i(e)?e:cc(e);return i.start(T0("",i,t,n)),i.animation}const H4=(e,t)=>e.depth-t.depth;class q4{constructor(){this.children=[],this.isDirty=!1}add(t){qv(this.children,t),this.isDirty=!0}remove(t){Gv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(H4),this.isDirty=!1,this.children.forEach(t)}}function G4(e,t){const n=Fi.now(),i=({timestamp:s})=>{const l=s-n;l>=t&&(Ho(i),e(l-t))};return Ke.setup(i,!0),()=>Ho(i)}const BC=["TopLeft","TopRight","BottomLeft","BottomRight"],Z4=BC.length,US=e=>typeof e=="string"?parseFloat(e):e,BS=e=>typeof e=="number"||Yt.test(e);function W4(e,t,n,i,s,l){s?(e.opacity=tn(0,n.opacity??1,K4(i)),e.opacityExit=tn(t.opacity??1,0,$4(i))):l&&(e.opacity=tn(t.opacity??1,n.opacity??1,i));for(let c=0;c<Z4;c++){const d=`border${BC[c]}Radius`;let p=jS(t,d),m=jS(n,d);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||BS(p)===BS(m)?(e[d]=Math.max(tn(US(p),US(m),i),0),(Fs.test(m)||Fs.test(p))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=tn(t.rotate||0,n.rotate||0,i))}function jS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const K4=jC(0,.5,RR),$4=jC(.5,.95,jr);function jC(e,t,n){return i=>i<e?0:i>t?1:n(df(e,t,i))}function FS(e,t){e.min=t.min,e.max=t.max}function Nr(e,t){FS(e.x,t.x),FS(e.y,t.y)}function HS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qS(e,t,n,i,s){return e-=t,e=Hp(e,1/n,i),s!==void 0&&(e=Hp(e,1/s,i)),e}function Y4(e,t=0,n=1,i=.5,s,l=e,c=e){if(Fs.test(t)&&(t=parseFloat(t),t=tn(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=tn(l.min,l.max,i);e===l&&(d-=t),e.min=qS(e.min,t,n,d,s),e.max=qS(e.max,t,n,d,s)}function GS(e,t,[n,i,s],l,c){Y4(e,t[n],t[i],t[s],t.scale,l,c)}const X4=["x","scaleX","originX"],Q4=["y","scaleY","originY"];function ZS(e,t,n,i){GS(e.x,t,X4,n?n.x:void 0,i?i.x:void 0),GS(e.y,t,Q4,n?n.y:void 0,i?i.y:void 0)}function WS(e){return e.translate===0&&e.scale===1}function FC(e){return WS(e.x)&&WS(e.y)}function KS(e,t){return e.min===t.min&&e.max===t.max}function J4(e,t){return KS(e.x,t.x)&&KS(e.y,t.y)}function $S(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function HC(e,t){return $S(e.x,t.x)&&$S(e.y,t.y)}function YS(e){return ki(e.x)/ki(e.y)}function XS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class tz{constructor(){this.members=[]}add(t){qv(this.members,t),t.scheduleRender()}remove(t){if(Gv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ez(e,t,n){let i="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((s||l||c)&&(i=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:v,rotateX:T,rotateY:E,skewX:x,skewY:O}=n;m&&(i=`perspective(${m}px) ${i}`),v&&(i+=`rotate(${v}deg) `),T&&(i+=`rotateX(${T}deg) `),E&&(i+=`rotateY(${E}deg) `),x&&(i+=`skewX(${x}deg) `),O&&(i+=`skewY(${O}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(i+=`scale(${d}, ${p})`),i||"none"}const jy=["","X","Y","Z"],nz=1e3;let iz=0;function Fy(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function qC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=IC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ke,!(s||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&qC(i)}function GC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(c={},d=t?.()){this.id=iz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(az),this.nodes.forEach(cz),this.nodes.forEach(hz),this.nodes.forEach(oz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new q4)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Kv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=aC(c)&&!$N(c),this.instance=c;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let v,T=0;const E=()=>this.root.updateBlockedByResize=!1;Ke.read(()=>{T=window.innerWidth}),e(c,()=>{const x=window.innerWidth;x!==T&&(T=x,this.root.updateBlockedByResize=!0,v&&v(),v=G4(E,250),bp.hasAnimatedSinceResize&&(bp.hasAnimatedSinceResize=!1,this.nodes.forEach(t1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:E,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||m.getDefaultTransition()||gz,{onLayoutAnimationStart:U,onLayoutAnimationComplete:H}=m.getProps(),F=!this.targetLayout||!HC(this.targetLayout,x),K=!T&&E;if(this.options.layoutRoot||this.resumeFrom||K||T&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Z={...o0(O,"layout"),onPlay:U,onComplete:H};(m.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z),this.setAnimationOrigin(v,K)}else T||t1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fz),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(JS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uz),this.nodes.forEach(rz),this.nodes.forEach(sz)):this.nodes.forEach(JS),this.clearAllSnapshots();const d=Fi.now();ri.delta=Ca(0,1e3/60,d-ri.timestamp),ri.timestamp=d,ri.isProcessing=!0,Py.update.process(ri),Py.preRender.process(ri),Py.render.process(ri),ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lz),this.sharedNodes.forEach(dz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ki(this.snapshot.measuredBox.x)&&!ki(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!FC(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||zl(this.latestValues)||v)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),yz(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return pn();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_z))){const{scroll:m}=this.root;m&&(Xu(d.x,m.offset.x),Xu(d.y,m.offset.y))}return d}removeElementScroll(c){const d=pn();if(Nr(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:T}=m;m!==this.root&&v&&T.layoutScroll&&(v.wasRoot&&Nr(d,c),Xu(d.x,v.offset.x),Xu(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const p=pn();Nr(p,c);for(let m=0;m<this.path.length;m++){const v=this.path[m];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Qu(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),zl(v.latestValues)&&Qu(p,v.latestValues)}return zl(this.latestValues)&&Qu(p,this.latestValues),p}removeTransform(c){const d=pn();Nr(d,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!zl(m.latestValues))continue;U_(m.latestValues)&&m.updateSnapshot();const v=pn(),T=m.measurePageBox();Nr(v,T),ZS(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return zl(this.latestValues)&&ZS(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!(!this.layout||!(v||T))){if(this.resolvedRelativeTargetAt=ri.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),tf(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),S4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nr(this.target,this.layout.layoutBox),EC(this.target,this.targetDelta)):Nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),tf(this.relativeTargetOrigin,this.target,E.target),Nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||U_(this.parent.latestValues)||bC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===ri.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;Nr(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,E=this.treeScale.y;NV(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=pn());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HS(this.prevProjectionDelta.x,this.projectionDelta.x),HS(this.prevProjectionDelta.y,this.projectionDelta.y)),Jh(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==E||!XS(this.projectionDelta.x,this.prevProjectionDelta.x)||!XS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ju(),this.projectionDelta=Ju(),this.projectionDeltaWithTransform=Ju()}setAnimationOrigin(c,d=!1){const p=this.snapshot,m=p?p.latestValues:{},v={...this.latestValues},T=Ju();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=pn(),x=p?p.source:void 0,O=this.layout?this.layout.source:void 0,U=x!==O,H=this.getStack(),F=!H||H.members.length<=1,K=!!(U&&!F&&this.options.crossfade===!0&&!this.path.some(mz));this.animationProgress=0;let Z;this.mixTargetDelta=ot=>{const J=ot/1e3;e1(T.x,c.x,J),e1(T.y,c.y,J),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tf(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pz(this.relativeTarget,this.relativeTargetOrigin,E,J),Z&&J4(this.relativeTarget,Z)&&(this.isProjectionDirty=!1),Z||(Z=pn()),Nr(Z,this.relativeTarget)),U&&(this.animationValues=v,W4(v,m,this.latestValues,J,K,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{bp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cc(0)),this.currentAnimation=F4(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:m,latestValues:v}=c;if(!(!d||!p||!m)){if(this!==c&&this.layout&&m&&ZC(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||pn();const T=ki(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const E=ki(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+E}Nr(d,p),Qu(d,v),Jh(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new tz),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const m={};p.z&&Fy("z",c,m,this.animationValues);for(let v=0;v<jy.length;v++)Fy(`rotate${jy[v]}`,c,m,this.animationValues),Fy(`skew${jy[v]}`,c,m,this.animationValues);c.render();for(const v in m)c.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Tp(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Tp(d?.pointerEvents)||""),this.hasProjected&&!zl(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=m.animationValues||m.latestValues;this.applyTransformsToTarget();let T=ez(this.projectionDeltaWithTransform,this.treeScale,v);p&&(T=p(v,T)),c.transform=T;const{x:E,y:x}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${x.origin*100}% 0`,m.animationValues?c.opacity=m===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const O in yf){if(v[O]===void 0)continue;const{correct:U,applyTo:H,isCSSVariable:F}=yf[O],K=T==="none"?v[O]:U(v[O],m);if(H){const Z=H.length;for(let ot=0;ot<Z;ot++)c[H[ot]]=K}else F?this.options.visualElement.renderState.vars[O]=K:c[O]=K}this.options.layoutId&&(c.pointerEvents=m===this?Tp(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(QS),this.root.sharedNodes.clear()}}}function rz(e){e.updateLayout()}function sz(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,l=t.source!==e.layout.source;s==="size"?Vr(v=>{const T=l?t.measuredBox[v]:t.layoutBox[v],E=ki(T);T.min=n[v].min,T.max=T.min+E}):ZC(s,t.layoutBox,n)&&Vr(v=>{const T=l?t.measuredBox[v]:t.layoutBox[v],E=ki(n[v]);T.max=T.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+E)});const c=Ju();Jh(c,n,t.layoutBox);const d=Ju();l?Jh(d,e.applyTransform(i,!0),t.measuredBox):Jh(d,n,t.layoutBox);const p=!FC(c);let m=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:T,layout:E}=v;if(T&&E){const x=pn();tf(x,t.layoutBox,T.layoutBox);const O=pn();tf(O,n,E.layoutBox),HC(x,O)||(m=!0),v.options.layoutRoot&&(e.relativeTarget=O,e.relativeTargetOrigin=x,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function az(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function lz(e){e.clearSnapshot()}function QS(e){e.clearMeasurements()}function JS(e){e.isLayoutDirty=!1}function uz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function t1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cz(e){e.resolveTargetDelta()}function hz(e){e.calcProjection()}function fz(e){e.resetSkewAndRotation()}function dz(e){e.removeLeadSnapshot()}function e1(e,t,n){e.translate=tn(t.translate,0,n),e.scale=tn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function n1(e,t,n,i){e.min=tn(t.min,n.min,i),e.max=tn(t.max,n.max,i)}function pz(e,t,n,i){n1(e.x,t.x,n.x,i),n1(e.y,t.y,n.y,i)}function mz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gz={duration:.45,ease:[.4,0,.1,1]},i1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),r1=i1("applewebkit/")&&!i1("chrome/")?Math.round:jr;function s1(e){e.min=r1(e.min),e.max=r1(e.max)}function yz(e){s1(e.x),s1(e.y)}function ZC(e,t,n){return e==="position"||e==="preserve-aspect"&&!E4(YS(t),YS(n),.2)}function _z(e){return e!==e.root&&e.scroll?.wasRoot}const vz=GC({attachResizeListener:(e,t)=>_f(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hy={current:void 0},WC=GC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hy.current){const e=new vz({});e.mount(window),e.setOptions({layoutScroll:!0}),Hy.current=e}return Hy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wz={pan:{Feature:z4},drag:{Feature:V4,ProjectionNode:WC,MeasureLayout:UC}};function a1(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,l=i[s];l&&Ke.postRender(()=>l(t,Vf(t)))}class Tz extends tl{mount(){const{current:t}=this.node;t&&(this.unmount=qN(t,(n,i)=>(a1(this.node,i,"Start"),s=>a1(this.node,s,"End"))))}unmount(){}}class bz extends tl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Of(_f(this.node.current,"focus",()=>this.onFocus()),_f(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function o1(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),l=i[s];l&&Ke.postRender(()=>l(t,Vf(t)))}class Ez extends tl{mount(){const{current:t}=this.node;t&&(this.unmount=KN(t,(n,i)=>(o1(this.node,i,"Start"),(s,{success:l})=>o1(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Z_=new WeakMap,qy=new WeakMap,Sz=e=>{const t=Z_.get(e.target);t&&t(e)},xz=e=>{e.forEach(Sz)};function Az({root:e,...t}){const n=e||document;qy.has(n)||qy.set(n,{});const i=qy.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(xz,{root:e,...t})),i[s]}function Rz(e,t,n){const i=Az(t);return Z_.set(e,n),i.observe(e),()=>{Z_.delete(e),i.unobserve(e)}}const Cz={some:0,all:1};class Iz extends tl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Cz[s]},d=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),E=m?v:T;E&&E(p)};return Rz(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Pz(t,n))&&this.startObserver()}unmount(){}}function Pz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const kz={inView:{Feature:Iz},tap:{Feature:Ez},focus:{Feature:bz},hover:{Feature:Tz}},Mz={layout:{ProjectionNode:WC,MeasureLayout:UC}},Dz={...y4,...kz,...wz,...Mz},Pi=DV(Dz,ZV);function Oz(){return tt.jsxs("div",{className:"flex flex-col items-center justify-center text-center w-full max-w-2xl mx-auto font-sans mt-16",children:[tt.jsx(Pi.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-extrabold text-text",children:"Willkommen auf meiner Reise"}),tt.jsx(Pi.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-4 text-lg text-text/80",children:"Ein Portal voller Briefe und ein Reisetagebuch aus Porto."}),tt.jsxs(Pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mt-10 flex flex-col sm:flex-row gap-4",children:[tt.jsxs(Np,{to:"/blog",className:"flex items-center justify-center gap-2 px-8 py-3 bg-primary text-white font-bold rounded-full shadow-lg hover:bg-primary/90 transition-transform transform active:scale-95",children:[tt.jsx(Vp,{size:20}),tt.jsx("span",{children:"Blog ansehen"})]}),tt.jsxs(Np,{to:"/login",className:"flex items-center justify-center gap-2 px-8 py-3 bg-white text-primary font-bold rounded-full shadow-lg hover:bg-gray-100 transition-transform transform active:scale-95 border border-subtle",children:[tt.jsx(dR,{size:20}),tt.jsx("span",{children:"Login"})]})]})]})}function Lz(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Nz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zz={};function l1(e,t){return(zz.jsx?Vz:Nz).test(e)}const Uz=/[ \t\n\f\r]/g;function Bz(e){return typeof e=="object"?e.type==="text"?u1(e.value):!1:u1(e)}function u1(e){return e.replace(Uz,"")===""}class zf{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}zf.prototype.normal={};zf.prototype.property={};zf.prototype.space=void 0;function KC(e,t){const n={},i={};for(const s of e)Object.assign(n,s.property),Object.assign(i,s.normal);return new zf(n,i,t)}function W_(e){return e.toLowerCase()}class qi{constructor(t,n){this.attribute=n,this.property=t}}qi.prototype.attribute="";qi.prototype.booleanish=!1;qi.prototype.boolean=!1;qi.prototype.commaOrSpaceSeparated=!1;qi.prototype.commaSeparated=!1;qi.prototype.defined=!1;qi.prototype.mustUseProperty=!1;qi.prototype.number=!1;qi.prototype.overloadedBoolean=!1;qi.prototype.property="";qi.prototype.spaceSeparated=!1;qi.prototype.space=void 0;let jz=0;const se=tu(),xn=tu(),K_=tu(),Ct=tu(),Fe=tu(),ic=tu(),fr=tu();function tu(){return 2**++jz}const $_=Object.freeze(Object.defineProperty({__proto__:null,boolean:se,booleanish:xn,commaOrSpaceSeparated:fr,commaSeparated:ic,number:Ct,overloadedBoolean:K_,spaceSeparated:Fe},Symbol.toStringTag,{value:"Module"})),Gy=Object.keys($_);class b0 extends qi{constructor(t,n,i,s){let l=-1;if(super(t,n),c1(this,"space",s),typeof i=="number")for(;++l<Gy.length;){const c=Gy[l];c1(this,Gy[l],(i&$_[c])===$_[c])}}}b0.prototype.defined=!0;function c1(e,t,n){n&&(e[t]=n)}function Ac(e){const t={},n={};for(const[i,s]of Object.entries(e.properties)){const l=new b0(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,n[W_(i)]=i,n[W_(l.attribute)]=i}return new zf(t,n,e.space)}const $C=Ac({properties:{ariaActiveDescendant:null,ariaAtomic:xn,ariaAutoComplete:null,ariaBusy:xn,ariaChecked:xn,ariaColCount:Ct,ariaColIndex:Ct,ariaColSpan:Ct,ariaControls:Fe,ariaCurrent:null,ariaDescribedBy:Fe,ariaDetails:null,ariaDisabled:xn,ariaDropEffect:Fe,ariaErrorMessage:null,ariaExpanded:xn,ariaFlowTo:Fe,ariaGrabbed:xn,ariaHasPopup:null,ariaHidden:xn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Fe,ariaLevel:Ct,ariaLive:null,ariaModal:xn,ariaMultiLine:xn,ariaMultiSelectable:xn,ariaOrientation:null,ariaOwns:Fe,ariaPlaceholder:null,ariaPosInSet:Ct,ariaPressed:xn,ariaReadOnly:xn,ariaRelevant:null,ariaRequired:xn,ariaRoleDescription:Fe,ariaRowCount:Ct,ariaRowIndex:Ct,ariaRowSpan:Ct,ariaSelected:xn,ariaSetSize:Ct,ariaSort:null,ariaValueMax:Ct,ariaValueMin:Ct,ariaValueNow:Ct,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function YC(e,t){return t in e?e[t]:t}function XC(e,t){return YC(e,t.toLowerCase())}const Fz=Ac({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ic,acceptCharset:Fe,accessKey:Fe,action:null,allow:null,allowFullScreen:se,allowPaymentRequest:se,allowUserMedia:se,alt:null,as:null,async:se,autoCapitalize:null,autoComplete:Fe,autoFocus:se,autoPlay:se,blocking:Fe,capture:null,charSet:null,checked:se,cite:null,className:Fe,cols:Ct,colSpan:null,content:null,contentEditable:xn,controls:se,controlsList:Fe,coords:Ct|ic,crossOrigin:null,data:null,dateTime:null,decoding:null,default:se,defer:se,dir:null,dirName:null,disabled:se,download:K_,draggable:xn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:se,formTarget:null,headers:Fe,height:Ct,hidden:K_,high:Ct,href:null,hrefLang:null,htmlFor:Fe,httpEquiv:Fe,id:null,imageSizes:null,imageSrcSet:null,inert:se,inputMode:null,integrity:null,is:null,isMap:se,itemId:null,itemProp:Fe,itemRef:Fe,itemScope:se,itemType:Fe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:se,low:Ct,manifest:null,max:null,maxLength:Ct,media:null,method:null,min:null,minLength:Ct,multiple:se,muted:se,name:null,nonce:null,noModule:se,noValidate:se,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:se,optimum:Ct,pattern:null,ping:Fe,placeholder:null,playsInline:se,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:se,referrerPolicy:null,rel:Fe,required:se,reversed:se,rows:Ct,rowSpan:Ct,sandbox:Fe,scope:null,scoped:se,seamless:se,selected:se,shadowRootClonable:se,shadowRootDelegatesFocus:se,shadowRootMode:null,shape:null,size:Ct,sizes:null,slot:null,span:Ct,spellCheck:xn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ct,step:null,style:null,tabIndex:Ct,target:null,title:null,translate:null,type:null,typeMustMatch:se,useMap:null,value:xn,width:Ct,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Fe,axis:null,background:null,bgColor:null,border:Ct,borderColor:null,bottomMargin:Ct,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:se,declare:se,event:null,face:null,frame:null,frameBorder:null,hSpace:Ct,leftMargin:Ct,link:null,longDesc:null,lowSrc:null,marginHeight:Ct,marginWidth:Ct,noResize:se,noHref:se,noShade:se,noWrap:se,object:null,profile:null,prompt:null,rev:null,rightMargin:Ct,rules:null,scheme:null,scrolling:xn,standby:null,summary:null,text:null,topMargin:Ct,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ct,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:se,disableRemotePlayback:se,prefix:null,property:null,results:Ct,security:null,unselectable:null},space:"html",transform:XC}),Hz=Ac({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:fr,accentHeight:Ct,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ct,amplitude:Ct,arabicForm:null,ascent:Ct,attributeName:null,attributeType:null,azimuth:Ct,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ct,by:null,calcMode:null,capHeight:Ct,className:Fe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ct,diffuseConstant:Ct,direction:null,display:null,dur:null,divisor:Ct,dominantBaseline:null,download:se,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ct,enableBackground:null,end:null,event:null,exponent:Ct,externalResourcesRequired:null,fill:null,fillOpacity:Ct,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ic,g2:ic,glyphName:ic,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ct,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ct,horizOriginX:Ct,horizOriginY:Ct,id:null,ideographic:Ct,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ct,k:Ct,k1:Ct,k2:Ct,k3:Ct,k4:Ct,kernelMatrix:fr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ct,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ct,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ct,overlineThickness:Ct,paintOrder:null,panose1:null,path:null,pathLength:Ct,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Fe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ct,pointsAtY:Ct,pointsAtZ:Ct,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fr,rev:fr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fr,requiredFeatures:fr,requiredFonts:fr,requiredFormats:fr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ct,specularExponent:Ct,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ct,strikethroughThickness:Ct,string:null,stroke:null,strokeDashArray:fr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ct,strokeOpacity:Ct,strokeWidth:null,style:null,surfaceScale:Ct,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fr,tabIndex:Ct,tableValues:null,target:null,targetX:Ct,targetY:Ct,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ct,underlineThickness:Ct,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ct,values:null,vAlphabetic:Ct,vMathematical:Ct,vectorEffect:null,vHanging:Ct,vIdeographic:Ct,version:null,vertAdvY:Ct,vertOriginX:Ct,vertOriginY:Ct,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ct,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:YC}),QC=Ac({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),JC=Ac({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:XC}),tI=Ac({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),qz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Gz=/[A-Z]/g,h1=/-[a-z]/g,Zz=/^data[-\w.:]+$/i;function Wz(e,t){const n=W_(t);let i=t,s=qi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Zz.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(h1,$z);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!h1.test(l)){let c=l.replace(Gz,Kz);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}s=b0}return new s(i,t)}function Kz(e){return"-"+e.toLowerCase()}function $z(e){return e.charAt(1).toUpperCase()}const Yz=KC([$C,Fz,QC,JC,tI],"html"),E0=KC([$C,Hz,QC,JC,tI],"svg");function Xz(e){return e.join(" ").trim()}var Hu={},Zy,f1;function Qz(){if(f1)return Zy;f1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,p=`
`,m="/",v="*",T="",E="comment",x="declaration";Zy=function(U,H){if(typeof U!="string")throw new TypeError("First argument must be a string");if(!U)return[];H=H||{};var F=1,K=1;function Z(k){var it=k.match(t);it&&(F+=it.length);var W=k.lastIndexOf(p);K=~W?k.length-W:K+k.length}function ot(){var k={line:F,column:K};return function(it){return it.position=new J(k),P(),it}}function J(k){this.start=k,this.end={line:F,column:K},this.source=H.source}J.prototype.content=U;function $(k){var it=new Error(H.source+":"+F+":"+K+": "+k);if(it.reason=k,it.filename=H.source,it.line=F,it.column=K,it.source=U,!H.silent)throw it}function q(k){var it=k.exec(U);if(it){var W=it[0];return Z(W),U=U.slice(W.length),it}}function P(){q(n)}function D(k){var it;for(k=k||[];it=G();)it!==!1&&k.push(it);return k}function G(){var k=ot();if(!(m!=U.charAt(0)||v!=U.charAt(1))){for(var it=2;T!=U.charAt(it)&&(v!=U.charAt(it)||m!=U.charAt(it+1));)++it;if(it+=2,T===U.charAt(it-1))return $("End of comment missing");var W=U.slice(2,it-2);return K+=2,Z(W),U=U.slice(it),K+=2,k({type:E,comment:W})}}function N(){var k=ot(),it=q(i);if(it){if(G(),!q(s))return $("property missing ':'");var W=q(l),et=k({type:x,property:O(it[0].replace(e,T)),value:W?O(W[0].replace(e,T)):T});return q(c),et}}function M(){var k=[];D(k);for(var it;it=N();)it!==!1&&(k.push(it),D(k));return k}return P(),M()};function O(U){return U?U.replace(d,T):T}return Zy}var d1;function Jz(){if(d1)return Hu;d1=1;var e=Hu&&Hu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.default=n;var t=e(Qz());function n(i,s){var l=null;if(!i||typeof i!="string")return l;var c=(0,t.default)(i),d=typeof s=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,v=p.value;d?s(m,v,p):v&&(l=l||{},l[m]=v)}}),l}return Hu}var Rh={},p1;function tU(){if(p1)return Rh;p1=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,l=function(m){return!m||n.test(m)||e.test(m)},c=function(m,v){return v.toUpperCase()},d=function(m,v){return"".concat(v,"-")},p=function(m,v){return v===void 0&&(v={}),l(m)?m:(m=m.toLowerCase(),v.reactCompat?m=m.replace(s,d):m=m.replace(i,d),m.replace(t,c))};return Rh.camelCase=p,Rh}var Ch,m1;function eU(){if(m1)return Ch;m1=1;var e=Ch&&Ch.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(Jz()),n=tU();function i(s,l){var c={};return!s||typeof s!="string"||(0,t.default)(s,function(d,p){d&&p&&(c[(0,n.camelCase)(d,l)]=p)}),c}return i.default=i,Ch=i,Ch}var nU=eU();const iU=hm(nU),eI=nI("end"),S0=nI("start");function nI(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function rU(e){const t=S0(e),n=eI(e);if(t&&n)return{start:t,end:n}}function ef(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?g1(e.position):"start"in e||"end"in e?g1(e):"line"in e||"column"in e?Y_(e):""}function Y_(e){return y1(e&&e.line)+":"+y1(e&&e.column)}function g1(e){return Y_(e&&e.start)+"-"+Y_(e&&e.end)}function y1(e){return e&&typeof e=="number"?e:1}class wi extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",l={},c=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?s=t:!l.cause&&t&&(c=!0,s=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const d=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=d?d.line:void 0,this.name=ef(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}wi.prototype.file="";wi.prototype.name="";wi.prototype.reason="";wi.prototype.message="";wi.prototype.stack="";wi.prototype.column=void 0;wi.prototype.line=void 0;wi.prototype.ancestors=void 0;wi.prototype.cause=void 0;wi.prototype.fatal=void 0;wi.prototype.place=void 0;wi.prototype.ruleId=void 0;wi.prototype.source=void 0;const x0={}.hasOwnProperty,sU=new Map,aU=/[A-Z]/g,oU=new Set(["table","tbody","thead","tfoot","tr"]),lU=new Set(["td","th"]),iI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uU(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=yU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=gU(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?E0:Yz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=rI(s,e,void 0);return l&&typeof l!="string"?l:s.create(e,s.Fragment,{children:l||void 0},void 0)}function rI(e,t,n){if(t.type==="element")return cU(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return hU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return dU(e,t,n);if(t.type==="mdxjsEsm")return fU(e,t);if(t.type==="root")return pU(e,t,n);if(t.type==="text")return mU(e,t)}function cU(e,t,n){const i=e.schema;let s=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=E0,e.schema=s),e.ancestors.push(t);const l=aI(e,t.tagName,!1),c=_U(e,t);let d=R0(e,t);return oU.has(t.tagName)&&(d=d.filter(function(p){return typeof p=="string"?!Bz(p):!0})),sI(e,c,l,t),A0(c,d),e.ancestors.pop(),e.schema=i,e.create(t,l,c,n)}function hU(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}vf(e,t.position)}function fU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);vf(e,t.position)}function dU(e,t,n){const i=e.schema;let s=i;t.name==="svg"&&i.space==="html"&&(s=E0,e.schema=s),e.ancestors.push(t);const l=t.name===null?e.Fragment:aI(e,t.name,!0),c=vU(e,t),d=R0(e,t);return sI(e,c,l,t),A0(c,d),e.ancestors.pop(),e.schema=i,e.create(t,l,c,n)}function pU(e,t,n){const i={};return A0(i,R0(e,t)),e.create(t,e.Fragment,i,n)}function mU(e,t){return t.value}function sI(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function A0(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function gU(e,t,n){return i;function i(s,l,c,d){const m=Array.isArray(c.children)?n:t;return d?m(l,c,d):m(l,c)}}function yU(e,t){return n;function n(i,s,l,c){const d=Array.isArray(l.children),p=S0(i);return t(s,l,c,d,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function _U(e,t){const n={};let i,s;for(s in t.properties)if(s!=="children"&&x0.call(t.properties,s)){const l=wU(e,s,t.properties[s]);if(l){const[c,d]=l;e.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&lU.has(t.tagName)?i=d:n[c]=d}}if(i){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function vU(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const l=i.data.estree.body[0];l.type;const c=l.expression;c.type;const d=c.properties[0];d.type,Object.assign(n,e.evaluater.evaluateExpression(d.argument))}else vf(e,t.position);else{const s=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const d=i.value.data.estree.body[0];d.type,l=e.evaluater.evaluateExpression(d.expression)}else vf(e,t.position);else l=i.value===null?!0:i.value;n[s]=l}return n}function R0(e,t){const n=[];let i=-1;const s=e.passKeys?new Map:sU;for(;++i<t.children.length;){const l=t.children[i];let c;if(e.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const m=s.get(p)||0;c=p+"-"+m,s.set(p,m+1)}}const d=rI(e,l,c);d!==void 0&&n.push(d)}return n}function wU(e,t,n){const i=Wz(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Lz(n):Xz(n)),i.property==="style"){let s=typeof n=="object"?n:TU(e,String(n));return e.stylePropertyNameCase==="css"&&(s=bU(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?qz[i.property]||i.property:i.attribute,n]}}function TU(e,t){try{return iU(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,s=new wi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=iI+"#cannot-parse-style-attribute",s}}function aI(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let l=-1,c;for(;++l<s.length;){const d=l1(s[l])?{type:"Identifier",name:s[l]}:{type:"Literal",value:s[l]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(l&&d.type==="Literal"),optional:!1}:d}i=c}else i=l1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const s=i.value;return x0.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);vf(e)}function vf(e,t){const n=new wi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=iI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function bU(e){const t={};let n;for(n in e)x0.call(e,n)&&(t[EU(n)]=e[n]);return t}function EU(e){let t=e.replace(aU,SU);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function SU(e){return"-"+e.toLowerCase()}const Wy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xU={};function AU(e,t){const n=xU,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return oI(e,i,s)}function oI(e,t,n){if(RU(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return _1(e.children,t,n)}return Array.isArray(e)?_1(e,t,n):""}function _1(e,t,n){const i=[];let s=-1;for(;++s<e.length;)i[s]=oI(e[s],t,n);return i.join("")}function RU(e){return!!(e&&typeof e=="object")}const v1=document.createElement("i");function C0(e){const t="&"+e+";";v1.innerHTML=t;const n=v1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ys(e,t,n,i){const s=e.length;let l=0,c;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)c=Array.from(i),c.unshift(t,n),e.splice(...c);else for(n&&e.splice(t,n);l<i.length;)c=i.slice(l,l+1e4),c.unshift(t,0),e.splice(...c),l+=1e4,t+=1e4}function zr(e,t){return e.length>0?(Ys(e,e.length,0,t),e):t}const w1={}.hasOwnProperty;function CU(e){const t={};let n=-1;for(;++n<e.length;)IU(t,e[n]);return t}function IU(e,t){let n;for(n in t){const s=(w1.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let c;if(l)for(c in l){w1.call(s,c)||(s[c]=[]);const d=l[c];PU(s[c],Array.isArray(d)?d:d?[d]:[])}}}function PU(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Ys(e,0,0,i)}function lI(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function rc(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zs=el(/[A-Za-z]/),dr=el(/[\dA-Za-z]/),kU=el(/[#-'*+\--9=?A-Z^-~]/);function X_(e){return e!==null&&(e<32||e===127)}const Q_=el(/\d/),MU=el(/[\dA-Fa-f]/),DU=el(/[!-/:-@[-`{-~]/);function Qt(e){return e!==null&&e<-2}function Hi(e){return e!==null&&(e<0||e===32)}function Ee(e){return e===-2||e===-1||e===32}const OU=el(new RegExp("\\p{P}|\\p{S}","u")),LU=el(/\s/);function el(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Rc(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const l=e.charCodeAt(n);let c="";if(l===37&&dr(e.charCodeAt(n+1))&&dr(e.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const d=e.charCodeAt(n+1);l<56320&&d>56319&&d<57344?(c=String.fromCharCode(l,d),s=1):c=""}else c=String.fromCharCode(l);c&&(t.push(e.slice(i,n),encodeURIComponent(c)),i=n+s+1,c=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function qe(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return Ee(p)?(e.enter(n),d(p)):t(p)}function d(p){return Ee(p)&&l++<s?(e.consume(p),d):(e.exit(n),t(p))}}const NU={tokenize:VU};function VU(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),qe(e,t,"linePrefix")}function s(d){return e.enter("paragraph"),l(d)}function l(d){const p=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,c(d)}function c(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return Qt(d)?(e.consume(d),e.exit("chunkText"),l):(e.consume(d),c)}}const zU={tokenize:UU},T1={tokenize:BU};function UU(e){const t=this,n=[];let i=0,s,l,c;return d;function d(Z){if(i<n.length){const ot=n[i];return t.containerState=ot[1],e.attempt(ot[0].continuation,p,m)(Z)}return m(Z)}function p(Z){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&K();const ot=t.events.length;let J=ot,$;for(;J--;)if(t.events[J][0]==="exit"&&t.events[J][1].type==="chunkFlow"){$=t.events[J][1].end;break}F(i);let q=ot;for(;q<t.events.length;)t.events[q][1].end={...$},q++;return Ys(t.events,J+1,0,t.events.slice(ot)),t.events.length=q,m(Z)}return d(Z)}function m(Z){if(i===n.length){if(!s)return E(Z);if(s.currentConstruct&&s.currentConstruct.concrete)return O(Z);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(T1,v,T)(Z)}function v(Z){return s&&K(),F(i),E(Z)}function T(Z){return t.parser.lazy[t.now().line]=i!==n.length,c=t.now().offset,O(Z)}function E(Z){return t.containerState={},e.attempt(T1,x,O)(Z)}function x(Z){return i++,n.push([t.currentConstruct,t.containerState]),E(Z)}function O(Z){if(Z===null){s&&K(),F(0),e.consume(Z);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:l}),U(Z)}function U(Z){if(Z===null){H(e.exit("chunkFlow"),!0),F(0),e.consume(Z);return}return Qt(Z)?(e.consume(Z),H(e.exit("chunkFlow")),i=0,t.interrupt=void 0,d):(e.consume(Z),U)}function H(Z,ot){const J=t.sliceStream(Z);if(ot&&J.push(null),Z.previous=l,l&&(l.next=Z),l=Z,s.defineSkip(Z.start),s.write(J),t.parser.lazy[Z.start.line]){let $=s.events.length;for(;$--;)if(s.events[$][1].start.offset<c&&(!s.events[$][1].end||s.events[$][1].end.offset>c))return;const q=t.events.length;let P=q,D,G;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(D){G=t.events[P][1].end;break}D=!0}for(F(i),$=q;$<t.events.length;)t.events[$][1].end={...G},$++;Ys(t.events,P+1,0,t.events.slice(q)),t.events.length=$}}function F(Z){let ot=n.length;for(;ot-- >Z;){const J=n[ot];t.containerState=J[1],J[0].exit.call(t,e)}n.length=Z}function K(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function BU(e,t,n){return qe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function b1(e){if(e===null||Hi(e)||LU(e))return 1;if(OU(e))return 2}function I0(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!i.includes(l)&&(t=l(t,n),i.push(l))}return t}const J_={name:"attention",resolveAll:jU,tokenize:FU};function jU(e,t){let n=-1,i,s,l,c,d,p,m,v;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;p=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const T={...e[i][1].end},E={...e[n][1].start};E1(T,-p),E1(E,p),c={type:p>1?"strongSequence":"emphasisSequence",start:T,end:{...e[i][1].end}},d={type:p>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:E},l={type:p>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},s={type:p>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},e[i][1].end={...c.start},e[n][1].start={...d.end},m=[],e[i][1].end.offset-e[i][1].start.offset&&(m=zr(m,[["enter",e[i][1],t],["exit",e[i][1],t]])),m=zr(m,[["enter",s,t],["enter",c,t],["exit",c,t],["enter",l,t]]),m=zr(m,I0(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),m=zr(m,[["exit",l,t],["enter",d,t],["exit",d,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(v=2,m=zr(m,[["enter",e[n][1],t],["exit",e[n][1],t]])):v=0,Ys(e,i-1,n-i+3,m),n=i+m.length-v-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function FU(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=b1(i);let l;return c;function c(p){return l=p,e.enter("attentionSequence"),d(p)}function d(p){if(p===l)return e.consume(p),d;const m=e.exit("attentionSequence"),v=b1(p),T=!v||v===2&&s||n.includes(p),E=!s||s===2&&v||n.includes(i);return m._open=!!(l===42?T:T&&(s||!E)),m._close=!!(l===42?E:E&&(v||!T)),t(p)}}function E1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const HU={name:"autolink",tokenize:qU};function qU(e,t,n){let i=0;return s;function s(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(x){return zs(x)?(e.consume(x),c):x===64?n(x):m(x)}function c(x){return x===43||x===45||x===46||dr(x)?(i=1,d(x)):m(x)}function d(x){return x===58?(e.consume(x),i=0,p):(x===43||x===45||x===46||dr(x))&&i++<32?(e.consume(x),d):(i=0,m(x))}function p(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||X_(x)?n(x):(e.consume(x),p)}function m(x){return x===64?(e.consume(x),v):kU(x)?(e.consume(x),m):n(x)}function v(x){return dr(x)?T(x):n(x)}function T(x){return x===46?(e.consume(x),i=0,v):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):E(x)}function E(x){if((x===45||dr(x))&&i++<63){const O=x===45?E:T;return e.consume(x),O}return n(x)}}const vm={partial:!0,tokenize:GU};function GU(e,t,n){return i;function i(l){return Ee(l)?qe(e,s,"linePrefix")(l):s(l)}function s(l){return l===null||Qt(l)?t(l):n(l)}}const uI={continuation:{tokenize:WU},exit:KU,name:"blockQuote",tokenize:ZU};function ZU(e,t,n){const i=this;return s;function s(c){if(c===62){const d=i.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),l}return n(c)}function l(c){return Ee(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function WU(e,t,n){const i=this;return s;function s(c){return Ee(c)?qe(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return e.attempt(uI,t,n)(c)}}function KU(e){e.exit("blockQuote")}const cI={name:"characterEscape",tokenize:$U};function $U(e,t,n){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return DU(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const hI={name:"characterReference",tokenize:YU};function YU(e,t,n){const i=this;let s=0,l,c;return d;function d(T){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),p}function p(T){return T===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(T),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),l=31,c=dr,v(T))}function m(T){return T===88||T===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(T),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,c=MU,v):(e.enter("characterReferenceValue"),l=7,c=Q_,v(T))}function v(T){if(T===59&&s){const E=e.exit("characterReferenceValue");return c===dr&&!C0(i.sliceSerialize(E))?n(T):(e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(T)&&s++<l?(e.consume(T),v):n(T)}}const S1={partial:!0,tokenize:QU},x1={concrete:!0,name:"codeFenced",tokenize:XU};function XU(e,t,n){const i=this,s={partial:!0,tokenize:J};let l=0,c=0,d;return p;function p($){return m($)}function m($){const q=i.events[i.events.length-1];return l=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,d=$,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),v($)}function v($){return $===d?(c++,e.consume($),v):c<3?n($):(e.exit("codeFencedFenceSequence"),Ee($)?qe(e,T,"whitespace")($):T($))}function T($){return $===null||Qt($)?(e.exit("codeFencedFence"),i.interrupt?t($):e.check(S1,U,ot)($)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),E($))}function E($){return $===null||Qt($)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),T($)):Ee($)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),qe(e,x,"whitespace")($)):$===96&&$===d?n($):(e.consume($),E)}function x($){return $===null||Qt($)?T($):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),O($))}function O($){return $===null||Qt($)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),T($)):$===96&&$===d?n($):(e.consume($),O)}function U($){return e.attempt(s,ot,H)($)}function H($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),F}function F($){return l>0&&Ee($)?qe(e,K,"linePrefix",l+1)($):K($)}function K($){return $===null||Qt($)?e.check(S1,U,ot)($):(e.enter("codeFlowValue"),Z($))}function Z($){return $===null||Qt($)?(e.exit("codeFlowValue"),K($)):(e.consume($),Z)}function ot($){return e.exit("codeFenced"),t($)}function J($,q,P){let D=0;return G;function G(W){return $.enter("lineEnding"),$.consume(W),$.exit("lineEnding"),N}function N(W){return $.enter("codeFencedFence"),Ee(W)?qe($,M,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):M(W)}function M(W){return W===d?($.enter("codeFencedFenceSequence"),k(W)):P(W)}function k(W){return W===d?(D++,$.consume(W),k):D>=c?($.exit("codeFencedFenceSequence"),Ee(W)?qe($,it,"whitespace")(W):it(W)):P(W)}function it(W){return W===null||Qt(W)?($.exit("codeFencedFence"),q(W)):P(W)}}}function QU(e,t,n){const i=this;return s;function s(c){return c===null?n(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l)}function l(c){return i.parser.lazy[i.now().line]?n(c):t(c)}}const Ky={name:"codeIndented",tokenize:t3},JU={partial:!0,tokenize:e3};function t3(e,t,n){const i=this;return s;function s(m){return e.enter("codeIndented"),qe(e,l,"linePrefix",5)(m)}function l(m){const v=i.events[i.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?c(m):n(m)}function c(m){return m===null?p(m):Qt(m)?e.attempt(JU,c,p)(m):(e.enter("codeFlowValue"),d(m))}function d(m){return m===null||Qt(m)?(e.exit("codeFlowValue"),c(m)):(e.consume(m),d)}function p(m){return e.exit("codeIndented"),t(m)}}function e3(e,t,n){const i=this;return s;function s(c){return i.parser.lazy[i.now().line]?n(c):Qt(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):qe(e,l,"linePrefix",5)(c)}function l(c){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(c):Qt(c)?s(c):n(c)}}const n3={name:"codeText",previous:r3,resolve:i3,tokenize:s3};function i3(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function r3(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function s3(e,t,n){let i=0,s,l;return c;function c(T){return e.enter("codeText"),e.enter("codeTextSequence"),d(T)}function d(T){return T===96?(e.consume(T),i++,d):(e.exit("codeTextSequence"),p(T))}function p(T){return T===null?n(T):T===32?(e.enter("space"),e.consume(T),e.exit("space"),p):T===96?(l=e.enter("codeTextSequence"),s=0,v(T)):Qt(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),p):(e.enter("codeTextData"),m(T))}function m(T){return T===null||T===32||T===96||Qt(T)?(e.exit("codeTextData"),p(T)):(e.consume(T),m)}function v(T){return T===96?(e.consume(T),s++,v):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(T)):(l.type="codeTextData",m(T))}}class a3{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const s=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&Ih(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ih(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ih(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ih(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ih(this.left,n.reverse())}}}function Ih(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function fI(e){const t={};let n=-1,i,s,l,c,d,p,m;const v=new a3(e);for(;++n<v.length;){for(;n in t;)n=t[n];if(i=v.get(n),n&&i[1].type==="chunkFlow"&&v.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,o3(v,n)),n=t[n],m=!0);else if(i[1]._container){for(l=n,s=void 0;l--;)if(c=v.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(s&&(v.get(s)[1].type="lineEndingBlank"),c[1].type="lineEnding",s=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;s&&(i[1].end={...v.get(s)[1].start},d=v.slice(s,n),d.unshift(i),v.splice(s,n-s+1,d))}}return Ys(e,0,Number.POSITIVE_INFINITY,v.slice(0)),!m}function o3(e,t){const n=e.get(t)[1],i=e.get(t)[2];let s=t-1;const l=[];let c=n._tokenizer;c||(c=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,p=[],m={};let v,T,E=-1,x=n,O=0,U=0;const H=[U];for(;x;){for(;e.get(++s)[1]!==x;);l.push(s),x._tokenizer||(v=i.sliceStream(x),x.next||v.push(null),T&&c.defineSkip(x.start),x._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(v),x._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),T=x,x=x.next}for(x=n;++E<d.length;)d[E][0]==="exit"&&d[E-1][0]==="enter"&&d[E][1].type===d[E-1][1].type&&d[E][1].start.line!==d[E][1].end.line&&(U=E+1,H.push(U),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(c.events=[],x?(x._tokenizer=void 0,x.previous=void 0):H.pop(),E=H.length;E--;){const F=d.slice(H[E],H[E+1]),K=l.pop();p.push([K,K+F.length-1]),e.splice(K,2,F)}for(p.reverse(),E=-1;++E<p.length;)m[O+p[E][0]]=O+p[E][1],O+=p[E][1]-p[E][0]-1;return m}const l3={resolve:c3,tokenize:h3},u3={partial:!0,tokenize:f3};function c3(e){return fI(e),e}function h3(e,t){let n;return i;function i(d){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?l(d):Qt(d)?e.check(u3,c,l)(d):(e.consume(d),s)}function l(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function c(d){return e.consume(d),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function f3(e,t,n){const i=this;return s;function s(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),qe(e,l,"linePrefix")}function l(c){if(c===null||Qt(c))return n(c);const d=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(c):e.interrupt(i.parser.constructs.flow,n,t)(c)}}function dI(e,t,n,i,s,l,c,d,p){const m=p||Number.POSITIVE_INFINITY;let v=0;return T;function T(F){return F===60?(e.enter(i),e.enter(s),e.enter(l),e.consume(F),e.exit(l),E):F===null||F===32||F===41||X_(F)?n(F):(e.enter(i),e.enter(c),e.enter(d),e.enter("chunkString",{contentType:"string"}),U(F))}function E(F){return F===62?(e.enter(l),e.consume(F),e.exit(l),e.exit(s),e.exit(i),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),x(F))}function x(F){return F===62?(e.exit("chunkString"),e.exit(d),E(F)):F===null||F===60||Qt(F)?n(F):(e.consume(F),F===92?O:x)}function O(F){return F===60||F===62||F===92?(e.consume(F),x):x(F)}function U(F){return!v&&(F===null||F===41||Hi(F))?(e.exit("chunkString"),e.exit(d),e.exit(c),e.exit(i),t(F)):v<m&&F===40?(e.consume(F),v++,U):F===41?(e.consume(F),v--,U):F===null||F===32||F===40||X_(F)?n(F):(e.consume(F),F===92?H:U)}function H(F){return F===40||F===41||F===92?(e.consume(F),U):U(F)}}function pI(e,t,n,i,s,l){const c=this;let d=0,p;return m;function m(x){return e.enter(i),e.enter(s),e.consume(x),e.exit(s),e.enter(l),v}function v(x){return d>999||x===null||x===91||x===93&&!p||x===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?n(x):x===93?(e.exit(l),e.enter(s),e.consume(x),e.exit(s),e.exit(i),t):Qt(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),v):(e.enter("chunkString",{contentType:"string"}),T(x))}function T(x){return x===null||x===91||x===93||Qt(x)||d++>999?(e.exit("chunkString"),v(x)):(e.consume(x),p||(p=!Ee(x)),x===92?E:T)}function E(x){return x===91||x===92||x===93?(e.consume(x),d++,T):T(x)}}function mI(e,t,n,i,s,l){let c;return d;function d(E){return E===34||E===39||E===40?(e.enter(i),e.enter(s),e.consume(E),e.exit(s),c=E===40?41:E,p):n(E)}function p(E){return E===c?(e.enter(s),e.consume(E),e.exit(s),e.exit(i),t):(e.enter(l),m(E))}function m(E){return E===c?(e.exit(l),p(c)):E===null?n(E):Qt(E)?(e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),qe(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===c||E===null||Qt(E)?(e.exit("chunkString"),m(E)):(e.consume(E),E===92?T:v)}function T(E){return E===c||E===92?(e.consume(E),v):v(E)}}function nf(e,t){let n;return i;function i(s){return Qt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):Ee(s)?qe(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}const d3={name:"definition",tokenize:m3},p3={partial:!0,tokenize:g3};function m3(e,t,n){const i=this;let s;return l;function l(x){return e.enter("definition"),c(x)}function c(x){return pI.call(i,e,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function d(x){return s=rc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),p):n(x)}function p(x){return Hi(x)?nf(e,m)(x):m(x)}function m(x){return dI(e,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function v(x){return e.attempt(p3,T,T)(x)}function T(x){return Ee(x)?qe(e,E,"whitespace")(x):E(x)}function E(x){return x===null||Qt(x)?(e.exit("definition"),i.parser.defined.push(s),t(x)):n(x)}}function g3(e,t,n){return i;function i(d){return Hi(d)?nf(e,s)(d):n(d)}function s(d){return mI(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function l(d){return Ee(d)?qe(e,c,"whitespace")(d):c(d)}function c(d){return d===null||Qt(d)?t(d):n(d)}}const y3={name:"hardBreakEscape",tokenize:_3};function _3(e,t,n){return i;function i(l){return e.enter("hardBreakEscape"),e.consume(l),s}function s(l){return Qt(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const v3={name:"headingAtx",resolve:w3,tokenize:T3};function w3(e,t){let n=e.length-2,i=3,s,l;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},l={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Ys(e,i,n-i+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function T3(e,t,n){let i=0;return s;function s(v){return e.enter("atxHeading"),l(v)}function l(v){return e.enter("atxHeadingSequence"),c(v)}function c(v){return v===35&&i++<6?(e.consume(v),c):v===null||Hi(v)?(e.exit("atxHeadingSequence"),d(v)):n(v)}function d(v){return v===35?(e.enter("atxHeadingSequence"),p(v)):v===null||Qt(v)?(e.exit("atxHeading"),t(v)):Ee(v)?qe(e,d,"whitespace")(v):(e.enter("atxHeadingText"),m(v))}function p(v){return v===35?(e.consume(v),p):(e.exit("atxHeadingSequence"),d(v))}function m(v){return v===null||v===35||Hi(v)?(e.exit("atxHeadingText"),d(v)):(e.consume(v),m)}}const b3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],A1=["pre","script","style","textarea"],E3={concrete:!0,name:"htmlFlow",resolveTo:A3,tokenize:R3},S3={partial:!0,tokenize:I3},x3={partial:!0,tokenize:C3};function A3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function R3(e,t,n){const i=this;let s,l,c,d,p;return m;function m(j){return v(j)}function v(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),T}function T(j){return j===33?(e.consume(j),E):j===47?(e.consume(j),l=!0,U):j===63?(e.consume(j),s=3,i.interrupt?t:R):zs(j)?(e.consume(j),c=String.fromCharCode(j),H):n(j)}function E(j){return j===45?(e.consume(j),s=2,x):j===91?(e.consume(j),s=5,d=0,O):zs(j)?(e.consume(j),s=4,i.interrupt?t:R):n(j)}function x(j){return j===45?(e.consume(j),i.interrupt?t:R):n(j)}function O(j){const Rt="CDATA[";return j===Rt.charCodeAt(d++)?(e.consume(j),d===Rt.length?i.interrupt?t:M:O):n(j)}function U(j){return zs(j)?(e.consume(j),c=String.fromCharCode(j),H):n(j)}function H(j){if(j===null||j===47||j===62||Hi(j)){const Rt=j===47,kt=c.toLowerCase();return!Rt&&!l&&A1.includes(kt)?(s=1,i.interrupt?t(j):M(j)):b3.includes(c.toLowerCase())?(s=6,Rt?(e.consume(j),F):i.interrupt?t(j):M(j)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(j):l?K(j):Z(j))}return j===45||dr(j)?(e.consume(j),c+=String.fromCharCode(j),H):n(j)}function F(j){return j===62?(e.consume(j),i.interrupt?t:M):n(j)}function K(j){return Ee(j)?(e.consume(j),K):G(j)}function Z(j){return j===47?(e.consume(j),G):j===58||j===95||zs(j)?(e.consume(j),ot):Ee(j)?(e.consume(j),Z):G(j)}function ot(j){return j===45||j===46||j===58||j===95||dr(j)?(e.consume(j),ot):J(j)}function J(j){return j===61?(e.consume(j),$):Ee(j)?(e.consume(j),J):Z(j)}function $(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),p=j,q):Ee(j)?(e.consume(j),$):P(j)}function q(j){return j===p?(e.consume(j),p=null,D):j===null||Qt(j)?n(j):(e.consume(j),q)}function P(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Hi(j)?J(j):(e.consume(j),P)}function D(j){return j===47||j===62||Ee(j)?Z(j):n(j)}function G(j){return j===62?(e.consume(j),N):n(j)}function N(j){return j===null||Qt(j)?M(j):Ee(j)?(e.consume(j),N):n(j)}function M(j){return j===45&&s===2?(e.consume(j),et):j===60&&s===1?(e.consume(j),rt):j===62&&s===4?(e.consume(j),ht):j===63&&s===3?(e.consume(j),R):j===93&&s===5?(e.consume(j),Pt):Qt(j)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(S3,wt,k)(j)):j===null||Qt(j)?(e.exit("htmlFlowData"),k(j)):(e.consume(j),M)}function k(j){return e.check(x3,it,wt)(j)}function it(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),W}function W(j){return j===null||Qt(j)?k(j):(e.enter("htmlFlowData"),M(j))}function et(j){return j===45?(e.consume(j),R):M(j)}function rt(j){return j===47?(e.consume(j),c="",st):M(j)}function st(j){if(j===62){const Rt=c.toLowerCase();return A1.includes(Rt)?(e.consume(j),ht):M(j)}return zs(j)&&c.length<8?(e.consume(j),c+=String.fromCharCode(j),st):M(j)}function Pt(j){return j===93?(e.consume(j),R):M(j)}function R(j){return j===62?(e.consume(j),ht):j===45&&s===2?(e.consume(j),R):M(j)}function ht(j){return j===null||Qt(j)?(e.exit("htmlFlowData"),wt(j)):(e.consume(j),ht)}function wt(j){return e.exit("htmlFlow"),t(j)}}function C3(e,t,n){const i=this;return s;function s(c){return Qt(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):n(c)}function l(c){return i.parser.lazy[i.now().line]?n(c):t(c)}}function I3(e,t,n){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(vm,t,n)}}const P3={name:"htmlText",tokenize:k3};function k3(e,t,n){const i=this;let s,l,c;return d;function d(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),p}function p(R){return R===33?(e.consume(R),m):R===47?(e.consume(R),J):R===63?(e.consume(R),Z):zs(R)?(e.consume(R),P):n(R)}function m(R){return R===45?(e.consume(R),v):R===91?(e.consume(R),l=0,O):zs(R)?(e.consume(R),K):n(R)}function v(R){return R===45?(e.consume(R),x):n(R)}function T(R){return R===null?n(R):R===45?(e.consume(R),E):Qt(R)?(c=T,rt(R)):(e.consume(R),T)}function E(R){return R===45?(e.consume(R),x):T(R)}function x(R){return R===62?et(R):R===45?E(R):T(R)}function O(R){const ht="CDATA[";return R===ht.charCodeAt(l++)?(e.consume(R),l===ht.length?U:O):n(R)}function U(R){return R===null?n(R):R===93?(e.consume(R),H):Qt(R)?(c=U,rt(R)):(e.consume(R),U)}function H(R){return R===93?(e.consume(R),F):U(R)}function F(R){return R===62?et(R):R===93?(e.consume(R),F):U(R)}function K(R){return R===null||R===62?et(R):Qt(R)?(c=K,rt(R)):(e.consume(R),K)}function Z(R){return R===null?n(R):R===63?(e.consume(R),ot):Qt(R)?(c=Z,rt(R)):(e.consume(R),Z)}function ot(R){return R===62?et(R):Z(R)}function J(R){return zs(R)?(e.consume(R),$):n(R)}function $(R){return R===45||dr(R)?(e.consume(R),$):q(R)}function q(R){return Qt(R)?(c=q,rt(R)):Ee(R)?(e.consume(R),q):et(R)}function P(R){return R===45||dr(R)?(e.consume(R),P):R===47||R===62||Hi(R)?D(R):n(R)}function D(R){return R===47?(e.consume(R),et):R===58||R===95||zs(R)?(e.consume(R),G):Qt(R)?(c=D,rt(R)):Ee(R)?(e.consume(R),D):et(R)}function G(R){return R===45||R===46||R===58||R===95||dr(R)?(e.consume(R),G):N(R)}function N(R){return R===61?(e.consume(R),M):Qt(R)?(c=N,rt(R)):Ee(R)?(e.consume(R),N):D(R)}function M(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),s=R,k):Qt(R)?(c=M,rt(R)):Ee(R)?(e.consume(R),M):(e.consume(R),it)}function k(R){return R===s?(e.consume(R),s=void 0,W):R===null?n(R):Qt(R)?(c=k,rt(R)):(e.consume(R),k)}function it(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Hi(R)?D(R):(e.consume(R),it)}function W(R){return R===47||R===62||Hi(R)?D(R):n(R)}function et(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):n(R)}function rt(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),st}function st(R){return Ee(R)?qe(e,Pt,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):Pt(R)}function Pt(R){return e.enter("htmlTextData"),c(R)}}const P0={name:"labelEnd",resolveAll:L3,resolveTo:N3,tokenize:V3},M3={tokenize:z3},D3={tokenize:U3},O3={tokenize:B3};function L3(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",t+=s}}return e.length!==n.length&&Ys(e,0,e.length,n),e}function N3(e,t){let n=e.length,i=0,s,l,c,d;for(;n--;)if(s=e[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(c){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(c=n);const p={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[l][1].start},end:{...e[c][1].end}},v={type:"labelText",start:{...e[l+i+2][1].end},end:{...e[c-2][1].start}};return d=[["enter",p,t],["enter",m,t]],d=zr(d,e.slice(l+1,l+i+3)),d=zr(d,[["enter",v,t]]),d=zr(d,I0(t.parser.constructs.insideSpan.null,e.slice(l+i+4,c-3),t)),d=zr(d,[["exit",v,t],e[c-2],e[c-1],["exit",m,t]]),d=zr(d,e.slice(c+1)),d=zr(d,[["exit",p,t]]),Ys(e,l,e.length,d),e}function V3(e,t,n){const i=this;let s=i.events.length,l,c;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){l=i.events[s][1];break}return d;function d(E){return l?l._inactive?T(E):(c=i.parser.defined.includes(rc(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(E),e.exit("labelMarker"),e.exit("labelEnd"),p):n(E)}function p(E){return E===40?e.attempt(M3,v,c?v:T)(E):E===91?e.attempt(D3,v,c?m:T)(E):c?v(E):T(E)}function m(E){return e.attempt(O3,v,T)(E)}function v(E){return t(E)}function T(E){return l._balanced=!0,n(E)}}function z3(e,t,n){return i;function i(T){return e.enter("resource"),e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),s}function s(T){return Hi(T)?nf(e,l)(T):l(T)}function l(T){return T===41?v(T):dI(e,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function c(T){return Hi(T)?nf(e,p)(T):v(T)}function d(T){return n(T)}function p(T){return T===34||T===39||T===40?mI(e,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):v(T)}function m(T){return Hi(T)?nf(e,v)(T):v(T)}function v(T){return T===41?(e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),e.exit("resource"),t):n(T)}}function U3(e,t,n){const i=this;return s;function s(d){return pI.call(i,e,l,c,"reference","referenceMarker","referenceString")(d)}function l(d){return i.parser.defined.includes(rc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(d):n(d)}function c(d){return n(d)}}function B3(e,t,n){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const j3={name:"labelStartImage",resolveAll:P0.resolveAll,tokenize:F3};function F3(e,t,n){const i=this;return s;function s(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),l}function l(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),c):n(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):t(d)}}const H3={name:"labelStartLink",resolveAll:P0.resolveAll,tokenize:q3};function q3(e,t,n){const i=this;return s;function s(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):t(c)}}const $y={name:"lineEnding",tokenize:G3};function G3(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),qe(e,t,"linePrefix")}}const Ep={name:"thematicBreak",tokenize:Z3};function Z3(e,t,n){let i=0,s;return l;function l(m){return e.enter("thematicBreak"),c(m)}function c(m){return s=m,d(m)}function d(m){return m===s?(e.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||Qt(m))?(e.exit("thematicBreak"),t(m)):n(m)}function p(m){return m===s?(e.consume(m),i++,p):(e.exit("thematicBreakSequence"),Ee(m)?qe(e,d,"whitespace")(m):d(m))}}const Ui={continuation:{tokenize:Y3},exit:Q3,name:"list",tokenize:$3},W3={partial:!0,tokenize:J3},K3={partial:!0,tokenize:X3};function $3(e,t,n){const i=this,s=i.events[i.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,c=0;return d;function d(x){const O=i.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(O==="listUnordered"?!i.containerState.marker||x===i.containerState.marker:Q_(x)){if(i.containerState.type||(i.containerState.type=O,e.enter(O,{_container:!0})),O==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(Ep,n,m)(x):m(x);if(!i.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(x)}return n(x)}function p(x){return Q_(x)&&++c<10?(e.consume(x),p):(!i.interrupt||c<2)&&(i.containerState.marker?x===i.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),m(x)):n(x)}function m(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||x,e.check(vm,i.interrupt?n:v,e.attempt(W3,E,T))}function v(x){return i.containerState.initialBlankLine=!0,l++,E(x)}function T(x){return Ee(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),E):n(x)}function E(x){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function Y3(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(vm,s,l);function s(d){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,qe(e,t,"listItemIndent",i.containerState.size+1)(d)}function l(d){return i.containerState.furtherBlankLines||!Ee(d)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(d)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(K3,t,c)(d))}function c(d){return i.containerState._closeFlow=!0,i.interrupt=void 0,qe(e,e.attempt(Ui,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function X3(e,t,n){const i=this;return qe(e,s,"listItemIndent",i.containerState.size+1);function s(l){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?t(l):n(l)}}function Q3(e){e.exit(this.containerState.type)}function J3(e,t,n){const i=this;return qe(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const c=i.events[i.events.length-1];return!Ee(l)&&c&&c[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const R1={name:"setextUnderline",resolveTo:tB,tokenize:eB};function tB(e,t){let n=e.length,i,s,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const c={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",c,t]),e.splice(l+1,0,["exit",e[i][1],t]),e[i][1].end={...e[l][1].end}):e[i][1]=c,e.push(["exit",c,t]),e}function eB(e,t,n){const i=this;let s;return l;function l(m){let v=i.events.length,T;for(;v--;)if(i.events[v][1].type!=="lineEnding"&&i.events[v][1].type!=="linePrefix"&&i.events[v][1].type!=="content"){T=i.events[v][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||T)?(e.enter("setextHeadingLine"),s=m,c(m)):n(m)}function c(m){return e.enter("setextHeadingLineSequence"),d(m)}function d(m){return m===s?(e.consume(m),d):(e.exit("setextHeadingLineSequence"),Ee(m)?qe(e,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Qt(m)?(e.exit("setextHeadingLine"),t(m)):n(m)}}const nB={tokenize:iB};function iB(e){const t=this,n=e.attempt(vm,i,e.attempt(this.parser.constructs.flowInitial,s,qe(e,e.attempt(this.parser.constructs.flow,s,e.attempt(l3,s)),"linePrefix")));return n;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const rB={resolveAll:yI()},sB=gI("string"),aB=gI("text");function gI(e){return{resolveAll:yI(e==="text"?oB:void 0),tokenize:t};function t(n){const i=this,s=this.parser.constructs[e],l=n.attempt(s,c,d);return c;function c(v){return m(v)?l(v):d(v)}function d(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),p}function p(v){return m(v)?(n.exit("data"),l(v)):(n.consume(v),p)}function m(v){if(v===null)return!0;const T=s[v];let E=-1;if(T)for(;++E<T.length;){const x=T[E];if(!x.previous||x.previous.call(i,i.previous))return!0}return!1}}}function yI(e){return t;function t(n,i){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(n,i):n}}function oB(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let l=s.length,c=-1,d=0,p;for(;l--;){const m=s[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(m===-2)p=!0,d++;else if(m!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(d=0),d){const m={type:n===e.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:i.start._bufferIndex+c,_index:i.start._index+l,line:i.end.line,column:i.end.column-d,offset:i.end.offset-d},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(e.splice(n,0,["enter",m,t],["exit",m,t]),n+=2)}n++}return e}const lB={42:Ui,43:Ui,45:Ui,48:Ui,49:Ui,50:Ui,51:Ui,52:Ui,53:Ui,54:Ui,55:Ui,56:Ui,57:Ui,62:uI},uB={91:d3},cB={[-2]:Ky,[-1]:Ky,32:Ky},hB={35:v3,42:Ep,45:[R1,Ep],60:E3,61:R1,95:Ep,96:x1,126:x1},fB={38:hI,92:cI},dB={[-5]:$y,[-4]:$y,[-3]:$y,33:j3,38:hI,42:J_,60:[HU,P3],91:H3,92:[y3,cI],93:P0,95:J_,96:n3},pB={null:[J_,rB]},mB={null:[42,95]},gB={null:[]},yB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:mB,contentInitial:uB,disable:gB,document:lB,flow:hB,flowInitial:cB,insideSpan:pB,string:fB,text:dB},Symbol.toStringTag,{value:"Module"}));function _B(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},l=[];let c=[],d=[];const p={attempt:q(J),check:q($),consume:K,enter:Z,exit:ot,interrupt:q($,{interrupt:!0})},m={code:null,containerState:{},defineSkip:U,events:[],now:O,parser:e,previous:null,sliceSerialize:E,sliceStream:x,write:T};let v=t.tokenize.call(m,p);return t.resolveAll&&l.push(t),m;function T(N){return c=zr(c,N),H(),c[c.length-1]!==null?[]:(P(t,0),m.events=I0(l,m.events,m),m.events)}function E(N,M){return wB(x(N),M)}function x(N){return vB(c,N)}function O(){const{_bufferIndex:N,_index:M,line:k,column:it,offset:W}=i;return{_bufferIndex:N,_index:M,line:k,column:it,offset:W}}function U(N){s[N.line]=N.column,G()}function H(){let N;for(;i._index<c.length;){const M=c[i._index];if(typeof M=="string")for(N=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===N&&i._bufferIndex<M.length;)F(M.charCodeAt(i._bufferIndex));else F(M)}}function F(N){v=v(N)}function K(N){Qt(N)?(i.line++,i.column=1,i.offset+=N===-3?2:1,G()):N!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=N}function Z(N,M){const k=M||{};return k.type=N,k.start=O(),m.events.push(["enter",k,m]),d.push(k),k}function ot(N){const M=d.pop();return M.end=O(),m.events.push(["exit",M,m]),M}function J(N,M){P(N,M.from)}function $(N,M){M.restore()}function q(N,M){return k;function k(it,W,et){let rt,st,Pt,R;return Array.isArray(it)?wt(it):"tokenize"in it?wt([it]):ht(it);function ht(At){return ge;function ge(Jt){const gn=Jt!==null&&At[Jt],Pn=Jt!==null&&At.null,zn=[...Array.isArray(gn)?gn:gn?[gn]:[],...Array.isArray(Pn)?Pn:Pn?[Pn]:[]];return wt(zn)(Jt)}}function wt(At){return rt=At,st=0,At.length===0?et:j(At[st])}function j(At){return ge;function ge(Jt){return R=D(),Pt=At,At.partial||(m.currentConstruct=At),At.name&&m.parser.constructs.disable.null.includes(At.name)?kt():At.tokenize.call(M?Object.assign(Object.create(m),M):m,p,Rt,kt)(Jt)}}function Rt(At){return N(Pt,R),W}function kt(At){return R.restore(),++st<rt.length?j(rt[st]):et}}}function P(N,M){N.resolveAll&&!l.includes(N)&&l.push(N),N.resolve&&Ys(m.events,M,m.events.length-M,N.resolve(m.events.slice(M),m)),N.resolveTo&&(m.events=N.resolveTo(m.events,m))}function D(){const N=O(),M=m.previous,k=m.currentConstruct,it=m.events.length,W=Array.from(d);return{from:it,restore:et};function et(){i=N,m.previous=M,m.currentConstruct=k,m.events.length=it,d=W,G()}}function G(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function vB(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let c;if(n===s)c=[e[n].slice(i,l)];else{if(c=e.slice(n,s),i>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(i):c.shift()}l>0&&c.push(e[s].slice(0,l))}return c}function wB(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const l=e[n];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&s)continue;c=" ";break}default:c=String.fromCharCode(l)}s=l===-2,i.push(c)}return i.join("")}function TB(e){const i={constructs:CU([yB,...(e||{}).extensions||[]]),content:s(NU),defined:[],document:s(zU),flow:s(nB),lazy:{},string:s(sB),text:s(aB)};return i;function s(l){return c;function c(d){return _B(i,l,d)}}}function bB(e){for(;!fI(e););return e}const C1=/[\0\t\n\r]/g;function EB(){let e=1,t="",n=!0,i;return s;function s(l,c,d){const p=[];let m,v,T,E,x;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),T=0,t="",n&&(l.charCodeAt(0)===65279&&T++,n=void 0);T<l.length;){if(C1.lastIndex=T,m=C1.exec(l),E=m&&m.index!==void 0?m.index:l.length,x=l.charCodeAt(E),!m){t=l.slice(T);break}if(x===10&&T===E&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),T<E&&(p.push(l.slice(T,E)),e+=E-T),x){case 0:{p.push(65533),e++;break}case 9:{for(v=Math.ceil(e/4)*4,p.push(-2);e++<v;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:i=!0,e=1}T=E+1}return d&&(i&&p.push(-5),t&&p.push(t),p.push(null)),p}}const SB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xB(e){return e.replace(SB,AB)}function AB(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return lI(n.slice(l?2:1),l?16:10)}return C0(n)||e}const _I={}.hasOwnProperty;function RB(e,t,n){return typeof t!="string"&&(n=t,t=void 0),CB(n)(bB(TB(n).document().write(EB()(e,t,!0))))}function CB(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ys),autolinkProtocol:D,autolinkEmail:D,atxHeading:l(Hr),blockQuote:l(Pn),characterEscape:D,characterReference:D,codeFenced:l(zn),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(zn,c),codeText:l(Ti,c),codeTextData:D,data:D,codeFlowValue:D,definition:l(Gi),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(Fr),hardBreakEscape:l(ms),hardBreakTrailing:l(ms),htmlFlow:l(kn,c),htmlFlowData:D,htmlText:l(kn,c),htmlTextData:D,image:l(gs),label:c,link:l(ys),listItem:l(Zi),listItemValue:E,listOrdered:l(gr,T),listUnordered:l(gr),paragraph:l(Oa),reference:j,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(Hr),strong:l(qr),thematicBreak:l(La)},exit:{atxHeading:p(),atxHeadingSequence:J,autolink:p(),autolinkEmail:gn,autolinkProtocol:Jt,blockQuote:p(),characterEscapeValue:G,characterReferenceMarkerHexadecimal:kt,characterReferenceMarkerNumeric:kt,characterReferenceValue:At,characterReference:ge,codeFenced:p(H),codeFencedFence:U,codeFencedFenceInfo:x,codeFencedFenceMeta:O,codeFlowValue:G,codeIndented:p(F),codeText:p(W),codeTextData:G,data:G,definition:p(),definitionDestinationString:ot,definitionLabelString:K,definitionTitleString:Z,emphasis:p(),hardBreakEscape:p(M),hardBreakTrailing:p(M),htmlFlow:p(k),htmlFlowData:G,htmlText:p(it),htmlTextData:G,image:p(rt),label:Pt,labelText:st,lineEnding:N,link:p(et),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:Rt,resourceDestinationString:R,resourceTitleString:ht,resource:wt,setextHeading:p(P),setextHeadingLineSequence:q,setextHeadingText:$,strong:p(),thematicBreak:p()}};vI(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(gt){let bt={type:"root",children:[]};const zt={stack:[bt],tokenStack:[],config:t,enter:d,exit:m,buffer:c,resume:v,data:n},Ft=[];let ye=-1;for(;++ye<gt.length;)if(gt[ye][1].type==="listOrdered"||gt[ye][1].type==="listUnordered")if(gt[ye][0]==="enter")Ft.push(ye);else{const Un=Ft.pop();ye=s(gt,Un,ye)}for(ye=-1;++ye<gt.length;){const Un=t[gt[ye][0]];_I.call(Un,gt[ye][1].type)&&Un[gt[ye][1].type].call(Object.assign({sliceSerialize:gt[ye][2].sliceSerialize},zt),gt[ye][1])}if(zt.tokenStack.length>0){const Un=zt.tokenStack[zt.tokenStack.length-1];(Un[1]||I1).call(zt,void 0,Un[0])}for(bt.position={start:Co(gt.length>0?gt[0][1].start:{line:1,column:1,offset:0}),end:Co(gt.length>0?gt[gt.length-2][1].end:{line:1,column:1,offset:0})},ye=-1;++ye<t.transforms.length;)bt=t.transforms[ye](bt)||bt;return bt}function s(gt,bt,zt){let Ft=bt-1,ye=-1,Un=!1,$n,yn,Yn,_n;for(;++Ft<=zt;){const nn=gt[Ft];switch(nn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{nn[0]==="enter"?ye++:ye--,_n=void 0;break}case"lineEndingBlank":{nn[0]==="enter"&&($n&&!_n&&!ye&&!Yn&&(Yn=Ft),_n=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_n=void 0}if(!ye&&nn[0]==="enter"&&nn[1].type==="listItemPrefix"||ye===-1&&nn[0]==="exit"&&(nn[1].type==="listUnordered"||nn[1].type==="listOrdered")){if($n){let vn=Ft;for(yn=void 0;vn--;){const Xn=gt[vn];if(Xn[1].type==="lineEnding"||Xn[1].type==="lineEndingBlank"){if(Xn[0]==="exit")continue;yn&&(gt[yn][1].type="lineEndingBlank",Un=!0),Xn[1].type="lineEnding",yn=vn}else if(!(Xn[1].type==="linePrefix"||Xn[1].type==="blockQuotePrefix"||Xn[1].type==="blockQuotePrefixWhitespace"||Xn[1].type==="blockQuoteMarker"||Xn[1].type==="listItemIndent"))break}Yn&&(!yn||Yn<yn)&&($n._spread=!0),$n.end=Object.assign({},yn?gt[yn][1].start:nn[1].end),gt.splice(yn||Ft,0,["exit",$n,nn[2]]),Ft++,zt++}if(nn[1].type==="listItemPrefix"){const vn={type:"listItem",_spread:!1,start:Object.assign({},nn[1].start),end:void 0};$n=vn,gt.splice(Ft,0,["enter",vn,nn[2]]),Ft++,zt++,Yn=void 0,_n=!0}}}return gt[bt][1]._spread=Un,zt}function l(gt,bt){return zt;function zt(Ft){d.call(this,gt(Ft),Ft),bt&&bt.call(this,Ft)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(gt,bt,zt){this.stack[this.stack.length-1].children.push(gt),this.stack.push(gt),this.tokenStack.push([bt,zt||void 0]),gt.position={start:Co(bt.start),end:void 0}}function p(gt){return bt;function bt(zt){gt&&gt.call(this,zt),m.call(this,zt)}}function m(gt,bt){const zt=this.stack.pop(),Ft=this.tokenStack.pop();if(Ft)Ft[0].type!==gt.type&&(bt?bt.call(this,gt,Ft[0]):(Ft[1]||I1).call(this,gt,Ft[0]));else throw new Error("Cannot close `"+gt.type+"` ("+ef({start:gt.start,end:gt.end})+"): its not open");zt.position.end=Co(gt.end)}function v(){return AU(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function E(gt){if(this.data.expectingFirstListItemValue){const bt=this.stack[this.stack.length-2];bt.start=Number.parseInt(this.sliceSerialize(gt),10),this.data.expectingFirstListItemValue=void 0}}function x(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.lang=gt}function O(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.meta=gt}function U(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function H(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.value=gt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function F(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.value=gt.replace(/(\r?\n|\r)$/g,"")}function K(gt){const bt=this.resume(),zt=this.stack[this.stack.length-1];zt.label=bt,zt.identifier=rc(this.sliceSerialize(gt)).toLowerCase()}function Z(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.title=gt}function ot(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.url=gt}function J(gt){const bt=this.stack[this.stack.length-1];if(!bt.depth){const zt=this.sliceSerialize(gt).length;bt.depth=zt}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function q(gt){const bt=this.stack[this.stack.length-1];bt.depth=this.sliceSerialize(gt).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function D(gt){const zt=this.stack[this.stack.length-1].children;let Ft=zt[zt.length-1];(!Ft||Ft.type!=="text")&&(Ft=ta(),Ft.position={start:Co(gt.start),end:void 0},zt.push(Ft)),this.stack.push(Ft)}function G(gt){const bt=this.stack.pop();bt.value+=this.sliceSerialize(gt),bt.position.end=Co(gt.end)}function N(gt){const bt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const zt=bt.children[bt.children.length-1];zt.position.end=Co(gt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(bt.type)&&(D.call(this,gt),G.call(this,gt))}function M(){this.data.atHardBreak=!0}function k(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.value=gt}function it(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.value=gt}function W(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.value=gt}function et(){const gt=this.stack[this.stack.length-1];if(this.data.inReference){const bt=this.data.referenceType||"shortcut";gt.type+="Reference",gt.referenceType=bt,delete gt.url,delete gt.title}else delete gt.identifier,delete gt.label;this.data.referenceType=void 0}function rt(){const gt=this.stack[this.stack.length-1];if(this.data.inReference){const bt=this.data.referenceType||"shortcut";gt.type+="Reference",gt.referenceType=bt,delete gt.url,delete gt.title}else delete gt.identifier,delete gt.label;this.data.referenceType=void 0}function st(gt){const bt=this.sliceSerialize(gt),zt=this.stack[this.stack.length-2];zt.label=xB(bt),zt.identifier=rc(bt).toLowerCase()}function Pt(){const gt=this.stack[this.stack.length-1],bt=this.resume(),zt=this.stack[this.stack.length-1];if(this.data.inReference=!0,zt.type==="link"){const Ft=gt.children;zt.children=Ft}else zt.alt=bt}function R(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.url=gt}function ht(){const gt=this.resume(),bt=this.stack[this.stack.length-1];bt.title=gt}function wt(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function Rt(gt){const bt=this.resume(),zt=this.stack[this.stack.length-1];zt.label=bt,zt.identifier=rc(this.sliceSerialize(gt)).toLowerCase(),this.data.referenceType="full"}function kt(gt){this.data.characterReferenceType=gt.type}function At(gt){const bt=this.sliceSerialize(gt),zt=this.data.characterReferenceType;let Ft;zt?(Ft=lI(bt,zt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ft=C0(bt);const ye=this.stack[this.stack.length-1];ye.value+=Ft}function ge(gt){const bt=this.stack.pop();bt.position.end=Co(gt.end)}function Jt(gt){G.call(this,gt);const bt=this.stack[this.stack.length-1];bt.url=this.sliceSerialize(gt)}function gn(gt){G.call(this,gt);const bt=this.stack[this.stack.length-1];bt.url="mailto:"+this.sliceSerialize(gt)}function Pn(){return{type:"blockquote",children:[]}}function zn(){return{type:"code",lang:null,meta:null,value:""}}function Ti(){return{type:"inlineCode",value:""}}function Gi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fr(){return{type:"emphasis",children:[]}}function Hr(){return{type:"heading",depth:0,children:[]}}function ms(){return{type:"break"}}function kn(){return{type:"html",value:""}}function gs(){return{type:"image",title:null,url:"",alt:null}}function ys(){return{type:"link",title:null,url:"",children:[]}}function gr(gt){return{type:"list",ordered:gt.type==="listOrdered",start:null,spread:gt._spread,children:[]}}function Zi(gt){return{type:"listItem",spread:gt._spread,checked:null,children:[]}}function Oa(){return{type:"paragraph",children:[]}}function qr(){return{type:"strong",children:[]}}function ta(){return{type:"text",value:""}}function La(){return{type:"thematicBreak"}}}function Co(e){return{line:e.line,column:e.column,offset:e.offset}}function vI(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?vI(e,i):IB(e,i)}}function IB(e,t){let n;for(n in t)if(_I.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function I1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ef({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ef({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ef({start:t.start,end:t.end})+") is still open")}function PB(e){const t=this;t.parser=n;function n(i){return RB(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function kB(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function MB(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function DB(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function OB(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function LB(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function NB(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),s=Rc(i.toLowerCase()),l=e.footnoteOrder.indexOf(i);let c,d=e.footnoteCounts.get(i);d===void 0?(d=0,e.footnoteOrder.push(i),c=e.footnoteOrder.length):c=l+1,d+=1,e.footnoteCounts.set(i,d);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,m),e.applyData(t,m)}function VB(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zB(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function wI(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const s=e.all(t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const c=s[s.length-1];return c&&c.type==="text"?c.value+=i:s.push({type:"text",value:i}),s}function UB(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return wI(e,t);const s={src:Rc(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const l={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,l),e.applyData(t,l)}function BB(e,t){const n={src:Rc(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function jB(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function FB(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return wI(e,t);const s={href:Rc(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const l={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function HB(e,t){const n={href:Rc(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function qB(e,t,n){const i=e.all(t),s=n?GB(n):TI(t),l={},c=[];if(typeof t.checked=="boolean"){const v=i[0];let T;v&&v.type==="element"&&v.tagName==="p"?T=v:(T={type:"element",tagName:"p",properties:{},children:[]},i.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let d=-1;for(;++d<i.length;){const v=i[d];(s||d!==0||v.type!=="element"||v.tagName!=="p")&&c.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!s?c.push(...v.children):c.push(v)}const p=i[i.length-1];p&&(s||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return e.patch(t,m),e.applyData(t,m)}function GB(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=TI(n[i])}return t}function TI(e){const t=e.spread;return t??e.children.length>1}function ZB(e,t){const n={},i=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const c=i[s];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function WB(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KB(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function $B(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YB(e,t){const n=e.all(t),i=n.shift(),s=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],c),s.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},d=S0(t.children[1]),p=eI(t.children[t.children.length-1]);d&&p&&(c.position={start:d,end:p}),s.push(c)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,l),e.applyData(t,l)}function XB(e,t,n){const i=n?n.children:void 0,l=(i?i.indexOf(t):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,d=c?c.length:t.children.length;let p=-1;const m=[];for(;++p<d;){const T=t.children[p],E={},x=c?c[p]:void 0;x&&(E.align=x);let O={type:"element",tagName:l,properties:E,children:[]};T&&(O.children=e.all(T),e.patch(T,O),O=e.applyData(T,O)),m.push(O)}const v={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,v),e.applyData(t,v)}function QB(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const P1=9,k1=32;function JB(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const l=[];for(;i;)l.push(M1(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return l.push(M1(t.slice(s),s>0,!1)),l.join("")}function M1(e,t,n){let i=0,s=e.length;if(t){let l=e.codePointAt(i);for(;l===P1||l===k1;)i++,l=e.codePointAt(i)}if(n){let l=e.codePointAt(s-1);for(;l===P1||l===k1;)s--,l=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function t6(e,t){const n={type:"text",value:JB(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function e6(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const n6={blockquote:kB,break:MB,code:DB,delete:OB,emphasis:LB,footnoteReference:NB,heading:VB,html:zB,imageReference:UB,image:BB,inlineCode:jB,linkReference:FB,link:HB,listItem:qB,list:ZB,paragraph:WB,root:KB,strong:$B,table:YB,tableCell:QB,tableRow:XB,text:t6,thematicBreak:e6,toml:rp,yaml:rp,definition:rp,footnoteDefinition:rp};function rp(){}const bI=-1,wm=0,rf=1,qp=2,k0=3,M0=4,D0=5,O0=6,EI=7,SI=8,D1=typeof self=="object"?self:globalThis,i6=(e,t)=>{const n=(s,l)=>(e.set(l,s),s),i=s=>{if(e.has(s))return e.get(s);const[l,c]=t[s];switch(l){case wm:case bI:return n(c,s);case rf:{const d=n([],s);for(const p of c)d.push(i(p));return d}case qp:{const d=n({},s);for(const[p,m]of c)d[i(p)]=i(m);return d}case k0:return n(new Date(c),s);case M0:{const{source:d,flags:p}=c;return n(new RegExp(d,p),s)}case D0:{const d=n(new Map,s);for(const[p,m]of c)d.set(i(p),i(m));return d}case O0:{const d=n(new Set,s);for(const p of c)d.add(i(p));return d}case EI:{const{name:d,message:p}=c;return n(new D1[d](p),s)}case SI:return n(BigInt(c),s);case"BigInt":return n(Object(BigInt(c)),s);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return n(new DataView(d),c)}}return n(new D1[l](c),s)};return i},O1=e=>i6(new Map,e)(0),qu="",{toString:r6}={},{keys:s6}=Object,Ph=e=>{const t=typeof e;if(t!=="object"||!e)return[wm,t];const n=r6.call(e).slice(8,-1);switch(n){case"Array":return[rf,qu];case"Object":return[qp,qu];case"Date":return[k0,qu];case"RegExp":return[M0,qu];case"Map":return[D0,qu];case"Set":return[O0,qu];case"DataView":return[rf,n]}return n.includes("Array")?[rf,n]:n.includes("Error")?[EI,n]:[qp,n]},sp=([e,t])=>e===wm&&(t==="function"||t==="symbol"),a6=(e,t,n,i)=>{const s=(c,d)=>{const p=i.push(c)-1;return n.set(d,p),p},l=c=>{if(n.has(c))return n.get(c);let[d,p]=Ph(c);switch(d){case wm:{let v=c;switch(p){case"bigint":d=SI,v=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);v=null;break;case"undefined":return s([bI],c)}return s([d,v],c)}case rf:{if(p){let E=c;return p==="DataView"?E=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(E=new Uint8Array(c)),s([p,[...E]],c)}const v=[],T=s([d,v],c);for(const E of c)v.push(l(E));return T}case qp:{if(p)switch(p){case"BigInt":return s([p,c.toString()],c);case"Boolean":case"Number":case"String":return s([p,c.valueOf()],c)}if(t&&"toJSON"in c)return l(c.toJSON());const v=[],T=s([d,v],c);for(const E of s6(c))(e||!sp(Ph(c[E])))&&v.push([l(E),l(c[E])]);return T}case k0:return s([d,c.toISOString()],c);case M0:{const{source:v,flags:T}=c;return s([d,{source:v,flags:T}],c)}case D0:{const v=[],T=s([d,v],c);for(const[E,x]of c)(e||!(sp(Ph(E))||sp(Ph(x))))&&v.push([l(E),l(x)]);return T}case O0:{const v=[],T=s([d,v],c);for(const E of c)(e||!sp(Ph(E)))&&v.push(l(E));return T}}const{message:m}=c;return s([d,{name:p,message:m}],c)};return l},L1=(e,{json:t,lossy:n}={})=>{const i=[];return a6(!(t||n),!!t,new Map,i)(e),i},Gp=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?O1(L1(e,t)):structuredClone(e):(e,t)=>O1(L1(e,t));function o6(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function l6(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function u6(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||o6,i=e.options.footnoteBackLabel||l6,s=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let p=-1;for(;++p<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[p]);if(!m)continue;const v=e.all(m),T=String(m.identifier).toUpperCase(),E=Rc(T.toLowerCase());let x=0;const O=[],U=e.footnoteCounts.get(T);for(;U!==void 0&&++x<=U;){O.length>0&&O.push({type:"text",value:" "});let K=typeof n=="string"?n:n(p,x);typeof K=="string"&&(K={type:"text",value:K}),O.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+E+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,x),className:["data-footnote-backref"]},children:Array.isArray(K)?K:[K]})}const H=v[v.length-1];if(H&&H.type==="element"&&H.tagName==="p"){const K=H.children[H.children.length-1];K&&K.type==="text"?K.value+=" ":H.children.push({type:"text",value:" "}),H.children.push(...O)}else v.push(...O);const F={type:"element",tagName:"li",properties:{id:t+"fn-"+E},children:e.wrap(v,!0)};e.patch(m,F),d.push(F)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Gp(c),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const xI=(function(e){if(e==null)return d6;if(typeof e=="function")return Tm(e);if(typeof e=="object")return Array.isArray(e)?c6(e):h6(e);if(typeof e=="string")return f6(e);throw new Error("Expected function, string, or object as test")});function c6(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=xI(e[n]);return Tm(i);function i(...s){let l=-1;for(;++l<t.length;)if(t[l].apply(this,s))return!0;return!1}}function h6(e){const t=e;return Tm(n);function n(i){const s=i;let l;for(l in e)if(s[l]!==t[l])return!1;return!0}}function f6(e){return Tm(t);function t(n){return n&&n.type===e}}function Tm(e){return t;function t(n,i,s){return!!(p6(n)&&e.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function d6(){return!0}function p6(e){return e!==null&&typeof e=="object"&&"type"in e}const AI=[],m6=!0,N1=!1,g6="skip";function y6(e,t,n,i){let s;typeof t=="function"&&typeof n!="function"?(i=n,n=t):s=t;const l=xI(s),c=i?-1:1;d(e,void 0,[])();function d(p,m,v){const T=p&&typeof p=="object"?p:{};if(typeof T.type=="string"){const x=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(p.type+(x?"<"+x+">":""))+")"})}return E;function E(){let x=AI,O,U,H;if((!t||l(p,m,v[v.length-1]||void 0))&&(x=_6(n(p,v)),x[0]===N1))return x;if("children"in p&&p.children){const F=p;if(F.children&&x[0]!==g6)for(U=(i?F.children.length:-1)+c,H=v.concat(F);U>-1&&U<F.children.length;){const K=F.children[U];if(O=d(K,U,H)(),O[0]===N1)return O;U=typeof O[1]=="number"?O[1]:U+c}}return x}}}function _6(e){return Array.isArray(e)?e:typeof e=="number"?[m6,e]:e==null?AI:[e]}function RI(e,t,n,i){let s,l,c;typeof t=="function"&&typeof n!="function"?(l=void 0,c=t,s=n):(l=t,c=n,s=i),y6(e,l,d,s);function d(p,m){const v=m[m.length-1],T=v?v.children.indexOf(p):void 0;return c(p,T,v)}}const tv={}.hasOwnProperty,v6={};function w6(e,t){const n=t||v6,i=new Map,s=new Map,l=new Map,c={...n6,...n.handlers},d={all:m,applyData:b6,definitionById:i,footnoteById:s,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:n,patch:T6,wrap:S6};return RI(e,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const T=v.type==="definition"?i:s,E=String(v.identifier).toUpperCase();T.has(E)||T.set(E,v)}}),d;function p(v,T){const E=v.type,x=d.handlers[E];if(tv.call(d.handlers,E)&&x)return x(d,v,T);if(d.options.passThrough&&d.options.passThrough.includes(E)){if("children"in v){const{children:U,...H}=v,F=Gp(H);return F.children=d.all(v),F}return Gp(v)}return(d.options.unknownHandler||E6)(d,v,T)}function m(v){const T=[];if("children"in v){const E=v.children;let x=-1;for(;++x<E.length;){const O=d.one(E[x],v);if(O){if(x&&E[x-1].type==="break"&&(!Array.isArray(O)&&O.type==="text"&&(O.value=V1(O.value)),!Array.isArray(O)&&O.type==="element")){const U=O.children[0];U&&U.type==="text"&&(U.value=V1(U.value))}Array.isArray(O)?T.push(...O):T.push(O)}}}return T}}function T6(e,t){e.position&&(t.position=rU(e))}function b6(e,t){let n=t;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,l=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const c="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:c}}n.type==="element"&&l&&Object.assign(n.properties,Gp(l)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function E6(e,t){const n=t.data||{},i="value"in t&&!(tv.call(n,"hProperties")||tv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function S6(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function V1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function z1(e,t){const n=w6(e,t),i=n.one(e,void 0),s=u6(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&l.children.push({type:"text",value:`
`},s),l}function x6(e,t){return e&&"run"in e?async function(n,i){const s=z1(n,{file:i,...t});await e.run(s,i)}:function(n,i){return z1(n,{file:i,...e||t})}}function U1(e){if(e)throw e}var Yy,B1;function A6(){if(B1)return Yy;B1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},l=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var v=e.call(m,"constructor"),T=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!v&&!T)return!1;var E;for(E in m);return typeof E>"u"||e.call(m,E)},c=function(m,v){n&&v.name==="__proto__"?n(m,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):m[v.name]=v.newValue},d=function(m,v){if(v==="__proto__")if(e.call(m,v)){if(i)return i(m,v).value}else return;return m[v]};return Yy=function p(){var m,v,T,E,x,O,U=arguments[0],H=1,F=arguments.length,K=!1;for(typeof U=="boolean"&&(K=U,U=arguments[1]||{},H=2),(U==null||typeof U!="object"&&typeof U!="function")&&(U={});H<F;++H)if(m=arguments[H],m!=null)for(v in m)T=d(U,v),E=d(m,v),U!==E&&(K&&E&&(l(E)||(x=s(E)))?(x?(x=!1,O=T&&s(T)?T:[]):O=T&&l(T)?T:{},c(U,{name:v,newValue:p(K,O,E)})):typeof E<"u"&&c(U,{name:v,newValue:E}));return U},Yy}var R6=A6();const Xy=hm(R6);function ev(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function C6(){const e=[],t={run:n,use:i};return t;function n(...s){let l=-1;const c=s.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...s);function d(p,...m){const v=e[++l];let T=-1;if(p){c(p);return}for(;++T<s.length;)(m[T]===null||m[T]===void 0)&&(m[T]=s[T]);s=m,v?I6(v,d)(...m):c(null,...m)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function I6(e,t){let n;return i;function i(...c){const d=e.length>c.length;let p;d&&c.push(s);try{p=e.apply(this,c)}catch(m){const v=m;if(d&&n)throw v;return s(v)}d||(p&&p.then&&typeof p.then=="function"?p.then(l,s):p instanceof Error?s(p):l(p))}function s(c,...d){n||(n=!0,t(c,...d))}function l(c){s(null,c)}}const Ns={basename:P6,dirname:k6,extname:M6,join:D6,sep:"/"};function P6(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Uf(e);let n=0,i=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(l){n=s+1;break}}else i<0&&(l=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let c=-1,d=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(l){n=s+1;break}}else c<0&&(l=!0,c=s+1),d>-1&&(e.codePointAt(s)===t.codePointAt(d--)?d<0&&(i=s):(d=-1,i=c));return n===i?i=c:i<0&&(i=e.length),e.slice(n,i)}function k6(e){if(Uf(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function M6(e){Uf(e);let t=e.length,n=-1,i=0,s=-1,l=0,c;for(;t--;){const d=e.codePointAt(t);if(d===47){if(c){i=t+1;break}continue}n<0&&(c=!0,n=t+1),d===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function D6(...e){let t=-1,n;for(;++t<e.length;)Uf(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":O6(n)}function O6(e){Uf(e);const t=e.codePointAt(0)===47;let n=L6(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function L6(e,t){let n="",i=0,s=-1,l=0,c=-1,d,p;for(;++c<=e.length;){if(c<e.length)d=e.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(s===c-1||l===1))if(s!==c-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),s=c,l=0;continue}}else if(n.length>0){n="",i=0,s=c,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,c):n=e.slice(s+1,c),i=c-s-1;s=c,l=0}else d===46&&l>-1?l++:l=-1}return n}function Uf(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const N6={cwd:V6};function V6(){return"/"}function nv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function z6(e){if(typeof e=="string")e=new URL(e);else if(!nv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return U6(e)}function U6(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Qy=["history","path","basename","stem","extname","dirname"];class CI{constructor(t){let n;t?nv(t)?n={path:t}:typeof t=="string"||B6(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":N6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Qy.length;){const l=Qy[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)Qy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Ns.basename(this.path):void 0}set basename(t){t_(t,"basename"),Jy(t,"basename"),this.path=Ns.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ns.dirname(this.path):void 0}set dirname(t){j1(this.basename,"dirname"),this.path=Ns.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ns.extname(this.path):void 0}set extname(t){if(Jy(t,"extname"),j1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ns.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){nv(t)&&(t=z6(t)),t_(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ns.basename(this.path,this.extname):void 0}set stem(t){t_(t,"stem"),Jy(t,"stem"),this.path=Ns.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=void 0,s}message(t,n,i){const s=new wi(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Jy(e,t){if(e&&e.includes(Ns.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ns.sep+"`")}function t_(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function j1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function B6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const j6=(function(e){const i=this.constructor.prototype,s=i[e],l=function(){return s.apply(l,arguments)};return Object.setPrototypeOf(l,i),l}),F6={}.hasOwnProperty;class L0 extends j6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=C6()}copy(){const t=new L0;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Xy(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(i_("data",this.frozen),this.namespace[t]=n,this):F6.call(this.namespace,t)&&this.namespace[t]||void 0:t?(i_("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(t,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ap(t),i=this.parser||this.Parser;return e_("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),e_("process",this.parser||this.Parser),n_("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(l,c){const d=ap(t),p=i.parse(d);i.run(p,d,function(v,T,E){if(v||!T||!E)return m(v);const x=T,O=i.stringify(x,E);G6(O)?E.value=O:E.result=O,m(v,E)});function m(v,T){v||!T?c(v):l?l(T):n(void 0,T)}}}processSync(t){let n=!1,i;return this.freeze(),e_("processSync",this.parser||this.Parser),n_("processSync",this.compiler||this.Compiler),this.process(t,s),H1("processSync","process",n),i;function s(l,c){n=!0,U1(l),i=c}}run(t,n,i){F1(t),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(c,d){const p=ap(n);s.run(t,p,m);function m(v,T,E){const x=T||t;v?d(v):c?c(x):i(void 0,x,E)}}}runSync(t,n){let i=!1,s;return this.run(t,n,l),H1("runSync","run",i),s;function l(c,d){U1(c),s=d,i=!0}}stringify(t,n){this.freeze();const i=ap(n),s=this.compiler||this.Compiler;return n_("stringify",s),F1(t),s(t,i)}use(t,...n){const i=this.attachers,s=this.namespace;if(i_("use",this.frozen),t!=null)if(typeof t=="function")p(t,n);else if(typeof t=="object")Array.isArray(t)?d(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[v,...T]=m;p(v,T)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(m.plugins),m.settings&&(s.settings=Xy(!0,s.settings,m.settings))}function d(m){let v=-1;if(m!=null)if(Array.isArray(m))for(;++v<m.length;){const T=m[v];l(T)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,v){let T=-1,E=-1;for(;++T<i.length;)if(i[T][0]===m){E=T;break}if(E===-1)i.push([m,...v]);else if(v.length>0){let[x,...O]=v;const U=i[E][1];ev(U)&&ev(x)&&(x=Xy(!0,U,x)),i[E]=[m,x,...O]}}}}const H6=new L0().freeze();function e_(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function n_(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function i_(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function F1(e){if(!ev(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function H1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ap(e){return q6(e)?e:new CI(e)}function q6(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function G6(e){return typeof e=="string"||Z6(e)}function Z6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const W6="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",q1=[],G1={allowDangerousHtml:!0},K6=/^(https?|ircs?|mailto|xmpp)$/i,$6=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Y6(e){const t=X6(e),n=Q6(e);return J6(t.runSync(t.parse(n),n),e)}function X6(e){const t=e.rehypePlugins||q1,n=e.remarkPlugins||q1,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...G1}:G1;return H6().use(PB).use(n).use(x6,i).use(t)}function Q6(e){const t=e.children||"",n=new CI;return typeof t=="string"&&(n.value=t),n}function J6(e,t){const n=t.allowedElements,i=t.allowElement,s=t.components,l=t.disallowedElements,c=t.skipHtml,d=t.unwrapDisallowed,p=t.urlTransform||t9;for(const v of $6)Object.hasOwn(t,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+W6+v.id,void 0);return RI(e,m),uU(e,{Fragment:tt.Fragment,components:s,ignoreInvalidStyle:!0,jsx:tt.jsx,jsxs:tt.jsxs,passKeys:!0,passNode:!0});function m(v,T,E){if(v.type==="raw"&&E&&typeof T=="number")return c?E.children.splice(T,1):E.children[T]={type:"text",value:v.value},T;if(v.type==="element"){let x;for(x in Wy)if(Object.hasOwn(Wy,x)&&Object.hasOwn(v.properties,x)){const O=v.properties[x],U=Wy[x];(U===null||U.includes(v.tagName))&&(v.properties[x]=p(String(O||""),x,v))}}if(v.type==="element"){let x=n?!n.includes(v.tagName):l?l.includes(v.tagName):!1;if(!x&&i&&typeof T=="number"&&(x=!i(v,T,E)),x&&E&&typeof T=="number")return d&&v.children?E.children.splice(T,1,...v.children):E.children.splice(T,1),T}}}function t9(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||i!==-1&&t>i||K6.test(e.slice(0,t))?e:""}const e9=`Hey du,\r
\r
wenn du das hier liest, bin ich wahrscheinlich gerade irgendwo in Sdfrankreich, in Deutschland oder vielleicht sogar gerade erst losgefahren. Wahrscheinlich sitze ich im Auto mit Papa, gucke aus dem Fenster und vermisse dich jetzt schon ein bisschen zu viel.\r
\r
In Porto zu wohnen  klingt irgendwie traumhaft, oder? Aber ehrlich gesagt fhlt es sich nicht wirklich so an. Noch realisiere ich gar nicht, was das eigentlich bedeutet. Jeden Tag habe ich mehr Angst und vermisse alles immer mehr. Mit meinem phnomenalen Wortschatz von 2 Wrtern Portugiesisch und meinem nicht vorhandenen Englisch (C1, du nicht duh) werde ich bestimmt keine Probleme haben, right?? :)\r
\r
Gerade ist alles stressig, ich versuche Uni-Kram und alles andere irgendwie fertig zu bekommen und habe dabei stndig dich im Kopf (Und natrlich Oscar). Ich werde euch beide sehr vermissen.\r
\r
Ich wei, dass du bald dein Studium anfngst. Ich htte dich so gern dabei begleitet, dich in der Uni herumgefhrt, vielleicht zusammen eine Pizza mit dir essen, aber ich bin dann leider 1863 Kilometer weit weg. Aber ich verspreche dir: Ich denke an dich. Jeden Tag. In den kleinen Momenten. Wenn ich meinen trockenen Toast esse, der niemals an die Crepes von deiner Mama rankommt. Oder wenn ich daran denke, wie wir zusammen bei dir lagen und Oscar versucht hat, uns mit seinem Autismus wegzuignorieren.\r
\r
Ich bin gespannt, wie gut Mara und Bona Deutsch sprechen, wenn ich zurckkomme. Vielleicht knnen wir dann schon richtige Gesprche fhren?\r
\r
Wir sind jetzt, wenn du das liest, wahrscheinlich seit **1 Jahr, 5 Monaten und 8 Tagen** zusammen. **526 Tage**. Und mittlerweile kenne ich dich besser, als jeden Menschen, den ich jemals kannte. Erst so kurz, obwohl wir schon so viel gemacht haben, so viel zusammen erlebt, so viel zusammen gelacht, geweint. Ich glaube, ich habe noch nie jemanden so vermisst, bevor ich berhaupt weg war.\r
\r
Wenn du mal einen schlechten Tag hast, dann denk bitte daran, dass du unfassbar stark bist. Guck doch mal, was du schon alles erlebt hast und trotzdem noch weitermachst. Und denk daran, dass du der liebevollste, schnste, seste Mensch bist, den ich kenne.\r
\r
Wenn du mich brauchst  ruf mich an. Wenn du weinst  schreib mir. Wenn du lachst  erzhl mir warum. Und wenn ich in Porto bin  dann nehme ich dich mit meinem Handy mit. Wir knnen zusammen die Stadt erkunden und zusammen die Sonnenuntergnge anschauen. Ich freu mich schon so sehr darauf, dir das alles zu zeigen, auch wenn du dich da sowieso besser auskennst als ich.\r
\r
Ich liebe dich.\r
\r
Und ich bin sehr, sehr froh, dass du in meinem Leben bist.\r
\r
Bebi'igste Gre, dein Webi.\r
`,n9="",i9="",r9="",s9="",iv=new Date(2025,7,14,9,0,0),a9=new Date(2025,11,24,12,0,0),Z1=new Date(2026,0,31,18,0,0),o9=[{id:1,title:"Loveletter #1 - Die Abreise",unlock:iv,alwaysOpen:!0,teaser:"Der erste Tag ohne dich. Die Reise hat begonnen...",content:e9},{id:2,title:"Loveletter #2 - Erste Eindrcke",unlock:new Date(2025,8,15,18,0,0),alwaysOpen:!1,teaser:"Die erste Zeit in Porto, die Orientierungswoche ist geschafft...",content:n9},{id:3,title:"Loveletter #3 - Happy Birthday!",unlock:new Date(2025,9,2,0,0,1),alwaysOpen:!1,teaser:"Ein Geburtstagsgru von mir an mich... und an dich.",content:i9},{id:4,title:"Loveletter #4 - Alles Liebe zum Geburtstag!",unlock:new Date(2025,10,10,0,0,1),alwaysOpen:!1,teaser:"Fr dich an deinem wichtigsten Tag.",content:r9},{id:5,title:"Loveletter #5 - Fast Weihnachten",unlock:new Date(2025,11,20,20,0,0),alwaysOpen:!1,teaser:"Ich packe schon fast die Koffer. Bald bin ich bei dir.",content:s9}];function rv(e){if(e<=0)return"Zeit ist um!";const t=Math.floor(e/1e3)%60,n=Math.floor(e/(1e3*60))%60,i=Math.floor(e/(1e3*60*60))%24;return`${Math.floor(e/(1e3*60*60*24))}d ${i}h ${n}m ${t}s`}function l9({letter:e,now:t,onOpen:n}){const i=e.alwaysOpen||t>=e.unlock.getTime(),s=e.unlock.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});return tt.jsxs(Pi.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative bg-white rounded-lg shadow-lg border border-subtle p-6 flex flex-col font-serif",children:[tt.jsx("div",{className:"absolute top-4 right-4 w-12 h-12 bg-amber-100/50 border-2 border-dashed border-amber-200 flex items-center justify-center transform -rotate-12",children:tt.jsx(I2,{className:"text-accent",size:24})}),tt.jsx("h3",{className:`text-xl font-bold text-text transition-all duration-500 ${i?"":"blur-sm select-none"}`,children:e.title}),tt.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-dashed border-subtle grid grid-cols-2 gap-4 text-sm",children:[tt.jsxs("div",{children:[tt.jsx("p",{className:"font-bold text-text/60",children:"DATUM"}),tt.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[tt.jsx($h,{size:16,className:"text-text/60"}),tt.jsx("span",{className:"text-text",children:s})]})]}),tt.jsxs("div",{children:[tt.jsx("p",{className:"font-bold text-text/60",children:"TIMER"}),tt.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[tt.jsx(fR,{size:16,className:"text-text/60"}),tt.jsx("span",{className:`font-semibold ${i?"text-green-600":"text-red-700"}`,children:i?"Freigeschaltet":rv(e.unlock-t)})]})]})]}),tt.jsx("div",{className:"mt-6 flex justify-center",children:tt.jsx(f0,{mode:"wait",children:i?tt.jsxs(Pi.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},onClick:()=>n(e),className:"flex items-center gap-2 px-6 py-2 bg-primary text-white font-bold rounded-full shadow-md hover:bg-primary/90 transition-transform transform active:scale-95",children:[tt.jsx(H2,{size:18})," ffnen"]},"open"):tt.jsxs(Pi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-6 py-2 bg-red-800/10 text-red-800 font-bold rounded-full border border-red-800/20",children:[tt.jsx(z2,{size:16})," Versiegelt"]},"sealed")})})]})}function u9(){const[e,t]=Y.useState(Date.now()),[n,i]=Y.useState(null);Y.useEffect(()=>{const c=setInterval(()=>t(Date.now()),1e3);return()=>clearInterval(c)},[]);const s=c=>{(c.alwaysOpen||e>=c.unlock.getTime())&&i(c)},l=Math.max(0,Math.min(100,Math.round((e-iv.getTime())/(Z1.getTime()-iv.getTime())*100)));return tt.jsxs("div",{className:"w-full max-w-xl font-sans",children:[tt.jsxs("header",{className:"w-full mb-8",children:[tt.jsxs(Pi.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-between items-center mb-4",children:[tt.jsxs("div",{className:"flex gap-3 items-center",children:[tt.jsx(G2,{className:"text-primary",size:28}),tt.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-text",children:"Loveletter Portal "})]}),tt.jsx("div",{className:"text-xs text-text/70 font-medium",children:new Date(e).toLocaleDateString()})]}),tt.jsx(Pi.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"bg-white/80 rounded-2xl p-4 shadow-lg border border-subtle",children:tt.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center text-sm",children:[tt.jsxs("div",{children:[tt.jsx($h,{className:"mx-auto text-primary/70"}),tt.jsx("p",{children:"Start"}),tt.jsx("p",{className:"font-bold",children:"14.08.25"})]}),tt.jsxs("div",{children:[tt.jsx($h,{className:"mx-auto text-green-500"}),tt.jsx("p",{children:"Weihnachten"}),tt.jsx("p",{className:"font-bold",children:"24.12.25"}),tt.jsx("p",{className:"text-xs text-text/80",children:rv(a9-e)})]}),tt.jsxs("div",{children:[tt.jsx($h,{className:"mx-auto text-accent"}),tt.jsx("p",{children:"Rckkehr"}),tt.jsx("p",{className:"font-bold",children:"31.01.26"}),tt.jsx("p",{className:"text-xs text-text/80",children:rv(Z1-e)})]})]})}),tt.jsxs(Pi.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"mt-4 bg-white/80 p-3 rounded-xl shadow-lg flex justify-between items-center border border-subtle",children:[tt.jsx("span",{className:"text-sm font-medium",children:"Fortschritt"}),tt.jsx("div",{className:"w-2/3 bg-subtle rounded-full h-2.5 overflow-hidden",children:tt.jsx(Pi.div,{className:"h-full bg-gradient-to-r from-primary to-accent rounded-full",initial:{width:0},animate:{width:`${l}%`},transition:{duration:1.5,ease:"easeInOut"}})}),tt.jsxs("span",{className:"text-sm font-bold",children:[l,"%"]})]})]}),tt.jsx("main",{className:"w-full grid gap-6",children:o9.map(c=>tt.jsx(l9,{letter:c,now:e,onOpen:s},c.id))}),tt.jsx(f0,{children:n&&tt.jsx(Pi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50",onClick:()=>i(null),children:tt.jsxs(Pi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-background rounded-lg shadow-2xl w-full max-w-2xl flex flex-col max-h-[90vh] border border-subtle",onClick:c=>c.stopPropagation(),children:[tt.jsxs("div",{className:"flex-shrink-0 p-6 border-b border-subtle flex justify-between items-start",children:[tt.jsx("h2",{className:"font-handwriting font-bold text-4xl text-text",children:n.title}),tt.jsx("button",{onClick:()=>i(null),className:"text-primary font-sans font-semibold text-lg hover:text-accent transition",children:"Schlieen"})]}),tt.jsx("div",{className:"flex-grow p-6 sm:p-8 overflow-y-auto",children:tt.jsx("div",{className:"prose prose-xl prose-p:text-text/90 prose-p:leading-relaxed font-handwriting",children:tt.jsx(Y6,{children:n.content})})})]})})})]})}const c9="modulepreload",h9=function(e){return"/loveletter/"+e},W1={},r_=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(T=>Promise.resolve(T).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");s=m(n.map(v=>{if(v=h9(v),v in W1)return;W1[v]=!0;const T=v.endsWith(".css"),E=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${E}`))return;const x=document.createElement("link");if(x.rel=T?"stylesheet":c9,T||(x.as="script"),x.crossOrigin="",x.href=v,p&&x.setAttribute("nonce",p),document.head.appendChild(x),T)return new Promise((O,U)=>{x.addEventListener("load",O),x.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return s.then(d=>{for(const p of d||[])p.status==="rejected"&&l(p.reason);return t().catch(l)})};function II(e,t){const n=Y.useRef(t);Y.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const f9=1;function d9(e){return Object.freeze({__version:f9,map:e})}function p9(e,t){return Object.freeze({...e,...t})}const N0=Y.createContext(null);function V0(){const e=Y.use(N0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function m9(e){function t(n,i){const{instance:s,context:l}=e(n).current;Y.useImperativeHandle(i,()=>s);const{children:c}=n;return c==null?null:Op.createElement(N0,{value:l},c)}return Y.forwardRef(t)}function g9(e){function t(n,i){const[s,l]=Y.useState(!1),{instance:c}=e(n,l).current;Y.useImperativeHandle(i,()=>c),Y.useEffect(function(){s&&c.update()},[c,s,n.children]);const d=c._contentNode;return d?v2.createPortal(n.children,d):null}return Y.forwardRef(t)}function y9(e){function t(n,i){const{instance:s}=e(n).current;return Y.useImperativeHandle(i,()=>s),null}return Y.forwardRef(t)}function PI(e,t){const n=Y.useRef(void 0);Y.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function z0(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function _9(e,t){return function(i,s){const l=V0(),c=e(z0(i,l),l);return II(l.map,i.attribution),PI(c.current,i.eventHandlers),t(c.current,l,i,s),c}}var Fh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var v9=Fh.exports,K1;function w9(){return K1||(K1=1,(function(e,t){(function(n,i){i(t)})(v9,(function(n){var i="1.9.4";function s(o){var h,y,b,A;for(y=1,b=arguments.length;y<b;y++){A=arguments[y];for(h in A)o[h]=A[h]}return o}var l=Object.create||(function(){function o(){}return function(h){return o.prototype=h,new o}})();function c(o,h){var y=Array.prototype.slice;if(o.bind)return o.bind.apply(o,y.call(arguments,1));var b=y.call(arguments,2);return function(){return o.apply(h,b.length?b.concat(y.call(arguments)):arguments)}}var d=0;function p(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function m(o,h,y){var b,A,V,X;return X=function(){b=!1,A&&(V.apply(y,A),A=!1)},V=function(){b?A=arguments:(o.apply(y,arguments),setTimeout(X,h),b=!0)},V}function v(o,h,y){var b=h[1],A=h[0],V=b-A;return o===b&&y?o:((o-A)%V+V)%V+A}function T(){return!1}function E(o,h){if(h===!1)return o;var y=Math.pow(10,h===void 0?6:h);return Math.round(o*y)/y}function x(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function O(o){return x(o).split(/\s+/)}function U(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var y in h)o.options[y]=h[y];return o.options}function H(o,h,y){var b=[];for(var A in o)b.push(encodeURIComponent(y?A.toUpperCase():A)+"="+encodeURIComponent(o[A]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function K(o,h){return o.replace(F,function(y,b){var A=h[b];if(A===void 0)throw new Error("No value provided for variable "+y);return typeof A=="function"&&(A=A(h)),A})}var Z=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function ot(o,h){for(var y=0;y<o.length;y++)if(o[y]===h)return y;return-1}var J="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var q=0;function P(o){var h=+new Date,y=Math.max(0,16-(h-q));return q=h+y,window.setTimeout(o,y)}var D=window.requestAnimationFrame||$("RequestAnimationFrame")||P,G=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function N(o,h,y){if(y&&D===P)o.call(h);else return D.call(window,c(o,h))}function M(o){o&&G.call(window,o)}var k={__proto__:null,extend:s,create:l,bind:c,get lastId(){return d},stamp:p,throttle:m,wrapNum:v,falseFn:T,formatNum:E,trim:x,splitWords:O,setOptions:U,getParamString:H,template:K,isArray:Z,indexOf:ot,emptyImageUrl:J,requestFn:D,cancelFn:G,requestAnimFrame:N,cancelAnimFrame:M};function it(){}it.extend=function(o){var h=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=h.__super__=this.prototype,b=l(y);b.constructor=h,h.prototype=b;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(h[A]=this[A]);return o.statics&&s(h,o.statics),o.includes&&(W(o.includes),s.apply(null,[b].concat(o.includes))),s(b,o),delete b.statics,delete b.includes,b.options&&(b.options=y.options?l(y.options):{},s(b.options,o.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var V=0,X=b._initHooks.length;V<X;V++)b._initHooks[V].call(this)}},h},it.include=function(o){var h=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},it.mergeOptions=function(o){return s(this.prototype.options,o),this},it.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),y=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function W(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=Z(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var et={on:function(o,h,y){if(typeof o=="object")for(var b in o)this._on(b,o[b],h);else{o=O(o);for(var A=0,V=o.length;A<V;A++)this._on(o[A],h,y)}return this},off:function(o,h,y){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var b in o)this._off(b,o[b],h);else{o=O(o);for(var A=arguments.length===1,V=0,X=o.length;V<X;V++)A?this._off(o[V]):this._off(o[V],h,y)}return this},_on:function(o,h,y,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,y)===!1){y===this&&(y=void 0);var A={fn:h,ctx:y};b&&(A.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(A)}},_off:function(o,h,y){var b,A,V;if(this._events&&(b=this._events[o],!!b)){if(arguments.length===1){if(this._firingCount)for(A=0,V=b.length;A<V;A++)b[A].fn=T;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var X=this._listens(o,h,y);if(X!==!1){var ut=b[X];this._firingCount&&(ut.fn=T,this._events[o]=b=b.slice()),b.splice(X,1)}}},fire:function(o,h,y){if(!this.listens(o,y))return this;var b=s({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var A=this._events[o];if(A){this._firingCount=this._firingCount+1||1;for(var V=0,X=A.length;V<X;V++){var ut=A[V],mt=ut.fn;ut.once&&this.off(o,mt,ut.ctx),mt.call(ut.ctx||this,b)}this._firingCount--}}return y&&this._propagateEvent(b),this},listens:function(o,h,y,b){typeof o!="string"&&console.warn('"string" type argument expected');var A=h;typeof h!="function"&&(b=!!h,A=void 0,y=void 0);var V=this._events&&this._events[o];if(V&&V.length&&this._listens(o,A,y)!==!1)return!0;if(b){for(var X in this._eventParents)if(this._eventParents[X].listens(o,h,y,b))return!0}return!1},_listens:function(o,h,y){if(!this._events)return!1;var b=this._events[o]||[];if(!h)return!!b.length;y===this&&(y=void 0);for(var A=0,V=b.length;A<V;A++)if(b[A].fn===h&&b[A].ctx===y)return A;return!1},once:function(o,h,y){if(typeof o=="object")for(var b in o)this._on(b,o[b],h,!0);else{o=O(o);for(var A=0,V=o.length;A<V;A++)this._on(o[A],h,y,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[p(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[p(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};et.addEventListener=et.on,et.removeEventListener=et.clearAllEventListeners=et.off,et.addOneTimeEventListener=et.once,et.fireEvent=et.fire,et.hasEventListeners=et.listens;var rt=it.extend(et);function st(o,h,y){this.x=y?Math.round(o):o,this.y=y?Math.round(h):h}var Pt=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};st.prototype={clone:function(){return new st(this.x,this.y)},add:function(o){return this.clone()._add(R(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(R(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new st(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new st(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pt(this.x),this.y=Pt(this.y),this},distanceTo:function(o){o=R(o);var h=o.x-this.x,y=o.y-this.y;return Math.sqrt(h*h+y*y)},equals:function(o){return o=R(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=R(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function R(o,h,y){return o instanceof st?o:Z(o)?new st(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new st(o.x,o.y):new st(o,h,y)}function ht(o,h){if(o)for(var y=h?[o,h]:o,b=0,A=y.length;b<A;b++)this.extend(y[b])}ht.prototype={extend:function(o){var h,y;if(!o)return this;if(o instanceof st||typeof o[0]=="number"||"x"in o)h=y=R(o);else if(o=wt(o),h=o.min,y=o.max,!h||!y)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=y.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(o){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,y;return typeof o[0]=="number"||o instanceof st?o=R(o):o=wt(o),o instanceof ht?(h=o.min,y=o.max):h=y=o,h.x>=this.min.x&&y.x<=this.max.x&&h.y>=this.min.y&&y.y<=this.max.y},intersects:function(o){o=wt(o);var h=this.min,y=this.max,b=o.min,A=o.max,V=A.x>=h.x&&b.x<=y.x,X=A.y>=h.y&&b.y<=y.y;return V&&X},overlaps:function(o){o=wt(o);var h=this.min,y=this.max,b=o.min,A=o.max,V=A.x>h.x&&b.x<y.x,X=A.y>h.y&&b.y<y.y;return V&&X},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,y=this.max,b=Math.abs(h.x-y.x)*o,A=Math.abs(h.y-y.y)*o;return wt(R(h.x-b,h.y-A),R(y.x+b,y.y+A))},equals:function(o){return o?(o=wt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function wt(o,h){return!o||o instanceof ht?o:new ht(o,h)}function j(o,h){if(o)for(var y=h?[o,h]:o,b=0,A=y.length;b<A;b++)this.extend(y[b])}j.prototype={extend:function(o){var h=this._southWest,y=this._northEast,b,A;if(o instanceof kt)b=o,A=o;else if(o instanceof j){if(b=o._southWest,A=o._northEast,!b||!A)return this}else return o?this.extend(At(o)||Rt(o)):this;return!h&&!y?(this._southWest=new kt(b.lat,b.lng),this._northEast=new kt(A.lat,A.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),y.lat=Math.max(A.lat,y.lat),y.lng=Math.max(A.lng,y.lng)),this},pad:function(o){var h=this._southWest,y=this._northEast,b=Math.abs(h.lat-y.lat)*o,A=Math.abs(h.lng-y.lng)*o;return new j(new kt(h.lat-b,h.lng-A),new kt(y.lat+b,y.lng+A))},getCenter:function(){return new kt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new kt(this.getNorth(),this.getWest())},getSouthEast:function(){return new kt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof kt||"lat"in o?o=At(o):o=Rt(o);var h=this._southWest,y=this._northEast,b,A;return o instanceof j?(b=o.getSouthWest(),A=o.getNorthEast()):b=A=o,b.lat>=h.lat&&A.lat<=y.lat&&b.lng>=h.lng&&A.lng<=y.lng},intersects:function(o){o=Rt(o);var h=this._southWest,y=this._northEast,b=o.getSouthWest(),A=o.getNorthEast(),V=A.lat>=h.lat&&b.lat<=y.lat,X=A.lng>=h.lng&&b.lng<=y.lng;return V&&X},overlaps:function(o){o=Rt(o);var h=this._southWest,y=this._northEast,b=o.getSouthWest(),A=o.getNorthEast(),V=A.lat>h.lat&&b.lat<y.lat,X=A.lng>h.lng&&b.lng<y.lng;return V&&X},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Rt(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Rt(o,h){return o instanceof j?o:new j(o,h)}function kt(o,h,y){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,y!==void 0&&(this.alt=+y)}kt.prototype={equals:function(o,h){if(!o)return!1;o=At(o);var y=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return y<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+E(this.lat,o)+", "+E(this.lng,o)+")"},distanceTo:function(o){return Jt.distance(this,At(o))},wrap:function(){return Jt.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,y=h/Math.cos(Math.PI/180*this.lat);return Rt([this.lat-h,this.lng-y],[this.lat+h,this.lng+y])},clone:function(){return new kt(this.lat,this.lng,this.alt)}};function At(o,h,y){return o instanceof kt?o:Z(o)&&typeof o[0]!="object"?o.length===3?new kt(o[0],o[1],o[2]):o.length===2?new kt(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new kt(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new kt(o,h,y)}var ge={latLngToPoint:function(o,h){var y=this.projection.project(o),b=this.scale(h);return this.transformation._transform(y,b)},pointToLatLng:function(o,h){var y=this.scale(h),b=this.transformation.untransform(o,y);return this.projection.unproject(b)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,y=this.scale(o),b=this.transformation.transform(h.min,y),A=this.transformation.transform(h.max,y);return new ht(b,A)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?v(o.lng,this.wrapLng,!0):o.lng,y=this.wrapLat?v(o.lat,this.wrapLat,!0):o.lat,b=o.alt;return new kt(y,h,b)},wrapLatLngBounds:function(o){var h=o.getCenter(),y=this.wrapLatLng(h),b=h.lat-y.lat,A=h.lng-y.lng;if(b===0&&A===0)return o;var V=o.getSouthWest(),X=o.getNorthEast(),ut=new kt(V.lat-b,V.lng-A),mt=new kt(X.lat-b,X.lng-A);return new j(ut,mt)}},Jt=s({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var y=Math.PI/180,b=o.lat*y,A=h.lat*y,V=Math.sin((h.lat-o.lat)*y/2),X=Math.sin((h.lng-o.lng)*y/2),ut=V*V+Math.cos(b)*Math.cos(A)*X*X,mt=2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut));return this.R*mt}}),gn=6378137,Pn={R:gn,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,y=this.MAX_LATITUDE,b=Math.max(Math.min(y,o.lat),-y),A=Math.sin(b*h);return new st(this.R*o.lng*h,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(o){var h=180/Math.PI;return new kt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:(function(){var o=gn*Math.PI;return new ht([-o,-o],[o,o])})()};function zn(o,h,y,b){if(Z(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=y,this._d=b}zn.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new st((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function Ti(o,h,y,b){return new zn(o,h,y,b)}var Gi=s({},Jt,{code:"EPSG:3857",projection:Pn,transformation:(function(){var o=.5/(Math.PI*Pn.R);return Ti(o,.5,-o,.5)})()}),Fr=s({},Gi,{code:"EPSG:900913"});function Hr(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ms(o,h){var y="",b,A,V,X,ut,mt;for(b=0,V=o.length;b<V;b++){for(ut=o[b],A=0,X=ut.length;A<X;A++)mt=ut[A],y+=(A?"L":"M")+mt.x+" "+mt.y;y+=h?Ut.svg?"z":"x":""}return y||"M0 0"}var kn=document.documentElement.style,gs="ActiveXObject"in window,ys=gs&&!document.addEventListener,gr="msLaunchUri"in navigator&&!("documentMode"in document),Zi=li("webkit"),Oa=li("android"),qr=li("android 2")||li("android 3"),ta=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),La=Oa&&li("Google")&&ta<537&&!("AudioNode"in window),gt=!!window.opera,bt=!gr&&li("chrome"),zt=li("gecko")&&!Zi&&!gt&&!gs,Ft=!bt&&li("safari"),ye=li("phantom"),Un="OTransition"in kn,$n=navigator.platform.indexOf("Win")===0,yn=gs&&"transition"in kn,Yn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qr,_n="MozPerspective"in kn,nn=!window.L_DISABLE_3D&&(yn||Yn||_n)&&!Un&&!ye,vn=typeof orientation<"u"||li("mobile"),Xn=vn&&Zi,al=vn&&Yn,Na=!window.PointerEvent&&window.MSPointerEvent,yr=!!(window.PointerEvent||Na),_r="ontouchstart"in window||!!window.TouchEvent,ol=!window.L_NO_TOUCH&&(_r||yr),vr=vn&&gt,ll=vn&&zt,_s=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Va=(function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",T,h),window.removeEventListener("testPassiveEventSupport",T,h)}catch{}return o})(),vs=(function(){return!!document.createElement("canvas").getContext})(),za=!!(document.createElementNS&&Hr("svg").createSVGRect),Ve=!!za&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),cn=!za&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),rn=navigator.platform.indexOf("Mac")===0,Mi=navigator.platform.indexOf("Linux")===0;function li(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ut={ie:gs,ielt9:ys,edge:gr,webkit:Zi,android:Oa,android23:qr,androidStock:La,opera:gt,chrome:bt,gecko:zt,safari:Ft,phantom:ye,opera12:Un,win:$n,ie3d:yn,webkit3d:Yn,gecko3d:_n,any3d:nn,mobile:vn,mobileWebkit:Xn,mobileWebkit3d:al,msPointer:Na,pointer:yr,touch:ol,touchNative:_r,mobileOpera:vr,mobileGecko:ll,retina:_s,passiveEvents:Va,canvas:vs,svg:za,vml:cn,inlineSvg:Ve,mac:rn,linux:Mi},Gr=Ut.msPointer?"MSPointerDown":"pointerdown",ul=Ut.msPointer?"MSPointerMove":"pointermove",ws=Ut.msPointer?"MSPointerUp":"pointerup",Zr=Ut.msPointer?"MSPointerCancel":"pointercancel",Wi={touchstart:Gr,touchmove:ul,touchend:ws,touchcancel:Zr},Ki={touchstart:na,touchmove:ea,touchend:ea,touchcancel:ea},Qn={},Bn=!1;function Xe(o,h,y){return h==="touchstart"&&au(),Ki[h]?(y=Ki[h].bind(this,y),o.addEventListener(Wi[h],y,!1),y):(console.warn("wrong event specified:",h),T)}function cl(o,h,y){if(!Wi[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(Wi[h],y,!1)}function Ua(o){Qn[o.pointerId]=o}function $i(o){Qn[o.pointerId]&&(Qn[o.pointerId]=o)}function wr(o){delete Qn[o.pointerId]}function au(){Bn||(document.addEventListener(Gr,Ua,!0),document.addEventListener(ul,$i,!0),document.addEventListener(ws,wr,!0),document.addEventListener(Zr,wr,!0),Bn=!0)}function ea(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var y in Qn)h.touches.push(Qn[y]);h.changedTouches=[h],o(h)}}function na(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Pe(h),ea(o,h)}function ou(o){var h={},y,b;for(b in o)y=o[b],h[b]=y&&y.bind?y.bind(o):y;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Ts=200;function Tr(o,h){o.addEventListener("dblclick",h);var y=0,b;function A(V){if(V.detail!==1){b=V.detail;return}if(!(V.pointerType==="mouse"||V.sourceCapabilities&&!V.sourceCapabilities.firesTouchEvents)){var X=Fa(V);if(!(X.some(function(mt){return mt instanceof HTMLLabelElement&&mt.attributes.for})&&!X.some(function(mt){return mt instanceof HTMLInputElement||mt instanceof HTMLSelectElement}))){var ut=Date.now();ut-y<=Ts?(b++,b===2&&h(ou(V))):b=1,y=ut}}}return o.addEventListener("click",A),{dblclick:h,simDblclick:A}}function Mn(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Wr=Yi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bs=Yi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),br=bs==="webkitTransition"||bs==="OTransition"?bs+"End":"transitionend";function ia(o){return typeof o=="string"?document.getElementById(o):o}function Er(o,h){var y=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!y||y==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(o,null);y=b?b[h]:null}return y==="auto"?null:y}function oe(o,h,y){var b=document.createElement(o);return b.className=h||"",y&&y.appendChild(b),b}function Se(o){var h=o.parentNode;h&&h.removeChild(o)}function wn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Sr(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function Es(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function Ss(o,h){if(o.classList!==void 0)return o.classList.contains(h);var y=Ge(o);return y.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(y)}function te(o,h){if(o.classList!==void 0)for(var y=O(h),b=0,A=y.length;b<A;b++)o.classList.add(y[b]);else if(!Ss(o,h)){var V=Ge(o);hl(o,(V?V+" ":"")+h)}}function Re(o,h){o.classList!==void 0?o.classList.remove(h):hl(o,x((" "+Ge(o)+" ").replace(" "+h+" "," ")))}function hl(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Ge(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function ze(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&ra(o,h)}function ra(o,h){var y=!1,b="DXImageTransform.Microsoft.Alpha";try{y=o.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),y?(y.Enabled=h!==100,y.Opacity=h):o.style.filter+=" progid:"+b+"(opacity="+h+")"}function Yi(o){for(var h=document.documentElement.style,y=0;y<o.length;y++)if(o[y]in h)return o[y];return!1}function Jn(o,h,y){var b=h||new st(0,0);o.style[Wr]=(Ut.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(y?" scale("+y+")":"")}function Zt(o,h){o._leaflet_pos=h,Ut.any3d?Jn(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function bi(o){return o._leaflet_pos||new st(0,0)}var jn,Xi,Ba;if("onselectstart"in document)jn=function(){Ht(window,"selectstart",Pe)},Xi=function(){_e(window,"selectstart",Pe)};else{var Kr=Yi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);jn=function(){if(Kr){var o=document.documentElement.style;Ba=o[Kr],o[Kr]="none"}},Xi=function(){Kr&&(document.documentElement.style[Kr]=Ba,Ba=void 0)}}function sa(){Ht(window,"dragstart",Pe)}function fl(){_e(window,"dragstart",Pe)}var ja,xs;function Qi(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ti(),ja=o,xs=o.style.outlineStyle,o.style.outlineStyle="none",Ht(window,"keydown",ti))}function ti(){ja&&(ja.style.outlineStyle=xs,ja=void 0,xs=void 0,_e(window,"keydown",ti))}function xr(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Ji(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var dl={__proto__:null,TRANSFORM:Wr,TRANSITION:bs,TRANSITION_END:br,get:ia,getStyle:Er,create:oe,remove:Se,empty:wn,toFront:Sr,toBack:Es,hasClass:Ss,addClass:te,removeClass:Re,setClass:hl,getClass:Ge,setOpacity:ze,testProp:Yi,setTransform:Jn,setPosition:Zt,getPosition:bi,get disableTextSelection(){return jn},get enableTextSelection(){return Xi},disableImageDrag:sa,enableImageDrag:fl,preventOutline:Qi,restoreOutline:ti,getSizedParentNode:xr,getScale:Ji};function Ht(o,h,y,b){if(h&&typeof h=="object")for(var A in h)$r(o,A,h[A],y);else{h=O(h);for(var V=0,X=h.length;V<X;V++)$r(o,h[V],y,b)}return this}var Ei="_leaflet_events";function _e(o,h,y,b){if(arguments.length===1)Di(o),delete o[Ei];else if(h&&typeof h=="object")for(var A in h)Oi(o,A,h[A],y);else if(h=O(h),arguments.length===2)Di(o,function(ut){return ot(h,ut)!==-1});else for(var V=0,X=h.length;V<X;V++)Oi(o,h[V],y,b);return this}function Di(o,h){for(var y in o[Ei]){var b=y.split(/\d/)[0];(!h||h(b))&&Oi(o,b,null,null,y)}}var ui={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $r(o,h,y,b){var A=h+p(y)+(b?"_"+p(b):"");if(o[Ei]&&o[Ei][A])return this;var V=function(ut){return y.call(b||o,ut||window.event)},X=V;!Ut.touchNative&&Ut.pointer&&h.indexOf("touch")===0?V=Xe(o,h,V):Ut.touch&&h==="dblclick"?V=Tr(o,V):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(ui[h]||h,V,Ut.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(V=function(ut){ut=ut||window.event,Xr(o,ut)&&X(ut)},o.addEventListener(ui[h],V,!1)):o.addEventListener(h,X,!1):o.attachEvent("on"+h,V),o[Ei]=o[Ei]||{},o[Ei][A]=V}function Oi(o,h,y,b,A){A=A||h+p(y)+(b?"_"+p(b):"");var V=o[Ei]&&o[Ei][A];if(!V)return this;!Ut.touchNative&&Ut.pointer&&h.indexOf("touch")===0?cl(o,h,V):Ut.touch&&h==="dblclick"?Mn(o,V):"removeEventListener"in o?o.removeEventListener(ui[h]||h,V,!1):o.detachEvent("on"+h,V),o[Ei][A]=null}function ci(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function tr(o){return $r(o,"wheel",ci),this}function Yr(o){return Ht(o,"mousedown touchstart dblclick contextmenu",ci),o._leaflet_disable_click=!0,this}function Pe(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Fn(o){return Pe(o),ci(o),this}function Fa(o){if(o.composedPath)return o.composedPath();for(var h=[],y=o.target;y;)h.push(y),y=y.parentNode;return h}function hn(o,h){if(!h)return new st(o.clientX,o.clientY);var y=Ji(h),b=y.boundingClientRect;return new st((o.clientX-b.left)/y.x-h.clientLeft,(o.clientY-b.top)/y.y-h.clientTop)}var Te=Ut.linux&&Ut.chrome?window.devicePixelRatio:Ut.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function aa(o){return Ut.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Te:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Xr(o,h){var y=h.relatedTarget;if(!y)return!0;try{for(;y&&y!==o;)y=y.parentNode}catch{return!1}return y!==o}var lu={__proto__:null,on:Ht,off:_e,stopPropagation:ci,disableScrollPropagation:tr,disableClickPropagation:Yr,preventDefault:Pe,stop:Fn,getPropagationPath:Fa,getMousePosition:hn,getWheelDelta:aa,isExternalTarget:Xr,addListener:Ht,removeListener:_e},oa=rt.extend({run:function(o,h,y,b){this.stop(),this._el=o,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=bi(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,y=this._duration*1e3;h<y?this._runFrame(this._easeOut(h/y),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var y=this._startPos.add(this._offset.multiplyBy(o));h&&y._round(),Zt(this._el,y),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ie=rt.extend({options:{crs:Gi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=U(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(At(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bs&&Ut.any3d&&!Ut.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ht(this._proxy,br,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,y){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(At(o),h,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=s({animate:y.animate},y.zoom),y.pan=s({animate:y.animate,duration:y.duration},y.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,y.zoom):this._tryAnimatedPan(o,y.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,y.pan&&y.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(Ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(Ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,y){var b=this.getZoomScale(h),A=this.getSize().divideBy(2),V=o instanceof st?o:this.latLngToContainerPoint(o),X=V.subtract(A).multiplyBy(1-1/b),ut=this.containerPointToLatLng(A.add(X));return this.setView(ut,h,{zoom:y})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Rt(o);var y=R(h.paddingTopLeft||h.padding||[0,0]),b=R(h.paddingBottomRight||h.padding||[0,0]),A=this.getBoundsZoom(o,!1,y.add(b));if(A=typeof h.maxZoom=="number"?Math.min(h.maxZoom,A):A,A===1/0)return{center:o.getCenter(),zoom:A};var V=b.subtract(y).divideBy(2),X=this.project(o.getSouthWest(),A),ut=this.project(o.getNorthEast(),A),mt=this.unproject(X.add(ut).divideBy(2).add(V),A);return{center:mt,zoom:A}},fitBounds:function(o,h){if(o=Rt(o),!o.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(o,h);return this.setView(y.center,y.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=R(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new oa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){te(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,y,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,y){if(y=y||{},y.animate===!1||!Ut.any3d)return this.setView(o,h,y);this._stop();var b=this.project(this.getCenter()),A=this.project(o),V=this.getSize(),X=this._zoom;o=At(o),h=h===void 0?X:h;var ut=Math.max(V.x,V.y),mt=ut*this.getZoomScale(X,h),xt=A.distanceTo(b)||1,Mt=1.42,Lt=Mt*Mt;function Vt(Ze){var Mr=Ze?-1:1,is=Ze?mt:ut,ks=mt*mt-ut*ut+Mr*Lt*Lt*xt*xt,rs=2*is*Lt*xt,Cl=ks/rs,Tu=Math.sqrt(Cl*Cl+1)-Cl,Il=Tu<1e-9?-18:Math.log(Tu);return Il}function Xt(Ze){return(Math.exp(Ze)-Math.exp(-Ze))/2}function Be(Ze){return(Math.exp(Ze)+Math.exp(-Ze))/2}function Qe(Ze){return Xt(Ze)/Be(Ze)}var qn=Vt(0);function Li(Ze){return ut*(Be(qn)/Be(qn+Mt*Ze))}function id(Ze){return ut*(Be(qn)*Qe(qn+Mt*Ze)-Xt(qn))/Lt}function rd(Ze){return 1-Math.pow(1-Ze,1.5)}var Rl=Date.now(),so=(Vt(1)-qn)/Mt,sd=y.duration?1e3*y.duration:1e3*so*.8;function ao(){var Ze=(Date.now()-Rl)/sd,Mr=rd(Ze)*so;Ze<=1?(this._flyToFrame=N(ao,this),this._move(this.unproject(b.add(A.subtract(b).multiplyBy(id(Mr)/xt)),X),this.getScaleZoom(ut/Li(Mr),X),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),ao.call(this),this},flyToBounds:function(o,h){var y=this._getBoundsCenterZoom(o,h);return this.flyTo(y.center,y.zoom,h)},setMaxBounds:function(o){return o=Rt(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var y=this.getCenter(),b=this._limitCenter(y,this._zoom,Rt(o));return y.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var y=R(h.paddingTopLeft||h.padding||[0,0]),b=R(h.paddingBottomRight||h.padding||[0,0]),A=this.project(this.getCenter()),V=this.project(o),X=this.getPixelBounds(),ut=wt([X.min.add(y),X.max.subtract(b)]),mt=ut.getSize();if(!ut.contains(V)){this._enforcingBounds=!0;var xt=V.subtract(ut.getCenter()),Mt=ut.extend(V).getSize().subtract(mt);A.x+=xt.x<0?-Mt.x:Mt.x,A.y+=xt.y<0?-Mt.y:Mt.y,this.panTo(this.unproject(A),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),b=h.divideBy(2).round(),A=y.divideBy(2).round(),V=b.subtract(A);return!V.x&&!V.y?this:(o.animate&&o.pan?this.panBy(V):(o.pan&&this._rawPanBy(V),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=c(this._handleGeolocationResponse,this),y=c(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,y,o):navigator.geolocation.getCurrentPosition(h,y,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,y=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,y=o.coords.longitude,b=new kt(h,y),A=b.toBounds(o.coords.accuracy*2),V=this._locateOptions;if(V.setView){var X=this.getBoundsZoom(A);this.setView(b,V.maxZoom?Math.min(X,V.maxZoom):X)}var ut={latlng:b,bounds:A,timestamp:o.timestamp};for(var mt in o.coords)typeof o.coords[mt]=="number"&&(ut[mt]=o.coords[mt]);this.fire("locationfound",ut)}},addHandler:function(o,h){if(!h)return this;var y=this[o]=new h(this);return this._handlers.push(y),this.options[o]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Se(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var y="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),b=oe("div",y,h||this._mapPane);return o&&(this._panes[o]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),y=this.unproject(o.getTopRight());return new j(h,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,y){o=Rt(o),y=R(y||[0,0]);var b=this.getZoom()||0,A=this.getMinZoom(),V=this.getMaxZoom(),X=o.getNorthWest(),ut=o.getSouthEast(),mt=this.getSize().subtract(y),xt=wt(this.project(ut,b),this.project(X,b)).getSize(),Mt=Ut.any3d?this.options.zoomSnap:1,Lt=mt.x/xt.x,Vt=mt.y/xt.y,Xt=h?Math.max(Lt,Vt):Math.min(Lt,Vt);return b=this.getScaleZoom(Xt,b),Mt&&(b=Math.round(b/(Mt/100))*(Mt/100),b=h?Math.ceil(b/Mt)*Mt:Math.floor(b/Mt)*Mt),Math.max(A,Math.min(V,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new st(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var y=this._getTopLeftPoint(o,h);return new ht(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var y=this.options.crs;return h=h===void 0?this._zoom:h,y.scale(o)/y.scale(h)},getScaleZoom:function(o,h){var y=this.options.crs;h=h===void 0?this._zoom:h;var b=y.zoom(o*y.scale(h));return isNaN(b)?1/0:b},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(At(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(R(o),h)},layerPointToLatLng:function(o){var h=R(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(At(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(At(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Rt(o))},distance:function(o,h){return this.options.crs.distance(At(o),At(h))},containerPointToLayerPoint:function(o){return R(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return R(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(R(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(At(o)))},mouseEventToContainerPoint:function(o){return hn(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=ia(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ht(h,"scroll",this._onScroll,this),this._containerId=p(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ut.any3d,te(o,"leaflet-container"+(Ut.touch?" leaflet-touch":"")+(Ut.retina?" leaflet-retina":"")+(Ut.ielt9?" leaflet-oldie":"")+(Ut.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Er(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Zt(this._mapPane,new st(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(te(o.markerPane,"leaflet-zoom-hide"),te(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,y){Zt(this._mapPane,new st(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var A=this._zoom!==h;this._moveStart(A,y)._move(o,h)._moveEnd(A),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,y,b){h===void 0&&(h=this._zoom);var A=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),b?y&&y.pinch&&this.fire("zoom",y):((A||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Zt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[p(this._container)]=this;var h=o?_e:Ht;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Ut.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var y=[],b,A=h==="mouseout"||h==="mouseover",V=o.target||o.srcElement,X=!1;V;){if(b=this._targets[p(V)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){X=!0;break}if(b&&b.listens(h,!0)&&(A&&!Xr(V,o)||(y.push(b),A))||V===this._container)break;V=V.parentNode}return!y.length&&!X&&!A&&this.listens(h,!0)&&(y=[this]),y},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var y=o.type;y==="mousedown"&&Qi(h),this._fireDOMEvent(o,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,y){if(o.type==="click"){var b=s({},o);b.type="preclick",this._fireDOMEvent(b,b.type,y)}var A=this._findEventTargets(o,h);if(y){for(var V=[],X=0;X<y.length;X++)y[X].listens(h,!0)&&V.push(y[X]);A=V.concat(A)}if(A.length){h==="contextmenu"&&Pe(o);var ut=A[0],mt={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var xt=ut.getLatLng&&(!ut._radius||ut._radius<=10);mt.containerPoint=xt?this.latLngToContainerPoint(ut.getLatLng()):this.mouseEventToContainerPoint(o),mt.layerPoint=this.containerPointToLayerPoint(mt.containerPoint),mt.latlng=xt?ut.getLatLng():this.layerPointToLatLng(mt.layerPoint)}for(X=0;X<A.length;X++)if(A[X].fire(h,mt,!0),mt.originalEvent._stopped||A[X].options.bubblingMouseEvents===!1&&ot(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return bi(this._mapPane)||new st(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var y=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var y=this.getSize()._divideBy(2);return this.project(o,h)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,y){var b=this._getNewPixelOrigin(y,h);return this.project(o,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(o,h,y){var b=this._getNewPixelOrigin(y,h);return wt([this.project(o.getSouthWest(),h)._subtract(b),this.project(o.getNorthWest(),h)._subtract(b),this.project(o.getSouthEast(),h)._subtract(b),this.project(o.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,y){if(!y)return o;var b=this.project(o,h),A=this.getSize().divideBy(2),V=new ht(b.subtract(A),b.add(A)),X=this._getBoundsOffset(V,y,h);return Math.abs(X.x)<=1&&Math.abs(X.y)<=1?o:this.unproject(b.add(X),h)},_limitOffset:function(o,h){if(!h)return o;var y=this.getPixelBounds(),b=new ht(y.min.add(o),y.max.add(o));return o.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(o,h,y){var b=wt(this.project(h.getNorthEast(),y),this.project(h.getSouthWest(),y)),A=b.min.subtract(o.min),V=b.max.subtract(o.max),X=this._rebound(A.x,-V.x),ut=this._rebound(A.y,-V.y);return new st(X,ut)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),y=this.getMaxZoom(),b=Ut.any3d?this.options.zoomSnap:1;return b&&(o=Math.round(o/b)*b),Math.max(h,Math.min(y,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Re(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var y=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,h),!0)},_createAnimProxy:function(){var o=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var y=Wr,b=this._proxy.style[y];Jn(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();Jn(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),A=this._getCenterOffset(o)._divideBy(1-1/b);return y.animate!==!0&&!this.getSize().contains(A)?!1:(N(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,y,b){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Re(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ar(o,h){return new ie(o,h)}var Dn=it.extend({options:{position:"topright"},initialize:function(o){U(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),y=this.getPosition(),b=o._controlCorners[y];return te(h,"leaflet-control"),y.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Hn=function(o){return new Dn(o)};ie.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",y=this._controlContainer=oe("div",h+"control-container",this._container);function b(A,V){var X=h+A+" "+h+V;o[A+V]=oe("div",X,y)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Se(this._controlCorners[o]);Se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pl=Dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,y,b){return y<b?-1:b<y?1:0}},initialize:function(o,h,y){U(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in o)this._addLayer(o[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Dn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(p(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Re(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Re(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=oe("div",o),y=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Yr(h),tr(h);var b=this._section=oe("section",o+"-list");y&&(this._map.on("click",this.collapse,this),Ht(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=oe("a",o+"-toggle",h);A.href="#",A.title="Layers",A.setAttribute("role","button"),Ht(A,{keydown:function(V){V.keyCode===13&&this._expandSafely()},click:function(V){Pe(V),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=oe("div",o+"-base",b),this._separator=oe("div",o+"-separator",b),this._overlaysList=oe("div",o+"-overlays",b),h.appendChild(b)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&p(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,y){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:y}),this.options.sortLayers&&this._layers.sort(c(function(b,A){return this.options.sortFunction(b.layer,A.layer,b.name,A.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wn(this._baseLayersList),wn(this._overlaysList),this._layerControlInputs=[];var o,h,y,b,A=0;for(y=0;y<this._layers.length;y++)b=this._layers[y],this._addItem(b),h=h||b.overlay,o=o||!b.overlay,A+=b.overlay?0:1;return this.options.hideSingleBase&&(o=o&&A>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(p(o.target)),y=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;y&&this._map.fire(y,h)},_createRadioElement:function(o,h){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=y,b.firstChild},_addItem:function(o){var h=document.createElement("label"),y=this._map.hasLayer(o.layer),b;o.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=y):b=this._createRadioElement("leaflet-base-layers_"+p(this),y),this._layerControlInputs.push(b),b.layerId=p(o.layer),Ht(b,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+o.name;var V=document.createElement("span");h.appendChild(V),V.appendChild(b),V.appendChild(A);var X=o.overlay?this._overlaysList:this._baseLayersList;return X.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,y,b=[],A=[];this._handlingClick=!0;for(var V=o.length-1;V>=0;V--)h=o[V],y=this._getLayer(h.layerId).layer,h.checked?b.push(y):h.checked||A.push(y);for(V=0;V<A.length;V++)this._map.hasLayer(A[V])&&this._map.removeLayer(A[V]);for(V=0;V<b.length;V++)this._map.hasLayer(b[V])||this._map.addLayer(b[V]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,y,b=this._map.getZoom(),A=o.length-1;A>=0;A--)h=o[A],y=this._getLayer(h.layerId).layer,h.disabled=y.options.minZoom!==void 0&&b<y.options.minZoom||y.options.maxZoom!==void 0&&b>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ht(o,"click",Pe),this.expand();var h=this;setTimeout(function(){_e(o,"click",Pe),h._preventClick=!1})}}),Lc=function(o,h,y){return new pl(o,h,y)},Qr=Dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",y=oe("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",y,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,y,b,A){var V=oe("a",y,b);return V.innerHTML=o,V.href="#",V.title=h,V.setAttribute("role","button"),V.setAttribute("aria-label",h),Yr(V),Ht(V,"click",Fn),Ht(V,"click",A,this),Ht(V,"click",this._refocusOnMap,this),V},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";Re(this._zoomInButton,h),Re(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(te(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(te(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qr,this.addControl(this.zoomControl))});var Ha=function(o){return new Qr(o)},qa=Dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",y=oe("div",h),b=this.options;return this._addScales(b,h+"-line",y),o.on(b.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),y},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,y){o.metric&&(this._mScale=oe("div",h,y)),o.imperial&&(this._iScale=oe("div",h,y))},_update:function(){var o=this._map,h=o.getSize().y/2,y=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(y)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),y=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,y,h/o)},_updateImperial:function(o){var h=o*3.2808399,y,b,A;h>5280?(y=h/5280,b=this._getRoundNum(y),this._updateScale(this._iScale,b+" mi",b/y)):(A=this._getRoundNum(h),this._updateScale(this._iScale,A+" ft",A/h))},_updateScale:function(o,h,y){o.style.width=Math.round(this.options.maxWidth*y)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),y=o/h;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,h*y}}),Ga=function(o){return new qa(o)},uu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',As=Dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ut.inlineSvg?uu+" ":"")+"Leaflet</a>"},initialize:function(o){U(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),Yr(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var y=[];this.options.prefix&&y.push(this.options.prefix),o.length&&y.push(o.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new As().addTo(this)});var Nc=function(o){return new As(o)};Dn.Layers=pl,Dn.Zoom=Qr,Dn.Scale=qa,Dn.Attribution=As,Hn.layers=Lc,Hn.zoom=Ha,Hn.scale=Ga,Hn.attribution=Nc;var hi=it.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hi.addTo=function(o,h){return o.addHandler(h,this),this};var la={Events:et},ml=Ut.touch?"touchstart mousedown":"mousedown",er=rt.extend({options:{clickTolerance:3},initialize:function(o,h,y,b){U(this,b),this._element=o,this._dragStartTarget=h||o,this._preventOutline=y},enable:function(){this._enabled||(Ht(this._dragStartTarget,ml,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(er._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,ml,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ss(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){er._dragging===this&&this.finishDrag();return}if(!(er._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(er._dragging=this,this._preventOutline&&Qi(this._element),sa(),jn(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,y=xr(this._element);this._startPoint=new st(h.clientX,h.clientY),this._startPos=bi(this._element),this._parentScale=Ji(y);var b=o.type==="mousedown";Ht(document,b?"mousemove":"touchmove",this._onMove,this),Ht(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,y=new st(h.clientX,h.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Pe(o),this._moved||(this.fire("dragstart"),this._moved=!0,te(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Zt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Re(document.body,"leaflet-dragging"),this._lastTarget&&(Re(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),fl(),Xi();var h=this._moved&&this._moving;this._moving=!1,er._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Za(o,h,y){var b,A=[1,4,2,8],V,X,ut,mt,xt,Mt,Lt,Vt;for(V=0,Mt=o.length;V<Mt;V++)o[V]._code=Rr(o[V],h);for(ut=0;ut<4;ut++){for(Lt=A[ut],b=[],V=0,Mt=o.length,X=Mt-1;V<Mt;X=V++)mt=o[V],xt=o[X],mt._code&Lt?xt._code&Lt||(Vt=Tn(xt,mt,Lt,h,y),Vt._code=Rr(Vt,h),b.push(Vt)):(xt._code&Lt&&(Vt=Tn(xt,mt,Lt,h,y),Vt._code=Rr(Vt,h),b.push(Vt)),b.push(mt));o=b}return o}function Rs(o,h){var y,b,A,V,X,ut,mt,xt,Mt;if(!o||o.length===0)throw new Error("latlngs not passed");g(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Lt=At([0,0]),Vt=Rt(o),Xt=Vt.getNorthWest().distanceTo(Vt.getSouthWest())*Vt.getNorthEast().distanceTo(Vt.getNorthWest());Xt<1700&&(Lt=Wa(o));var Be=o.length,Qe=[];for(y=0;y<Be;y++){var qn=At(o[y]);Qe.push(h.project(At([qn.lat-Lt.lat,qn.lng-Lt.lng])))}for(ut=mt=xt=0,y=0,b=Be-1;y<Be;b=y++)A=Qe[y],V=Qe[b],X=A.y*V.x-V.y*A.x,mt+=(A.x+V.x)*X,xt+=(A.y+V.y)*X,ut+=X*3;ut===0?Mt=Qe[0]:Mt=[mt/ut,xt/ut];var Li=h.unproject(R(Mt));return At([Li.lat+Lt.lat,Li.lng+Lt.lng])}function Wa(o){for(var h=0,y=0,b=0,A=0;A<o.length;A++){var V=At(o[A]);h+=V.lat,y+=V.lng,b++}return At([h/b,y/b])}var Ka={__proto__:null,clipPolygon:Za,polygonCenter:Rs,centroid:Wa};function gl(o,h){if(!h||!o.length)return o.slice();var y=h*h;return o=hu(o,y),o=cu(o,y),o}function $a(o,h,y){return Math.sqrt(fi(o,h,y,!0))}function Jr(o,h,y){return fi(o,h,y)}function cu(o,h){var y=o.length,b=typeof Uint8Array<"u"?Uint8Array:Array,A=new b(y);A[0]=A[y-1]=1,Ya(o,A,h,0,y-1);var V,X=[];for(V=0;V<y;V++)A[V]&&X.push(o[V]);return X}function Ya(o,h,y,b,A){var V=0,X,ut,mt;for(ut=b+1;ut<=A-1;ut++)mt=fi(o[ut],o[b],o[A],!0),mt>V&&(X=ut,V=mt);V>y&&(h[X]=1,Ya(o,h,y,b,X),Ya(o,h,y,X,A))}function hu(o,h){for(var y=[o[0]],b=1,A=0,V=o.length;b<V;b++)fu(o[b],o[A])>h&&(y.push(o[b]),A=b);return A<V-1&&y.push(o[V-1]),y}var yl;function ua(o,h,y,b,A){var V=b?yl:Rr(o,y),X=Rr(h,y),ut,mt,xt;for(yl=X;;){if(!(V|X))return[o,h];if(V&X)return!1;ut=V||X,mt=Tn(o,h,ut,y,A),xt=Rr(mt,y),ut===V?(o=mt,V=xt):(h=mt,X=xt)}}function Tn(o,h,y,b,A){var V=h.x-o.x,X=h.y-o.y,ut=b.min,mt=b.max,xt,Mt;return y&8?(xt=o.x+V*(mt.y-o.y)/X,Mt=mt.y):y&4?(xt=o.x+V*(ut.y-o.y)/X,Mt=ut.y):y&2?(xt=mt.x,Mt=o.y+X*(mt.x-o.x)/V):y&1&&(xt=ut.x,Mt=o.y+X*(ut.x-o.x)/V),new st(xt,Mt,A)}function Rr(o,h){var y=0;return o.x<h.min.x?y|=1:o.x>h.max.x&&(y|=2),o.y<h.min.y?y|=4:o.y>h.max.y&&(y|=8),y}function fu(o,h){var y=h.x-o.x,b=h.y-o.y;return y*y+b*b}function fi(o,h,y,b){var A=h.x,V=h.y,X=y.x-A,ut=y.y-V,mt=X*X+ut*ut,xt;return mt>0&&(xt=((o.x-A)*X+(o.y-V)*ut)/mt,xt>1?(A=y.x,V=y.y):xt>0&&(A+=X*xt,V+=ut*xt)),X=o.x-A,ut=o.y-V,b?X*X+ut*ut:new st(A,V)}function g(o){return!Z(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function S(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),g(o)}function C(o,h){var y,b,A,V,X,ut,mt,xt;if(!o||o.length===0)throw new Error("latlngs not passed");g(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Mt=At([0,0]),Lt=Rt(o),Vt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Vt<1700&&(Mt=Wa(o));var Xt=o.length,Be=[];for(y=0;y<Xt;y++){var Qe=At(o[y]);Be.push(h.project(At([Qe.lat-Mt.lat,Qe.lng-Mt.lng])))}for(y=0,b=0;y<Xt-1;y++)b+=Be[y].distanceTo(Be[y+1])/2;if(b===0)xt=Be[0];else for(y=0,V=0;y<Xt-1;y++)if(X=Be[y],ut=Be[y+1],A=X.distanceTo(ut),V+=A,V>b){mt=(V-b)/A,xt=[ut.x-mt*(ut.x-X.x),ut.y-mt*(ut.y-X.y)];break}var qn=h.unproject(R(xt));return At([qn.lat+Mt.lat,qn.lng+Mt.lng])}var B={__proto__:null,simplify:gl,pointToSegmentDistance:$a,closestPointOnSegment:Jr,clipSegment:ua,_getEdgeIntersection:Tn,_getBitCode:Rr,_sqClosestPointOnSegment:fi,isFlat:g,_flat:S,polylineCenter:C},lt={project:function(o){return new st(o.lng,o.lat)},unproject:function(o){return new kt(o.y,o.x)},bounds:new ht([-180,-90],[180,90])},yt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ht([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,y=this.R,b=o.lat*h,A=this.R_MINOR/y,V=Math.sqrt(1-A*A),X=V*Math.sin(b),ut=Math.tan(Math.PI/4-b/2)/Math.pow((1-X)/(1+X),V/2);return b=-y*Math.log(Math.max(ut,1e-10)),new st(o.lng*h*y,b)},unproject:function(o){for(var h=180/Math.PI,y=this.R,b=this.R_MINOR/y,A=Math.sqrt(1-b*b),V=Math.exp(-o.y/y),X=Math.PI/2-2*Math.atan(V),ut=0,mt=.1,xt;ut<15&&Math.abs(mt)>1e-7;ut++)xt=A*Math.sin(X),xt=Math.pow((1-xt)/(1+xt),A/2),mt=Math.PI/2-2*Math.atan(V*xt)-X,X+=mt;return new kt(X*h,o.x*h/y)}},It={__proto__:null,LonLat:lt,Mercator:yt,SphericalMercator:Pn},he=s({},Jt,{code:"EPSG:3395",projection:yt,transformation:(function(){var o=.5/(Math.PI*yt.R);return Ti(o,.5,-o,.5)})()}),sn=s({},Jt,{code:"EPSG:4326",projection:lt,transformation:Ti(1/180,1,-1/180,.5)}),fe=s({},ge,{projection:lt,transformation:Ti(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var y=h.lng-o.lng,b=h.lat-o.lat;return Math.sqrt(y*y+b*b)},infinite:!0});ge.Earth=Jt,ge.EPSG3395=he,ge.EPSG3857=Gi,ge.EPSG900913=Fr,ge.EPSG4326=sn,ge.Simple=fe;var xe=rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[p(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[p(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var y=this.getEvents();h.on(y,this),this.once("remove",function(){h.off(y,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=p(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=p(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return p(o)in this._layers},eachLayer:function(o,h){for(var y in this._layers)o.call(h,this._layers[y]);return this},_addLayers:function(o){o=o?Z(o)?o:[o]:[];for(var h=0,y=o.length;h<y;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[p(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=p(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,y=this._getZoomSpan();for(var b in this._zoomBoundLayers){var A=this._zoomBoundLayers[b].options;o=A.minZoom===void 0?o:Math.min(o,A.minZoom),h=A.maxZoom===void 0?h:Math.max(h,A.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ue=xe.extend({initialize:function(o,h){U(this,h),this._layers={};var y,b;if(o)for(y=0,b=o.length;y<b;y++)this.addLayer(o[y])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),y,b;for(y in this._layers)b=this._layers[y],b[o]&&b[o].apply(b,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var y in this._layers)o.call(h,this._layers[y]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return p(o)}}),ts=function(o,h){return new Ue(o,h)},Oe=Ue.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ue.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ue.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new j;for(var h in this._layers){var y=this._layers[h];o.extend(y.getBounds?y.getBounds():y.getLatLng())}return o}}),Cr=function(o,h){return new Oe(o,h)},Ir=it.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){U(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var y=this._getIconUrl(o);if(!y){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(y,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(o,h){var y=this.options,b=y[h+"Size"];typeof b=="number"&&(b=[b,b]);var A=R(b),V=R(h==="shadow"&&y.shadowAnchor||y.iconAnchor||A&&A.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(y.className||""),V&&(o.style.marginLeft=-V.x+"px",o.style.marginTop=-V.y+"px"),A&&(o.style.width=A.x+"px",o.style.height=A.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return Ut.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function du(o){return new Ir(o)}var Xa=Ir.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Xa.imagePath!="string"&&(Xa.imagePath=this._detectIconPath()),(this.options.imagePath||Xa.imagePath)+Ir.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(y,b,A){var V=b.exec(y);return V&&V[A]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=oe("div","leaflet-default-icon-path",document.body),h=Er(o,"background-image")||Er(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),Vc=hi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new er(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),te(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Re(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,y=h._map,b=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,V=bi(h._icon),X=y.getPixelBounds(),ut=y.getPixelOrigin(),mt=wt(X.min._subtract(ut).add(A),X.max._subtract(ut).subtract(A));if(!mt.contains(V)){var xt=R((Math.max(mt.max.x,V.x)-mt.max.x)/(X.max.x-mt.max.x)-(Math.min(mt.min.x,V.x)-mt.min.x)/(X.min.x-mt.min.x),(Math.max(mt.max.y,V.y)-mt.max.y)/(X.max.y-mt.max.y)-(Math.min(mt.min.y,V.y)-mt.min.y)/(X.min.y-mt.min.y)).multiplyBy(b);y.panBy(xt,{animate:!1}),this._draggable._newPos._add(xt),this._draggable._startPos._add(xt),Zt(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=N(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,y=h._shadow,b=bi(h._icon),A=h._map.layerPointToLatLng(b);y&&Zt(y,b),h._latlng=A,o.latlng=A,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Qa=xe.extend({options:{icon:new Xa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){U(this,h),this._latlng=At(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=At(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=o.icon.createIcon(this._icon),b=!1;y!==this._icon&&(this._icon&&this._removeIcon(),b=!0,o.title&&(y.title=o.title),y.tagName==="IMG"&&(y.alt=o.alt||"")),te(y,h),o.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ht(y,"focus",this._panOnFocus,this);var A=o.icon.createShadow(this._shadow),V=!1;A!==this._shadow&&(this._removeShadow(),V=!0),A&&(te(A,h),A.alt=""),this._shadow=A,o.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&V&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),Se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Se(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Zt(this._icon,o),this._shadow&&Zt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Vc)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Vc(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&ze(this._icon,o),this._shadow&&ze(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,y=h.iconSize?R(h.iconSize):R(0,0),b=h.iconAnchor?R(h.iconAnchor):R(0,0);o.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:y.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function zc(o,h){return new Qa(o,h)}var es=xe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return U(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),_l=es.extend({options:{fill:!0,radius:10},initialize:function(o,h){U(this,h),this._latlng=At(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=At(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return es.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,y=this._clickTolerance(),b=[o+y,h+y];this._pxBounds=new ht(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xf(o,h){return new _l(o,h)}var Uc=_l.extend({initialize:function(o,h,y){if(typeof h=="number"&&(h=s({},y,{radius:h})),U(this,h),this._latlng=At(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:es.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,y=this._map,b=y.options.crs;if(b.distance===Jt.distance){var A=Math.PI/180,V=this._mRadius/Jt.R/A,X=y.project([h+V,o]),ut=y.project([h-V,o]),mt=X.add(ut).divideBy(2),xt=y.unproject(mt).lat,Mt=Math.acos((Math.cos(V*A)-Math.sin(h*A)*Math.sin(xt*A))/(Math.cos(h*A)*Math.cos(xt*A)))/A;(isNaN(Mt)||Mt===0)&&(Mt=V/Math.cos(Math.PI/180*h)),this._point=mt.subtract(y.getPixelOrigin()),this._radius=isNaN(Mt)?0:mt.x-y.project([xt,o-Mt]).x,this._radiusY=mt.y-X.y}else{var Lt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(Lt).x}this._updateBounds()}});function Zm(o,h,y){return new Uc(o,h,y)}var ns=es.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){U(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,y=null,b=fi,A,V,X=0,ut=this._parts.length;X<ut;X++)for(var mt=this._parts[X],xt=1,Mt=mt.length;xt<Mt;xt++){A=mt[xt-1],V=mt[xt];var Lt=b(o,A,V,!0);Lt<h&&(h=Lt,y=b(o,A,V))}return y&&(y.distance=Math.sqrt(h)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return C(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=At(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new j,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return g(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],y=g(o),b=0,A=o.length;b<A;b++)y?(h[b]=At(o[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(o[b]);return h},_project:function(){var o=new ht;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new st(o,o);this._rawPxBounds&&(this._pxBounds=new ht([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,y){var b=o[0]instanceof kt,A=o.length,V,X;if(b){for(X=[],V=0;V<A;V++)X[V]=this._map.latLngToLayerPoint(o[V]),y.extend(X[V]);h.push(X)}else for(V=0;V<A;V++)this._projectLatlngs(o[V],h,y)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,y,b,A,V,X,ut,mt;for(y=0,A=0,V=this._rings.length;y<V;y++)for(mt=this._rings[y],b=0,X=mt.length;b<X-1;b++)ut=ua(mt[b],mt[b+1],o,b,!0),ut&&(h[A]=h[A]||[],h[A].push(ut[0]),(ut[1]!==mt[b+1]||b===X-2)&&(h[A].push(ut[1]),A++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,y=0,b=o.length;y<b;y++)o[y]=gl(o[y],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var y,b,A,V,X,ut,mt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(y=0,V=this._parts.length;y<V;y++)for(ut=this._parts[y],b=0,X=ut.length,A=X-1;b<X;A=b++)if(!(!h&&b===0)&&$a(o,ut[A],ut[b])<=mt)return!0;return!1}});function Wm(o,h){return new ns(o,h)}ns._flat=S;var Ja=ns.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=ns.prototype._convertLatLngs.call(this,o),y=h.length;return y>=2&&h[0]instanceof kt&&h[0].equals(h[y-1])&&h.pop(),h},_setLatLngs:function(o){ns.prototype._setLatLngs.call(this,o),g(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return g(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,y=new st(h,h);if(o=new ht(o.min.subtract(y),o.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,A=this._rings.length,V;b<A;b++)V=Za(this._rings[b],o,!0),V.length&&this._parts.push(V)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,y,b,A,V,X,ut,mt,xt;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(V=0,mt=this._parts.length;V<mt;V++)for(y=this._parts[V],X=0,xt=y.length,ut=xt-1;X<xt;ut=X++)b=y[X],A=y[ut],b.y>o.y!=A.y>o.y&&o.x<(A.x-b.x)*(o.y-b.y)/(A.y-b.y)+b.x&&(h=!h);return h||ns.prototype._containsPoint.call(this,o,!0)}});function Si(o,h){return new Ja(o,h)}var xi=Oe.extend({initialize:function(o,h){U(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=Z(o)?o:o.features,y,b,A;if(h){for(y=0,b=h.length;y<b;y++)A=h[y],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var V=this.options;if(V.filter&&!V.filter(o))return this;var X=vl(o,V);return X?(X.feature=to(o),X.defaultOptions=X.options,this.resetStyle(X),V.onEachFeature&&V.onEachFeature(o,X),this.addLayer(X)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function vl(o,h){var y=o.type==="Feature"?o.geometry:o,b=y?y.coordinates:null,A=[],V=h&&h.pointToLayer,X=h&&h.coordsToLatLng||pu,ut,mt,xt,Mt;if(!b&&!y)return null;switch(y.type){case"Point":return ut=X(b),Bc(V,o,ut,h);case"MultiPoint":for(xt=0,Mt=b.length;xt<Mt;xt++)ut=X(b[xt]),A.push(Bc(V,o,ut,h));return new Oe(A);case"LineString":case"MultiLineString":return mt=wl(b,y.type==="LineString"?0:1,X),new ns(mt,h);case"Polygon":case"MultiPolygon":return mt=wl(b,y.type==="Polygon"?1:2,X),new Ja(mt,h);case"GeometryCollection":for(xt=0,Mt=y.geometries.length;xt<Mt;xt++){var Lt=vl({geometry:y.geometries[xt],type:"Feature",properties:o.properties},h);Lt&&A.push(Lt)}return new Oe(A);case"FeatureCollection":for(xt=0,Mt=y.features.length;xt<Mt;xt++){var Vt=vl(y.features[xt],h);Vt&&A.push(Vt)}return new Oe(A);default:throw new Error("Invalid GeoJSON object.")}}function Bc(o,h,y,b){return o?o(h,y):new Qa(y,b&&b.markersInheritOptions&&b)}function pu(o){return new kt(o[1],o[0],o[2])}function wl(o,h,y){for(var b=[],A=0,V=o.length,X;A<V;A++)X=h?wl(o[A],h-1,y):(y||pu)(o[A]),b.push(X);return b}function Tl(o,h){return o=At(o),o.alt!==void 0?[E(o.lng,h),E(o.lat,h),E(o.alt,h)]:[E(o.lng,h),E(o.lat,h)]}function mu(o,h,y,b){for(var A=[],V=0,X=o.length;V<X;V++)A.push(h?mu(o[V],g(o[V])?0:h-1,y,b):Tl(o[V],b));return!h&&y&&A.length>0&&A.push(A[0].slice()),A}function nr(o,h){return o.feature?s({},o.feature,{geometry:h}):to(h)}function to(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var ca={toGeoJSON:function(o){return nr(this,{type:"Point",coordinates:Tl(this.getLatLng(),o)})}};Qa.include(ca),Uc.include(ca),_l.include(ca),ns.include({toGeoJSON:function(o){var h=!g(this._latlngs),y=mu(this._latlngs,h?1:0,!1,o);return nr(this,{type:(h?"Multi":"")+"LineString",coordinates:y})}}),Ja.include({toGeoJSON:function(o){var h=!g(this._latlngs),y=h&&!g(this._latlngs[0]),b=mu(this._latlngs,y?2:h?1:0,!0,o);return h||(b=[b]),nr(this,{type:(y?"Multi":"")+"Polygon",coordinates:b})}}),Ue.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(y){h.push(y.toGeoJSON(o).geometry.coordinates)}),nr(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var y=h==="GeometryCollection",b=[];return this.eachLayer(function(A){if(A.toGeoJSON){var V=A.toGeoJSON(o);if(y)b.push(V.geometry);else{var X=to(V);X.type==="FeatureCollection"?b.push.apply(b,X.features):b.push(X)}}}),y?nr(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function gu(o,h){return new xi(o,h)}var Qf=gu,Pr=xe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,y){this._url=o,this._bounds=Rt(h),U(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Sr(this._image),this},bringToBack:function(){return this._map&&Es(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Rt(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:oe("img");if(te(h,"leaflet-image-layer"),this._zoomAnimated&&te(h,"leaflet-zoom-animated"),this.options.className&&te(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onload=c(this.fire,this,"load"),h.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Jn(this._image,y,h)},_reset:function(){var o=this._image,h=new ht(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=h.getSize();Zt(o,h.min),o.style.width=y.x+"px",o.style.height=y.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),eo=function(o,h,y){return new Pr(o,h,y)},yu=Pr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:oe("video");if(te(h,"leaflet-image-layer"),this._zoomAnimated&&te(h,"leaflet-zoom-animated"),this.options.className&&te(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onloadeddata=c(this.fire,this,"load"),o){for(var y=h.getElementsByTagName("source"),b=[],A=0;A<y.length;A++)b.push(y[A].src);this._url=y.length>0?b:[h.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var V=0;V<this._url.length;V++){var X=oe("source");X.src=this._url[V],h.appendChild(X)}}});function Jf(o,h,y){return new yu(o,h,y)}var Cs=Pr.extend({_initImage:function(){var o=this._image=this._url;te(o,"leaflet-image-layer"),this._zoomAnimated&&te(o,"leaflet-zoom-animated"),this.options.className&&te(o,this.options.className),o.onselectstart=T,o.onmousemove=T}});function td(o,h,y){return new Cs(o,h,y)}var ir=xe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof kt||Z(o))?(this._latlng=At(o),U(this,h)):(U(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(c(Se,void 0,this._container),200)):Se(this._container),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=At(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Sr(this._container),this},bringToBack:function(){return this._map&&Es(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof Oe){h=null;var y=this._source._layers;for(var b in y)if(y[b]._map){h=y[b];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=R(this.options.offset),y=this._getAnchor();this._zoomAnimated?Zt(this._container,o.add(y)):h=h.add(o).add(y);var b=this._containerBottom=-h.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(o,h,y,b){var A=h;return A instanceof o||(A=new o(b).setContent(h)),y&&A.setLatLng(y),A}}),xe.include({_initOverlay:function(o,h,y,b){var A=y;return A instanceof o?(U(A,b),A._source=this):(A=h&&!b?h:new o(b,this),A.setContent(y)),A}});var bl=ir.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,ir.prototype.openOn.call(this,o)},onAdd:function(o){ir.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof es||this._source.on("preclick",ci))},onRemove:function(o){ir.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof es||this._source.off("preclick",ci))},getEvents:function(){var o=ir.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=oe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=oe("div",o+"-content-wrapper",h);if(this._contentNode=oe("div",o+"-content",y),Yr(h),tr(this._contentNode),Ht(h,"contextmenu",ci),this._tipContainer=oe("div",o+"-tip-container",h),this._tip=oe("div",o+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=oe("a",o+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ht(b,"click",function(A){Pe(A),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var y=o.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),h.width=y+1+"px",h.whiteSpace="",h.height="";var b=o.offsetHeight,A=this.options.maxHeight,V="leaflet-popup-scrolled";A&&b>A?(h.height=A+"px",te(o,V)):Re(o,V),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),y=this._getAnchor();Zt(this._container,h.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(Er(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+h,b=this._containerWidth,A=new st(this._containerLeft,-y-this._containerBottom);A._add(bi(this._container));var V=o.layerPointToContainerPoint(A),X=R(this.options.autoPanPadding),ut=R(this.options.autoPanPaddingTopLeft||X),mt=R(this.options.autoPanPaddingBottomRight||X),xt=o.getSize(),Mt=0,Lt=0;V.x+b+mt.x>xt.x&&(Mt=V.x+b-xt.x+mt.x),V.x-Mt-ut.x<0&&(Mt=V.x-ut.x),V.y+y+mt.y>xt.y&&(Lt=V.y+y-xt.y+mt.y),V.y-Lt-ut.y<0&&(Lt=V.y-ut.y),(Mt||Lt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Mt,Lt]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Km=function(o,h){return new bl(o,h)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(o,h,y){return this._initOverlay(bl,o,h,y).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),xe.include({bindPopup:function(o,h){return this._popup=this._initOverlay(bl,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Oe||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Fn(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof es)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var _u=ir.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){ir.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){ir.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=ir.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,y,b=this._map,A=this._container,V=b.latLngToContainerPoint(b.getCenter()),X=b.layerPointToContainerPoint(o),ut=this.options.direction,mt=A.offsetWidth,xt=A.offsetHeight,Mt=R(this.options.offset),Lt=this._getAnchor();ut==="top"?(h=mt/2,y=xt):ut==="bottom"?(h=mt/2,y=0):ut==="center"?(h=mt/2,y=xt/2):ut==="right"?(h=0,y=xt/2):ut==="left"?(h=mt,y=xt/2):X.x<V.x?(ut="right",h=0,y=xt/2):(ut="left",h=mt+(Mt.x+Lt.x)*2,y=xt/2),o=o.subtract(R(h,y,!0)).add(Mt).add(Lt),Re(A,"leaflet-tooltip-right"),Re(A,"leaflet-tooltip-left"),Re(A,"leaflet-tooltip-top"),Re(A,"leaflet-tooltip-bottom"),te(A,"leaflet-tooltip-"+ut),Zt(A,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&ze(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$m=function(o,h){return new _u(o,h)};ie.include({openTooltip:function(o,h,y){return this._initOverlay(_u,o,h,y).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),xe.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_u,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[h](y),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Oe||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Ht(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ht(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,y,b;this._tooltip.options.sticky&&o.originalEvent&&(y=this._map.mouseEventToContainerPoint(o.originalEvent),b=this._map.containerPointToLayerPoint(y),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var jc=Ir.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),y=this.options;if(y.html instanceof Element?(wn(h),h.appendChild(y.html)):h.innerHTML=y.html!==!1?y.html:"",y.bgPos){var b=R(y.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function ed(o){return new jc(o)}Ir.Default=Xa;var ha=xe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ut.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){U(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Se(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Sr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Es(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof st?o:new st(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,y=-o(-1/0,1/0),b=0,A=h.length,V;b<A;b++)V=h[b].style.zIndex,h[b]!==this._container&&V&&(y=o(y,+V));isFinite(y)&&(this.options.zIndex=y+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ut.ielt9){ze(this._container,this.options.opacity);var o=+new Date,h=!1,y=!1;for(var b in this._tiles){var A=this._tiles[b];if(!(!A.current||!A.loaded)){var V=Math.min(1,(o-A.loaded)/200);ze(A.el,V),V<1?h=!0:(A.active?y=!0:this._onOpaqueTile(A),A.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),h&&(M(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===o?(this._levels[y].el.style.zIndex=h-Math.abs(o-y),this._onUpdateLevel(y)):(Se(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var b=this._levels[o],A=this._map;return b||(b=this._levels[o]={},b.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=A.project(A.unproject(A.getPixelOrigin()),o).round(),b.zoom=o,this._setZoomTransform(b,A.getCenter(),A.getZoom()),T(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var o,h,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Se(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,y,b){var A=Math.floor(o/2),V=Math.floor(h/2),X=y-1,ut=new st(+A,+V);ut.z=+X;var mt=this._tileCoordsToKey(ut),xt=this._tiles[mt];return xt&&xt.active?(xt.retain=!0,!0):(xt&&xt.loaded&&(xt.retain=!0),X>b?this._retainParent(A,V,X,b):!1)},_retainChildren:function(o,h,y,b){for(var A=2*o;A<2*o+2;A++)for(var V=2*h;V<2*h+2;V++){var X=new st(A,V);X.z=y+1;var ut=this._tileCoordsToKey(X),mt=this._tiles[ut];if(mt&&mt.active){mt.retain=!0;continue}else mt&&mt.loaded&&(mt.retain=!0);y+1<b&&this._retainChildren(A,V,y+1,b)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,y,b){var A=Math.round(h);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var V=this.options.updateWhenZooming&&A!==this._tileZoom;(!b||V)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(o),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var y in this._levels)this._setZoomTransform(this._levels[y],o,h)},_setZoomTransform:function(o,h,y){var b=this._map.getZoomScale(y,o.zoom),A=o.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,y)).round();Ut.any3d?Jn(o.el,A,b):Zt(o.el,A)},_resetGrid:function(){var o=this._map,h=o.options.crs,y=this._tileSize=this.getTileSize(),b=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],b).x/y.x),Math.ceil(o.project([0,h.wrapLng[1]],b).x/y.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],b).y/y.x),Math.ceil(o.project([h.wrapLat[1],0],b).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,y=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(y,this._tileZoom),A=h.project(o,this._tileZoom).floor(),V=h.getSize().divideBy(b*2);return new ht(A.subtract(V),A.add(V))},_update:function(o){var h=this._map;if(h){var y=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(o),A=this._pxBoundsToTileRange(b),V=A.getCenter(),X=[],ut=this.options.keepBuffer,mt=new ht(A.getBottomLeft().subtract([ut,-ut]),A.getTopRight().add([ut,-ut]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xt in this._tiles){var Mt=this._tiles[xt].coords;(Mt.z!==this._tileZoom||!mt.contains(new st(Mt.x,Mt.y)))&&(this._tiles[xt].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(o,y);return}for(var Lt=A.min.y;Lt<=A.max.y;Lt++)for(var Vt=A.min.x;Vt<=A.max.x;Vt++){var Xt=new st(Vt,Lt);if(Xt.z=this._tileZoom,!!this._isValidTile(Xt)){var Be=this._tiles[this._tileCoordsToKey(Xt)];Be?Be.current=!0:X.push(Xt)}}if(X.sort(function(qn,Li){return qn.distanceTo(V)-Li.distanceTo(V)}),X.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qe=document.createDocumentFragment();for(Vt=0;Vt<X.length;Vt++)this._addTile(X[Vt],Qe);this._level.el.appendChild(Qe)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var y=this._globalTileRange;if(!h.wrapLng&&(o.x<y.min.x||o.x>y.max.x)||!h.wrapLat&&(o.y<y.min.y||o.y>y.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(o);return Rt(this.options.bounds).overlaps(b)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,y=this.getTileSize(),b=o.scaleBy(y),A=b.add(y),V=h.unproject(b,o.z),X=h.unproject(A,o.z);return[V,X]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),y=new j(h[0],h[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),y=new st(+h[0],+h[1]);return y.z=+h[2],y},_removeTile:function(o){var h=this._tiles[o];h&&(Se(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){te(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=T,o.onmousemove=T,Ut.ielt9&&this.options.opacity<1&&ze(o,this.options.opacity)},_addTile:function(o,h){var y=this._getTilePos(o),b=this._tileCoordsToKey(o),A=this.createTile(this._wrapCoords(o),c(this._tileReady,this,o));this._initTile(A),this.createTile.length<2&&N(c(this._tileReady,this,o,null,A)),Zt(A,y),this._tiles[b]={el:A,coords:o,current:!0},h.appendChild(A),this.fire("tileloadstart",{tile:A,coords:o})},_tileReady:function(o,h,y){h&&this.fire("tileerror",{error:h,tile:y,coords:o});var b=this._tileCoordsToKey(o);y=this._tiles[b],y&&(y.loaded=+new Date,this._map._fadeAnimated?(ze(y.el,0),M(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),h||(te(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ut.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new st(this._wrapX?v(o.x,this._wrapX):o.x,this._wrapY?v(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new ht(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function rr(o){return new ha(o)}var fa=ha.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=U(this,h),h.detectRetina&&Ut.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var y=document.createElement("img");return Ht(y,"load",c(this._tileOnLoad,this,h,y)),Ht(y,"error",c(this._tileOnError,this,h,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(o),y},getTileUrl:function(o){var h={r:Ut.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=y),h["-y"]=y}return K(this._url,s(h,this.options))},_tileOnLoad:function(o,h){Ut.ielt9?setTimeout(c(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,y){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),o(y,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,y=this.options.zoomReverse,b=this.options.zoomOffset;return y&&(o=h-o),o+b},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=T,h.onerror=T,!h.complete)){h.src=J;var y=this._tiles[o].coords;Se(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:y})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",J),ha.prototype._removeTile.call(this,o)},_tileReady:function(o,h,y){if(!(!this._map||y&&y.getAttribute("src")===J))return ha.prototype._tileReady.call(this,o,h,y)}});function Ai(o,h){return new fa(o,h)}var Ri=fa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var y=s({},this.defaultWmsParams);for(var b in h)b in this.options||(y[b]=h[b]);h=U(this,h);var A=h.detectRetina&&Ut.retina?2:1,V=this.getTileSize();y.width=V.x*A,y.height=V.y*A,this.wmsParams=y},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,fa.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),y=this._crs,b=wt(y.project(h[0]),y.project(h[1])),A=b.min,V=b.max,X=(this._wmsVersion>=1.3&&this._crs===sn?[A.y,A.x,V.y,V.x]:[A.x,A.y,V.x,V.y]).join(","),ut=fa.prototype.getTileUrl.call(this,o);return ut+H(this.wmsParams,ut,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+X},setParams:function(o,h){return s(this.wmsParams,o),h||this.redraw(),this}});function no(o,h){return new Ri(o,h)}fa.WMS=Ri,Ai.wms=no;var sr=xe.extend({options:{padding:.1},initialize:function(o){U(this,o),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var y=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,h),V=b.multiplyBy(-y).add(A).subtract(this._map._getNewPixelOrigin(o,h));Ut.any3d?Jn(this._container,V,y):Zt(this._container,V)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),y=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new ht(y,y.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),El=sr.extend({options:{tolerance:0},getEvents:function(){var o=sr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){sr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ht(o,"mousemove",this._onMouseMove,this),Ht(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ht(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,Se(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){sr.prototype._update.call(this);var o=this._bounds,h=this._container,y=o.getSize(),b=Ut.retina?2:1;Zt(h,o.min),h.width=b*y.x,h.height=b*y.y,h.style.width=y.x+"px",h.style.height=y.y+"px",Ut.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){sr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[p(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,y=h.next,b=h.prev;y?y.prev=b:this._drawLast=b,b?b.next=y:this._drawFirst=y,delete o._order,delete this._layers[p(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),y=[],b,A;for(A=0;A<h.length;A++){if(b=Number(h[A]),isNaN(b))return;y.push(b)}o.options._dashArray=y}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ht,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var y=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)o=b.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var y,b,A,V,X=o._parts,ut=X.length,mt=this._ctx;if(ut){for(mt.beginPath(),y=0;y<ut;y++){for(b=0,A=X[y].length;b<A;b++)V=X[y][b],mt[b?"lineTo":"moveTo"](V.x,V.y);h&&mt.closePath()}this._fillStroke(mt,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,y=this._ctx,b=Math.max(Math.round(o._radius),1),A=(Math.max(Math.round(o._radiusY),1)||b)/b;A!==1&&(y.save(),y.scale(1,A)),y.beginPath(),y.arc(h.x,h.y/A,b,0,Math.PI*2,!1),A!==1&&y.restore(),this._fillStroke(y,o)}},_fillStroke:function(o,h){var y=h.options;y.fill&&(o.globalAlpha=y.fillOpacity,o.fillStyle=y.fillColor||y.color,o.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=y.opacity,o.lineWidth=y.weight,o.strokeStyle=y.color,o.lineCap=y.lineCap,o.lineJoin=y.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),y,b,A=this._drawFirst;A;A=A.next)y=A.layer,y.options.interactive&&y._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(y))&&(b=y);this._fireEvent(b?[b]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(Re(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var y,b,A=this._drawFirst;A;A=A.next)y=A.layer,y.options.interactive&&y._containsPoint(h)&&(b=y);b!==this._hoveredLayer&&(this._handleMouseOut(o),b&&(te(this._container,"leaflet-interactive"),this._fireEvent([b],o,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,y){this._map._fireDOMEvent(h,y||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var y=h.next,b=h.prev;if(y)y.prev=b;else return;b?b.next=y:y&&(this._drawFirst=y),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var y=h.next,b=h.prev;if(b)b.next=y;else return;y?y.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Sl(o){return Ut.canvas?new El(o):null}var da=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),io={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(sr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=da("shape");te(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=da("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;Se(h),o.removeInteractiveTarget(h),delete this._layers[p(o)]},_updateStyle:function(o){var h=o._stroke,y=o._fill,b=o.options,A=o._container;A.stroked=!!b.stroke,A.filled=!!b.fill,b.stroke?(h||(h=o._stroke=da("stroke")),A.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=Z(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(A.removeChild(h),o._stroke=null),b.fill?(y||(y=o._fill=da("fill")),A.appendChild(y),y.color=b.fillColor||b.color,y.opacity=b.fillOpacity):y&&(A.removeChild(y),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),y=Math.round(o._radius),b=Math.round(o._radiusY||y);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+y+","+b+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){Sr(o._container)},_bringToBack:function(o){Es(o._container)}},xl=Ut.vml?da:Hr,Is=sr.extend({_initContainer:function(){this._container=xl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Se(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){sr.prototype._update.call(this);var o=this._bounds,h=o.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,y.setAttribute("width",h.x),y.setAttribute("height",h.y)),Zt(y,o.min),y.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=xl("path");o.options.className&&te(h,o.options.className),o.options.interactive&&te(h,"leaflet-interactive"),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Se(o._path),o.removeInteractiveTarget(o._path),delete this._layers[p(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,y=o.options;h&&(y.stroke?(h.setAttribute("stroke",y.color),h.setAttribute("stroke-opacity",y.opacity),h.setAttribute("stroke-width",y.weight),h.setAttribute("stroke-linecap",y.lineCap),h.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?h.setAttribute("stroke-dasharray",y.dashArray):h.removeAttribute("stroke-dasharray"),y.dashOffset?h.setAttribute("stroke-dashoffset",y.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),y.fill?(h.setAttribute("fill",y.fillColor||y.color),h.setAttribute("fill-opacity",y.fillOpacity),h.setAttribute("fill-rule",y.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,ms(o._parts,h))},_updateCircle:function(o){var h=o._point,y=Math.max(Math.round(o._radius),1),b=Math.max(Math.round(o._radiusY),1)||y,A="a"+y+","+b+" 0 1,0 ",V=o._empty()?"M0 0":"M"+(h.x-y)+","+h.y+A+y*2+",0 "+A+-y*2+",0 ";this._setPath(o,V)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){Sr(o._path)},_bringToBack:function(o){Es(o._path)}});Ut.vml&&Is.include(io);function pa(o){return Ut.svg||Ut.vml?new Is(o):null}ie.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Sl(o)||pa(o)}});var nd=Ja.extend({initialize:function(o,h){Ja.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Rt(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Ci(o,h){return new nd(o,h)}Is.create=xl,Is.pointsToPath=ms,xi.geometryToLayer=vl,xi.coordsToLatLng=pu,xi.coordsToLatLngs=wl,xi.latLngToCoords=Tl,xi.latLngsToCoords=mu,xi.getFeature=nr,xi.asFeature=to,ie.mergeOptions({boxZoom:!0});var vu=hi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),jn(),sa(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ht(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new ht(this._point,this._startPoint),y=h.getSize();Zt(this._box,h.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(Se(this._box),Re(this._container,"leaflet-crosshair")),Xi(),fl(),_e(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var h=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",vu),ie.mergeOptions({doubleClickZoom:!0});var kr=hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,y=h.getZoom(),b=h.options.zoomDelta,A=o.originalEvent.shiftKey?y-b:y+b;h.options.doubleClickZoom==="center"?h.setZoom(A):h.setZoomAround(o.containerPoint,A)}});ie.addInitHook("addHandler","doubleClickZoom",kr),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fc=hi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new er(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Re(this._map._container,"leaflet-grab"),Re(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Rt(this._map.options.maxBounds);this._offsetLimit=wt(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),y=this._initialWorldOffset,b=this._draggable._newPos.x,A=(b-h+y)%o+h-y,V=(b+h+y)%o-h-y,X=Math.abs(A+y)<Math.abs(V+y)?A:V;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=X},_onDragEnd:function(o){var h=this._map,y=h.options,b=!y.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),b)h.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),V=(this._lastTime-this._times[0])/1e3,X=y.easeLinearity,ut=A.multiplyBy(X/V),mt=ut.distanceTo([0,0]),xt=Math.min(y.inertiaMaxSpeed,mt),Mt=ut.multiplyBy(xt/mt),Lt=xt/(y.inertiaDeceleration*X),Vt=Mt.multiplyBy(-Lt/2).round();!Vt.x&&!Vt.y?h.fire("moveend"):(Vt=h._limitOffset(Vt,h.options.maxBounds),N(function(){h.panBy(Vt,{duration:Lt,easeLinearity:X,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",Fc),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Al=hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ht(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,y=o.scrollTop||h.scrollTop,b=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},y=this.keyCodes,b,A;for(b=0,A=y.left.length;b<A;b++)h[y.left[b]]=[-1*o,0];for(b=0,A=y.right.length;b<A;b++)h[y.right[b]]=[o,0];for(b=0,A=y.down.length;b<A;b++)h[y.down[b]]=[0,o];for(b=0,A=y.up.length;b<A;b++)h[y.up[b]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},y=this.keyCodes,b,A;for(b=0,A=y.zoomIn.length;b<A;b++)h[y.zoomIn[b]]=o;for(b=0,A=y.zoomOut.length;b<A;b++)h[y.zoomOut[b]]=-o},_addHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,y=this._map,b;if(h in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(b=this._panKeys[h],o.shiftKey&&(b=R(b).multiplyBy(3)),y.options.maxBounds&&(b=y._limitOffset(R(b),y.options.maxBounds)),y.options.worldCopyJump){var A=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(b)));y.panTo(A)}else y.panBy(b)}else if(h in this._zoomKeys)y.setZoom(y.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;Fn(o)}}});ie.addInitHook("addHandler","keyboard",Al),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ps=hi.extend({addHooks:function(){Ht(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=aa(o),y=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var b=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),b),Fn(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),y=this._map.options.zoomSnap||0;o._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,V=y?Math.ceil(A/y)*y:A,X=o._limitZoom(h+(this._delta>0?V:-V))-h;this._delta=0,this._startTime=null,X&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+X):o.setZoomAround(this._lastMousePos,h+X))}});ie.addInitHook("addHandler","scrollWheelZoom",Ps);var Hc=600;ie.mergeOptions({tapHold:Ut.touchNative&&Ut.safari&&Ut.mobile,tapTolerance:15});var wu=hi.extend({addHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new st(h.clientX,h.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Ht(document,"touchend",Pe),Ht(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Hc),Ht(document,"touchend touchcancel contextmenu",this._cancel,this),Ht(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){_e(document,"touchend",Pe),_e(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new st(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var y=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});y._simulated=!0,h.target.dispatchEvent(y)}});ie.addInitHook("addHandler","tapHold",wu),ie.mergeOptions({touchZoom:Ut.touch,bounceAtZoomLimits:!0});var ma=hi.extend({addHooks:function(){te(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var y=h.mouseEventToContainerPoint(o.touches[0]),b=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(y.add(b)._divideBy(2))),this._startDist=y.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend touchcancel",this._onTouchEnd,this),Pe(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,y=h.mouseEventToContainerPoint(o.touches[0]),b=h.mouseEventToContainerPoint(o.touches[1]),A=y.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(A,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&A<1||this._zoom>h.getMaxZoom()&&A>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var V=y._add(b)._divideBy(2)._subtract(this._centerPoint);if(A===1&&V.x===0&&V.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(V),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var X=c(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(X,this,!0),Pe(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,M(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",ma),ie.BoxZoom=vu,ie.DoubleClickZoom=kr,ie.Drag=Fc,ie.Keyboard=Al,ie.ScrollWheelZoom=Ps,ie.TapHold=wu,ie.TouchZoom=ma,n.Bounds=ht,n.Browser=Ut,n.CRS=ge,n.Canvas=El,n.Circle=Uc,n.CircleMarker=_l,n.Class=it,n.Control=Dn,n.DivIcon=jc,n.DivOverlay=ir,n.DomEvent=lu,n.DomUtil=dl,n.Draggable=er,n.Evented=rt,n.FeatureGroup=Oe,n.GeoJSON=xi,n.GridLayer=ha,n.Handler=hi,n.Icon=Ir,n.ImageOverlay=Pr,n.LatLng=kt,n.LatLngBounds=j,n.Layer=xe,n.LayerGroup=Ue,n.LineUtil=B,n.Map=ie,n.Marker=Qa,n.Mixin=la,n.Path=es,n.Point=st,n.PolyUtil=Ka,n.Polygon=Ja,n.Polyline=ns,n.Popup=bl,n.PosAnimation=oa,n.Projection=It,n.Rectangle=nd,n.Renderer=sr,n.SVG=Is,n.SVGOverlay=Cs,n.TileLayer=fa,n.Tooltip=_u,n.Transformation=zn,n.Util=k,n.VideoOverlay=yu,n.bind=c,n.bounds=wt,n.canvas=Sl,n.circle=Zm,n.circleMarker=Xf,n.control=Hn,n.divIcon=ed,n.extend=s,n.featureGroup=Cr,n.geoJSON=gu,n.geoJson=Qf,n.gridLayer=rr,n.icon=du,n.imageOverlay=eo,n.latLng=At,n.latLngBounds=Rt,n.layerGroup=ts,n.map=Ar,n.marker=zc,n.point=R,n.polygon=Si,n.polyline=Wm,n.popup=Km,n.rectangle=Ci,n.setOptions=U,n.stamp=p,n.svg=pa,n.svgOverlay=td,n.tileLayer=Ai,n.tooltip=$m,n.transformation=Ti,n.version=i,n.videoOverlay=Jf;var ro=window.L;n.noConflict=function(){return window.L=ro,this},window.L=n}))})(Fh,Fh.exports)),Fh.exports}var bm=w9();function U0(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function B0(e,t){return t==null?function(i,s){const l=Y.useRef(void 0);return l.current||(l.current=e(i,s)),l}:function(i,s){const l=Y.useRef(void 0);l.current||(l.current=e(i,s));const c=Y.useRef(i),{instance:d}=l.current;return Y.useEffect(function(){c.current!==i&&(t(d,i,c.current),c.current=i)},[d,i,t]),l}}function T9(e,t){Y.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function kI(e){return function(n){const i=V0(),s=e(z0(n,i),i);return II(i.map,n.attribution),PI(s.current,n.eventHandlers),T9(s.current,i),s}}function b9(e,t){const n=B0(e,t),i=kI(n);return m9(i)}function E9(e,t){const n=B0(e),i=_9(n,t);return g9(i)}function S9(e,t){const n=B0(e,t),i=kI(n);return y9(i)}function x9(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function MI(){return V0().map}function A9(e){const t=MI();return Y.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function R9({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:l,placeholder:c,style:d,whenReady:p,zoom:m,...v},T){const[E]=Y.useState({className:s,id:l,style:d}),[x,O]=Y.useState(null),U=Y.useRef(void 0);Y.useImperativeHandle(T,()=>x?.map??null,[x]);const H=Y.useCallback(K=>{if(K!==null&&!U.current){const Z=new bm.Map(K,v);U.current=Z,n!=null&&m!=null?Z.setView(n,m):e!=null&&Z.fitBounds(e,t),p!=null&&Z.whenReady(p),O(d9(Z))}},[]);Y.useEffect(()=>()=>{x?.map.remove()},[x]);const F=x?Op.createElement(N0,{value:x},i):c??null;return Op.createElement("div",{...E,ref:H},F)}const DI=Y.forwardRef(R9),OI=b9(function({position:t,...n},i){const s=new bm.Marker(t,n);return U0(s,p9(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),C9=E9(function(t,n){const i=new bm.Popup(t,n.overlayContainer);return U0(i,n)},function(t,n,{position:i},s){Y.useEffect(function(){const{instance:c}=t;function d(m){m.popup===c&&(c.update(),s(!0))}function p(m){m.popup===c&&s(!1)}return n.map.on({popupopen:d,popupclose:p}),n.overlayContainer==null?(i!=null&&c.setLatLng(i),c.openOn(n.map)):n.overlayContainer.bindPopup(c),function(){n.map.off({popupopen:d,popupclose:p}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(c)}},[t,n,s,i])}),LI=S9(function({url:t,...n},i){const s=new bm.TileLayer(t,z0(n,i));return U0(s,i)},function(t,n,i){x9(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)});var s_={},kh={},op={},lp={},a_={exports:{}},o_,$1;function I9(){if($1)return o_;$1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return o_=e,o_}var l_,Y1;function P9(){if(Y1)return l_;Y1=1;var e=I9();function t(){}function n(){}return n.resetWarningCache=t,l_=function(){function i(c,d,p,m,v,T){if(T!==e){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},l_}var X1;function k9(){return X1||(X1=1,a_.exports=P9()()),a_.exports}var Q1;function M9(){return Q1||(Q1=1,(function(e){(function(t,n){n(e,Qo(),k9())})(lp,function(t,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=O;var s=c(n),l=c(i);function c(K){return K&&K.__esModule?K:{default:K}}var d=Object.assign||function(K){for(var Z=1;Z<arguments.length;Z++){var ot=arguments[Z];for(var J in ot)Object.prototype.hasOwnProperty.call(ot,J)&&(K[J]=ot[J])}return K};function p(K,Z){var ot={};for(var J in K)Z.indexOf(J)>=0||Object.prototype.hasOwnProperty.call(K,J)&&(ot[J]=K[J]);return ot}function m(K,Z){if(!(K instanceof Z))throw new TypeError("Cannot call a class as a function")}var v=(function(){function K(Z,ot){for(var J=0;J<ot.length;J++){var $=ot[J];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(Z,$.key,$)}}return function(Z,ot,J){return ot&&K(Z.prototype,ot),J&&K(Z,J),Z}})();function T(K,Z){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:K}function E(K,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);K.prototype=Object.create(Z&&Z.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(K,Z):K.__proto__=Z)}var x=!1;function O(K){x=K}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){O(!0)}}))}catch{}function U(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return x?K:K.capture}function H(K){if("touches"in K){var Z=K.touches[0],ot=Z.pageX,J=Z.pageY;return{x:ot,y:J}}var $=K.screenX,q=K.screenY;return{x:$,y:q}}var F=(function(K){E(Z,K);function Z(){var ot;m(this,Z);for(var J=arguments.length,$=Array(J),q=0;q<J;q++)$[q]=arguments[q];var P=T(this,(ot=Z.__proto__||Object.getPrototypeOf(Z)).call.apply(ot,[this].concat($)));return P._handleSwipeStart=P._handleSwipeStart.bind(P),P._handleSwipeMove=P._handleSwipeMove.bind(P),P._handleSwipeEnd=P._handleSwipeEnd.bind(P),P._onMouseDown=P._onMouseDown.bind(P),P._onMouseMove=P._onMouseMove.bind(P),P._onMouseUp=P._onMouseUp.bind(P),P._setSwiperRef=P._setSwiperRef.bind(P),P}return v(Z,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,U({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,U({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(J){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(J))}},{key:"_onMouseMove",value:function(J){this.mouseDown&&this._handleSwipeMove(J)}},{key:"_onMouseUp",value:function(J){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(J)}},{key:"_handleSwipeStart",value:function(J){var $=H(J),q=$.x,P=$.y;this.moveStart={x:q,y:P},this.props.onSwipeStart(J)}},{key:"_handleSwipeMove",value:function(J){if(this.moveStart){var $=H(J),q=$.x,P=$.y,D=q-this.moveStart.x,G=P-this.moveStart.y;this.moving=!0;var N=this.props.onSwipeMove({x:D,y:G},J);N&&J.cancelable&&J.preventDefault(),this.movePosition={deltaX:D,deltaY:G}}}},{key:"_handleSwipeEnd",value:function(J){this.props.onSwipeEnd(J);var $=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-$?this.props.onSwipeLeft(1,J):this.movePosition.deltaX>$&&this.props.onSwipeRight(1,J),this.movePosition.deltaY<-$?this.props.onSwipeUp(1,J):this.movePosition.deltaY>$&&this.props.onSwipeDown(1,J)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(J){this.swiper=J,this.props.innerRef(J)}},{key:"render",value:function(){var J=this.props;J.tagName;var $=J.className,q=J.style,P=J.children;J.allowMouseEvents,J.onSwipeUp,J.onSwipeDown,J.onSwipeLeft,J.onSwipeRight,J.onSwipeStart,J.onSwipeMove,J.onSwipeEnd,J.innerRef,J.tolerance;var D=p(J,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return s.default.createElement(this.props.tagName,d({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:$,style:q},D),P)}}]),Z})(n.Component);F.displayName="ReactSwipe",F.propTypes={tagName:l.default.string,className:l.default.string,style:l.default.object,children:l.default.node,allowMouseEvents:l.default.bool,onSwipeUp:l.default.func,onSwipeDown:l.default.func,onSwipeLeft:l.default.func,onSwipeRight:l.default.func,onSwipeStart:l.default.func,onSwipeMove:l.default.func,onSwipeEnd:l.default.func,innerRef:l.default.func,tolerance:l.default.number.isRequired},F.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=F})})(lp)),lp}var J1;function NI(){return J1||(J1=1,(function(e){(function(t,n){n(e,M9())})(op,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=s(n);function s(l){return l&&l.__esModule?l:{default:l}}t.default=i.default})})(op)),op}var Mh={},u_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var tx;function D9(){return tx||(tx=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=s(l,i(d)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)t.call(l,d)&&l[d]&&(c=s(c,d));return c}function s(l,c){return c?l?l+" "+c:l+c:l}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(u_)),u_.exports}var ex;function VI(){if(ex)return Mh;ex=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.default=void 0;var e=t(D9());function t(s){return s&&s.__esModule?s:{default:s}}function n(s,l,c){return l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,s}var i={ROOT:function(l){return(0,e.default)(n({"carousel-root":!0},l||"",!!l))},CAROUSEL:function(l){return(0,e.default)({carousel:!0,"carousel-slider":l})},WRAPPER:function(l,c){return(0,e.default)({"thumbs-wrapper":!l,"slider-wrapper":l,"axis-horizontal":c==="horizontal","axis-vertical":c!=="horizontal"})},SLIDER:function(l,c){return(0,e.default)({thumbs:!l,slider:l,animated:!c})},ITEM:function(l,c,d){return(0,e.default)({thumb:!l,slide:l,selected:c,previous:d})},ARROW_PREV:function(l){return(0,e.default)({"control-arrow control-prev":!0,"control-disabled":l})},ARROW_NEXT:function(l){return(0,e.default)({"control-arrow control-next":!0,"control-disabled":l})},DOT:function(l){return(0,e.default)({dot:!0,selected:l})}};return Mh.default=i,Mh}var Dh={},Oh={},nx;function O9(){if(nx)return Oh;nx=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.outerWidth=void 0;var e=function(n){var i=n.offsetWidth,s=getComputedStyle(n);return i+=parseInt(s.marginLeft)+parseInt(s.marginRight),i};return Oh.outerWidth=e,Oh}var Lh={},ix;function j0(){if(ix)return Lh;ix=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.default=void 0;var e=function(n,i,s){var l=n===0?n:n+i,c=s==="horizontal"?[l,0,0]:[0,l,0],d="translate3d",p="("+c.join(",")+")";return d+p};return Lh.default=e,Lh}var Nh={},rx;function zI(){if(rx)return Nh;rx=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.default=void 0;var e=function(){return window};return Nh.default=e,Nh}var sx;function UI(){if(sx)return Dh;sx=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.default=void 0;var e=p(Qo()),t=c(VI()),n=O9(),i=c(j0()),s=c(NI()),l=c(zI());function c(P){return P&&P.__esModule?P:{default:P}}function d(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return d=function(){return P},P}function p(P){if(P&&P.__esModule)return P;if(P===null||m(P)!=="object"&&typeof P!="function")return{default:P};var D=d();if(D&&D.has(P))return D.get(P);var G={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in P)if(Object.prototype.hasOwnProperty.call(P,M)){var k=N?Object.getOwnPropertyDescriptor(P,M):null;k&&(k.get||k.set)?Object.defineProperty(G,M,k):G[M]=P[M]}return G.default=P,D&&D.set(P,G),G}function m(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(G){return typeof G}:m=function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},m(P)}function v(){return v=Object.assign||function(P){for(var D=1;D<arguments.length;D++){var G=arguments[D];for(var N in G)Object.prototype.hasOwnProperty.call(G,N)&&(P[N]=G[N])}return P},v.apply(this,arguments)}function T(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}function E(P,D){for(var G=0;G<D.length;G++){var N=D[G];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}function x(P,D,G){return D&&E(P.prototype,D),P}function O(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),D&&U(P,D)}function U(P,D){return U=Object.setPrototypeOf||function(N,M){return N.__proto__=M,N},U(P,D)}function H(P){var D=Z();return function(){var N=ot(P),M;if(D){var k=ot(this).constructor;M=Reflect.construct(N,arguments,k)}else M=N.apply(this,arguments);return F(this,M)}}function F(P,D){return D&&(m(D)==="object"||typeof D=="function")?D:K(P)}function K(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ot(P){return ot=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)},ot(P)}function J(P,D,G){return D in P?Object.defineProperty(P,D,{value:G,enumerable:!0,configurable:!0,writable:!0}):P[D]=G,P}var $=function(D){return D.hasOwnProperty("key")},q=(function(P){O(G,P);var D=H(G);function G(N){var M;return T(this,G),M=D.call(this,N),J(K(M),"itemsWrapperRef",void 0),J(K(M),"itemsListRef",void 0),J(K(M),"thumbsRef",void 0),J(K(M),"setItemsWrapperRef",function(k){M.itemsWrapperRef=k}),J(K(M),"setItemsListRef",function(k){M.itemsListRef=k}),J(K(M),"setThumbsRef",function(k,it){M.thumbsRef||(M.thumbsRef=[]),M.thumbsRef[it]=k}),J(K(M),"updateSizes",function(){if(!(!M.props.children||!M.itemsWrapperRef||!M.thumbsRef)){var k=e.Children.count(M.props.children),it=M.itemsWrapperRef.clientWidth,W=M.props.thumbWidth?M.props.thumbWidth:(0,n.outerWidth)(M.thumbsRef[0]),et=Math.floor(it/W),rt=et<k,st=rt?k-et:0;M.setState(function(Pt,R){return{itemSize:W,visibleItems:et,firstItem:rt?M.getFirstItem(R.selectedItem):0,lastPosition:st,showArrows:rt}})}}),J(K(M),"handleClickItem",function(k,it,W){if(!$(W)||W.key==="Enter"){var et=M.props.onSelectItem;typeof et=="function"&&et(k,it)}}),J(K(M),"onSwipeStart",function(){M.setState({swiping:!0})}),J(K(M),"onSwipeEnd",function(){M.setState({swiping:!1})}),J(K(M),"onSwipeMove",function(k){var it=k.x;if(!M.state.itemSize||!M.itemsWrapperRef||!M.state.visibleItems)return!1;var W=0,et=e.Children.count(M.props.children),rt=-(M.state.firstItem*100)/M.state.visibleItems,st=Math.max(et-M.state.visibleItems,0),Pt=-st*100/M.state.visibleItems;rt===W&&it>0&&(it=0),rt===Pt&&it<0&&(it=0);var R=M.itemsWrapperRef.clientWidth,ht=rt+100/(R/it);return M.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(wt){M.itemsListRef.style[wt]=(0,i.default)(ht,"%",M.props.axis)}),!0}),J(K(M),"slideRight",function(k){M.moveTo(M.state.firstItem-(typeof k=="number"?k:1))}),J(K(M),"slideLeft",function(k){M.moveTo(M.state.firstItem+(typeof k=="number"?k:1))}),J(K(M),"moveTo",function(k){k=k<0?0:k,k=k>=M.state.lastPosition?M.state.lastPosition:k,M.setState({firstItem:k})}),M.state={selectedItem:N.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},M}return x(G,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(M){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==M.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(M){var k=M;return M>=this.state.lastPosition&&(k=this.state.lastPosition),M<this.state.firstItem+this.state.visibleItems&&(k=this.state.firstItem),M<this.state.firstItem&&(k=M),k}},{key:"renderItems",value:function(){var M=this;return this.props.children.map(function(k,it){var W=t.default.ITEM(!1,it===M.state.selectedItem),et={key:it,ref:function(st){return M.setThumbsRef(st,it)},className:W,onClick:M.handleClickItem.bind(M,it,M.props.children[it]),onKeyDown:M.handleClickItem.bind(M,it,M.props.children[it]),"aria-label":"".concat(M.props.labels.item," ").concat(it+1),style:{width:M.props.thumbWidth}};return e.default.createElement("li",v({},et,{role:"button",tabIndex:0}),k)})}},{key:"render",value:function(){var M=this;if(!this.props.children)return null;var k=e.Children.count(this.props.children)>1,it=this.state.showArrows&&this.state.firstItem>0,W=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,et={},rt=-this.state.firstItem*(this.state.itemSize||0),st=(0,i.default)(rt,"px",this.props.axis),Pt=this.props.transitionTime+"ms";return et={WebkitTransform:st,MozTransform:st,MsTransform:st,OTransform:st,transform:st,msTransform:st,WebkitTransitionDuration:Pt,MozTransitionDuration:Pt,MsTransitionDuration:Pt,OTransitionDuration:Pt,transitionDuration:Pt,msTransitionDuration:Pt},e.default.createElement("div",{className:t.default.CAROUSEL(!1)},e.default.createElement("div",{className:t.default.WRAPPER(!1),ref:this.setItemsWrapperRef},e.default.createElement("button",{type:"button",className:t.default.ARROW_PREV(!it),onClick:function(){return M.slideRight()},"aria-label":this.props.labels.leftArrow}),k?e.default.createElement(s.default,{tagName:"ul",className:t.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:et,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):e.default.createElement("ul",{className:t.default.SLIDER(!1,this.state.swiping),ref:function(ht){return M.setItemsListRef(ht)},style:et},this.renderItems()),e.default.createElement("button",{type:"button",className:t.default.ARROW_NEXT(!W),onClick:function(){return M.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),G})(e.Component);return Dh.default=q,J(q,"displayName","Thumbs"),J(q,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Dh}var Vh={},ax;function L9(){if(ax)return Vh;ax=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.default=void 0;var e=function(){return document};return Vh.default=e,Vh}var hr={},ox;function BI(){if(ox)return hr;ox=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.setPosition=hr.getPosition=hr.isKeyboardEvent=hr.defaultStatusFormatter=hr.noop=void 0;var e=Qo(),t=n(j0());function n(p){return p&&p.__esModule?p:{default:p}}var i=function(){};hr.noop=i;var s=function(m,v){return"".concat(m," of ").concat(v)};hr.defaultStatusFormatter=s;var l=function(m){return m?m.hasOwnProperty("key"):!1};hr.isKeyboardEvent=l;var c=function(m,v){if(v.infiniteLoop&&++m,m===0)return 0;var T=e.Children.count(v.children);if(v.centerMode&&v.axis==="horizontal"){var E=-m*v.centerSlidePercentage,x=T-1;return m&&(m!==x||v.infiniteLoop)?E+=(100-v.centerSlidePercentage)/2:m===x&&(E+=100-v.centerSlidePercentage),E}return-m*100};hr.getPosition=c;var d=function(m,v){var T={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(E){T[E]=(0,t.default)(m,"%",v)}),T};return hr.setPosition=d,hr}var os={},lx;function N9(){if(lx)return os;lx=1,Object.defineProperty(os,"__esModule",{value:!0}),os.fadeAnimationHandler=os.slideStopSwipingHandler=os.slideSwipeAnimationHandler=os.slideAnimationHandler=void 0;var e=Qo(),t=i(j0()),n=BI();function i(T){return T&&T.__esModule?T:{default:T}}function s(T,E){var x=Object.keys(T);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(T);E&&(O=O.filter(function(U){return Object.getOwnPropertyDescriptor(T,U).enumerable})),x.push.apply(x,O)}return x}function l(T){for(var E=1;E<arguments.length;E++){var x=arguments[E]!=null?arguments[E]:{};E%2?s(Object(x),!0).forEach(function(O){c(T,O,x[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(x)):s(Object(x)).forEach(function(O){Object.defineProperty(T,O,Object.getOwnPropertyDescriptor(x,O))})}return T}function c(T,E,x){return E in T?Object.defineProperty(T,E,{value:x,enumerable:!0,configurable:!0,writable:!0}):T[E]=x,T}var d=function(E,x){var O={},U=x.selectedItem,H=U,F=e.Children.count(E.children)-1,K=E.infiniteLoop&&(U<0||U>F);if(K)return H<0?E.centerMode&&E.centerSlidePercentage&&E.axis==="horizontal"?O.itemListStyle=(0,n.setPosition)(-(F+2)*E.centerSlidePercentage-(100-E.centerSlidePercentage)/2,E.axis):O.itemListStyle=(0,n.setPosition)(-(F+2)*100,E.axis):H>F&&(O.itemListStyle=(0,n.setPosition)(0,E.axis)),O;var Z=(0,n.getPosition)(U,E),ot=(0,t.default)(Z,"%",E.axis),J=E.transitionTime+"ms";return O.itemListStyle={WebkitTransform:ot,msTransform:ot,OTransform:ot,transform:ot},x.swiping||(O.itemListStyle=l(l({},O.itemListStyle),{},{WebkitTransitionDuration:J,MozTransitionDuration:J,OTransitionDuration:J,transitionDuration:J,msTransitionDuration:J})),O};os.slideAnimationHandler=d;var p=function(E,x,O,U){var H={},F=x.axis==="horizontal",K=e.Children.count(x.children),Z=0,ot=(0,n.getPosition)(O.selectedItem,x),J=x.infiniteLoop?(0,n.getPosition)(K-1,x)-100:(0,n.getPosition)(K-1,x),$=F?E.x:E.y,q=$;ot===Z&&$>0&&(q=0),ot===J&&$<0&&(q=0);var P=ot+100/(O.itemSize/q),D=Math.abs($)>x.swipeScrollTolerance;return x.infiniteLoop&&D&&(O.selectedItem===0&&P>-100?P-=K*100:O.selectedItem===K-1&&P<-K*100&&(P+=K*100)),(!x.preventMovementUntilSwipeScrollTolerance||D||O.swipeMovementStarted)&&(O.swipeMovementStarted||U({swipeMovementStarted:!0}),H.itemListStyle=(0,n.setPosition)(P,x.axis)),D&&!O.cancelClick&&U({cancelClick:!0}),H};os.slideSwipeAnimationHandler=p;var m=function(E,x){var O=(0,n.getPosition)(x.selectedItem,E),U=(0,n.setPosition)(O,E.axis);return{itemListStyle:U}};os.slideStopSwipingHandler=m;var v=function(E,x){var O=E.transitionTime+"ms",U="ease-in-out",H={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:U,msTransitionTimingFunction:U,MozTransitionTimingFunction:U,WebkitTransitionTimingFunction:U,OTransitionTimingFunction:U};return x.swiping||(H=l(l({},H),{},{WebkitTransitionDuration:O,MozTransitionDuration:O,OTransitionDuration:O,transitionDuration:O,msTransitionDuration:O})),{slideStyle:H,selectedStyle:l(l({},H),{},{opacity:1,position:"relative"}),prevStyle:l({},H)}};return os.fadeAnimationHandler=v,os}var ux;function V9(){if(ux)return kh;ux=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.default=void 0;var e=v(Qo()),t=p(NI()),n=p(VI()),i=p(UI()),s=p(L9()),l=p(zI()),c=BI(),d=N9();function p(N){return N&&N.__esModule?N:{default:N}}function m(){if(typeof WeakMap!="function")return null;var N=new WeakMap;return m=function(){return N},N}function v(N){if(N&&N.__esModule)return N;if(N===null||T(N)!=="object"&&typeof N!="function")return{default:N};var M=m();if(M&&M.has(N))return M.get(N);var k={},it=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in N)if(Object.prototype.hasOwnProperty.call(N,W)){var et=it?Object.getOwnPropertyDescriptor(N,W):null;et&&(et.get||et.set)?Object.defineProperty(k,W,et):k[W]=N[W]}return k.default=N,M&&M.set(N,k),k}function T(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(k){return typeof k}:T=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},T(N)}function E(){return E=Object.assign||function(N){for(var M=1;M<arguments.length;M++){var k=arguments[M];for(var it in k)Object.prototype.hasOwnProperty.call(k,it)&&(N[it]=k[it])}return N},E.apply(this,arguments)}function x(N,M){var k=Object.keys(N);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(N);M&&(it=it.filter(function(W){return Object.getOwnPropertyDescriptor(N,W).enumerable})),k.push.apply(k,it)}return k}function O(N){for(var M=1;M<arguments.length;M++){var k=arguments[M]!=null?arguments[M]:{};M%2?x(Object(k),!0).forEach(function(it){D(N,it,k[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(k)):x(Object(k)).forEach(function(it){Object.defineProperty(N,it,Object.getOwnPropertyDescriptor(k,it))})}return N}function U(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}function H(N,M){for(var k=0;k<M.length;k++){var it=M[k];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(N,it.key,it)}}function F(N,M,k){return M&&H(N.prototype,M),N}function K(N,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(M&&M.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),M&&Z(N,M)}function Z(N,M){return Z=Object.setPrototypeOf||function(it,W){return it.__proto__=W,it},Z(N,M)}function ot(N){var M=q();return function(){var it=P(N),W;if(M){var et=P(this).constructor;W=Reflect.construct(it,arguments,et)}else W=it.apply(this,arguments);return J(this,W)}}function J(N,M){return M&&(T(M)==="object"||typeof M=="function")?M:$(N)}function $(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function P(N){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},P(N)}function D(N,M,k){return M in N?Object.defineProperty(N,M,{value:k,enumerable:!0,configurable:!0,writable:!0}):N[M]=k,N}var G=(function(N){K(k,N);var M=ot(k);function k(it){var W;U(this,k),W=M.call(this,it),D($(W),"thumbsRef",void 0),D($(W),"carouselWrapperRef",void 0),D($(W),"listRef",void 0),D($(W),"itemsRef",void 0),D($(W),"timer",void 0),D($(W),"animationHandler",void 0),D($(W),"setThumbsRef",function(rt){W.thumbsRef=rt}),D($(W),"setCarouselWrapperRef",function(rt){W.carouselWrapperRef=rt}),D($(W),"setListRef",function(rt){W.listRef=rt}),D($(W),"setItemsRef",function(rt,st){W.itemsRef||(W.itemsRef=[]),W.itemsRef[st]=rt}),D($(W),"autoPlay",function(){e.Children.count(W.props.children)<=1||(W.clearAutoPlay(),W.props.autoPlay&&(W.timer=setTimeout(function(){W.increment()},W.props.interval)))}),D($(W),"clearAutoPlay",function(){W.timer&&clearTimeout(W.timer)}),D($(W),"resetAutoPlay",function(){W.clearAutoPlay(),W.autoPlay()}),D($(W),"stopOnHover",function(){W.setState({isMouseEntered:!0},W.clearAutoPlay)}),D($(W),"startOnLeave",function(){W.setState({isMouseEntered:!1},W.autoPlay)}),D($(W),"isFocusWithinTheCarousel",function(){return W.carouselWrapperRef?!!((0,s.default)().activeElement===W.carouselWrapperRef||W.carouselWrapperRef.contains((0,s.default)().activeElement)):!1}),D($(W),"navigateWithKeyboard",function(rt){if(W.isFocusWithinTheCarousel()){var st=W.props.axis,Pt=st==="horizontal",R={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ht=Pt?R.ArrowRight:R.ArrowDown,wt=Pt?R.ArrowLeft:R.ArrowUp;ht===rt.keyCode?W.increment():wt===rt.keyCode&&W.decrement()}}),D($(W),"updateSizes",function(){if(!(!W.state.initialized||!W.itemsRef||W.itemsRef.length===0)){var rt=W.props.axis==="horizontal",st=W.itemsRef[0];if(st){var Pt=rt?st.clientWidth:st.clientHeight;W.setState({itemSize:Pt}),W.thumbsRef&&W.thumbsRef.updateSizes()}}}),D($(W),"setMountState",function(){W.setState({hasMount:!0}),W.updateSizes()}),D($(W),"handleClickItem",function(rt,st){if(e.Children.count(W.props.children)!==0){if(W.state.cancelClick){W.setState({cancelClick:!1});return}W.props.onClickItem(rt,st),rt!==W.state.selectedItem&&W.setState({selectedItem:rt})}}),D($(W),"handleOnChange",function(rt,st){e.Children.count(W.props.children)<=1||W.props.onChange(rt,st)}),D($(W),"handleClickThumb",function(rt,st){W.props.onClickThumb(rt,st),W.moveTo(rt)}),D($(W),"onSwipeStart",function(rt){W.setState({swiping:!0}),W.props.onSwipeStart(rt)}),D($(W),"onSwipeEnd",function(rt){W.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),W.props.onSwipeEnd(rt),W.clearAutoPlay(),W.state.autoPlay&&W.autoPlay()}),D($(W),"onSwipeMove",function(rt,st){W.props.onSwipeMove(st);var Pt=W.props.swipeAnimationHandler(rt,W.props,W.state,W.setState.bind($(W)));return W.setState(O({},Pt)),!!Object.keys(Pt).length}),D($(W),"decrement",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;W.moveTo(W.state.selectedItem-(typeof rt=="number"?rt:1))}),D($(W),"increment",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;W.moveTo(W.state.selectedItem+(typeof rt=="number"?rt:1))}),D($(W),"moveTo",function(rt){if(typeof rt=="number"){var st=e.Children.count(W.props.children)-1;rt<0&&(rt=W.props.infiniteLoop?st:0),rt>st&&(rt=W.props.infiniteLoop?0:st),W.selectItem({selectedItem:rt}),W.state.autoPlay&&W.state.isMouseEntered===!1&&W.resetAutoPlay()}}),D($(W),"onClickNext",function(){W.increment(1)}),D($(W),"onClickPrev",function(){W.decrement(1)}),D($(W),"onSwipeForward",function(){W.increment(1),W.props.emulateTouch&&W.setState({cancelClick:!0})}),D($(W),"onSwipeBackwards",function(){W.decrement(1),W.props.emulateTouch&&W.setState({cancelClick:!0})}),D($(W),"changeItem",function(rt){return function(st){(!(0,c.isKeyboardEvent)(st)||st.key==="Enter")&&W.moveTo(rt)}}),D($(W),"selectItem",function(rt){W.setState(O({previousItem:W.state.selectedItem},rt),function(){W.setState(W.animationHandler(W.props,W.state))}),W.handleOnChange(rt.selectedItem,e.Children.toArray(W.props.children)[rt.selectedItem])}),D($(W),"getInitialImage",function(){var rt=W.props.selectedItem,st=W.itemsRef&&W.itemsRef[rt],Pt=st&&st.getElementsByTagName("img")||[];return Pt[0]}),D($(W),"getVariableItemHeight",function(rt){var st=W.itemsRef&&W.itemsRef[rt];if(W.state.hasMount&&st&&st.children.length){var Pt=st.children[0].getElementsByTagName("img")||[];if(Pt.length>0){var R=Pt[0];if(!R.complete){var ht=function Rt(){W.forceUpdate(),R.removeEventListener("load",Rt)};R.addEventListener("load",ht)}}var wt=Pt[0]||st.children[0],j=wt.clientHeight;return j>0?j:null}return null});var et={initialized:!1,previousItem:it.selectedItem,selectedItem:it.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:it.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return W.animationHandler=typeof it.animationHandler=="function"&&it.animationHandler||it.animationHandler==="fade"&&d.fadeAnimationHandler||d.slideAnimationHandler,W.state=O(O({},et),W.animationHandler(it,et)),W}return F(k,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(W,et){!W.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!W.autoFocus&&this.props.autoFocus&&this.forceFocus(),et.swiping&&!this.state.swiping&&this.setState(O({},this.props.stopSwipingHandler(this.props,this.state))),(W.selectedItem!==this.props.selectedItem||W.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),W.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var W=this;this.bindEvents(),this.state.autoPlay&&e.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var et=W.getInitialImage();et&&!et.complete?et.addEventListener("load",W.setMountState):W.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var W=this.carouselWrapperRef;this.props.stopOnHover&&W&&(W.addEventListener("mouseenter",this.stopOnHover),W.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var W=this.carouselWrapperRef;this.props.stopOnHover&&W&&(W.removeEventListener("mouseenter",this.stopOnHover),W.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,s.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var W=this.getInitialImage();W&&W.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,s.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var W;(W=this.carouselWrapperRef)===null||W===void 0||W.focus()}},{key:"renderItems",value:function(W){var et=this;return this.props.children?e.Children.map(this.props.children,function(rt,st){var Pt=st===et.state.selectedItem,R=st===et.state.previousItem,ht=Pt&&et.state.selectedStyle||R&&et.state.prevStyle||et.state.slideStyle||{};et.props.centerMode&&et.props.axis==="horizontal"&&(ht=O(O({},ht),{},{minWidth:et.props.centerSlidePercentage+"%"})),et.state.swiping&&et.state.swipeMovementStarted&&(ht=O(O({},ht),{},{pointerEvents:"none"}));var wt={ref:function(Rt){return et.setItemsRef(Rt,st)},key:"itemKey"+st+(W?"clone":""),className:n.default.ITEM(!0,st===et.state.selectedItem,st===et.state.previousItem),onClick:et.handleClickItem.bind(et,st,rt),style:ht};return e.default.createElement("li",wt,et.props.renderItem(rt,{isSelected:st===et.state.selectedItem,isPrevious:st===et.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var W=this,et=this.props,rt=et.showIndicators,st=et.labels,Pt=et.renderIndicator,R=et.children;return rt?e.default.createElement("ul",{className:"control-dots"},e.Children.map(R,function(ht,wt){return Pt&&Pt(W.changeItem(wt),wt===W.state.selectedItem,wt,st.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?e.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,e.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||e.Children.count(this.props.children)===0?null:e.default.createElement(i.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var W=this;if(!this.props.children||e.Children.count(this.props.children)===0)return null;var et=this.props.swipeable&&e.Children.count(this.props.children)>1,rt=this.props.axis==="horizontal",st=this.props.showArrows&&e.Children.count(this.props.children)>1,Pt=st&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,R=st&&(this.state.selectedItem<e.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ht=this.renderItems(!0),wt=ht.shift(),j=ht.pop(),Rt={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},kt={};if(rt){if(Rt.onSwipeLeft=this.onSwipeForward,Rt.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var At=this.getVariableItemHeight(this.state.selectedItem);kt.height=At||"auto"}}else Rt.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Rt.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Rt.style=O(O({},Rt.style),{},{height:this.state.itemSize}),kt.height=this.state.itemSize;return e.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},e.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Pt,this.props.labels.leftArrow),e.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:kt},et?e.default.createElement(t.default,E({tagName:"ul",innerRef:this.setListRef},Rt,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&j,this.renderItems(),this.props.infiniteLoop&&wt):e.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(Jt){return W.setListRef(Jt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&j,this.renderItems(),this.props.infiniteLoop&&wt)),this.props.renderArrowNext(this.onClickNext,R,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),k})(e.default.Component);return kh.default=G,D(G,"displayName","Carousel"),D(G,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:c.noop,onClickThumb:c.noop,onChange:c.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(M,k,it){return e.default.createElement("button",{type:"button","aria-label":it,className:n.default.ARROW_PREV(!k),onClick:M})},renderArrowNext:function(M,k,it){return e.default.createElement("button",{type:"button","aria-label":it,className:n.default.ARROW_NEXT(!k),onClick:M})},renderIndicator:function(M,k,it,W){return e.default.createElement("li",{className:n.default.DOT(k),onClick:M,onKeyDown:M,value:it,key:it,role:"button",tabIndex:0,"aria-label":"".concat(W," ").concat(it+1)})},renderItem:function(M){return M},renderThumbs:function(M){var k=e.Children.map(M,function(it){var W=it;if(it.type!=="img"&&(W=e.Children.toArray(it.props.children).find(function(et){return et.type==="img"})),!!W)return W});return k.filter(function(it){return it}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):k},statusFormatter:c.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:d.slideSwipeAnimationHandler,stopSwipingHandler:d.slideStopSwipingHandler}),kh}var cx={},hx;function z9(){return hx||(hx=1),cx}var fx;function U9(){return fx||(fx=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return i.default}});var t=s(V9()),n=z9(),i=s(UI());function s(l){return l&&l.__esModule?l:{default:l}}})(s_)),s_}var B9=U9();const j9=()=>{};var dx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},F9=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=e[n++];t[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=e[n++],c=e[n++],d=e[n++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const l=e[n++],c=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return t.join("")},FI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const l=e[s],c=s+1<e.length,d=c?e[s+1]:0,p=s+2<e.length,m=p?e[s+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let E=(d&15)<<2|m>>6,x=m&63;p||(x=64,c||(E=64)),i.push(n[v],n[T],n[E],n[x])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):F9(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const l=n[e.charAt(s++)],d=s<e.length?n[e.charAt(s)]:0;++s;const m=s<e.length?n[e.charAt(s)]:64;++s;const T=s<e.length?n[e.charAt(s)]:64;if(++s,l==null||d==null||m==null||T==null)throw new H9;const E=l<<2|d>>4;if(i.push(E),m!==64){const x=d<<4&240|m>>2;if(i.push(x),T!==64){const O=m<<6&192|T;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class H9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q9=function(e){const t=jI(e);return FI.encodeByteArray(t,!0)},Zp=function(e){return q9(e).replace(/\./g,"")},HI=function(e){try{return FI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=()=>G9().__FIREBASE_DEFAULTS__,W9=()=>{if(typeof process>"u"||typeof dx>"u")return;const e=dx.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},K9=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&HI(e[1]);return t&&JSON.parse(t)},Em=()=>{try{return j9()||Z9()||W9()||K9()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},qI=e=>Em()?.emulatorHosts?.[e],GI=e=>{const t=qI(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},ZI=()=>Em()?.config,WI=e=>Em()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F0(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Zp(JSON.stringify(n)),Zp(JSON.stringify(c)),""].join(".")}const sf={};function Y9(){const e={prod:[],emulator:[]};for(const t of Object.keys(sf))sf[t]?e.emulator.push(t):e.prod.push(t);return e}function X9(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let px=!1;function H0(e,t){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||sf[e]===t||sf[e]||px)return;sf[e]=t;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=Y9().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{px=!0,c()},E}function v(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function T(){const E=X9(i),x=n("text"),O=document.getElementById(x)||document.createElement("span"),U=n("learnmore"),H=document.getElementById(U)||document.createElement("a"),F=n("preprendIcon"),K=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Z=E.element;d(Z),v(H,U);const ot=m();p(K,F),Z.append(K,O,H,ot),document.body.appendChild(Z)}l?(O.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vi())}function J9(){const e=Em()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e5(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function n5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i5(){const e=vi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function r5(){return!J9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s5(){try{return typeof indexedDB=="object"}catch{return!1}}function a5(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="FirebaseError";class Js extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=o5,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bf.prototype.create)}}class Bf{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,l=this.errors[t],c=l?l5(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Js(s,d,i)}}function l5(e,t){return e.replace(u5,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const u5=/\{\$([^}]+)}/g;function c5(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Kl(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const l=e[s],c=t[s];if(mx(l)&&mx(c)){if(!Kl(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function mx(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Hh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(l)}}),t}function qh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function h5(e,t){const n=new f5(e,t);return n.subscribe.bind(n)}class f5{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");d5(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=c_),s.error===void 0&&(s.error=c_),s.complete===void 0&&(s.complete=c_);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d5(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function c_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(e){return e&&e._delegate?e._delegate:e}class Go{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new $9;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(g5(t))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(t=Ul){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ul){return this.instances.has(t)}getOptions(t=Ul){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&t(l,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:m5(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ul){return this.component?this.component.multipleInstances?t:Ul:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m5(e){return e===Ul?void 0:e}function g5(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new p5(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(de||(de={}));const _5={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},v5=de.INFO,w5={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},T5=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=w5[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class q0{constructor(t){this.name=t,this._logLevel=v5,this._logHandler=T5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in de))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_5[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...t),this._logHandler(this,de.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...t),this._logHandler(this,de.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,de.INFO,...t),this._logHandler(this,de.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,de.WARN,...t),this._logHandler(this,de.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...t),this._logHandler(this,de.ERROR,...t)}}const b5=(e,t)=>t.some(n=>e instanceof n);let gx,yx;function E5(){return gx||(gx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S5(){return yx||(yx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $I=new WeakMap,sv=new WeakMap,YI=new WeakMap,h_=new WeakMap,G0=new WeakMap;function x5(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Vo(e.result)),s()},c=()=>{i(e.error),s()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&$I.set(n,e)}).catch(()=>{}),G0.set(t,e),t}function A5(e){if(sv.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});sv.set(e,t)}let av={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return sv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||YI.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function R5(e){av=e(av)}function C5(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(f_(this),t,...n);return YI.set(i,t.sort?t.sort():[t]),Vo(i)}:S5().includes(e)?function(...t){return e.apply(f_(this),t),Vo($I.get(this))}:function(...t){return Vo(e.apply(f_(this),t))}}function I5(e){return typeof e=="function"?C5(e):(e instanceof IDBTransaction&&A5(e),b5(e,E5())?new Proxy(e,av):e)}function Vo(e){if(e instanceof IDBRequest)return x5(e);if(h_.has(e))return h_.get(e);const t=I5(e);return t!==e&&(h_.set(e,t),G0.set(t,e)),t}const f_=e=>G0.get(e);function P5(e,t,{blocked:n,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(e,t),d=Vo(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Vo(c.result),p.oldVersion,p.newVersion,Vo(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const k5=["get","getKey","getAll","getAllKeys","count"],M5=["put","add","delete","clear"],d_=new Map;function _x(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(d_.get(t))return d_.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=M5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||k5.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),s&&p.done]))[0]};return d_.set(t,l),l}R5(e=>({...e,get:(t,n,i)=>_x(t,n)||e.get(t,n,i),has:(t,n)=>!!_x(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O5(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function O5(e){return e.getComponent()?.type==="VERSION"}const ov="@firebase/app",vx="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new q0("@firebase/app"),L5="@firebase/app-compat",N5="@firebase/analytics-compat",V5="@firebase/analytics",z5="@firebase/app-check-compat",U5="@firebase/app-check",B5="@firebase/auth",j5="@firebase/auth-compat",F5="@firebase/database",H5="@firebase/data-connect",q5="@firebase/database-compat",G5="@firebase/functions",Z5="@firebase/functions-compat",W5="@firebase/installations",K5="@firebase/installations-compat",$5="@firebase/messaging",Y5="@firebase/messaging-compat",X5="@firebase/performance",Q5="@firebase/performance-compat",J5="@firebase/remote-config",tj="@firebase/remote-config-compat",ej="@firebase/storage",nj="@firebase/storage-compat",ij="@firebase/firestore",rj="@firebase/ai",sj="@firebase/firestore-compat",aj="firebase",oj="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="[DEFAULT]",lj={[ov]:"fire-core",[L5]:"fire-core-compat",[V5]:"fire-analytics",[N5]:"fire-analytics-compat",[U5]:"fire-app-check",[z5]:"fire-app-check-compat",[B5]:"fire-auth",[j5]:"fire-auth-compat",[F5]:"fire-rtdb",[H5]:"fire-data-connect",[q5]:"fire-rtdb-compat",[G5]:"fire-fn",[Z5]:"fire-fn-compat",[W5]:"fire-iid",[K5]:"fire-iid-compat",[$5]:"fire-fcm",[Y5]:"fire-fcm-compat",[X5]:"fire-perf",[Q5]:"fire-perf-compat",[J5]:"fire-rc",[tj]:"fire-rc-compat",[ej]:"fire-gcs",[nj]:"fire-gcs-compat",[ij]:"fire-fst",[sj]:"fire-fst-compat",[rj]:"fire-vertex","fire-js":"fire-js",[aj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new Map,uj=new Map,uv=new Map;function wx(e,t){try{e.container.addComponent(t)}catch(n){Pa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $l(e){const t=e.name;if(uv.has(t))return Pa.debug(`There were multiple attempts to register component ${t}.`),!1;uv.set(t,e);for(const n of Wp.values())wx(n,e);for(const n of uj.values())wx(n,e);return!0}function Sm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ur(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zo=new Bf("app","Firebase",cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=oj;function XI(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:lv,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw zo.create("bad-app-name",{appName:String(s)});if(n||(n=ZI()),!n)throw zo.create("no-options");const l=Wp.get(s);if(l){if(Kl(n,l.options)&&Kl(i,l.config))return l;throw zo.create("duplicate-app",{appName:s})}const c=new y5(s);for(const p of uv.values())c.addComponent(p);const d=new hj(n,i,c);return Wp.set(s,d),d}function Z0(e=lv){const t=Wp.get(e);if(!t&&e===lv&&ZI())return XI();if(!t)throw zo.create("no-app",{appName:e});return t}function Hs(e,t,n){let i=lj[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=t.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${t}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pa.warn(c.join(" "));return}$l(new Go(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="firebase-heartbeat-database",dj=1,wf="firebase-heartbeat-store";let p_=null;function QI(){return p_||(p_=P5(fj,dj,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(wf)}catch(n){console.warn(n)}}}}).catch(e=>{throw zo.create("idb-open",{originalErrorMessage:e.message})})),p_}async function pj(e){try{const n=(await QI()).transaction(wf),i=await n.objectStore(wf).get(JI(e));return await n.done,i}catch(t){if(t instanceof Js)Pa.warn(t.message);else{const n=zo.create("idb-get",{originalErrorMessage:t?.message});Pa.warn(n.message)}}}async function Tx(e,t){try{const i=(await QI()).transaction(wf,"readwrite");await i.objectStore(wf).put(t,JI(e)),await i.done}catch(n){if(n instanceof Js)Pa.warn(n.message);else{const i=zo.create("idb-set",{originalErrorMessage:n?.message});Pa.warn(i.message)}}}function JI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=1024,gj=30;class yj{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>gj){const s=wj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Pa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bx(),{heartbeatsToSend:n,unsentEntries:i}=_j(this._heartbeatsCache.heartbeats),s=Zp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Pa.warn(t),""}}}function bx(){return new Date().toISOString().substring(0,10)}function _j(e,t=mj){const n=[];let i=e.slice();for(const s of e){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),Ex(n)>t){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ex(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class vj{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s5()?a5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Ex(e){return Zp(JSON.stringify({version:2,heartbeats:e})).length}function wj(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(e){$l(new Go("platform-logger",t=>new D5(t),"PRIVATE")),$l(new Go("heartbeat",t=>new yj(t),"PRIVATE")),Hs(ov,vx,e),Hs(ov,vx,"esm2020"),Hs("fire-js","")}Tj("");var bj="firebase",Ej="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs(bj,Ej,"app");var Sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uo,tP;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(q,P){function D(){}D.prototype=P.prototype,q.D=P.prototype,q.prototype=new D,q.prototype.constructor=q,q.C=function(G,N,M){for(var k=Array(arguments.length-2),it=2;it<arguments.length;it++)k[it-2]=arguments[it];return P.prototype[N].apply(G,k)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(q,P,D){D||(D=0);var G=Array(16);if(typeof P=="string")for(var N=0;16>N;++N)G[N]=P.charCodeAt(D++)|P.charCodeAt(D++)<<8|P.charCodeAt(D++)<<16|P.charCodeAt(D++)<<24;else for(N=0;16>N;++N)G[N]=P[D++]|P[D++]<<8|P[D++]<<16|P[D++]<<24;P=q.g[0],D=q.g[1],N=q.g[2];var M=q.g[3],k=P+(M^D&(N^M))+G[0]+3614090360&4294967295;P=D+(k<<7&4294967295|k>>>25),k=M+(N^P&(D^N))+G[1]+3905402710&4294967295,M=P+(k<<12&4294967295|k>>>20),k=N+(D^M&(P^D))+G[2]+606105819&4294967295,N=M+(k<<17&4294967295|k>>>15),k=D+(P^N&(M^P))+G[3]+3250441966&4294967295,D=N+(k<<22&4294967295|k>>>10),k=P+(M^D&(N^M))+G[4]+4118548399&4294967295,P=D+(k<<7&4294967295|k>>>25),k=M+(N^P&(D^N))+G[5]+1200080426&4294967295,M=P+(k<<12&4294967295|k>>>20),k=N+(D^M&(P^D))+G[6]+2821735955&4294967295,N=M+(k<<17&4294967295|k>>>15),k=D+(P^N&(M^P))+G[7]+4249261313&4294967295,D=N+(k<<22&4294967295|k>>>10),k=P+(M^D&(N^M))+G[8]+1770035416&4294967295,P=D+(k<<7&4294967295|k>>>25),k=M+(N^P&(D^N))+G[9]+2336552879&4294967295,M=P+(k<<12&4294967295|k>>>20),k=N+(D^M&(P^D))+G[10]+4294925233&4294967295,N=M+(k<<17&4294967295|k>>>15),k=D+(P^N&(M^P))+G[11]+2304563134&4294967295,D=N+(k<<22&4294967295|k>>>10),k=P+(M^D&(N^M))+G[12]+1804603682&4294967295,P=D+(k<<7&4294967295|k>>>25),k=M+(N^P&(D^N))+G[13]+4254626195&4294967295,M=P+(k<<12&4294967295|k>>>20),k=N+(D^M&(P^D))+G[14]+2792965006&4294967295,N=M+(k<<17&4294967295|k>>>15),k=D+(P^N&(M^P))+G[15]+1236535329&4294967295,D=N+(k<<22&4294967295|k>>>10),k=P+(N^M&(D^N))+G[1]+4129170786&4294967295,P=D+(k<<5&4294967295|k>>>27),k=M+(D^N&(P^D))+G[6]+3225465664&4294967295,M=P+(k<<9&4294967295|k>>>23),k=N+(P^D&(M^P))+G[11]+643717713&4294967295,N=M+(k<<14&4294967295|k>>>18),k=D+(M^P&(N^M))+G[0]+3921069994&4294967295,D=N+(k<<20&4294967295|k>>>12),k=P+(N^M&(D^N))+G[5]+3593408605&4294967295,P=D+(k<<5&4294967295|k>>>27),k=M+(D^N&(P^D))+G[10]+38016083&4294967295,M=P+(k<<9&4294967295|k>>>23),k=N+(P^D&(M^P))+G[15]+3634488961&4294967295,N=M+(k<<14&4294967295|k>>>18),k=D+(M^P&(N^M))+G[4]+3889429448&4294967295,D=N+(k<<20&4294967295|k>>>12),k=P+(N^M&(D^N))+G[9]+568446438&4294967295,P=D+(k<<5&4294967295|k>>>27),k=M+(D^N&(P^D))+G[14]+3275163606&4294967295,M=P+(k<<9&4294967295|k>>>23),k=N+(P^D&(M^P))+G[3]+4107603335&4294967295,N=M+(k<<14&4294967295|k>>>18),k=D+(M^P&(N^M))+G[8]+1163531501&4294967295,D=N+(k<<20&4294967295|k>>>12),k=P+(N^M&(D^N))+G[13]+2850285829&4294967295,P=D+(k<<5&4294967295|k>>>27),k=M+(D^N&(P^D))+G[2]+4243563512&4294967295,M=P+(k<<9&4294967295|k>>>23),k=N+(P^D&(M^P))+G[7]+1735328473&4294967295,N=M+(k<<14&4294967295|k>>>18),k=D+(M^P&(N^M))+G[12]+2368359562&4294967295,D=N+(k<<20&4294967295|k>>>12),k=P+(D^N^M)+G[5]+4294588738&4294967295,P=D+(k<<4&4294967295|k>>>28),k=M+(P^D^N)+G[8]+2272392833&4294967295,M=P+(k<<11&4294967295|k>>>21),k=N+(M^P^D)+G[11]+1839030562&4294967295,N=M+(k<<16&4294967295|k>>>16),k=D+(N^M^P)+G[14]+4259657740&4294967295,D=N+(k<<23&4294967295|k>>>9),k=P+(D^N^M)+G[1]+2763975236&4294967295,P=D+(k<<4&4294967295|k>>>28),k=M+(P^D^N)+G[4]+1272893353&4294967295,M=P+(k<<11&4294967295|k>>>21),k=N+(M^P^D)+G[7]+4139469664&4294967295,N=M+(k<<16&4294967295|k>>>16),k=D+(N^M^P)+G[10]+3200236656&4294967295,D=N+(k<<23&4294967295|k>>>9),k=P+(D^N^M)+G[13]+681279174&4294967295,P=D+(k<<4&4294967295|k>>>28),k=M+(P^D^N)+G[0]+3936430074&4294967295,M=P+(k<<11&4294967295|k>>>21),k=N+(M^P^D)+G[3]+3572445317&4294967295,N=M+(k<<16&4294967295|k>>>16),k=D+(N^M^P)+G[6]+76029189&4294967295,D=N+(k<<23&4294967295|k>>>9),k=P+(D^N^M)+G[9]+3654602809&4294967295,P=D+(k<<4&4294967295|k>>>28),k=M+(P^D^N)+G[12]+3873151461&4294967295,M=P+(k<<11&4294967295|k>>>21),k=N+(M^P^D)+G[15]+530742520&4294967295,N=M+(k<<16&4294967295|k>>>16),k=D+(N^M^P)+G[2]+3299628645&4294967295,D=N+(k<<23&4294967295|k>>>9),k=P+(N^(D|~M))+G[0]+4096336452&4294967295,P=D+(k<<6&4294967295|k>>>26),k=M+(D^(P|~N))+G[7]+1126891415&4294967295,M=P+(k<<10&4294967295|k>>>22),k=N+(P^(M|~D))+G[14]+2878612391&4294967295,N=M+(k<<15&4294967295|k>>>17),k=D+(M^(N|~P))+G[5]+4237533241&4294967295,D=N+(k<<21&4294967295|k>>>11),k=P+(N^(D|~M))+G[12]+1700485571&4294967295,P=D+(k<<6&4294967295|k>>>26),k=M+(D^(P|~N))+G[3]+2399980690&4294967295,M=P+(k<<10&4294967295|k>>>22),k=N+(P^(M|~D))+G[10]+4293915773&4294967295,N=M+(k<<15&4294967295|k>>>17),k=D+(M^(N|~P))+G[1]+2240044497&4294967295,D=N+(k<<21&4294967295|k>>>11),k=P+(N^(D|~M))+G[8]+1873313359&4294967295,P=D+(k<<6&4294967295|k>>>26),k=M+(D^(P|~N))+G[15]+4264355552&4294967295,M=P+(k<<10&4294967295|k>>>22),k=N+(P^(M|~D))+G[6]+2734768916&4294967295,N=M+(k<<15&4294967295|k>>>17),k=D+(M^(N|~P))+G[13]+1309151649&4294967295,D=N+(k<<21&4294967295|k>>>11),k=P+(N^(D|~M))+G[4]+4149444226&4294967295,P=D+(k<<6&4294967295|k>>>26),k=M+(D^(P|~N))+G[11]+3174756917&4294967295,M=P+(k<<10&4294967295|k>>>22),k=N+(P^(M|~D))+G[2]+718787259&4294967295,N=M+(k<<15&4294967295|k>>>17),k=D+(M^(N|~P))+G[9]+3951481745&4294967295,q.g[0]=q.g[0]+P&4294967295,q.g[1]=q.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,q.g[2]=q.g[2]+N&4294967295,q.g[3]=q.g[3]+M&4294967295}i.prototype.u=function(q,P){P===void 0&&(P=q.length);for(var D=P-this.blockSize,G=this.B,N=this.h,M=0;M<P;){if(N==0)for(;M<=D;)s(this,q,M),M+=this.blockSize;if(typeof q=="string"){for(;M<P;)if(G[N++]=q.charCodeAt(M++),N==this.blockSize){s(this,G),N=0;break}}else for(;M<P;)if(G[N++]=q[M++],N==this.blockSize){s(this,G),N=0;break}}this.h=N,this.o+=P},i.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var P=1;P<q.length-8;++P)q[P]=0;var D=8*this.o;for(P=q.length-8;P<q.length;++P)q[P]=D&255,D/=256;for(this.u(q),q=Array(16),P=D=0;4>P;++P)for(var G=0;32>G;G+=8)q[D++]=this.g[P]>>>G&255;return q};function l(q,P){var D=d;return Object.prototype.hasOwnProperty.call(D,q)?D[q]:D[q]=P(q)}function c(q,P){this.h=P;for(var D=[],G=!0,N=q.length-1;0<=N;N--){var M=q[N]|0;G&&M==P||(D[N]=M,G=!1)}this.g=D}var d={};function p(q){return-128<=q&&128>q?l(q,function(P){return new c([P|0],0>P?-1:0)}):new c([q|0],0>q?-1:0)}function m(q){if(isNaN(q)||!isFinite(q))return T;if(0>q)return H(m(-q));for(var P=[],D=1,G=0;q>=D;G++)P[G]=q/D|0,D*=4294967296;return new c(P,0)}function v(q,P){if(q.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(q.charAt(0)=="-")return H(v(q.substring(1),P));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=m(Math.pow(P,8)),G=T,N=0;N<q.length;N+=8){var M=Math.min(8,q.length-N),k=parseInt(q.substring(N,N+M),P);8>M?(M=m(Math.pow(P,M)),G=G.j(M).add(m(k))):(G=G.j(D),G=G.add(m(k)))}return G}var T=p(0),E=p(1),x=p(16777216);e=c.prototype,e.m=function(){if(U(this))return-H(this).m();for(var q=0,P=1,D=0;D<this.g.length;D++){var G=this.i(D);q+=(0<=G?G:4294967296+G)*P,P*=4294967296}return q},e.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(O(this))return"0";if(U(this))return"-"+H(this).toString(q);for(var P=m(Math.pow(q,6)),D=this,G="";;){var N=ot(D,P).g;D=F(D,N.j(P));var M=((0<D.g.length?D.g[0]:D.h)>>>0).toString(q);if(D=N,O(D))return M+G;for(;6>M.length;)M="0"+M;G=M+G}},e.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function O(q){if(q.h!=0)return!1;for(var P=0;P<q.g.length;P++)if(q.g[P]!=0)return!1;return!0}function U(q){return q.h==-1}e.l=function(q){return q=F(this,q),U(q)?-1:O(q)?0:1};function H(q){for(var P=q.g.length,D=[],G=0;G<P;G++)D[G]=~q.g[G];return new c(D,~q.h).add(E)}e.abs=function(){return U(this)?H(this):this},e.add=function(q){for(var P=Math.max(this.g.length,q.g.length),D=[],G=0,N=0;N<=P;N++){var M=G+(this.i(N)&65535)+(q.i(N)&65535),k=(M>>>16)+(this.i(N)>>>16)+(q.i(N)>>>16);G=k>>>16,M&=65535,k&=65535,D[N]=k<<16|M}return new c(D,D[D.length-1]&-2147483648?-1:0)};function F(q,P){return q.add(H(P))}e.j=function(q){if(O(this)||O(q))return T;if(U(this))return U(q)?H(this).j(H(q)):H(H(this).j(q));if(U(q))return H(this.j(H(q)));if(0>this.l(x)&&0>q.l(x))return m(this.m()*q.m());for(var P=this.g.length+q.g.length,D=[],G=0;G<2*P;G++)D[G]=0;for(G=0;G<this.g.length;G++)for(var N=0;N<q.g.length;N++){var M=this.i(G)>>>16,k=this.i(G)&65535,it=q.i(N)>>>16,W=q.i(N)&65535;D[2*G+2*N]+=k*W,K(D,2*G+2*N),D[2*G+2*N+1]+=M*W,K(D,2*G+2*N+1),D[2*G+2*N+1]+=k*it,K(D,2*G+2*N+1),D[2*G+2*N+2]+=M*it,K(D,2*G+2*N+2)}for(G=0;G<P;G++)D[G]=D[2*G+1]<<16|D[2*G];for(G=P;G<2*P;G++)D[G]=0;return new c(D,0)};function K(q,P){for(;(q[P]&65535)!=q[P];)q[P+1]+=q[P]>>>16,q[P]&=65535,P++}function Z(q,P){this.g=q,this.h=P}function ot(q,P){if(O(P))throw Error("division by zero");if(O(q))return new Z(T,T);if(U(q))return P=ot(H(q),P),new Z(H(P.g),H(P.h));if(U(P))return P=ot(q,H(P)),new Z(H(P.g),P.h);if(30<q.g.length){if(U(q)||U(P))throw Error("slowDivide_ only works with positive integers.");for(var D=E,G=P;0>=G.l(q);)D=J(D),G=J(G);var N=$(D,1),M=$(G,1);for(G=$(G,2),D=$(D,2);!O(G);){var k=M.add(G);0>=k.l(q)&&(N=N.add(D),M=k),G=$(G,1),D=$(D,1)}return P=F(q,N.j(P)),new Z(N,P)}for(N=T;0<=q.l(P);){for(D=Math.max(1,Math.floor(q.m()/P.m())),G=Math.ceil(Math.log(D)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),M=m(D),k=M.j(P);U(k)||0<k.l(q);)D-=G,M=m(D),k=M.j(P);O(M)&&(M=E),N=N.add(M),q=F(q,k)}return new Z(N,q)}e.A=function(q){return ot(this,q).h},e.and=function(q){for(var P=Math.max(this.g.length,q.g.length),D=[],G=0;G<P;G++)D[G]=this.i(G)&q.i(G);return new c(D,this.h&q.h)},e.or=function(q){for(var P=Math.max(this.g.length,q.g.length),D=[],G=0;G<P;G++)D[G]=this.i(G)|q.i(G);return new c(D,this.h|q.h)},e.xor=function(q){for(var P=Math.max(this.g.length,q.g.length),D=[],G=0;G<P;G++)D[G]=this.i(G)^q.i(G);return new c(D,this.h^q.h)};function J(q){for(var P=q.g.length+1,D=[],G=0;G<P;G++)D[G]=q.i(G)<<1|q.i(G-1)>>>31;return new c(D,q.h)}function $(q,P){var D=P>>5;P%=32;for(var G=q.g.length-D,N=[],M=0;M<G;M++)N[M]=0<P?q.i(M+D)>>>P|q.i(M+D+1)<<32-P:q.i(M+D);return new c(N,q.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tP=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Uo=c}).apply(typeof Sx<"u"?Sx:typeof self<"u"?self:typeof window<"u"?window:{});var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eP,Gh,nP,Sp,cv,iP,rP,sP;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,S,C){return g==Array.prototype||g==Object.prototype||(g[S]=C.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof up=="object"&&up];for(var S=0;S<g.length;++S){var C=g[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=n(this);function s(g,S){if(S)t:{var C=i;g=g.split(".");for(var B=0;B<g.length-1;B++){var lt=g[B];if(!(lt in C))break t;C=C[lt]}g=g[g.length-1],B=C[g],S=S(B),S!=B&&S!=null&&t(C,g,{configurable:!0,writable:!0,value:S})}}function l(g,S){g instanceof String&&(g+="");var C=0,B=!1,lt={next:function(){if(!B&&C<g.length){var yt=C++;return{value:S(yt,g[yt]),done:!1}}return B=!0,{done:!0,value:void 0}}};return lt[Symbol.iterator]=function(){return lt},lt}s("Array.prototype.values",function(g){return g||function(){return l(this,function(S,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(g){var S=typeof g;return S=S!="object"?S:g?Array.isArray(g)?"array":S:"null",S=="array"||S=="object"&&typeof g.length=="number"}function m(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function v(g,S,C){return g.call.apply(g.bind,arguments)}function T(g,S,C){if(!g)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var lt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(lt,B),g.apply(S,lt)}}return function(){return g.apply(S,arguments)}}function E(g,S,C){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,E.apply(null,arguments)}function x(g,S){var C=Array.prototype.slice.call(arguments,1);return function(){var B=C.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function O(g,S){function C(){}C.prototype=S.prototype,g.aa=S.prototype,g.prototype=new C,g.prototype.constructor=g,g.Qb=function(B,lt,yt){for(var It=Array(arguments.length-2),he=2;he<arguments.length;he++)It[he-2]=arguments[he];return S.prototype[lt].apply(B,It)}}function U(g){const S=g.length;if(0<S){const C=Array(S);for(let B=0;B<S;B++)C[B]=g[B];return C}return[]}function H(g,S){for(let C=1;C<arguments.length;C++){const B=arguments[C];if(p(B)){const lt=g.length||0,yt=B.length||0;g.length=lt+yt;for(let It=0;It<yt;It++)g[lt+It]=B[It]}else g.push(B)}}class F{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function K(g){return/^[\s\xa0]*$/.test(g)}function Z(){var g=d.navigator;return g&&(g=g.userAgent)?g:""}function ot(g){return ot[" "](g),g}ot[" "]=function(){};var J=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function $(g,S,C){for(const B in g)S.call(C,g[B],B,g)}function q(g,S){for(const C in g)S.call(void 0,g[C],C,g)}function P(g){const S={};for(const C in g)S[C]=g[C];return S}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(g,S){let C,B;for(let lt=1;lt<arguments.length;lt++){B=arguments[lt];for(C in B)g[C]=B[C];for(let yt=0;yt<D.length;yt++)C=D[yt],Object.prototype.hasOwnProperty.call(B,C)&&(g[C]=B[C])}}function N(g){var S=1;g=g.split(":");const C=[];for(;0<S&&g.length;)C.push(g.shift()),S--;return g.length&&C.push(g.join(":")),C}function M(g){d.setTimeout(()=>{throw g},0)}function k(){var g=Pt;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class it{constructor(){this.h=this.g=null}add(S,C){const B=W.get();B.set(S,C),this.h?this.h.next=B:this.g=B,this.h=B}}var W=new F(()=>new et,g=>g.reset());class et{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,st=!1,Pt=new it,R=()=>{const g=d.Promise.resolve(void 0);rt=()=>{g.then(ht)}};var ht=()=>{for(var g;g=k();){try{g.h.call(g.g)}catch(C){M(C)}var S=W;S.j(g),100>S.h&&(S.h++,g.next=S.g,S.g=g)}st=!1};function wt(){this.s=this.s,this.C=this.C}wt.prototype.s=!1,wt.prototype.ma=function(){this.s||(this.s=!0,this.N())},wt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var Rt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};d.addEventListener("test",C,S),d.removeEventListener("test",C,S)}catch{}return g})();function kt(g,S){if(j.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var C=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget){if(J){t:{try{ot(S.nodeName);var lt=!0;break t}catch{}lt=!1}lt||(S=null)}}else C=="mouseover"?S=g.fromElement:C=="mouseout"&&(S=g.toElement);this.relatedTarget=S,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:At[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&kt.aa.h.call(this)}}O(kt,j);var At={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function gn(g,S,C,B,lt){this.listener=g,this.proxy=null,this.src=S,this.type=C,this.capture=!!B,this.ha=lt,this.key=++Jt,this.da=this.fa=!1}function Pn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function zn(g){this.src=g,this.g={},this.h=0}zn.prototype.add=function(g,S,C,B,lt){var yt=g.toString();g=this.g[yt],g||(g=this.g[yt]=[],this.h++);var It=Gi(g,S,B,lt);return-1<It?(S=g[It],C||(S.fa=!1)):(S=new gn(S,this.src,yt,!!B,lt),S.fa=C,g.push(S)),S};function Ti(g,S){var C=S.type;if(C in g.g){var B=g.g[C],lt=Array.prototype.indexOf.call(B,S,void 0),yt;(yt=0<=lt)&&Array.prototype.splice.call(B,lt,1),yt&&(Pn(S),g.g[C].length==0&&(delete g.g[C],g.h--))}}function Gi(g,S,C,B){for(var lt=0;lt<g.length;++lt){var yt=g[lt];if(!yt.da&&yt.listener==S&&yt.capture==!!C&&yt.ha==B)return lt}return-1}var Fr="closure_lm_"+(1e6*Math.random()|0),Hr={};function ms(g,S,C,B,lt){if(Array.isArray(S)){for(var yt=0;yt<S.length;yt++)ms(g,S[yt],C,B,lt);return null}return C=La(C),g&&g[ge]?g.K(S,C,m(B)?!!B.capture:!1,lt):kn(g,S,C,!1,B,lt)}function kn(g,S,C,B,lt,yt){if(!S)throw Error("Invalid event type");var It=m(lt)?!!lt.capture:!!lt,he=qr(g);if(he||(g[Fr]=he=new zn(g)),C=he.add(S,C,B,It,yt),C.proxy)return C;if(B=gs(),C.proxy=B,B.src=g,B.listener=C,g.addEventListener)Rt||(lt=It),lt===void 0&&(lt=!1),g.addEventListener(S.toString(),B,lt);else if(g.attachEvent)g.attachEvent(Zi(S.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return C}function gs(){function g(C){return S.call(g.src,g.listener,C)}const S=Oa;return g}function ys(g,S,C,B,lt){if(Array.isArray(S))for(var yt=0;yt<S.length;yt++)ys(g,S[yt],C,B,lt);else B=m(B)?!!B.capture:!!B,C=La(C),g&&g[ge]?(g=g.i,S=String(S).toString(),S in g.g&&(yt=g.g[S],C=Gi(yt,C,B,lt),-1<C&&(Pn(yt[C]),Array.prototype.splice.call(yt,C,1),yt.length==0&&(delete g.g[S],g.h--)))):g&&(g=qr(g))&&(S=g.g[S.toString()],g=-1,S&&(g=Gi(S,C,B,lt)),(C=-1<g?S[g]:null)&&gr(C))}function gr(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[ge])Ti(S.i,g);else{var C=g.type,B=g.proxy;S.removeEventListener?S.removeEventListener(C,B,g.capture):S.detachEvent?S.detachEvent(Zi(C),B):S.addListener&&S.removeListener&&S.removeListener(B),(C=qr(S))?(Ti(C,g),C.h==0&&(C.src=null,S[Fr]=null)):Pn(g)}}}function Zi(g){return g in Hr?Hr[g]:Hr[g]="on"+g}function Oa(g,S){if(g.da)g=!0;else{S=new kt(S,this);var C=g.listener,B=g.ha||g.src;g.fa&&gr(g),g=C.call(B,S)}return g}function qr(g){return g=g[Fr],g instanceof zn?g:null}var ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(g){return typeof g=="function"?g:(g[ta]||(g[ta]=function(S){return g.handleEvent(S)}),g[ta])}function gt(){wt.call(this),this.i=new zn(this),this.M=this,this.F=null}O(gt,wt),gt.prototype[ge]=!0,gt.prototype.removeEventListener=function(g,S,C,B){ys(this,g,S,C,B)};function bt(g,S){var C,B=g.F;if(B)for(C=[];B;B=B.F)C.push(B);if(g=g.M,B=S.type||S,typeof S=="string")S=new j(S,g);else if(S instanceof j)S.target=S.target||g;else{var lt=S;S=new j(B,g),G(S,lt)}if(lt=!0,C)for(var yt=C.length-1;0<=yt;yt--){var It=S.g=C[yt];lt=zt(It,B,!0,S)&&lt}if(It=S.g=g,lt=zt(It,B,!0,S)&&lt,lt=zt(It,B,!1,S)&&lt,C)for(yt=0;yt<C.length;yt++)It=S.g=C[yt],lt=zt(It,B,!1,S)&&lt}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var g=this.i,S;for(S in g.g){for(var C=g.g[S],B=0;B<C.length;B++)Pn(C[B]);delete g.g[S],g.h--}}this.F=null},gt.prototype.K=function(g,S,C,B){return this.i.add(String(g),S,!1,C,B)},gt.prototype.L=function(g,S,C,B){return this.i.add(String(g),S,!0,C,B)};function zt(g,S,C,B){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();for(var lt=!0,yt=0;yt<S.length;++yt){var It=S[yt];if(It&&!It.da&&It.capture==C){var he=It.listener,sn=It.ha||It.src;It.fa&&Ti(g.i,It),lt=he.call(sn,B)!==!1&&lt}}return lt&&!B.defaultPrevented}function Ft(g,S,C){if(typeof g=="function")C&&(g=E(g,C));else if(g&&typeof g.handleEvent=="function")g=E(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:d.setTimeout(g,S||0)}function ye(g){g.g=Ft(()=>{g.g=null,g.i&&(g.i=!1,ye(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class Un extends wt{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:ye(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(g){wt.call(this),this.h=g,this.g={}}O($n,wt);var yn=[];function Yn(g){$(g.g,function(S,C){this.g.hasOwnProperty(C)&&gr(S)},g),g.g={}}$n.prototype.N=function(){$n.aa.N.call(this),Yn(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=d.JSON.stringify,nn=d.JSON.parse,vn=class{stringify(g){return d.JSON.stringify(g,void 0)}parse(g){return d.JSON.parse(g,void 0)}};function Xn(){}Xn.prototype.h=null;function al(g){return g.h||(g.h=g.i())}function Na(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){j.call(this,"d")}O(_r,j);function ol(){j.call(this,"c")}O(ol,j);var vr={},ll=null;function _s(){return ll=ll||new gt}vr.La="serverreachability";function Va(g){j.call(this,vr.La,g)}O(Va,j);function vs(g){const S=_s();bt(S,new Va(S))}vr.STAT_EVENT="statevent";function za(g,S){j.call(this,vr.STAT_EVENT,g),this.stat=S}O(za,j);function Ve(g){const S=_s();bt(S,new za(S,g))}vr.Ma="timingevent";function cn(g,S){j.call(this,vr.Ma,g),this.size=S}O(cn,j);function rn(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){g()},S)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function li(g,S,C,B,lt,yt){g.info(function(){if(g.g)if(yt)for(var It="",he=yt.split("&"),sn=0;sn<he.length;sn++){var fe=he[sn].split("=");if(1<fe.length){var xe=fe[0];fe=fe[1];var Ue=xe.split("_");It=2<=Ue.length&&Ue[1]=="type"?It+(xe+"="+fe+"&"):It+(xe+"=redacted&")}}else It=null;else It=yt;return"XMLHTTP REQ ("+B+") [attempt "+lt+"]: "+S+`
`+C+`
`+It})}function Ut(g,S,C,B,lt,yt,It){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+lt+"]: "+S+`
`+C+`
`+yt+" "+It})}function Gr(g,S,C,B){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+ws(g,C)+(B?" "+B:"")})}function ul(g,S){g.info(function(){return"TIMEOUT: "+S})}Mi.prototype.info=function(){};function ws(g,S){if(!g.g)return S;if(!S)return null;try{var C=JSON.parse(S);if(C){for(g=0;g<C.length;g++)if(Array.isArray(C[g])){var B=C[g];if(!(2>B.length)){var lt=B[1];if(Array.isArray(lt)&&!(1>lt.length)){var yt=lt[0];if(yt!="noop"&&yt!="stop"&&yt!="close")for(var It=1;It<lt.length;It++)lt[It]=""}}}}return _n(C)}catch{return S}}var Zr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ki;function Qn(){}O(Qn,Xn),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Ki=new Qn;function Bn(g,S,C,B){this.j=g,this.i=S,this.l=C,this.R=B||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xe}function Xe(){this.i=null,this.g="",this.h=!1}var cl={},Ua={};function $i(g,S,C){g.L=1,g.v=bi(ze(S)),g.m=C,g.P=!0,wr(g,null)}function wr(g,S){g.F=Date.now(),na(g),g.A=ze(g.v);var C=g.A,B=g.R;Array.isArray(B)||(B=[String(B)]),dl(C.i,"t",B),g.C=0,C=g.j.J,g.h=new Xe,g.g=hu(g.j,C?S:null,!g.m),0<g.O&&(g.M=new Un(E(g.Y,g,g.g),g.O)),S=g.U,C=g.g,B=g.ca;var lt="readystatechange";Array.isArray(lt)||(lt&&(yn[0]=lt.toString()),lt=yn);for(var yt=0;yt<lt.length;yt++){var It=ms(C,lt[yt],B||S.handleEvent,!1,S.h||S);if(!It)break;S.g[It.key]=It}S=g.H?P(g.H):{},g.m?(g.u||(g.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,S)):(g.u="GET",g.g.ea(g.A,g.u,null,S)),vs(),li(g.i,g.u,g.A,g.l,g.R,g.m)}Bn.prototype.ca=function(g){g=g.target;const S=this.M;S&&Hn(g)==3?S.j():this.Y(g)},Bn.prototype.Y=function(g){try{if(g==this.g)t:{const Ue=Hn(this.g);var S=this.g.Ba();const ts=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||pl(this.g)))){this.J||Ue!=4||S==7||(S==8||0>=ts?vs(3):vs(2)),Ts(this);var C=this.g.Z();this.X=C;e:if(au(this)){var B=pl(this.g);g="";var lt=B.length,yt=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Tr(this);var It="";break e}this.h.i=new d.TextDecoder}for(S=0;S<lt;S++)this.h.h=!0,g+=this.h.i.decode(B[S],{stream:!(yt&&S==lt-1)});B.length=0,this.h.g+=g,this.C=0,It=this.h.g}else It=this.g.oa();if(this.o=C==200,Ut(this.i,this.u,this.A,this.l,this.R,Ue,C),this.o){if(this.T&&!this.K){e:{if(this.g){var he,sn=this.g;if((he=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(he)){var fe=he;break e}}fe=null}if(C=fe)Gr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,C);else{this.o=!1,this.s=3,Ve(12),Mn(this),Tr(this);break t}}if(this.P){C=!0;let Oe;for(;!this.J&&this.C<It.length;)if(Oe=ea(this,It),Oe==Ua){Ue==4&&(this.s=4,Ve(14),C=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Oe==cl){this.s=4,Ve(15),Gr(this.i,this.l,It,"[Invalid Chunk]"),C=!1;break}else Gr(this.i,this.l,Oe,null),Wr(this,Oe);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||It.length!=0||this.h.h||(this.s=1,Ve(16),C=!1),this.o=this.o&&C,!C)Gr(this.i,this.l,It,"[Invalid Chunked Response]"),Mn(this),Tr(this);else if(0<It.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+It.length),Rs(xe),xe.M=!0,Ve(11))}}else Gr(this.i,this.l,It,null),Wr(this,It);Ue==4&&Mn(this),this.o&&!this.J&&(Ue==4?gl(this.j,this):(this.o=!1,na(this)))}else Lc(this.g),C==400&&0<It.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),Mn(this),Tr(this)}}}catch{}finally{}};function au(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function ea(g,S){var C=g.C,B=S.indexOf(`
`,C);return B==-1?Ua:(C=Number(S.substring(C,B)),isNaN(C)?cl:(B+=1,B+C>S.length?Ua:(S=S.slice(B,B+C),g.C=B+C,S)))}Bn.prototype.cancel=function(){this.J=!0,Mn(this)};function na(g){g.S=Date.now()+g.I,ou(g,g.I)}function ou(g,S){if(g.B!=null)throw Error("WatchDog timer not null");g.B=rn(E(g.ba,g),S)}function Ts(g){g.B&&(d.clearTimeout(g.B),g.B=null)}Bn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ul(this.i,this.A),this.L!=2&&(vs(),Ve(17)),Mn(this),this.s=2,Tr(this)):ou(this,this.S-g)};function Tr(g){g.j.G==0||g.J||gl(g.j,g)}function Mn(g){Ts(g);var S=g.M;S&&typeof S.ma=="function"&&S.ma(),g.M=null,Yn(g.U),g.g&&(S=g.g,g.g=null,S.abort(),S.ma())}function Wr(g,S){try{var C=g.j;if(C.G!=0&&(C.g==g||oe(C.h,g))){if(!g.K&&oe(C.h,g)&&C.G==3){try{var B=C.Da.g.parse(S)}catch{B=null}if(Array.isArray(B)&&B.length==3){var lt=B;if(lt[0]==0){t:if(!C.u){if(C.g)if(C.g.F+3e3<g.F)Ka(C),Ga(C);else break t;Za(C),Ve(18)}}else C.za=lt[1],0<C.za-C.T&&37500>lt[2]&&C.F&&C.v==0&&!C.C&&(C.C=rn(E(C.Za,C),6e3));if(1>=Er(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Jr(C,11)}else if((g.K||C.g==g)&&Ka(C),!K(S))for(lt=C.Da.g.parse(S),S=0;S<lt.length;S++){let fe=lt[S];if(C.T=fe[0],fe=fe[1],C.G==2)if(fe[0]=="c"){C.K=fe[1],C.ia=fe[2];const xe=fe[3];xe!=null&&(C.la=xe,C.j.info("VER="+C.la));const Ue=fe[4];Ue!=null&&(C.Aa=Ue,C.j.info("SVER="+C.Aa));const ts=fe[5];ts!=null&&typeof ts=="number"&&0<ts&&(B=1.5*ts,C.L=B,C.j.info("backChannelRequestTimeoutMs_="+B)),B=C;const Oe=g.g;if(Oe){const Cr=Oe.g?Oe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var yt=B.h;yt.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(yt.j=yt.l,yt.g=new Set,yt.h&&(Se(yt,yt.h),yt.h=null))}if(B.D){const Ir=Oe.g?Oe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ir&&(B.ya=Ir,Zt(B.I,B.D,Ir))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-g.F,C.j.info("Handshake RTT: "+C.R+"ms")),B=C;var It=g;if(B.qa=Ya(B,B.J?B.ia:null,B.W),It.K){wn(B.h,It);var he=It,sn=B.L;sn&&(he.I=sn),he.B&&(Ts(he),na(he)),B.g=It}else er(B);0<C.i.length&&As(C)}else fe[0]!="stop"&&fe[0]!="close"||Jr(C,7);else C.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Jr(C,7):qa(C):fe[0]!="noop"&&C.l&&C.l.ta(fe),C.v=0)}}vs(4)}catch{}}var bs=class{constructor(g,S){this.g=g,this.map=S}};function br(g){this.l=g||10,d.PerformanceNavigationTiming?(g=d.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ia(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Er(g){return g.h?1:g.g?g.g.size:0}function oe(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function Se(g,S){g.g?g.g.add(S):g.h=S}function wn(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}br.prototype.cancel=function(){if(this.i=Sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Sr(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const C of g.g.values())S=S.concat(C.D);return S}return U(g.i)}function Es(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(p(g)){for(var S=[],C=g.length,B=0;B<C;B++)S.push(g[B]);return S}S=[],C=0;for(B in g)S[C++]=g[B];return S}function Ss(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(p(g)||typeof g=="string"){var S=[];g=g.length;for(var C=0;C<g;C++)S.push(C);return S}S=[],C=0;for(const B in g)S[C++]=B;return S}}}function te(g,S){if(g.forEach&&typeof g.forEach=="function")g.forEach(S,void 0);else if(p(g)||typeof g=="string")Array.prototype.forEach.call(g,S,void 0);else for(var C=Ss(g),B=Es(g),lt=B.length,yt=0;yt<lt;yt++)S.call(void 0,B[yt],C&&C[yt],g)}var Re=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hl(g,S){if(g){g=g.split("&");for(var C=0;C<g.length;C++){var B=g[C].indexOf("="),lt=null;if(0<=B){var yt=g[C].substring(0,B);lt=g[C].substring(B+1)}else yt=g[C];S(yt,lt?decodeURIComponent(lt.replace(/\+/g," ")):"")}}}function Ge(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ge){this.h=g.h,ra(this,g.j),this.o=g.o,this.g=g.g,Yi(this,g.s),this.l=g.l;var S=g.i,C=new Qi;C.i=S.i,S.g&&(C.g=new Map(S.g),C.h=S.h),Jn(this,C),this.m=g.m}else g&&(S=String(g).match(Re))?(this.h=!1,ra(this,S[1]||"",!0),this.o=jn(S[2]||""),this.g=jn(S[3]||"",!0),Yi(this,S[4]),this.l=jn(S[5]||"",!0),Jn(this,S[6]||"",!0),this.m=jn(S[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}Ge.prototype.toString=function(){var g=[],S=this.j;S&&g.push(Xi(S,Kr,!0),":");var C=this.g;return(C||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Xi(S,Kr,!0),"@"),g.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&g.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(Xi(C,C.charAt(0)=="/"?fl:sa,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",Xi(C,xs)),g.join("")};function ze(g){return new Ge(g)}function ra(g,S,C){g.j=C?jn(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function Yi(g,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);g.s=S}else g.s=null}function Jn(g,S,C){S instanceof Qi?(g.i=S,Ei(g.i,g.h)):(C||(S=Xi(S,ja)),g.i=new Qi(S,g.h))}function Zt(g,S,C){g.i.set(S,C)}function bi(g){return Zt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function jn(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Xi(g,S,C){return typeof g=="string"?(g=encodeURI(g).replace(S,Ba),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ba(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Kr=/[#\/\?@]/g,sa=/[#\?:]/g,fl=/[#\?]/g,ja=/[#\?@]/g,xs=/#/g;function Qi(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function ti(g){g.g||(g.g=new Map,g.h=0,g.i&&hl(g.i,function(S,C){g.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}e=Qi.prototype,e.add=function(g,S){ti(this),this.i=null,g=Ht(this,g);var C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(S),this.h+=1,this};function xr(g,S){ti(g),S=Ht(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function Ji(g,S){return ti(g),S=Ht(g,S),g.g.has(S)}e.forEach=function(g,S){ti(this),this.g.forEach(function(C,B){C.forEach(function(lt){g.call(S,lt,B,this)},this)},this)},e.na=function(){ti(this);const g=Array.from(this.g.values()),S=Array.from(this.g.keys()),C=[];for(let B=0;B<S.length;B++){const lt=g[B];for(let yt=0;yt<lt.length;yt++)C.push(S[B])}return C},e.V=function(g){ti(this);let S=[];if(typeof g=="string")Ji(this,g)&&(S=S.concat(this.g.get(Ht(this,g))));else{g=Array.from(this.g.values());for(let C=0;C<g.length;C++)S=S.concat(g[C])}return S},e.set=function(g,S){return ti(this),this.i=null,g=Ht(this,g),Ji(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},e.get=function(g,S){return g?(g=this.V(g),0<g.length?String(g[0]):S):S};function dl(g,S,C){xr(g,S),0<C.length&&(g.i=null,g.g.set(Ht(g,S),U(C)),g.h+=C.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(var C=0;C<S.length;C++){var B=S[C];const yt=encodeURIComponent(String(B)),It=this.V(B);for(B=0;B<It.length;B++){var lt=yt;It[B]!==""&&(lt+="="+encodeURIComponent(String(It[B]))),g.push(lt)}}return this.i=g.join("&")};function Ht(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function Ei(g,S){S&&!g.j&&(ti(g),g.i=null,g.g.forEach(function(C,B){var lt=B.toLowerCase();B!=lt&&(xr(this,B),dl(this,lt,C))},g)),g.j=S}function _e(g,S){const C=new Mi;if(d.Image){const B=new Image;B.onload=x(ui,C,"TestLoadImage: loaded",!0,S,B),B.onerror=x(ui,C,"TestLoadImage: error",!1,S,B),B.onabort=x(ui,C,"TestLoadImage: abort",!1,S,B),B.ontimeout=x(ui,C,"TestLoadImage: timeout",!1,S,B),d.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else S(!1)}function Di(g,S){const C=new Mi,B=new AbortController,lt=setTimeout(()=>{B.abort(),ui(C,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:B.signal}).then(yt=>{clearTimeout(lt),yt.ok?ui(C,"TestPingServer: ok",!0,S):ui(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(lt),ui(C,"TestPingServer: error",!1,S)})}function ui(g,S,C,B,lt){try{lt&&(lt.onload=null,lt.onerror=null,lt.onabort=null,lt.ontimeout=null),B(C)}catch{}}function $r(){this.g=new vn}function Oi(g,S,C){const B=C||"";try{te(g,function(lt,yt){let It=lt;m(lt)&&(It=_n(lt)),S.push(B+yt+"="+encodeURIComponent(It))})}catch(lt){throw S.push(B+"type="+encodeURIComponent("_badmap")),lt}}function ci(g){this.l=g.Ub||null,this.j=g.eb||!1}O(ci,Xn),ci.prototype.g=function(){return new tr(this.l,this.j)},ci.prototype.i=(function(g){return function(){return g}})({});function tr(g,S){gt.call(this),this.D=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(tr,gt),e=tr.prototype,e.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=S,this.readyState=1,Fn(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(S.body=g),(this.D||d).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pe(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yr(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yr(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?Pe(this):Fn(this),this.readyState==3&&Yr(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Pe(this))},e.Qa=function(g){this.g&&(this.response=g,Pe(this))},e.ga=function(){this.g&&Pe(this)};function Pe(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Fn(g)}e.setRequestHeader=function(g,S){this.u.append(g,S)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=S.next();return g.join(`\r
`)};function Fn(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Fa(g){let S="";return $(g,function(C,B){S+=B,S+=":",S+=C,S+=`\r
`}),S}function hn(g,S,C){t:{for(B in C){var B=!1;break t}B=!0}B||(C=Fa(C),typeof g=="string"?C!=null&&encodeURIComponent(String(C)):Zt(g,S,C))}function Te(g){gt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Te,gt);var aa=/^https?$/i,Xr=["POST","PUT"];e=Te.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,S,C,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ki.g(),this.v=this.o?al(this.o):al(Ki),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(yt){lu(this,yt);return}if(g=C||"",C=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var lt in B)C.set(lt,B[lt]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const yt of B.keys())C.set(yt,B.get(yt));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(C.keys()).find(yt=>yt.toLowerCase()=="content-type"),lt=d.FormData&&g instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Xr,S,void 0))||B||lt||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[yt,It]of C)this.g.setRequestHeader(yt,It);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dn(this),this.u=!0,this.g.send(g),this.u=!1}catch(yt){lu(this,yt)}};function lu(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.m=5,oa(g),Ar(g)}function oa(g){g.A||(g.A=!0,bt(g,"complete"),bt(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,bt(this,"complete"),bt(this,"abort"),Ar(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),Te.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ie(this):this.bb())},e.bb=function(){ie(this)};function ie(g){if(g.h&&typeof c<"u"&&(!g.v[1]||Hn(g)!=4||g.Z()!=2)){if(g.u&&Hn(g)==4)Ft(g.Ea,0,g);else if(bt(g,"readystatechange"),Hn(g)==4){g.h=!1;try{const It=g.Z();t:switch(It){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var C;if(!(C=S)){var B;if(B=It===0){var lt=String(g.D).match(Re)[1]||null;!lt&&d.self&&d.self.location&&(lt=d.self.location.protocol.slice(0,-1)),B=!aa.test(lt?lt.toLowerCase():"")}C=B}if(C)bt(g,"complete"),bt(g,"success");else{g.m=6;try{var yt=2<Hn(g)?g.g.statusText:""}catch{yt=""}g.l=yt+" ["+g.Z()+"]",oa(g)}}finally{Ar(g)}}}}function Ar(g,S){if(g.g){Dn(g);const C=g.g,B=g.v[0]?()=>{}:null;g.g=null,g.v=null,S||bt(g,"ready");try{C.onreadystatechange=B}catch{}}}function Dn(g){g.I&&(d.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Hn(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),nn(S)}};function pl(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Lc(g){const S={};g=(g.g&&2<=Hn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(K(g[B]))continue;var C=N(g[B]);const lt=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const yt=S[lt]||[];S[lt]=yt,yt.push(C)}q(S,function(B){return B.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(g,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||S}function Ha(g){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,g),this.cb=Qr("retryDelaySeedMs",1e4,g),this.Wa=Qr("forwardChannelMaxRetries",2,g),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new br(g&&g.concurrentRequestLimit),this.Da=new $r,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ha.prototype,e.la=8,e.G=1,e.connect=function(g,S,C,B){Ve(0),this.W=g,this.H=S||{},C&&B!==void 0&&(this.H.OSID=C,this.H.OAID=B),this.F=this.X,this.I=Ya(this,null,this.W),As(this)};function qa(g){if(uu(g),g.G==3){var S=g.U++,C=ze(g.I);if(Zt(C,"SID",g.K),Zt(C,"RID",S),Zt(C,"TYPE","terminate"),la(g,C),S=new Bn(g,g.j,S),S.L=2,S.v=bi(ze(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(S.v.toString(),"")}catch{}!C&&d.Image&&(new Image().src=S.v,C=!0),C||(S.g=hu(S.j,null),S.g.ea(S.v)),S.F=Date.now(),na(S)}cu(g)}function Ga(g){g.g&&(Rs(g),g.g.cancel(),g.g=null)}function uu(g){Ga(g),g.u&&(d.clearTimeout(g.u),g.u=null),Ka(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&d.clearTimeout(g.s),g.s=null)}function As(g){if(!ia(g.h)&&!g.s){g.s=!0;var S=g.Ga;rt||R(),st||(rt(),st=!0),Pt.add(S,g),g.B=0}}function Nc(g,S){return Er(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=S.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=rn(E(g.Ga,g,S),$a(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const lt=new Bn(this,this.j,g);let yt=this.o;if(this.S&&(yt?(yt=P(yt),G(yt,this.S)):yt=this.S),this.m!==null||this.O||(lt.H=yt,yt=null),this.P)t:{for(var S=0,C=0;C<this.i.length;C++){e:{var B=this.i[C];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break e}B=void 0}if(B===void 0)break;if(S+=B,4096<S){S=C;break t}if(S===4096||C===this.i.length-1){S=C+1;break t}}S=1e3}else S=1e3;S=ml(this,lt,S),C=ze(this.I),Zt(C,"RID",g),Zt(C,"CVER",22),this.D&&Zt(C,"X-HTTP-Session-Id",this.D),la(this,C),yt&&(this.O?S="headers="+encodeURIComponent(String(Fa(yt)))+"&"+S:this.m&&hn(C,this.m,yt)),Se(this.h,lt),this.Ua&&Zt(C,"TYPE","init"),this.P?(Zt(C,"$req",S),Zt(C,"SID","null"),lt.T=!0,$i(lt,C,null)):$i(lt,C,S),this.G=2}}else this.G==3&&(g?hi(this,g):this.i.length==0||ia(this.h)||hi(this))};function hi(g,S){var C;S?C=S.l:C=g.U++;const B=ze(g.I);Zt(B,"SID",g.K),Zt(B,"RID",C),Zt(B,"AID",g.T),la(g,B),g.m&&g.o&&hn(B,g.m,g.o),C=new Bn(g,g.j,C,g.B+1),g.m===null&&(C.H=g.o),S&&(g.i=S.D.concat(g.i)),S=ml(g,C,1e3),C.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Se(g.h,C),$i(C,B,S)}function la(g,S){g.H&&$(g.H,function(C,B){Zt(S,B,C)}),g.l&&te({},function(C,B){Zt(S,B,C)})}function ml(g,S,C){C=Math.min(g.i.length,C);var B=g.l?E(g.l.Na,g.l,g):null;t:{var lt=g.i;let yt=-1;for(;;){const It=["count="+C];yt==-1?0<C?(yt=lt[0].g,It.push("ofs="+yt)):yt=0:It.push("ofs="+yt);let he=!0;for(let sn=0;sn<C;sn++){let fe=lt[sn].g;const xe=lt[sn].map;if(fe-=yt,0>fe)yt=Math.max(0,lt[sn].g-100),he=!1;else try{Oi(xe,It,"req"+fe+"_")}catch{B&&B(xe)}}if(he){B=It.join("&");break t}}}return g=g.i.splice(0,C),S.D=g,B}function er(g){if(!g.g&&!g.u){g.Y=1;var S=g.Fa;rt||R(),st||(rt(),st=!0),Pt.add(S,g),g.v=0}}function Za(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=rn(E(g.Fa,g),$a(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,Wa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=rn(E(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ve(10),Ga(this),Wa(this))};function Rs(g){g.A!=null&&(d.clearTimeout(g.A),g.A=null)}function Wa(g){g.g=new Bn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var S=ze(g.qa);Zt(S,"RID","rpc"),Zt(S,"SID",g.K),Zt(S,"AID",g.T),Zt(S,"CI",g.F?"0":"1"),!g.F&&g.ja&&Zt(S,"TO",g.ja),Zt(S,"TYPE","xmlhttp"),la(g,S),g.m&&g.o&&hn(S,g.m,g.o),g.L&&(g.g.I=g.L);var C=g.g;g=g.ia,C.L=1,C.v=bi(ze(S)),C.m=null,C.P=!0,wr(C,g)}e.Za=function(){this.C!=null&&(this.C=null,Ga(this),Za(this),Ve(19))};function Ka(g){g.C!=null&&(d.clearTimeout(g.C),g.C=null)}function gl(g,S){var C=null;if(g.g==S){Ka(g),Rs(g),g.g=null;var B=2}else if(oe(g.h,S))C=S.D,wn(g.h,S),B=1;else return;if(g.G!=0){if(S.o)if(B==1){C=S.m?S.m.length:0,S=Date.now()-S.F;var lt=g.B;B=_s(),bt(B,new cn(B,C)),As(g)}else er(g);else if(lt=S.s,lt==3||lt==0&&0<S.X||!(B==1&&Nc(g,S)||B==2&&Za(g)))switch(C&&0<C.length&&(S=g.h,S.i=S.i.concat(C)),lt){case 1:Jr(g,5);break;case 4:Jr(g,10);break;case 3:Jr(g,6);break;default:Jr(g,2)}}}function $a(g,S){let C=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(C*=2),C*S}function Jr(g,S){if(g.j.info("Error code "+S),S==2){var C=E(g.fb,g),B=g.Xa;const lt=!B;B=new Ge(B||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ra(B,"https"),bi(B),lt?_e(B.toString(),C):Di(B.toString(),C)}else Ve(2);g.G=0,g.l&&g.l.sa(S),cu(g),uu(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function cu(g){if(g.G=0,g.ka=[],g.l){const S=Sr(g.h);(S.length!=0||g.i.length!=0)&&(H(g.ka,S),H(g.ka,g.i),g.h.i.length=0,U(g.i),g.i.length=0),g.l.ra()}}function Ya(g,S,C){var B=C instanceof Ge?ze(C):new Ge(C);if(B.g!="")S&&(B.g=S+"."+B.g),Yi(B,B.s);else{var lt=d.location;B=lt.protocol,S=S?S+"."+lt.hostname:lt.hostname,lt=+lt.port;var yt=new Ge(null);B&&ra(yt,B),S&&(yt.g=S),lt&&Yi(yt,lt),C&&(yt.l=C),B=yt}return C=g.D,S=g.ya,C&&S&&Zt(B,C,S),Zt(B,"VER",g.la),la(g,B),B}function hu(g,S,C){if(S&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Ca&&!g.pa?new Te(new ci({eb:C})):new Te(g.pa),S.Ha(g.J),S}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function yl(){}e=yl.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ua(){}ua.prototype.g=function(g,S){return new Tn(g,S)};function Tn(g,S){gt.call(this),this.g=new Ha(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(g?g["X-WebChannel-Client-Profile"]=S.va:g={"X-WebChannel-Client-Profile":S.va}),this.g.S=g,(g=S&&S.Sb)&&!K(g)&&(this.g.m=g),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!K(S)&&(this.g.D=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new fi(this)}O(Tn,gt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){qa(this.g)},Tn.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.u&&(C={},C.__data__=_n(g),g=C);S.i.push(new bs(S.Ya++,g)),S.G==3&&As(S)},Tn.prototype.N=function(){this.g.l=null,delete this.j,qa(this.g),delete this.g,Tn.aa.N.call(this)};function Rr(g){_r.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){t:{for(const C in S){g=C;break t}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}O(Rr,_r);function fu(){ol.call(this),this.status=1}O(fu,ol);function fi(g){this.g=g}O(fi,yl),fi.prototype.ua=function(){bt(this.g,"a")},fi.prototype.ta=function(g){bt(this.g,new Rr(g))},fi.prototype.sa=function(g){bt(this.g,new fu)},fi.prototype.ra=function(){bt(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,sP=function(){return new ua},rP=function(){return _s()},iP=vr,cv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,Sp=Zr,Wi.COMPLETE="complete",nP=Wi,Na.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Gh=Na,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,eP=Te}).apply(typeof up<"u"?up:typeof self<"u"?self:typeof window<"u"?window:{});const xx="@firebase/firestore",Ax="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new q0("@firebase/firestore");function Gu(){return Yl.logLevel}function Ot(e,...t){if(Yl.logLevel<=de.DEBUG){const n=t.map(W0);Yl.debug(`Firestore (${Cc}): ${e}`,...n)}}function ka(e,...t){if(Yl.logLevel<=de.ERROR){const n=t.map(W0);Yl.error(`Firestore (${Cc}): ${e}`,...n)}}function fc(e,...t){if(Yl.logLevel<=de.WARN){const n=t.map(W0);Yl.warn(`Firestore (${Cc}): ${e}`,...n)}}function W0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,aP(e,i,n)}function aP(e,t,n){let i=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ka(i),new Error(i)}function Ae(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||aP(t,s,i)}function ne(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends Js{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Sj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(gi.UNAUTHENTICATED)))}shutdown(){}}class xj{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Aj{constructor(t){this.t=t,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ae(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Gl;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gl,t.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},d=p=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gl)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ae(typeof i.accessToken=="string",31837,{l:i}),new oP(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ae(t===null||typeof t=="string",2055,{h:t}),new gi(t)}}class Rj{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cj{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new Rj(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(gi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ij{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ae(this.o===void 0,3512);const i=l=>{l.error!=null&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ot("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const s=l=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Pj(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<n&&(i+=t.charAt(s[l]%62))}return i}}function pe(e,t){return e<t?-1:e>t?1:0}function hv(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),l=t.charAt(i);if(s!==l)return m_(s)===m_(l)?pe(s,l):m_(s)?1:-1}return pe(e.length,t.length)}const kj=55296,Mj=57343;function m_(e){const t=e.charCodeAt(0);return t>=kj&&t<=Mj}function dc(e,t,n){return e.length===t.length&&e.every(((i,s)=>n(i,t[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="__name__";class Vs{constructor(t,n,i){n===void 0?n=0:n>t.length&&Kt(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Kt(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Vs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vs?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const l=Vs.compareSegments(t.get(s),n.get(s));if(l!==0)return l}return pe(t.length,n.length)}static compareSegments(t,n){const i=Vs.isNumericId(t),s=Vs.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Vs.extractNumericId(t).compare(Vs.extractNumericId(n)):hv(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Uo.fromString(t.substring(4,t.length-2))}}class He extends Vs{construct(t,n,i){return new He(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Dt(Tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new He(n)}static emptyPath(){return new He([])}}const Dj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ai extends Vs{construct(t,n,i){return new ai(t,n,i)}static isValidIdentifier(t){return Dj.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ai.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cx}static keyField(){return new ai([Cx])}static fromServerFormat(t){const n=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Dt(Tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;s<t.length;){const d=t[s];if(d==="\\"){if(s+1===t.length)throw new Dt(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Dt(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new Dt(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ai(n)}static emptyPath(){return new ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.path=t}static fromPath(t){return new jt(He.fromString(t))}static fromName(t){return new jt(He.fromString(t).popFirst(5))}static empty(){return new jt(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&He.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return He.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new jt(new He(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(e,t,n){if(!n)throw new Dt(Tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Oj(e,t,n,i){if(t===!0&&i===!0)throw new Dt(Tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ix(e){if(!jt.isDocumentKey(e))throw new Dt(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Px(e){if(jt.isDocumentKey(e))throw new Dt(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function uP(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function xm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Kt(12329,{type:typeof e})}function Bo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dt(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xm(e);throw new Dt(Tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(e,t){const n={typeString:e};return t&&(n.value=t),n}function Ff(e,t){if(!uP(e))throw new Dt(Tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const c=e[i];if(s&&typeof c!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Dt(Tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=-62135596800,Mx=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Mx);return new Ne(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Dt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Dt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<kx)throw new Dt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mx}_compareTo(t){return this.seconds===t.seconds?pe(this.nanoseconds,t.nanoseconds):pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ff(t,Ne._jsonSchema))return new Ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-kx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:Cn("string",Ne._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(t){return new ee(t)}static min(){return new ee(new Ne(0,0))}static max(){return new ee(new Ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=-1;function Lj(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(i===1e9?new Ne(n+1,0):new Ne(n,i));return new Zo(s,jt.empty(),t)}function Nj(e){return new Zo(e.readTime,e.key,Tf)}class Zo{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Zo(ee.min(),jt.empty(),Tf)}static max(){return new Zo(ee.max(),jt.empty(),Tf)}}function Vj(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=jt.comparator(e.documentKey,t.documentKey),n!==0?n:pe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(e){if(e.code!==Tt.FAILED_PRECONDITION||e.message!==zj)throw e;Ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new St(((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof St?n:St.resolve(n)}catch(n){return St.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):St.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):St.reject(n)}static resolve(t){return new St(((n,i)=>{n(t)}))}static reject(t){return new St(((n,i)=>{i(t)}))}static waitFor(t){return new St(((n,i)=>{let s=0,l=0,c=!1;t.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&n()}),(p=>i(p)))})),c=!0,l===s&&n()}))}static or(t){let n=St.resolve(!1);for(const i of t)n=n.next((s=>s?St.resolve(s):i()));return n}static forEach(t,n){const i=[];return t.forEach(((s,l)=>{i.push(n.call(this,s,l))})),this.waitFor(i)}static mapArray(t,n){return new St(((i,s)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;n(t[m]).next((v=>{c[m]=v,++d,d===l&&i(c)}),(v=>s(v)))}}))}static doWhile(t,n){return new St(((i,s)=>{const l=()=>{t()===!0?n().next((()=>{l()}),s):i()};l()}))}}function Bj(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Am.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=-1;function Rm(e){return e==null}function Kp(e){return e===0&&1/e==-1/0}function jj(e){return typeof e=="number"&&Number.isInteger(e)&&!Kp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="";function Fj(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Dx(t)),t=Hj(e.get(n),t);return Dx(t)}function Hj(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const l=e.charAt(s);switch(l){case"\0":n+="";break;case cP:n+="";break;default:n+=l}}return n}function Dx(e){return e+cP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function il(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,n){this.comparator=t,this.root=n||si.EMPTY}insert(t,n){return new en(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,si.BLACK,null,null))}remove(t){return new en(this.comparator,this.root.remove(t,this.comparator).copy(null,null,si.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,i)=>(t(n,i),!1)))}toString(){const t=[];return this.inorderTraversal(((n,i)=>(t.push(`${n}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cp(this.root,t,this.comparator,!1)}getReverseIterator(){return new cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cp(this.root,t,this.comparator,!0)}}class cp{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?i(t.key,n):1,n&&s&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class si{constructor(t,n,i,s,l){this.key=t,this.value=n,this.color=i??si.RED,this.left=s??si.EMPTY,this.right=l??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,l){return new si(t??this.key,n??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const l=i(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,n,i),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return si.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Kt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Kt(27949);return t+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1;si.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt(57766)}get value(){throw Kt(16141)}get color(){throw Kt(16727)}get left(){throw Kt(29726)}get right(){throw Kt(36894)}copy(t,n,i,s,l){return this}insert(t,n,i){return new si(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.comparator=t,this.data=new en(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,i)=>(t(n),!1)))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lx(this.data.getIterator())}getIteratorFrom(t){return new Lx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((i=>{n=n.add(i)})),n}isEqual(t){if(!(t instanceof Nn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Nn(this.comparator);return n.data=t,n}}class Lx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.fields=t,t.sort(ai.comparator)}static empty(){return new pr([])}unionWith(t){let n=new Nn(ai.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new pr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return dc(this.fields,t.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new fP("Invalid base64 string: "+l):l}})(t);return new oi(n)}static fromUint8Array(t){const n=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(t);return new oi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}oi.EMPTY_BYTE_STRING=new oi("");const qj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(e){if(Ae(!!e,39018),typeof e=="string"){let t=0;const n=qj.exec(e);if(Ae(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mn(e.seconds),nanos:mn(e.nanos)}}function mn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ko(e){return typeof e=="string"?oi.fromBase64String(e):oi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="server_timestamp",pP="__type__",mP="__previous_value__",gP="__local_write_time__";function Y0(e){return(e?.mapValue?.fields||{})[pP]?.stringValue===dP}function Cm(e){const t=e.mapValue.fields[mP];return Y0(t)?Cm(t):t}function bf(e){const t=Wo(e.mapValue.fields[gP].timestampValue);return new Ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(t,n,i,s,l,c,d,p,m,v){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const $p="(default)";class Ef{constructor(t,n){this.projectId=t,this.database=n||$p}static empty(){return new Ef("","")}get isDefaultDatabase(){return this.database===$p}isEqual(t){return t instanceof Ef&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="__type__",Zj="__max__",hp={mapValue:{}},_P="__vector__",Yp="value";function $o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Y0(e)?4:Kj(e)?9007199254740991:Wj(e)?10:11:Kt(28295,{value:e})}function Xs(e,t){if(e===t)return!0;const n=$o(e);if(n!==$o(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bf(e).isEqual(bf(t));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Wo(s.timestampValue),d=Wo(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(s,l){return Ko(s.bytesValue).isEqual(Ko(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(s,l){return mn(s.geoPointValue.latitude)===mn(l.geoPointValue.latitude)&&mn(s.geoPointValue.longitude)===mn(l.geoPointValue.longitude)})(e,t);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return mn(s.integerValue)===mn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=mn(s.doubleValue),d=mn(l.doubleValue);return c===d?Kp(c)===Kp(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return dc(e.arrayValue.values||[],t.arrayValue.values||[],Xs);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(Ox(c)!==Ox(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Xs(c[p],d[p])))return!1;return!0})(e,t);default:return Kt(52216,{left:e})}}function Sf(e,t){return(e.values||[]).find((n=>Xs(n,t)))!==void 0}function pc(e,t){if(e===t)return 0;const n=$o(e),i=$o(t);if(n!==i)return pe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=mn(l.integerValue||l.doubleValue),p=mn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return Nx(e.timestampValue,t.timestampValue);case 4:return Nx(bf(e),bf(t));case 5:return hv(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Ko(l),p=Ko(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const v=pe(d[m],p[m]);if(v!==0)return v}return pe(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=pe(mn(l.latitude),mn(c.latitude));return d!==0?d:pe(mn(l.longitude),mn(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return Vx(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},m=d[Yp]?.arrayValue,v=p[Yp]?.arrayValue,T=pe(m?.values?.length||0,v?.values?.length||0);return T!==0?T:Vx(m,v)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===hp.mapValue&&c===hp.mapValue)return 0;if(l===hp.mapValue)return 1;if(c===hp.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const E=hv(p[T],v[T]);if(E!==0)return E;const x=pc(d[p[T]],m[v[T]]);if(x!==0)return x}return pe(p.length,v.length)})(e.mapValue,t.mapValue);default:throw Kt(23264,{he:n})}}function Nx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return pe(e,t);const n=Wo(e),i=Wo(t),s=pe(n.seconds,i.seconds);return s!==0?s:pe(n.nanos,i.nanos)}function Vx(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const l=pc(n[s],i[s]);if(l)return l}return pe(n.length,i.length)}function mc(e){return fv(e)}function fv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const i=Wo(n);return`time(${i.seconds},${i.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Ko(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return jt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let i="[",s=!0;for(const l of n.values||[])s?s=!1:i+=",",i+=fv(l);return i+"]"})(e.arrayValue):"mapValue"in e?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${fv(n.fields[c])}`;return s+"}"})(e.mapValue):Kt(61005,{value:e})}function xp(e){switch($o(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cm(e);return t?16+xp(t):16;case 5:return 2*e.stringValue.length;case 6:return Ko(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,l)=>s+xp(l)),0)})(e.arrayValue);case 10:case 11:return(function(i){let s=0;return il(i.fields,((l,c)=>{s+=l.length+xp(c)})),s})(e.mapValue);default:throw Kt(13486,{value:e})}}function zx(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function dv(e){return!!e&&"integerValue"in e}function X0(e){return!!e&&"arrayValue"in e}function Ux(e){return!!e&&"nullValue"in e}function Bx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ap(e){return!!e&&"mapValue"in e}function Wj(e){return(e?.mapValue?.fields||{})[yP]?.stringValue===_P}function af(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return il(e.mapValue.fields,((n,i)=>t.mapValue.fields[n]=af(i))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=af(e.arrayValue.values[n]);return t}return{...e}}function Kj(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Zj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.value=t}static empty(){return new ji({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ap(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=af(n)}setAll(t){let n=ai.emptyPath(),i={},s=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,i,s),i={},s=[],n=d.popLast()}c?i[d.lastSegment()]=af(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,s)}delete(t){const n=this.field(t.popLast());Ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Xs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Ap(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){il(n,((s,l)=>t[s]=l));for(const s of i)delete t[s]}clone(){return new ji(af(this.value))}}function vP(e){const t=[];return il(e.fields,((n,i)=>{const s=new ai([n]);if(Ap(i)){const l=vP(i.mapValue).fields;if(l.length===0)t.push(s);else for(const c of l)t.push(s.child(c))}else t.push(s)})),new pr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n,i,s,l,c,d){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new yi(t,0,ee.min(),ee.min(),ee.min(),ji.empty(),0)}static newFoundDocument(t,n,i,s){return new yi(t,1,n,ee.min(),i,s,0)}static newNoDocument(t,n){return new yi(t,2,n,ee.min(),ee.min(),ji.empty(),0)}static newUnknownDocument(t,n){return new yi(t,3,n,ee.min(),ee.min(),ji.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ji.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,n){this.position=t,this.inclusive=n}}function jx(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const l=t[s],c=e.position[s];if(l.field.isKeyField()?i=jt.comparator(jt.fromName(c.referenceValue),n.key):i=pc(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Xs(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(t,n="asc"){this.field=t,this.dir=n}}function $j(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{}class Rn extends wP{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new Xj(t,n,i):n==="array-contains"?new tF(t,i):n==="in"?new eF(t,i):n==="not-in"?new nF(t,i):n==="array-contains-any"?new iF(t,i):new Rn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new Qj(t,i):new Jj(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pc(n,this.value)):n!==null&&$o(this.value)===$o(n)&&this.matchesComparison(pc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fs extends wP{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new fs(t,n)}matches(t){return TP(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TP(e){return e.op==="and"}function bP(e){return Yj(e)&&TP(e)}function Yj(e){for(const t of e.filters)if(t instanceof fs)return!1;return!0}function pv(e){if(e instanceof Rn)return e.field.canonicalString()+e.op.toString()+mc(e.value);if(bP(e))return e.filters.map((t=>pv(t))).join(",");{const t=e.filters.map((n=>pv(n))).join(",");return`${e.op}(${t})`}}function EP(e,t){return e instanceof Rn?(function(i,s){return s instanceof Rn&&i.op===s.op&&i.field.isEqual(s.field)&&Xs(i.value,s.value)})(e,t):e instanceof fs?(function(i,s){return s instanceof fs&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((l,c,d)=>l&&EP(c,s.filters[d])),!0):!1})(e,t):void Kt(19439)}function SP(e){return e instanceof Rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${mc(n.value)}`})(e):e instanceof fs?(function(n){return n.op.toString()+" {"+n.getFilters().map(SP).join(" ,")+"}"})(e):"Filter"}class Xj extends Rn{constructor(t,n,i){super(t,n,i),this.key=jt.fromName(i.referenceValue)}matches(t){const n=jt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Qj extends Rn{constructor(t,n){super(t,"in",n),this.keys=xP("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Jj extends Rn{constructor(t,n){super(t,"not-in",n),this.keys=xP("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function xP(e,t){return(t.arrayValue?.values||[]).map((n=>jt.fromName(n.referenceValue)))}class tF extends Rn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return X0(n)&&Sf(n.arrayValue,this.value)}}class eF extends Rn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Sf(this.value.arrayValue,n)}}class nF extends Rn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sf(this.value.arrayValue,n)}}class iF extends Rn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!X0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Sf(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(t,n=null,i=[],s=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Hx(e,t=null,n=[],i=[],s=null,l=null,c=null){return new rF(e,t,n,i,s,l,c)}function Q0(e){const t=ne(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((i=>pv(i))).join(","),n+="|ob:",n+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Rm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>mc(i))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>mc(i))).join(",")),t.Te=n}return t.Te}function J0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$j(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!EP(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fx(e.startAt,t.startAt)&&Fx(e.endAt,t.endAt)}function mv(e){return jt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,n=null,i=[],s=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sF(e,t,n,i,s,l,c,d){return new kc(e,t,n,i,s,l,c,d)}function tw(e){return new kc(e)}function qx(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function AP(e){return e.collectionGroup!==null}function of(e){const t=ne(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Nn(ai.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new xf(l,i))})),n.has(ai.keyField().canonicalString())||t.Ie.push(new xf(ai.keyField(),i))}return t.Ie}function qs(e){const t=ne(e);return t.Ee||(t.Ee=aF(t,of(e))),t.Ee}function aF(e,t){if(e.limitType==="F")return Hx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new xf(s.field,l)}));const n=e.endAt?new Xp(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xp(e.startAt.position,e.startAt.inclusive):null;return Hx(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function gv(e,t){const n=e.filters.concat([t]);return new kc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function yv(e,t,n){return new kc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Im(e,t){return J0(qs(e),qs(t))&&e.limitType===t.limitType}function RP(e){return`${Q0(qs(e))}|lt:${e.limitType}`}function Zu(e){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>SP(s))).join(", ")}]`),Rm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>mc(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>mc(s))).join(",")),`Target(${i})`})(qs(e))}; limitType=${e.limitType})`}function Pm(e,t){return t.isFoundDocument()&&(function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):jt.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(e,t)&&(function(i,s){for(const l of of(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0})(e,t)&&(function(i,s){return!(i.startAt&&!(function(c,d,p){const m=jx(c,d,p);return c.inclusive?m<=0:m<0})(i.startAt,of(i),s)||i.endAt&&!(function(c,d,p){const m=jx(c,d,p);return c.inclusive?m>=0:m>0})(i.endAt,of(i),s))})(e,t)}function oF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function CP(e){return(t,n)=>{let i=!1;for(const s of of(e)){const l=lF(s,t,n);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function lF(e,t,n){const i=e.field.isKeyField()?jt.comparator(t.key,n.key):(function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?pc(p,m):Kt(42886)})(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Kt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return void(s[l]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){il(this.inner,((n,i)=>{for(const[s,l]of i)t(s,l)}))}isEmpty(){return hP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=new en(jt.comparator);function Ma(){return uF}const IP=new en(jt.comparator);function Zh(...e){let t=IP;for(const n of e)t=t.insert(n.key,n);return t}function PP(e){let t=IP;return e.forEach(((n,i)=>t=t.insert(n,i.overlayedDocument))),t}function Fl(){return lf()}function kP(){return lf()}function lf(){return new nu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const cF=new en(jt.comparator),hF=new Nn(jt.comparator);function me(...e){let t=hF;for(const n of e)t=t.add(n);return t}const fF=new Nn(pe);function dF(){return fF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kp(t)?"-0":t}}function MP(e){return{integerValue:""+e}}function pF(e,t){return jj(t)?MP(t):ew(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this._=void 0}}function mF(e,t,n){return e instanceof Af?(function(s,l){const c={fields:{[pP]:{stringValue:dP},[gP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Y0(l)&&(l=Cm(l)),l&&(c.fields[mP]=l),{mapValue:c}})(n,t):e instanceof Rf?OP(e,t):e instanceof Cf?LP(e,t):(function(s,l){const c=DP(s,l),d=Gx(c)+Gx(s.Ae);return dv(c)&&dv(s.Ae)?MP(d):ew(s.serializer,d)})(e,t)}function gF(e,t,n){return e instanceof Rf?OP(e,t):e instanceof Cf?LP(e,t):n}function DP(e,t){return e instanceof Qp?(function(i){return dv(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Af extends km{}class Rf extends km{constructor(t){super(),this.elements=t}}function OP(e,t){const n=NP(t);for(const i of e.elements)n.some((s=>Xs(s,i)))||n.push(i);return{arrayValue:{values:n}}}class Cf extends km{constructor(t){super(),this.elements=t}}function LP(e,t){let n=NP(t);for(const i of e.elements)n=n.filter((s=>!Xs(s,i)));return{arrayValue:{values:n}}}class Qp extends km{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Gx(e){return mn(e.integerValue||e.doubleValue)}function NP(e){return X0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(t,n){this.field=t,this.transform=n}}function _F(e,t){return e.field.isEqual(t.field)&&(function(i,s){return i instanceof Rf&&s instanceof Rf||i instanceof Cf&&s instanceof Cf?dc(i.elements,s.elements,Xs):i instanceof Qp&&s instanceof Qp?Xs(i.Ae,s.Ae):i instanceof Af&&s instanceof Af})(e.transform,t.transform)}class vF{constructor(t,n){this.version=t,this.transformResults=n}}class cs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new cs}static exists(t){return new cs(void 0,t)}static updateTime(t){return new cs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Mm{}function VP(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new nw(e.key,cs.none()):new Hf(e.key,e.data,cs.none());{const n=e.data,i=ji.empty();let s=new Nn(ai.comparator);for(let l of t.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new rl(e.key,i,new pr(s.toArray()),cs.none())}}function wF(e,t,n){e instanceof Hf?(function(s,l,c){const d=s.value.clone(),p=Wx(s.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof rl?(function(s,l,c){if(!Rp(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Wx(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(zP(s)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function uf(e,t,n,i){return e instanceof Hf?(function(l,c,d,p){if(!Rp(l.precondition,c))return d;const m=l.value.clone(),v=Kx(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(e,t,n,i):e instanceof rl?(function(l,c,d,p){if(!Rp(l.precondition,c))return d;const m=Kx(l.fieldTransforms,p,c),v=c.data;return v.setAll(zP(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(e,t,n,i):(function(l,c,d){return Rp(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function TF(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),l=DP(i.transform,s||null);l!=null&&(n===null&&(n=ji.empty()),n.set(i.field,l))}return n||null}function Zx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&dc(i,s,((l,c)=>_F(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hf extends Mm{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class rl extends Mm{constructor(t,n,i,s,l=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zP(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Wx(e,t,n){const i=new Map;Ae(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const l=e[s],c=l.transform,d=t.data.field(l.field);i.set(l.field,gF(c,d,n[s]))}return i}function Kx(e,t,n){const i=new Map;for(const s of e){const l=s.transform,c=n.data.field(s.field);i.set(s.field,mF(l,c,t))}return i}class nw extends Mm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bF extends Mm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(t.key)&&wF(l,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=uf(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=uf(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=kP();return this.mutations.forEach((s=>{const l=t.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(s.key)?null:d;const p=VP(c,d);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(ee.min())})),i}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),me())}isEqual(t){return this.batchId===t.batchId&&dc(this.mutations,t.mutations,((n,i)=>Zx(n,i)))&&dc(this.baseMutations,t.baseMutations,((n,i)=>Zx(n,i)))}}class iw{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Ae(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=(function(){return cF})();const l=t.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new iw(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,we;function AF(e){switch(e){case Tt.OK:return Kt(64938);case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0;default:return Kt(15467,{code:e})}}function UP(e){if(e===void 0)return ka("GRPC error has no .code"),Tt.UNKNOWN;switch(e){case Sn.OK:return Tt.OK;case Sn.CANCELLED:return Tt.CANCELLED;case Sn.UNKNOWN:return Tt.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return Tt.INTERNAL;case Sn.UNAVAILABLE:return Tt.UNAVAILABLE;case Sn.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case Sn.NOT_FOUND:return Tt.NOT_FOUND;case Sn.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case Sn.ABORTED:return Tt.ABORTED;case Sn.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case Sn.DATA_LOSS:return Tt.DATA_LOSS;default:return Kt(39323,{code:e})}}(we=Sn||(Sn={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=new Uo([4294967295,4294967295],0);function $x(e){const t=RF().encode(e),n=new tP;return n.update(t),new Uint8Array(n.digest())}function Yx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Uo([n,i],0),new Uo([s,l],0)]}class rw{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Wh(`Invalid padding: ${n}`);if(i<0)throw new Wh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Wh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Wh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Uo.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(Uo.fromNumber(i)));return s.compare(CF)===1&&(s=new Uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=$x(t),[i,s]=Yx(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);if(!this.we(c))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new rw(l,s,n);return i.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=$x(t),[i,s]=Yx(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,n,i,s,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,qf.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Dm(ee.min(),s,new en(pe),Ma(),me())}}class qf{constructor(t,n,i,s,l){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new qf(i,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class BP{constructor(t,n){this.targetId=t,this.Ce=n}}class jP{constructor(t,n,i=oi.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Xx{constructor(){this.ve=0,this.Fe=Qx(),this.Me=oi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=me(),n=me(),i=me();return this.Fe.forEach(((s,l)=>{switch(l){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Kt(38017,{changeType:l})}})),new qf(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=Qx()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IF{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ma(),this.Je=fp(),this.He=fp(),this.Ye=new en(pe)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Kt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const l=s.target;if(mv(l))if(i===0){const c=new jt(l.path);this.et(n,c,yi.newNoDocument(c,ee.min()))}else Ae(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=n;let c,d;try{c=Ko(i).toUint8Array()}catch(p){if(p instanceof fP)return fc("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new rw(c,s,l)}catch(p){return fc(p instanceof Wh?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&mv(d.target)){const p=new jt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,yi.newNoDocument(p,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=me();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const s=new Dm(t,n,this.Ye,this.je,i);return this.je=Ma(),this.Je=fp(),this.He=fp(),this.Ye=new en(pe),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Xx,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Nn(pe),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Nn(pe),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Xx),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function fp(){return new en(jt.comparator)}function Qx(){return new en(jt.comparator)}const PF={asc:"ASCENDING",desc:"DESCENDING"},kF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MF={and:"AND",or:"OR"};class DF{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function _v(e,t){return e.useProto3Json||Rm(t)?t:{value:t}}function Jp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FP(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function OF(e,t){return Jp(e,t.toTimestamp())}function Gs(e){return Ae(!!e,49232),ee.fromTimestamp((function(n){const i=Wo(n);return new Ne(i.seconds,i.nanos)})(e))}function sw(e,t){return vv(e,t).canonicalString()}function vv(e,t){const n=(function(s){return new He(["projects",s.projectId,"databases",s.database])})(e).child("documents");return t===void 0?n:n.child(t)}function HP(e){const t=He.fromString(e);return Ae(KP(t),10190,{key:t.toString()}),t}function wv(e,t){return sw(e.databaseId,t.path)}function g_(e,t){const n=HP(t);if(n.get(1)!==e.databaseId.projectId)throw new Dt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Dt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jt(GP(n))}function qP(e,t){return sw(e.databaseId,t)}function LF(e){const t=HP(e);return t.length===4?He.emptyPath():GP(t)}function Tv(e){return new He(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function GP(e){return Ae(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Jx(e,t,n){return{name:wv(e,t),fields:n.value.mapValue.fields}}function NF(e,t){let n;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Kt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(Ae(v===void 0||typeof v=="string",58123),oi.fromBase64String(v||"")):(Ae(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),oi.fromUint8Array(v||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(m){const v=m.code===void 0?Tt.UNKNOWN:UP(m.code);return new Dt(v,m.message||"")})(c);n=new jP(i,s,l,d||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=g_(e,i.document.name),l=Gs(i.document.updateTime),c=i.document.createTime?Gs(i.document.createTime):ee.min(),d=new ji({mapValue:{fields:i.document.fields}}),p=yi.newFoundDocument(s,l,c,d),m=i.targetIds||[],v=i.removedTargetIds||[];n=new Cp(m,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=g_(e,i.document),l=i.readTime?Gs(i.readTime):ee.min(),c=yi.newNoDocument(s,l),d=i.removedTargetIds||[];n=new Cp([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=g_(e,i.document),l=i.removedTargetIds||[];n=new Cp([],l,s,null)}else{if(!("filter"in t))return Kt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new xF(s,l),d=i.targetId;n=new BP(d,c)}}return n}function VF(e,t){let n;if(t instanceof Hf)n={update:Jx(e,t.key,t.value)};else if(t instanceof nw)n={delete:wv(e,t.key)};else if(t instanceof rl)n={update:Jx(e,t.key,t.data),updateMask:ZF(t.fieldMask)};else{if(!(t instanceof bF))return Kt(16599,{Vt:t.type});n={verify:wv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Af)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Rf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Qp)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Kt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(n.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:OF(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Kt(27497)})(e,t.precondition)),n}function zF(e,t){return e&&e.length>0?(Ae(t!==void 0,14353),e.map((n=>(function(s,l){let c=s.updateTime?Gs(s.updateTime):Gs(l);return c.isEqual(ee.min())&&(c=Gs(l)),new vF(c,s.transformResults||[])})(n,t)))):[]}function UF(e,t){return{documents:[qP(e,t.path)]}}function BF(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=qP(e,s);const l=(function(m){if(m.length!==0)return WP(fs.create(m,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((v=>(function(E){return{field:Wu(E.field),direction:HF(E.dir)}})(v)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=_v(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:n,parent:s}}function jF(e){let t=LF(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Ae(i===1,65062);const v=n.from[0];v.allDescendants?s=v.collectionId:t=t.child(v.collectionId)}let l=[];n.where&&(l=(function(T){const E=ZP(T);return E instanceof fs&&bP(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((E=>(function(O){return new xf(Ku(O.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let E;return E=typeof T=="object"?T.value:T,Rm(E)?null:E})(n.limit));let p=null;n.startAt&&(p=(function(T){const E=!!T.before,x=T.values||[];return new Xp(x,E)})(n.startAt));let m=null;return n.endAt&&(m=(function(T){const E=!T.before,x=T.values||[];return new Xp(x,E)})(n.endAt)),sF(t,s,c,l,d,"F",p,m)}function FF(e,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ZP(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ku(n.unaryFilter.field);return Rn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ku(n.unaryFilter.field);return Rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ku(n.unaryFilter.field);return Rn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ku(n.unaryFilter.field);return Rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Kt(61313);default:return Kt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Rn.create(Ku(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Kt(58110);default:return Kt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return fs.create(n.compositeFilter.filters.map((i=>ZP(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Kt(1026)}})(n.compositeFilter.op))})(e):Kt(30097,{filter:e})}function HF(e){return PF[e]}function qF(e){return kF[e]}function GF(e){return MF[e]}function Wu(e){return{fieldPath:e.canonicalString()}}function Ku(e){return ai.fromServerFormat(e.fieldPath)}function WP(e){return e instanceof Rn?(function(n){if(n.op==="=="){if(Bx(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NAN"}};if(Ux(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bx(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NOT_NAN"}};if(Ux(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(n.field),op:qF(n.op),value:n.value}}})(e):e instanceof fs?(function(n){const i=n.getFilters().map((s=>WP(s)));return i.length===1?i[0]:{compositeFilter:{op:GF(n.op),filters:i}}})(e):Kt(54877,{filter:e})}function ZF(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function KP(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,n,i,s,l=ee.min(),c=ee.min(),d=oi.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new No(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(t){this.yt=t}}function KF(e){const t=jF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?yv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.Cn=new YF}addToCollectionParentIndex(t,n){return this.Cn.add(n),St.resolve()}getCollectionParents(t,n){return St.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return St.resolve()}deleteFieldIndex(t,n){return St.resolve()}deleteAllFieldIndexes(t){return St.resolve()}createTargetIndexes(t,n){return St.resolve()}getDocumentsMatchingTarget(t,n){return St.resolve(null)}getIndexType(t,n){return St.resolve(0)}getFieldIndexes(t,n){return St.resolve([])}getNextCollectionGroupToUpdate(t){return St.resolve(null)}getMinOffset(t,n){return St.resolve(Zo.min())}getMinOffsetFromCollectionGroup(t,n){return St.resolve(Zo.min())}updateCollectionGroup(t,n,i){return St.resolve()}updateIndexEntries(t,n){return St.resolve()}}class YF{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Nn(He.comparator),l=!s.has(i);return this.index[n]=s.add(i),l}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Nn(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$P=41943040;class Bi{static withCacheSize(t){return new Bi(t,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi.DEFAULT_COLLECTION_PERCENTILE=10,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bi.DEFAULT=new Bi($P,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bi.DISABLED=new Bi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new gc(0)}static cr(){return new gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="LruGarbageCollector",XF=1048576;function nA([e,t],[n,i]){const s=pe(e,n);return s===0?pe(t,i):s}class QF{constructor(t){this.Ir=t,this.buffer=new Nn(nA),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();nA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JF{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ot(eA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pc(n)?Ot(eA,"Ignoring IndexedDB error during garbage collection: ",n):await Ic(n)}await this.Vr(3e5)}))}}class tH{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(t,n){if(n===0)return St.resolve(Am.ce);const i=new QF(n);return this.mr.forEachTarget(t,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),St.resolve(tA)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tA):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,l,c,d,p,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,c=Date.now(),this.nthSequenceNumber(t,s)))).next((T=>(i=T,d=Date.now(),this.removeTargets(t,i,n)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(t,i)))).next((T=>(m=Date.now(),Gu()<=de.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),St.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:T}))))}}function eH(e,t){return new tH(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(){this.changes=new nu((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?St.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(i!==null&&uf(i.mutation,s,pr.empty(),Ne.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.getLocalViewOfDocuments(t,i,me()).next((()=>i))))}getLocalViewOfDocuments(t,n,i=me()){const s=Fl();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,i).next((l=>{let c=Zh();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const i=Fl();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,me())))}populateOverlays(t,n,i){const s=[];return i.forEach((l=>{n.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(t,s).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,i,s){let l=Ma();const c=lf(),d=(function(){return lf()})();return n.forEach(((p,m)=>{const v=i.get(m.key);s.has(m.key)&&(v===void 0||v.mutation instanceof rl)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),uf(v.mutation,m,v.mutation.getFieldMask(),Ne.now())):c.set(m.key,pr.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((m,v)=>c.set(m,v))),n.forEach(((m,v)=>d.set(m,new iH(v,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(t,n){const i=lf();let s=new en(((c,d)=>c-d)),l=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let v=i.get(p)||pr.empty();v=d.applyToLocalView(m,v),i.set(p,v);const T=(s.get(d.batchId)||me()).add(p);s=s.insert(d.batchId,T)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,v=p.value,T=kP();v.forEach((E=>{if(!l.has(E)){const x=VP(n.get(E),i.get(E));x!==null&&T.set(E,x),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,T))}return St.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,n,i,s){return(function(c){return jt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):AP(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-l.size):St.resolve(Fl());let d=Tf,p=l;return c.next((m=>St.forEach(m,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?St.resolve():this.remoteDocumentCache.getEntry(t,v).next((E=>{p=p.insert(v,E)}))))).next((()=>this.populateOverlays(t,m,l))).next((()=>this.computeViews(t,p,m,me()))).next((v=>({batchId:d,changes:PP(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new jt(n)).next((i=>{let s=Zh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const l=n.collectionGroup;let c=Zh();return this.indexManager.getCollectionParents(t,l).next((d=>St.forEach(d,(p=>{const m=(function(T,E){return new kc(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,i,s).next((v=>{v.forEach(((T,E)=>{c=c.insert(T,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,l,s)))).next((c=>{l.forEach(((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,yi.newInvalidDocument(v)))}));let d=Zh();return c.forEach(((p,m)=>{const v=l.get(p);v!==void 0&&uf(v.mutation,m,pr.empty(),Ne.now()),Pm(n,m)&&(d=d.insert(p,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return St.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Gs(s.createTime)}})(n)),St.resolve()}getNamedQuery(t,n){return St.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:KF(s.bundledQuery),readTime:Gs(s.readTime)}})(n)),St.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(){this.overlays=new en(jt.comparator),this.qr=new Map}getOverlay(t,n){return St.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Fl();return St.forEach(n,(s=>this.getOverlay(t,s).next((l=>{l!==null&&i.set(s,l)})))).next((()=>i))}saveOverlays(t,n,i){return i.forEach(((s,l)=>{this.St(t,n,l)})),St.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),St.resolve()}getOverlaysForCollection(t,n,i){const s=Fl(),l=n.length+1,c=new jt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&s.set(p.getKey(),p)}return St.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let l=new en(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=Fl(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Fl(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=s)););return St.resolve(d)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new SF(n,i));let l=this.qr.get(n);l===void 0&&(l=me(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(){this.sessionToken=oi.EMPTY_BYTE_STRING}getSessionToken(t){return St.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,St.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.Qr=new Nn(Kn.$r),this.Ur=new Nn(Kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Kn(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach((i=>this.addReference(i,n)))}removeReference(t,n){this.Gr(new Kn(t,n))}zr(t,n){t.forEach((i=>this.removeReference(i,n)))}jr(t){const n=new jt(new He([])),i=new Kn(n,t),s=new Kn(n,t+1),l=[];return this.Ur.forEachInRange([i,s],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new jt(new He([])),i=new Kn(n,t),s=new Kn(n,t+1);let l=me();return this.Ur.forEachInRange([i,s],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Kn(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Kn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return jt.comparator(t.key,n.key)||pe(t.Yr,n.Yr)}static Kr(t,n){return pe(t.Yr,n.Yr)||jt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nn(Kn.$r)}checkEmpty(t){return St.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new EF(l,n,i,s);this.mutationQueue.push(c);for(const d of s)this.Zr=this.Zr.add(new Kn(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return St.resolve(c)}lookupMutationBatch(t,n){return St.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),l=s<0?0:s;return St.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return St.resolve(this.mutationQueue.length===0?$0:this.tr-1)}getAllMutationBatches(t){return St.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Kn(n,0),s=new Kn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,s],(c=>{const d=this.Xr(c.Yr);l.push(d)})),St.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Nn(pe);return n.forEach((s=>{const l=new Kn(s,0),c=new Kn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),St.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let l=i;jt.isDocumentKey(l)||(l=l.child(""));const c=new Kn(new jt(l),0);let d=new Nn(pe);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(d=d.add(p.Yr)),!0)}),c),St.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return St.forEach(n.mutations,(s=>{const l=new Kn(s.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,n){const i=new Kn(n,0),s=this.Zr.firstAfterOrEqual(i);return St.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,St.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(t){this.ri=t,this.docs=(function(){return new en(jt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),l=s?s.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return St.resolve(i?i.document.mutableCopy():yi.newInvalidDocument(n))}getEntries(t,n){let i=Ma();return n.forEach((s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():yi.newInvalidDocument(s))})),St.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let l=Ma();const c=n.path,d=new jt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Vj(Nj(v),i)<=0||(s.has(v.key)||Pm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return St.resolve(l)}getAllFromCollectionGroup(t,n,i,s){Kt(9500)}ii(t,n){return St.forEach(this.docs,(i=>n(i)))}newChangeBuffer(t){return new cH(this)}getSize(t){return St.resolve(this.size)}}class cH extends nH{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)})),St.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(t){this.persistence=t,this.si=new nu((n=>Q0(n)),J0),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.oi=0,this._i=new aw,this.targetCount=0,this.ai=gc.ur()}forEachTarget(t,n){return this.si.forEach(((i,s)=>n(s))),St.resolve()}getLastRemoteSnapshotVersion(t){return St.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return St.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),St.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),St.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new gc(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,St.resolve()}updateTargetData(t,n){return this.Pr(n),St.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,St.resolve()}removeTargets(t,n,i){let s=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),s++)})),St.waitFor(l).next((()=>s))}getTargetCount(t){return St.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return St.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),St.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach((c=>{l.push(s.markPotentiallyOrphaned(t,c))})),St.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),St.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return St.resolve(i)}containsKey(t,n){return St.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t,n){this.ui={},this.overlays={},this.ci=new Am(0),this.li=!1,this.li=!0,this.hi=new oH,this.referenceDelegate=t(this),this.Pi=new hH(this),this.indexManager=new $F,this.remoteDocumentCache=(function(s){return new uH(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new WF(n),this.Ii=new sH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new aH,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new lH(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){Ot("MemoryPersistence","Starting transaction:",t);const s=new fH(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((l=>this.referenceDelegate.di(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ai(t,n){return St.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,n))))}}class fH extends Uj{constructor(t){super(),this.currentSequenceNumber=t}}class ow{constructor(t){this.persistence=t,this.Ri=new aw,this.Vi=null}static mi(t){return new ow(t)}get fi(){if(this.Vi)return this.Vi;throw Kt(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),St.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),St.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),St.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return St.forEach(this.fi,(i=>{const s=jt.fromPath(i);return this.gi(t,s).next((l=>{l||n.removeEntry(s,ee.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return St.or([()=>St.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class tm{constructor(t,n){this.persistence=t,this.pi=new nu((i=>Fj(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=eH(this,n)}static mi(t,n){return new tm(t,n)}Ei(){}di(t){return St.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>n.next((s=>i+s))))}wr(t){let n=0;return this.pr(t,(i=>{n++})).next((()=>n))}pr(t,n){return St.forEach(this.pi,((i,s)=>this.br(t,i,s).next((l=>l?St.resolve():n(s)))))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ii(t,(c=>this.br(t,c,n).next((d=>{d||(i++,l.removeEntry(c,ee.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),St.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),St.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),St.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),St.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xp(t.data.value)),n}br(t,n,i){return St.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return St.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=me(),s=me();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new lw(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return r5()?8:Bj(vi())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,s,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new dH;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,i,s){return i.documentReadCount<this.fs?(Gu()<=de.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",Zu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),St.resolve()):(Gu()<=de.DEBUG&&Ot("QueryEngine","Query:",Zu(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Gu()<=de.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",Zu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qs(n))):St.resolve())}ys(t,n){if(qx(n))return St.resolve(null);let i=qs(n);return this.indexManager.getIndexType(t,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=yv(n,null,"F"),i=qs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const c=me(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,i).next((p=>{const m=this.Ds(n,d);return this.Cs(n,m,c,p.readTime)?this.ys(t,yv(n,null,"F")):this.vs(t,m,n,p)}))))})))))}ws(t,n,i,s){return qx(n)||s.isEqual(ee.min())?St.resolve(null):this.ps.getDocuments(t,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,s)?St.resolve(null):(Gu()<=de.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zu(n)),this.vs(t,c,n,Lj(s,Tf)).next((d=>d)))}))}Ds(t,n){let i=new Nn(CP(t));return n.forEach(((s,l)=>{Pm(t,l)&&(i=i.add(l))})),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(t,n,i){return Gu()<=de.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",Zu(n)),this.ps.getDocumentsMatchingQuery(t,n,Zo.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="LocalStore",mH=3e8;class gH{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new en(pe),this.xs=new nu((l=>Q0(l)),J0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function yH(e,t,n,i){return new gH(e,t,n,i)}async function XP(e,t){const n=ne(e);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((l=>(s=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=me();for(const m of s){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function _H(e,t){const n=ne(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,v){const T=m.batch,E=T.keys();let x=St.resolve();return E.forEach((O=>{x=x.next((()=>v.getEntry(p,O))).next((U=>{const H=m.docVersions.get(O);Ae(H!==null,48541),U.version.compareTo(H)<0&&(T.applyToRemoteDocument(U,m),U.isValidDocument()&&(U.setReadTime(m.commitVersion),v.addEntry(U)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(n,i,t,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=me();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function QP(e){const t=ne(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function vH(e,t){const n=ne(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const d=[];t.targetChanges.forEach(((v,T)=>{const E=s.get(T);if(!E)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,T))));let x=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?x=x.withResumeToken(oi.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),s=s.insert(T,x),(function(U,H,F){return U.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=mH?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,x,v)&&d.push(n.Pi.updateTargetData(l,x))}));let p=Ma(),m=me();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(wH(l,c,t.documentUpdates).next((v=>{p=v.ks,m=v.qs}))),!i.isEqual(ee.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return St.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(n.Ms=s,l)))}function wH(e,t,n){let i=me(),s=me();return n.forEach((l=>i=i.add(l))),t.getEntries(e,i).next((l=>{let c=Ma();return n.forEach(((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(ee.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Ot(uw,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:s}}))}function TH(e,t){const n=ne(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=$0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function bH(e,t){const n=ne(e);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,t).next((l=>l?(s=l,St.resolve(s)):n.Pi.allocateTargetId(i).next((c=>(s=new No(t,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i}))}async function bv(e,t,n){const i=ne(e),s=i.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Pc(c))throw c;Ot(uw,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function iA(e,t,n){const i=ne(e);let s=ee.min(),l=me();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,v){const T=ne(p),E=T.xs.get(v);return E!==void 0?St.resolve(T.Ms.get(E)):T.Pi.getTargetData(m,v)})(i,c,qs(t)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,n?s:ee.min(),n?l:me()))).next((d=>(EH(i,oF(t),d),{documents:d,Qs:l})))))}function EH(e,t,n){let i=e.Os.get(t)||ee.min();n.forEach(((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),e.Os.set(t,i)}class rA{constructor(){this.activeTargetIds=dF()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SH{constructor(){this.Mo=new rA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new rA,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="ConnectivityMonitor";class aA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ot(sA,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ot(sA,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp=null;function Ev(){return dp===null?dp=(function(){return 268435456+Math.round(2147483648*Math.random())})():dp++,"0x"+dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="RestConnection",AH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RH{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===$p?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,l){const c=Ev(),d=this.zo(t,n.toUriEncodedString());Ot(y_,`Sending RPC '${t}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,l);const{host:m}=new URL(d),v=nl(m);return this.Jo(t,d,p,i,v).then((T=>(Ot(y_,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw fc(y_,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",i),T}))}Ho(t,n,i,s,l,c){return this.Go(t,n,i,s,l)}jo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,l)=>t[l]=s)),i&&i.headers.forEach(((s,l)=>t[l]=s))}zo(t,n){const i=AH[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="WebChannelConnection";class IH extends RH{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,l){const c=Ev();return new Promise(((d,p)=>{const m=new eP;m.setWithCredentials(!0),m.listenOnce(nP.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Sp.NO_ERROR:const T=m.getResponseJson();Ot(mi,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case Sp.TIMEOUT:Ot(mi,`RPC '${t}' ${c} timed out`),p(new Dt(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:const E=m.getStatus();if(Ot(mi,`RPC '${t}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const O=x?.error;if(O&&O.status&&O.message){const U=(function(F){const K=F.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(K)>=0?K:Tt.UNKNOWN})(O.status);p(new Dt(U,O.message))}else p(new Dt(Tt.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Dt(Tt.UNAVAILABLE,"Connection failed."));break;default:Kt(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ot(mi,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(s);Ot(mi,`RPC '${t}' ${c} sending request:`,s),m.send(n,"POST",v,i,15)}))}T_(t,n,i){const s=Ev(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=sP(),d=rP(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=l.join("");Ot(mi,`Creating RPC '${t}' stream ${s}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let E=!1,x=!1;const O=new CH({Yo:H=>{x?Ot(mi,`Not sending because RPC '${t}' stream ${s} is closed:`,H):(E||(Ot(mi,`Opening RPC '${t}' stream ${s} transport.`),T.open(),E=!0),Ot(mi,`RPC '${t}' stream ${s} sending:`,H),T.send(H))},Zo:()=>T.close()}),U=(H,F,K)=>{H.listen(F,(Z=>{try{K(Z)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return U(T,Gh.EventType.OPEN,(()=>{x||(Ot(mi,`RPC '${t}' stream ${s} transport opened.`),O.o_())})),U(T,Gh.EventType.CLOSE,(()=>{x||(x=!0,Ot(mi,`RPC '${t}' stream ${s} transport closed`),O.a_(),this.E_(T))})),U(T,Gh.EventType.ERROR,(H=>{x||(x=!0,fc(mi,`RPC '${t}' stream ${s} transport errored. Name:`,H.name,"Message:",H.message),O.a_(new Dt(Tt.UNAVAILABLE,"The operation could not be completed")))})),U(T,Gh.EventType.MESSAGE,(H=>{if(!x){const F=H.data[0];Ae(!!F,16349);const K=F,Z=K?.error||K[0]?.error;if(Z){Ot(mi,`RPC '${t}' stream ${s} received error:`,Z);const ot=Z.status;let J=(function(P){const D=Sn[P];if(D!==void 0)return UP(D)})(ot),$=Z.message;J===void 0&&(J=Tt.INTERNAL,$="Unknown error status: "+ot+" with message "+Z.message),x=!0,O.a_(new Dt(J,$)),T.close()}else Ot(mi,`RPC '${t}' stream ${s} received:`,F),O.u_(F)}})),U(d,iP.STAT_EVENT,(H=>{H.stat===cv.PROXY?Ot(mi,`RPC '${t}' stream ${s} detected buffering proxy`):H.stat===cv.NOPROXY&&Ot(mi,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function __(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(e){return new DF(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(t,n,i=1e3,s=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Ot("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="PersistentStream";class tk{constructor(t,n,i,s,l,c,d,p){this.Mi=t,this.S_=i,this.b_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JP(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Tt.RESOURCE_EXHAUSTED?(ka(n.toString()),ka("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{t((()=>{const s=new Dt(Tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Ot(oA,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Ot(oA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PH extends tk{constructor(t,n,i,s,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=NF(this.serializer,t),i=(function(l){if(!("targetChange"in l))return ee.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ee.min():c.readTime?Gs(c.readTime):ee.min()})(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=Tv(this.serializer),n.addTarget=(function(l,c){let d;const p=c.target;if(d=mv(p)?{documents:UF(l,p)}:{query:BF(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=FP(l,c.resumeToken);const m=_v(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(ee.min())>0){d.readTime=Jp(l,c.snapshotVersion.toTimestamp());const m=_v(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,t);const i=FF(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=Tv(this.serializer),n.removeTarget=t,this.q_(n)}}class kH extends tk{constructor(t,n,i,s,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ae(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ae(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ae(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=zF(t.writeResults,t.commitTime),i=Gs(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=Tv(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((i=>VF(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{}class DH extends MH{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Dt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,vv(n,i),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Dt(Tt.UNKNOWN,l.toString())}))}Ho(t,n,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,vv(n,i),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Dt(Tt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OH{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ka(n),this.aa=!1):Ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="RemoteStore";class LH{constructor(t,n,i,s,l){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{iu(this)&&(Ot(Xl,"Restarting streams for network reachability change."),await(async function(p){const m=ne(p);m.Ea.add(4),await Gf(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Lm(m)})(this))}))})),this.Ra=new OH(i,s)}}async function Lm(e){if(iu(e))for(const t of e.da)await t(!0)}async function Gf(e){for(const t of e.da)await t(!1)}function ek(e,t){const n=ne(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),dw(n)?fw(n):Mc(n).O_()&&hw(n,t))}function cw(e,t){const n=ne(e),i=Mc(n);n.Ia.delete(t),i.O_()&&nk(n,t),n.Ia.size===0&&(i.O_()?i.L_():iu(n)&&n.Ra.set("Unknown"))}function hw(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ee.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Mc(e).Y_(t)}function nk(e,t){e.Va.Ue(t),Mc(e).Z_(t)}function fw(e){e.Va=new IF({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Mc(e).start(),e.Ra.ua()}function dw(e){return iu(e)&&!Mc(e).x_()&&e.Ia.size>0}function iu(e){return ne(e).Ea.size===0}function ik(e){e.Va=void 0}async function NH(e){e.Ra.set("Online")}async function VH(e){e.Ia.forEach(((t,n)=>{hw(e,t)}))}async function zH(e,t){ik(e),dw(e)?(e.Ra.ha(t),fw(e)):e.Ra.set("Unknown")}async function UH(e,t,n){if(e.Ra.set("Online"),t instanceof jP&&t.state===2&&t.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.Va.removeTarget(d))})(e,t)}catch(i){Ot(Xl,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await em(e,i)}else if(t instanceof Cp?e.Va.Ze(t):t instanceof BP?e.Va.st(t):e.Va.tt(t),!n.isEqual(ee.min()))try{const i=await QP(e.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(oi.EMPTY_BYTE_STRING,v.snapshotVersion)),nk(l,p);const T=new No(v.target,p,m,v.sequenceNumber);hw(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(i){Ot(Xl,"Failed to raise snapshot:",i),await em(e,i)}}async function em(e,t,n){if(!Pc(t))throw t;e.Ea.add(1),await Gf(e),e.Ra.set("Offline"),n||(n=()=>QP(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ot(Xl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Lm(e)}))}function rk(e,t){return t().catch((n=>em(e,n,t)))}async function Nm(e){const t=ne(e),n=Yo(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$0;for(;BH(t);)try{const s=await TH(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,jH(t,s)}catch(s){await em(t,s)}sk(t)&&ak(t)}function BH(e){return iu(e)&&e.Ta.length<10}function jH(e,t){e.Ta.push(t);const n=Yo(e);n.O_()&&n.X_&&n.ea(t.mutations)}function sk(e){return iu(e)&&!Yo(e).x_()&&e.Ta.length>0}function ak(e){Yo(e).start()}async function FH(e){Yo(e).ra()}async function HH(e){const t=Yo(e);for(const n of e.Ta)t.ea(n.mutations)}async function qH(e,t,n){const i=e.Ta.shift(),s=iw.from(i,t,n);await rk(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await Nm(e)}async function GH(e,t){t&&Yo(e).X_&&await(async function(i,s){if((function(c){return AF(c)&&c!==Tt.ABORTED})(s.code)){const l=i.Ta.shift();Yo(i).B_(),await rk(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s))),await Nm(i)}})(e,t),sk(e)&&ak(e)}async function lA(e,t){const n=ne(e);n.asyncQueue.verifyOperationInProgress(),Ot(Xl,"RemoteStore received new credentials");const i=iu(n);n.Ea.add(3),await Gf(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Lm(n)}async function ZH(e,t){const n=ne(e);t?(n.Ea.delete(2),await Lm(n)):t||(n.Ea.add(2),await Gf(n),n.Ra.set("Unknown"))}function Mc(e){return e.ma||(e.ma=(function(n,i,s){const l=ne(n);return l.sa(),new PH(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(e.datastore,e.asyncQueue,{Xo:NH.bind(null,e),t_:VH.bind(null,e),r_:zH.bind(null,e),H_:UH.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),dw(e)?fw(e):e.Ra.set("Unknown")):(await e.ma.stop(),ik(e))}))),e.ma}function Yo(e){return e.fa||(e.fa=(function(n,i,s){const l=ne(n);return l.sa(),new kH(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:FH.bind(null,e),r_:GH.bind(null,e),ta:HH.bind(null,e),na:qH.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Nm(e)):(await e.fa.stop(),e.Ta.length>0&&(Ot(Xl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,n,i,s,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Gl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,l){const c=Date.now()+i,d=new pw(t,n,c,s,l);return d.start(i),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Dt(Tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mw(e,t){if(ka("AsyncQueue",`${t}: ${e}`),Pc(e))return new Dt(Tt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{static emptySet(t){return new sc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||jt.comparator(n.key,i.key):(n,i)=>jt.comparator(n.key,i.key),this.keyedMap=Zh(),this.sortedSet=new en(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,i)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof sc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new sc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.ga=new en(jt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Kt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,i)=>{t.push(i)})),t}}class yc{constructor(t,n,i,s,l,c,d,p,m){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,n,i,s,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new yc(t,n,sc.emptySet(n),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Im(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KH{constructor(){this.queries=cA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=ne(n),l=s.queries;s.queries=cA(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(i)}))})(this,new Dt(Tt.ABORTED,"Firestore shutting down"))}}function cA(){return new nu((e=>RP(e)),Im)}async function $H(e,t){const n=ne(e);let i=3;const s=t.query;let l=n.queries.get(s);l?!l.ba()&&t.Da()&&(i=2):(l=new WH,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(s,!0);break;case 1:l.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=mw(c,`Initialization of query '${Zu(t.query)}' failed`);return void t.onError(d)}n.queries.set(s,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&gw(n)}async function YH(e,t){const n=ne(e),i=t.query;let s=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?s=t.Da()?0:1:!l.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function XH(e,t){const n=ne(e);let i=!1;for(const s of t){const l=s.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(s)&&(i=!0);c.wa=s}}i&&gw(n)}function QH(e,t,n){const i=ne(e),s=i.queries.get(t);if(s)for(const l of s.Sa)l.onError(n);i.queries.delete(t)}function gw(e){e.Ca.forEach((t=>{t.next()}))}var Sv,hA;(hA=Sv||(Sv={})).Ma="default",hA.Cache="cache";class JH{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new yc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=yc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t){this.key=t}}class lk{constructor(t){this.key=t}}class t8{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=me(),this.mutatedKeys=me(),this.eu=CP(t),this.tu=new sc(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new uA,s=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((v,T)=>{const E=s.get(v),x=Pm(this.query,T)?T:null,O=!!E&&this.mutatedKeys.has(E.key),U=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let H=!1;E&&x?E.data.isEqual(x.data)?O!==U&&(i.track({type:3,doc:x}),H=!0):this.su(E,x)||(i.track({type:2,doc:x}),H=!0,(p&&this.eu(x,p)>0||m&&this.eu(x,m)<0)&&(d=!0)):!E&&x?(i.track({type:0,doc:x}),H=!0):E&&!x&&(i.track({type:1,doc:E}),H=!0,(p||m)&&(d=!0)),H&&(x?(c=c.add(x),l=U?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,T)=>(function(x,O){const U=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt(20277,{Rt:H})}};return U(x)-U(O)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(i),s=s??!1;const d=n&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new yc(this.query,t.tu,l,c,t.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=me(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return t.forEach((i=>{this.Xa.has(i)||n.push(new lk(i))})),this.Xa.forEach((i=>{t.has(i)||n.push(new ok(i))})),n}cu(t){this.Ya=t.Qs,this.Xa=me();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yw="SyncEngine";class e8{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class n8{constructor(t){this.key=t,this.hu=!1}}class i8{constructor(t,n,i,s,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new nu((d=>RP(d)),Im),this.Iu=new Map,this.Eu=new Set,this.du=new en(jt.comparator),this.Au=new Map,this.Ru=new aw,this.Vu={},this.mu=new Map,this.fu=gc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function r8(e,t,n=!0){const i=pk(e);let s;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await uk(i,t,n,!0),s}async function s8(e,t){const n=pk(e);await uk(n,t,!0,!1)}async function uk(e,t,n,i){const s=await bH(e.localStore,qs(t)),l=s.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await a8(e,t,l,c==="current",s.resumeToken)),e.isPrimaryClient&&n&&ek(e.remoteStore,s),d}async function a8(e,t,n,i,s){e.pu=(T,E,x)=>(async function(U,H,F,K){let Z=H.view.ru(F);Z.Cs&&(Z=await iA(U.localStore,H.query,!1).then((({documents:q})=>H.view.ru(q,Z))));const ot=K&&K.targetChanges.get(H.targetId),J=K&&K.targetMismatches.get(H.targetId)!=null,$=H.view.applyChanges(Z,U.isPrimaryClient,ot,J);return dA(U,H.targetId,$.au),$.snapshot})(e,T,E,x);const l=await iA(e.localStore,t,!0),c=new t8(t,l.Qs),d=c.ru(l.documents),p=qf.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),m=c.applyChanges(d,e.isPrimaryClient,p);dA(e,n,m.au);const v=new e8(t,n,c);return e.Tu.set(t,v),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),m.snapshot}async function o8(e,t,n){const i=ne(e),s=i.Tu.get(t),l=i.Iu.get(s.targetId);if(l.length>1)return i.Iu.set(s.targetId,l.filter((c=>!Im(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await bv(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&cw(i.remoteStore,s.targetId),xv(i,s.targetId)})).catch(Ic)):(xv(i,s.targetId),await bv(i.localStore,s.targetId,!0))}async function l8(e,t){const n=ne(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),cw(n.remoteStore,i.targetId))}async function u8(e,t,n){const i=g8(e);try{const s=await(function(c,d){const p=ne(c),m=Ne.now(),v=d.reduce(((x,O)=>x.add(O.key)),me());let T,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let O=Ma(),U=me();return p.Ns.getEntries(x,v).next((H=>{O=H,O.forEach(((F,K)=>{K.isValidDocument()||(U=U.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,O))).next((H=>{T=H;const F=[];for(const K of d){const Z=TF(K,T.get(K.key).overlayedDocument);Z!=null&&F.push(new rl(K.key,Z,vP(Z.value.mapValue),cs.exists(!0)))}return p.mutationQueue.addMutationBatch(x,m,F,d)})).next((H=>{E=H;const F=H.applyToLocalDocumentSet(T,U);return p.documentOverlayCache.saveOverlays(x,H.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:PP(T)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),(function(c,d,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new en(pe)),m=m.insert(d,p),c.Vu[c.currentUser.toKey()]=m})(i,s.batchId,n),await Zf(i,s.changes),await Nm(i.remoteStore)}catch(s){const l=mw(s,"Failed to persist write");n.reject(l)}}async function ck(e,t){const n=ne(e);try{const i=await vH(n.localStore,t);t.targetChanges.forEach(((s,l)=>{const c=n.Au.get(l);c&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Ae(c.hu,14607):s.removedDocuments.size>0&&(Ae(c.hu,42227),c.hu=!1))})),await Zf(n,i,t)}catch(i){await Ic(i)}}function fA(e,t,n){const i=ne(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const p=ne(c);p.onlineState=d;let m=!1;p.queries.forEach(((v,T)=>{for(const E of T.Sa)E.va(d)&&(m=!0)})),m&&gw(p)})(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function c8(e,t,n){const i=ne(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),l=s&&s.key;if(l){let c=new en(jt.comparator);c=c.insert(l,yi.newNoDocument(l,ee.min()));const d=me().add(l),p=new Dm(ee.min(),new Map,new en(pe),c,d);await ck(i,p),i.du=i.du.remove(l),i.Au.delete(t),_w(i)}else await bv(i.localStore,t,!1).then((()=>xv(i,t,n))).catch(Ic)}async function h8(e,t){const n=ne(e),i=t.batch.batchId;try{const s=await _H(n.localStore,t);fk(n,i,null),hk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Zf(n,s)}catch(s){await Ic(s)}}async function f8(e,t,n){const i=ne(e);try{const s=await(function(c,d){const p=ne(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return p.mutationQueue.lookupMutationBatch(m,d).next((T=>(Ae(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(m,T)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>p.localDocuments.getDocuments(m,v)))}))})(i.localStore,t);fk(i,t,n),hk(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Zf(i,s)}catch(s){await Ic(s)}}function hk(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function fk(e,t,n){const i=ne(e);let s=i.Vu[i.currentUser.toKey()];if(s){const l=s.get(t);l&&(n?l.reject(n):l.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function xv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((i=>{e.Ru.containsKey(i)||dk(e,i)}))}function dk(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(cw(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),_w(e))}function dA(e,t,n){for(const i of n)i instanceof ok?(e.Ru.addReference(i.key,t),d8(e,i)):i instanceof lk?(Ot(yw,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||dk(e,i.key)):Kt(19791,{wu:i})}function d8(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(Ot(yw,"New document in limbo: "+n),e.Eu.add(i),_w(e))}function _w(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new jt(He.fromString(t)),i=e.fu.next();e.Au.set(i,new n8(n)),e.du=e.du.insert(n,i),ek(e.remoteStore,new No(qs(tw(n.path)),i,"TargetPurposeLimboResolution",Am.ce))}}async function Zf(e,t,n){const i=ne(e),s=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,t,n).then((m=>{if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){s.push(m);const v=lw.As(p.targetId,m);l.push(v)}})))})),await Promise.all(c),i.Pu.H_(s),await(async function(p,m){const v=ne(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>St.forEach(m,(E=>St.forEach(E.Es,(x=>v.persistence.referenceDelegate.addReference(T,E.targetId,x))).next((()=>St.forEach(E.ds,(x=>v.persistence.referenceDelegate.removeReference(T,E.targetId,x)))))))))}catch(T){if(!Pc(T))throw T;Ot(uw,"Failed to update sequence numbers: "+T)}for(const T of m){const E=T.targetId;if(!T.fromCache){const x=v.Ms.get(E),O=x.snapshotVersion,U=x.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(E,U)}}})(i.localStore,l))}async function p8(e,t){const n=ne(e);if(!n.currentUser.isEqual(t)){Ot(yw,"User change. New user:",t.toKey());const i=await XP(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new Dt(Tt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Zf(n,i.Ls)}}function m8(e,t){const n=ne(e),i=n.Au.get(t);if(i&&i.hu)return me().add(i.key);{let s=me();const l=n.Iu.get(t);if(!l)return s;for(const c of l){const d=n.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function pk(e){const t=ne(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ck.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=m8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=c8.bind(null,t),t.Pu.H_=XH.bind(null,t.eventManager),t.Pu.yu=QH.bind(null,t.eventManager),t}function g8(e){const t=ne(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=h8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=f8.bind(null,t),t}class nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Om(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return yH(this.persistence,new pH,t.initialUser,this.serializer)}Cu(t){return new YP(ow.mi,this.serializer)}Du(t){return new SH}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nm.provider={build:()=>new nm};class y8 extends nm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ae(this.persistence.referenceDelegate instanceof tm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new JF(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Bi.withCacheSize(this.cacheSizeBytes):Bi.DEFAULT;return new YP((i=>tm.mi(i,n)),this.serializer)}}class Av{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=p8.bind(null,this.syncEngine),await ZH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KH})()}createDatastore(t){const n=Om(t.databaseInfo.databaseId),i=(function(l){return new IH(l)})(t.databaseInfo);return(function(l,c,d,p){return new DH(l,c,d,p)})(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return(function(i,s,l,c,d){return new LH(i,s,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>fA(this.syncEngine,n,0)),(function(){return aA.v()?new aA:new xH})())}createSyncEngine(t,n){return(function(s,l,c,d,p,m,v){const T=new i8(s,l,c,d,p,m);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=ne(n);Ot(Xl,"RemoteStore shutting down."),i.Ea.add(5),await Gf(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Av.provider={build:()=>new Av};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ka("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="FirestoreClient";class v8{constructor(t,n,i,s,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=gi.UNAUTHENTICATED,this.clientId=K0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Ot(Xo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ot(Xo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=mw(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function v_(e,t){e.asyncQueue.verifyOperationInProgress(),Ot(Xo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async s=>{i.isEqual(s)||(await XP(t.localStore,s),i=s)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function pA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await w8(e);Ot(Xo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((i=>lA(t.remoteStore,i))),e.setAppCheckTokenChangeListener(((i,s)=>lA(t.remoteStore,s))),e._onlineComponents=t}async function w8(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ot(Xo,"Using user provided OfflineComponentProvider");try{await v_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===Tt.FAILED_PRECONDITION||s.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;fc("Error using user provided cache. Falling back to memory cache: "+n),await v_(e,new nm)}}else Ot(Xo,"Using default OfflineComponentProvider"),await v_(e,new y8(void 0));return e._offlineComponents}async function mk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ot(Xo,"Using user provided OnlineComponentProvider"),await pA(e,e._uninitializedComponentsProvider._online)):(Ot(Xo,"Using default OnlineComponentProvider"),await pA(e,new Av))),e._onlineComponents}function T8(e){return mk(e).then((t=>t.syncEngine))}async function mA(e){const t=await mk(e),n=t.eventManager;return n.onListen=r8.bind(null,t.syncEngine),n.onUnlisten=o8.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=s8.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=l8.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="firestore.googleapis.com",yA=!0;class _A{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Dt(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yk,this.ssl=yA}else this.host=t.host,this.ssl=t.ssl??yA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$P;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XF)throw new Dt(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Oj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gk(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Dt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Dt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Dt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vm{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _A({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Dt(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Dt(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _A(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Sj;switch(i.type){case"firstParty":return new Cj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Dt(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=gA.get(n);i&&(Ot("ComponentProvider","Removing Datastore"),gA.delete(n),i.terminate())})(this),Promise.resolve()}}function b8(e,t,n,i={}){e=Bo(e,Vm);const s=nl(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;s&&(F0(`https://${d}`),H0("Firestore",!0)),l.host!==yk&&l.host!==d&&fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:s,emulatorOptions:i};if(!Kl(p,c)&&(e._setSettings(p),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=gi.MOCK_USER;else{m=KI(i.mockUserToken,e._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Dt(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gi(T)}e._authCredentials=new xj(new oP(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ru(this.firestore,t,this._query)}}class In{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new In(this.firestore,t,this._key)}toJSON(){return{type:In._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Ff(n,In._jsonSchema))return new In(t,i||null,new jt(He.fromString(n.referencePath)))}}In._jsonSchemaVersion="firestore/documentReference/1.0",In._jsonSchema={type:Cn("string",In._jsonSchemaVersion),referencePath:Cn("string")};class jo extends ru{constructor(t,n,i){super(t,n,tw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new In(this.firestore,null,new jt(t))}withConverter(t){return new jo(this.firestore,t,this._path)}}function _k(e,t,...n){if(e=Ye(e),lP("collection","path",t),e instanceof Vm){const i=He.fromString(t,...n);return Px(i),new jo(e,null,i)}{if(!(e instanceof In||e instanceof jo))throw new Dt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(He.fromString(t,...n));return Px(i),new jo(e.firestore,null,i)}}function vw(e,t,...n){if(e=Ye(e),arguments.length===1&&(t=K0.newId()),lP("doc","path",t),e instanceof Vm){const i=He.fromString(t,...n);return Ix(i),new In(e,null,new jt(i))}{if(!(e instanceof In||e instanceof jo))throw new Dt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(He.fromString(t,...n));return Ix(i),new In(e.firestore,e instanceof jo?e.converter:null,new jt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="AsyncQueue";class wA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JP(this,"async_queue_retry"),this._c=()=>{const i=__();i&&Ot(vA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=__();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=__();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Pc(t))throw t;Ot(vA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,ka("INTERNAL UNHANDLED ERROR: ",TA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=pw.createAndSchedule(this,t,n,i,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&Kt(47125,{Pc:TA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function TA(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(e){return(function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1})(e,["next","error","complete"])}class _c extends Vm{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new wA,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wA(t),this._firestoreClient=void 0,await t}}}function E8(e,t){const n=typeof e=="object"?e:Z0(),i=typeof e=="string"?e:$p,s=Sm(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=GI("firestore");l&&b8(s,...l)}return s}function vk(e){if(e._terminated)throw new Dt(Tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||S8(e),e._firestoreClient}function S8(e){const t=e._freezeSettings(),n=(function(s,l,c,d){return new Gj(s,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gk(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new v8(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Br(oi.fromBase64String(t))}catch(n){throw new Dt(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Br(oi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ff(t,Br._jsonSchema))return Br.fromBase64String(t.bytes)}}Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:Cn("string",Br._jsonSchemaVersion),bytes:Cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Dt(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Dt(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Dt(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return pe(this._lat,t._lat)||pe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zs._jsonSchemaVersion}}static fromJSON(t){if(Ff(t,Zs._jsonSchema))return new Zs(t.latitude,t.longitude)}}Zs._jsonSchemaVersion="firestore/geoPoint/1.0",Zs._jsonSchema={type:Cn("string",Zs._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ff(t,Ws._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ws(t.vectorValues);throw new Dt(Tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ws._jsonSchemaVersion="firestore/vectorValue/1.0",Ws._jsonSchema={type:Cn("string",Ws._jsonSchemaVersion),vectorValues:Cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=/^__.*__$/;class A8{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new rl(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hf(t,this.data,n,this.fieldTransforms)}}class wk{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new rl(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Tk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt(40011,{Ac:e})}}class ww{constructor(t,n,i,s,l,c){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ww({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return im(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Tk(this.Ac)&&x8.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class R8{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Om(t)}Cc(t,n,i,s=!1){return new ww({Ac:t,methodName:n,Dc:i,path:ai.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tw(e){const t=e._freezeSettings(),n=Om(e._databaseId);return new R8(e._databaseId,!!t.ignoreUndefinedProperties,n)}function C8(e,t,n,i,s,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,s);Ew("Data must be an object, but it was:",c,i);const d=bk(i,c);let p,m;if(l.merge)p=new pr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const E=Rv(t,T,n);if(!c.contains(E))throw new Dt(Tt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Sk(v,E)||v.push(E)}p=new pr(v),m=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,m=c.fieldTransforms;return new A8(new ji(d),p,m)}class Bm extends Um{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bm}}class bw extends Um{_toFieldTransform(t){return new yF(t.path,new Af)}isEqual(t){return t instanceof bw}}function I8(e,t,n,i){const s=e.Cc(1,t,n);Ew("Data must be an object, but it was:",s,i);const l=[],c=ji.empty();il(i,((p,m)=>{const v=Sw(t,p,n);m=Ye(m);const T=s.yc(v);if(m instanceof Bm)l.push(v);else{const E=Wf(m,T);E!=null&&(l.push(v),c.set(v,E))}}));const d=new pr(l);return new wk(c,d,s.fieldTransforms)}function P8(e,t,n,i,s,l){const c=e.Cc(1,t,n),d=[Rv(t,i,n)],p=[s];if(l.length%2!=0)throw new Dt(Tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)d.push(Rv(t,l[E])),p.push(l[E+1]);const m=[],v=ji.empty();for(let E=d.length-1;E>=0;--E)if(!Sk(m,d[E])){const x=d[E];let O=p[E];O=Ye(O);const U=c.yc(x);if(O instanceof Bm)m.push(x);else{const H=Wf(O,U);H!=null&&(m.push(x),v.set(x,H))}}const T=new pr(m);return new wk(v,T,c.fieldTransforms)}function k8(e,t,n,i=!1){return Wf(n,e.Cc(i?4:3,t))}function Wf(e,t){if(Ek(e=Ye(e)))return Ew("Unsupported field value:",t,e),bk(e,t);if(e instanceof Um)return(function(i,s){if(!Tk(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,s){const l=[];let c=0;for(const d of i){let p=Wf(d,s.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(e,t)}return(function(i,s){if((i=Ye(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pF(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ne.fromDate(i);return{timestampValue:Jp(s.serializer,l)}}if(i instanceof Ne){const l=new Ne(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Jp(s.serializer,l)}}if(i instanceof Zs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Br)return{bytesValue:FP(s.serializer,i._byteString)};if(i instanceof In){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:sw(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Ws)return(function(c,d){return{mapValue:{fields:{[yP]:{stringValue:_P},[Yp]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return ew(d.serializer,m)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${xm(i)}`)})(e,t)}function bk(e,t){const n={};return hP(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):il(e,((i,s)=>{const l=Wf(s,t.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function Ek(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ne||e instanceof Zs||e instanceof Br||e instanceof In||e instanceof Um||e instanceof Ws)}function Ew(e,t,n){if(!Ek(n)||!uP(n)){const i=xm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function Rv(e,t,n){if((t=Ye(t))instanceof zm)return t._internalPath;if(typeof t=="string")return Sw(e,t);throw im("Field path arguments must be of type string or ",e,!1,void 0,n)}const M8=new RegExp("[~\\*/\\[\\]]");function Sw(e,t,n){if(t.search(M8)>=0)throw im(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new zm(...t.split("."))._internalPath}catch{throw im(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function im(e,t,n,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new Dt(Tt.INVALID_ARGUMENT,d+e+p)}function Sk(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t,n,i,s,l){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new D8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(xw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D8 extends xk{data(){return super.data()}}function xw(e,t){return typeof t=="string"?Sw(e,t):t instanceof zm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Dt(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Aw{}class Ak extends Aw{}function L8(e,t,...n){let i=[];t instanceof Aw&&i.push(t),i=i.concat(n),(function(l){const c=l.filter((p=>p instanceof Cw)).length,d=l.filter((p=>p instanceof Rw)).length;if(c>1||c>0&&d>0)throw new Dt(Tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)e=s._apply(e);return e}class Rw extends Ak{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Rw(t,n,i)}_apply(t){const n=this._parse(t);return Rk(t._query,n),new ru(t.firestore,t.converter,gv(t._query,n))}_parse(t){const n=Tw(t.firestore);return(function(l,c,d,p,m,v,T){let E;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Dt(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){SA(T,v);const O=[];for(const U of T)O.push(EA(p,l,U));E={arrayValue:{values:O}}}else E=EA(p,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||SA(T,v),E=k8(d,c,T,v==="in"||v==="not-in");return Rn.create(m,v,E)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Cw extends Aw{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Cw(t,n)}_parse(t){const n=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:fs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(s,l){let c=s;const d=l.getFlattenedFilters();for(const p of d)Rk(c,p),c=gv(c,p)})(t._query,n),new ru(t.firestore,t.converter,gv(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Iw extends Ak{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Iw(t,n)}_apply(t){const n=(function(s,l,c){if(s.startAt!==null)throw new Dt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Dt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xf(l,c)})(t._query,this._field,this._direction);return new ru(t.firestore,t.converter,(function(s,l){const c=s.explicitOrderBy.concat([l]);return new kc(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,n))}}function N8(e,t="asc"){const n=t,i=xw("orderBy",e);return Iw._create(i,n)}function EA(e,t,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new Dt(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AP(t)&&n.indexOf("/")!==-1)throw new Dt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(He.fromString(n));if(!jt.isDocumentKey(i))throw new Dt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return zx(e,new jt(i))}if(n instanceof In)return zx(e,n._key);throw new Dt(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xm(n)}.`)}function SA(e,t){if(!Array.isArray(e)||e.length===0)throw new Dt(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Rk(e,t){const n=(function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Dt(Tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Dt(Tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class V8{convertValue(t,n="none"){switch($o(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ko(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Kt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return il(t,((s,l)=>{i[s]=this.convertValue(l,n)})),i}convertVectorValue(t){const n=t.fields?.[Yp].arrayValue?.values?.map((i=>mn(i.doubleValue)));return new Ws(n)}convertGeoPoint(t){return new Zs(mn(t.latitude),mn(t.longitude))}convertArray(t,n){return(t.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Cm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bf(t));default:return null}}convertTimestamp(t){const n=Wo(t);return new Ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=He.fromString(t);Ae(KP(i),9688,{name:t});const s=new Ef(i.get(1),i.get(3)),l=new jt(i.popFirst(5));return s.isEqual(n)||ka(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class Kh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zl extends xk{constructor(t,n,i,s,l,c){super(t,n,i,s,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(xw("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Dt(Tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Zl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zl._jsonSchema={type:Cn("string",Zl._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class Ip extends Zl{data(t={}){return super.data(t)}}class ac{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Kh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new Ip(this._firestore,this._userDataWriter,i.key,i,new Kh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Dt(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const p=new Ip(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Kh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Ip(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Kh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:U8(d.type),doc:p,oldIndex:m,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Dt(Tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ac._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=K0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function U8(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt(61501,{type:e})}}ac._jsonSchemaVersion="firestore/querySnapshot/1.0",ac._jsonSchema={type:Cn("string",ac._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class Ck extends V8{constructor(t){super(),this.firestore=t}convertBytes(t){return new Br(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new In(this.firestore,null,n)}}function B8(e,t,n,...i){e=Bo(e,In);const s=Bo(e.firestore,_c),l=Tw(s);let c;return c=typeof(t=Ye(t))=="string"||t instanceof zm?P8(l,"updateDoc",e._key,t,n,i):I8(l,"updateDoc",e._key,t),Pw(s,[c.toMutation(e._key,cs.exists(!0))])}function j8(e){return Pw(Bo(e.firestore,_c),[new nw(e._key,cs.none())])}function F8(e,t){const n=Bo(e.firestore,_c),i=vw(e),s=z8(e.converter,t);return Pw(n,[C8(Tw(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,cs.exists(!1))]).then((()=>i))}function H8(e,...t){e=Ye(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||bA(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bA(t[i])){const p=t[i];t[i]=p.next?.bind(p),t[i+1]=p.error?.bind(p),t[i+2]=p.complete?.bind(p)}let l,c,d;if(e instanceof In)c=Bo(e.firestore,_c),d=tw(e._key.path),l={next:p=>{t[i]&&t[i](q8(c,e,p))},error:t[i+1],complete:t[i+2]};else{const p=Bo(e,ru);c=Bo(p.firestore,_c),d=p._query;const m=new Ck(c);l={next:v=>{t[i]&&t[i](new ac(c,m,p,v))},error:t[i+1],complete:t[i+2]},O8(e._query)}return(function(m,v,T,E){const x=new _8(E),O=new JH(v,x,T);return m.asyncQueue.enqueueAndForget((async()=>$H(await mA(m),O))),()=>{x.Nu(),m.asyncQueue.enqueueAndForget((async()=>YH(await mA(m),O)))}})(vk(c),d,s,l)}function Pw(e,t){return(function(i,s){const l=new Gl;return i.asyncQueue.enqueueAndForget((async()=>u8(await T8(i),s,l))),l.promise})(vk(e),t)}function q8(e,t,n){const i=n.docs.get(t._key),s=new Ck(e);return new Zl(e,s,t._key,i,new Kh(n.hasPendingWrites,n.fromCache),t.converter)}function G8(){return new bw("serverTimestamp")}(function(t,n=!0){(function(s){Cc=s})(eu),$l(new Go("firestore",((i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new _c(new Aj(i.getProvider("auth-internal")),new Ij(c,i.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Dt(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ef(m.options.projectId,v)})(c,s),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Hs(xx,Ax,t),Hs(xx,Ax,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="firebasestorage.googleapis.com",Pk="storageBucket",Z8=120*1e3,W8=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un extends Js{constructor(t,n,i=0){super(w_(t),`Firebase Storage: ${n} (${w_(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,un.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return w_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function w_(e){return"storage/"+e}function kw(){const e="An unknown error occurred, please check the error payload for server response.";return new un(ln.UNKNOWN,e)}function K8(e){return new un(ln.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function $8(e){return new un(ln.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y8(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new un(ln.UNAUTHENTICATED,e)}function X8(){return new un(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Q8(e){return new un(ln.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function J8(){return new un(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tq(){return new un(ln.CANCELED,"User canceled the upload/download.")}function eq(e){return new un(ln.INVALID_URL,"Invalid URL '"+e+"'.")}function nq(e){return new un(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function iq(){return new un(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Pk+"' property when initializing the app?")}function rq(){return new un(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sq(){return new un(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aq(e){return new un(ln.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cv(e){return new un(ln.INVALID_ARGUMENT,e)}function kk(){return new un(ln.APP_DELETED,"The Firebase app was deleted.")}function oq(e){return new un(ln.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cf(e,t){return new un(ln.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function zh(e){throw new un(ln.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=mr.makeFromUrl(t,n)}catch{return new mr(t,"")}if(i.path==="")return i;throw nq(t)}static makeFromUrl(t,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function l(ot){ot.path.charAt(ot.path.length-1)==="/"&&(ot.path_=ot.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),p={bucket:1,path:3};function m(ot){ot.path_=decodeURIComponent(ot.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",x=new RegExp(`^https?://${T}/${v}/b/${s}/o${E}`,"i"),O={bucket:1,path:3},U=n===Ik?"(?:storage.googleapis.com|storage.cloud.google.com)":n,H="([^?#]*)",F=new RegExp(`^https?://${U}/${s}/${H}`,"i"),Z=[{regex:d,indices:p,postModify:l},{regex:x,indices:O,postModify:m},{regex:F,indices:{bucket:1,path:2},postModify:m}];for(let ot=0;ot<Z.length;ot++){const J=Z[ot],$=J.regex.exec(t);if($){const q=$[J.indices.bucket];let P=$[J.indices.path];P||(P=""),i=new mr(q,P),J.postModify(i);break}}if(i==null)throw eq(t);return i}}class lq{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uq(e,t,n){let i=1,s=null,l=null,c=!1,d=0;function p(){return d===2}let m=!1;function v(...H){m||(m=!0,t.apply(null,H))}function T(H){s=setTimeout(()=>{s=null,e(x,p())},H)}function E(){l&&clearTimeout(l)}function x(H,...F){if(m){E();return}if(H){E(),v.call(null,H,...F);return}if(p()||c){E(),v.call(null,H,...F);return}i<64&&(i*=2);let Z;d===1?(d=2,Z=0):Z=(i+Math.random())*1e3,T(Z)}let O=!1;function U(H){O||(O=!0,E(),!m&&(s!==null?(H||(d=2),clearTimeout(s),T(0)):H||(d=1)))}return T(0),l=setTimeout(()=>{c=!0,U(!0)},n),U}function cq(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(e){return e!==void 0}function fq(e){return typeof e=="object"&&!Array.isArray(e)}function Mw(e){return typeof e=="string"||e instanceof String}function xA(e){return Dw()&&e instanceof Blob}function Dw(){return typeof Blob<"u"}function AA(e,t,n,i){if(i<t)throw Cv(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw Cv(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function Mk(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const s=t(i)+"="+t(e[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var Wl;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Wl||(Wl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(t,n,i,s,l,c,d,p,m,v,T,E=!0,x=!1){this.url_=t,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=T,this.retry=E,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,U)=>{this.resolve_=O,this.reject_=U,this.start_()})}start_(){const t=(i,s)=>{if(s){i(!1,new pp(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Wl.NO_ERROR,p=l.getStatus();if(!d||dq(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Wl.ABORT;i(!1,new pp(!1,null,v));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new pp(m,l))})},n=(i,s)=>{const l=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());hq(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=kw();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(s.canceled){const p=this.appDelete_?kk():tq();c(p)}else{const p=J8();c(p)}};this.canceled_?n(!1,new pp(!1,null,!0)):this.backoffId_=uq(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&cq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pp{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function mq(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function gq(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function yq(e,t){t&&(e["X-Firebase-GMPID"]=t)}function _q(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function vq(e,t,n,i,s,l,c=!0,d=!1){const p=Mk(e.urlParams),m=e.url+p,v=Object.assign({},e.headers);return yq(v,t),mq(v,n),gq(v,l),_q(v,i),new pq(m,e.method,v,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Tq(...e){const t=wq();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(Dw())return new Blob(e);throw new un(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bq(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(e){if(typeof atob>"u")throw aq("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class T_{constructor(t,n){this.data=t,this.contentType=n||null}}function Sq(e,t){switch(e){case Us.RAW:return new T_(Dk(t));case Us.BASE64:case Us.BASE64URL:return new T_(Ok(e,t));case Us.DATA_URL:return new T_(Aq(t),Rq(t))}throw kw()}function Dk(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const l=i,c=e.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function xq(e){let t;try{t=decodeURIComponent(e)}catch{throw cf(Us.DATA_URL,"Malformed data URL.")}return Dk(t)}function Ok(e,t){switch(e){case Us.BASE64:{const s=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(s||l)throw cf(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Us.BASE64URL:{const s=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(s||l)throw cf(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Eq(t)}catch(s){throw s.message.includes("polyfill")?s:cf(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class Lk{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw cf(Us.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Cq(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function Aq(e){const t=new Lk(e);return t.base64?Ok(Us.BASE64,t.rest):xq(t.rest)}function Rq(e){return new Lk(e).contentType}function Cq(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,n){let i=0,s="";xA(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(xA(this.data_)){const i=this.data_,s=bq(i,t,n);return s===null?null:new ko(s)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new ko(i,!0)}}static getBlob(...t){if(Dw()){const n=t.map(i=>i instanceof ko?i.data_:i);return new ko(Tq.apply(null,n))}else{const n=t.map(c=>Mw(c)?Sq(Us.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const s=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)s[l++]=c[d]}),new ko(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(e){let t;try{t=JSON.parse(e)}catch{return null}return fq(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Pq(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function Vk(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(e,t){return t}class Ii{constructor(t,n,i,s){this.server=t,this.local=n||t,this.writable=!!i,this.xform=s||kq}}let mp=null;function Mq(e){return!Mw(e)||e.length<2?e:Vk(e)}function zk(){if(mp)return mp;const e=[];e.push(new Ii("bucket")),e.push(new Ii("generation")),e.push(new Ii("metageneration")),e.push(new Ii("name","fullPath",!0));function t(l,c){return Mq(c)}const n=new Ii("name");n.xform=t,e.push(n);function i(l,c){return c!==void 0?Number(c):c}const s=new Ii("size");return s.xform=i,e.push(s),e.push(new Ii("timeCreated")),e.push(new Ii("updated")),e.push(new Ii("md5Hash",null,!0)),e.push(new Ii("cacheControl",null,!0)),e.push(new Ii("contentDisposition",null,!0)),e.push(new Ii("contentEncoding",null,!0)),e.push(new Ii("contentLanguage",null,!0)),e.push(new Ii("contentType",null,!0)),e.push(new Ii("metadata","customMetadata",!0)),mp=e,mp}function Dq(e,t){function n(){const i=e.bucket,s=e.fullPath,l=new mr(i,s);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:n})}function Oq(e,t,n){const i={};i.type="file";const s=n.length;for(let l=0;l<s;l++){const c=n[l];i[c.local]=c.xform(i,t[c.server])}return Dq(i,e),i}function Uk(e,t,n){const i=Nk(t);return i===null?null:Oq(e,i,n)}function Lq(e,t,n,i){const s=Nk(t);if(s===null||!Mw(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const v=e.bucket,T=e.fullPath,E="/b/"+c(v)+"/o/"+c(T),x=jm(E,n,i),O=Mk({alt:"media",token:m});return x+O})[0]}function Nq(e,t){const n={},i=t.length;for(let s=0;s<i;s++){const l=t[s];l.writable&&(n[l.server]=e[l.local])}return JSON.stringify(n)}class Ow{constructor(t,n,i,s){this.url=t,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(e){if(!e)throw kw()}function Vq(e,t){function n(i,s){const l=Uk(e,s,t);return Bk(l!==null),l}return n}function zq(e,t){function n(i,s){const l=Uk(e,s,t);return Bk(l!==null),Lq(l,s,e.host,e._protocol)}return n}function jk(e){function t(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=X8():s=Y8():n.getStatus()===402?s=$8(e.bucket):n.getStatus()===403?s=Q8(e.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return t}function Fk(e){const t=jk(e);function n(i,s){let l=t(i,s);return i.getStatus()===404&&(l=K8(e.path)),l.serverResponse=s.serverResponse,l}return n}function Uq(e,t,n){const i=t.fullServerUrl(),s=jm(i,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,d=new Ow(s,l,zq(e,n),c);return d.errorHandler=Fk(t),d}function Bq(e,t){const n=t.fullServerUrl(),i=jm(n,e.host,e._protocol),s="DELETE",l=e.maxOperationRetryTime;function c(p,m){}const d=new Ow(i,s,c,l);return d.successCodes=[200,204],d.errorHandler=Fk(t),d}function jq(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Fq(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=jq(null,t)),i}function Hq(e,t,n,i,s){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let Z="";for(let ot=0;ot<2;ot++)Z=Z+Math.random().toString().slice(2);return Z}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const m=Fq(t,i,s),v=Nq(m,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,E=`\r
--`+p+"--",x=ko.getBlob(T,i,E);if(x===null)throw rq();const O={name:m.fullPath},U=jm(l,e.host,e._protocol),H="POST",F=e.maxUploadRetryTime,K=new Ow(U,H,Vq(e,n),F);return K.urlParams=O,K.headers=c,K.body=x.uploadData(),K.errorHandler=jk(t),K}class qq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wl.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wl.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wl.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,s,l){if(this.sent_)throw zh("cannot .send() more than once");if(nl(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Gq extends qq{initXhr(){this.xhr_.responseType="text"}}function Lw(){return new Gq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n){this._service=t,n instanceof mr?this._location=n:this._location=mr.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Ql(t,n)}get root(){const t=new mr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vk(this._location.path)}get storage(){return this._service}get parent(){const t=Iq(this._location.path);if(t===null)return null;const n=new mr(this._location.bucket,t);return new Ql(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw oq(t)}}function Zq(e,t,n){e._throwIfRoot("uploadBytes");const i=Hq(e.storage,e._location,zk(),new ko(t,!0),n);return e.storage.makeRequestWithTokens(i,Lw).then(s=>({metadata:s,ref:e}))}function Wq(e){e._throwIfRoot("getDownloadURL");const t=Uq(e.storage,e._location,zk());return e.storage.makeRequestWithTokens(t,Lw).then(n=>{if(n===null)throw sq();return n})}function Kq(e){e._throwIfRoot("deleteObject");const t=Bq(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Lw)}function $q(e,t){const n=Pq(e._location.path,t),i=new mr(e._location.bucket,n);return new Ql(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(e){return/^[A-Za-z]+:\/\//.test(e)}function Xq(e,t){return new Ql(e,t)}function Hk(e,t){if(e instanceof Nw){const n=e;if(n._bucket==null)throw iq();const i=new Ql(n,n._bucket);return t!=null?Hk(i,t):i}else return t!==void 0?$q(e,t):e}function Qq(e,t){if(t&&Yq(t)){if(e instanceof Nw)return Xq(e,t);throw Cv("To use ref(service, url), the first argument must be a Storage instance.")}else return Hk(e,t)}function RA(e,t){const n=t?.[Pk];return n==null?null:mr.makeFromBucketSpec(n,e)}function Jq(e,t,n,i={}){e.host=`${t}:${n}`;const s=nl(t);s&&(F0(`https://${e.host}/b`),H0("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:l}=i;l&&(e._overrideAuthToken=typeof l=="string"?l:KI(l,e.app.options.projectId))}class Nw{constructor(t,n,i,s,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Ik,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z8,this._maxUploadRetryTime=W8,this._requests=new Set,s!=null?this._bucket=mr.makeFromBucketSpec(s,this._host):this._bucket=RA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=mr.makeFromBucketSpec(this._url,t):this._bucket=RA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){AA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){AA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ql(this,t)}_makeRequest(t,n,i,s,l=!0){if(this._deleted)return new lq(kk());{const c=vq(t,this._appId,i,s,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,s).getPromise()}}const CA="@firebase/storage",IA="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="storage";function t7(e,t,n){return e=Ye(e),Zq(e,t,n)}function e7(e){return e=Ye(e),Wq(e)}function Gk(e){return e=Ye(e),Kq(e)}function Iv(e,t){return e=Ye(e),Qq(e,t)}function n7(e=Z0(),t){e=Ye(e);const i=Sm(e,qk).getImmediate({identifier:t}),s=GI("storage");return s&&i7(i,...s),i}function i7(e,t,n,i={}){Jq(e,t,n,i)}function r7(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Nw(n,i,s,t,eu)}function s7(){$l(new Go(qk,r7,"PUBLIC").setMultipleInstances(!0)),Hs(CA,IA,""),Hs(CA,IA,"esm2020")}s7();function Zk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a7=Zk,Wk=new Bf("auth","Firebase",Zk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new q0("@firebase/auth");function o7(e,...t){rm.logLevel<=de.WARN&&rm.warn(`Auth (${eu}): ${e}`,...t)}function Pp(e,...t){rm.logLevel<=de.ERROR&&rm.error(`Auth (${eu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e,...t){throw Vw(e,...t)}function Ks(e,...t){return Vw(e,...t)}function Kk(e,t,n){const i={...a7(),[t]:n};return new Bf("auth","Firebase",i).create(t,{appName:e.name})}function Fo(e){return Kk(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vw(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Wk.create(e,...t)}function Wt(e,t,...n){if(!e)throw Vw(t,...n)}function Sa(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Pp(t),new Error(t)}function Da(e,t){e||Sa(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(){return typeof self<"u"&&self.location?.href||""}function l7(){return PA()==="http:"||PA()==="https:"}function PA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l7()||e5()||"connection"in navigator)?navigator.onLine:!0}function c7(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,n){this.shortDelay=t,this.longDelay=n,Da(n>t,"Short delay should be less than long delay!"),this.isMobile=Q9()||n5()}get(){return u7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(e,t){Da(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d7=new Kf(3e4,6e4);function su(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function sl(e,t,n,i,s={}){return Yk(e,s,async()=>{let l={},c={};i&&(t==="GET"?c=i:l={body:JSON.stringify(i)});const d=jf({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const m={method:t,headers:p,...l};return t5()||(m.referrerPolicy="no-referrer"),e.emulatorConfig&&nl(e.emulatorConfig.host)&&(m.credentials="include"),$k.fetch()(await Xk(e,e.config.apiHost,n,d),m)})}async function Yk(e,t,n){e._canInitEmulator=!1;const i={...h7,...t};try{const s=new m7(e),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw gp(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gp(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw gp(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw gp(e,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Kk(e,v,m);ds(e,v)}}catch(s){if(s instanceof Js)throw s;ds(e,"network-request-failed",{message:String(s)})}}async function Fm(e,t,n,i,s={}){const l=await sl(e,t,n,i,s);return"mfaPendingCredential"in l&&ds(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function Xk(e,t,n,i){const s=`${t}${n}?${i}`,l=e,c=l.config.emulator?zw(e.config,s):`${e.config.apiScheme}://${s}`;return f7.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function p7(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ks(this.auth,"network-request-failed")),d7.get())})}}function gp(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Ks(e,t,i);return s.customData._tokenResponse=n,s}function kA(e){return e!==void 0&&e.enterprise!==void 0}class g7{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return p7(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function y7(e,t){return sl(e,"GET","/v2/recaptchaConfig",su(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(e,t){return sl(e,"POST","/v1/accounts:delete",t)}async function sm(e,t){return sl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function v7(e,t=!1){const n=Ye(e),i=await n.getIdToken(t),s=Uw(i);Wt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l?.sign_in_provider;return{claims:s,token:i,authTime:hf(b_(s.auth_time)),issuedAtTime:hf(b_(s.iat)),expirationTime:hf(b_(s.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function b_(e){return Number(e)*1e3}function Uw(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const s=HI(n);return s?JSON.parse(s):(Pp("Failed to decode base64 JWT payload"),null)}catch(s){return Pp("Caught error parsing JWT payload as JSON",s?.toString()),null}}function MA(e){const t=Uw(e);return Wt(t,"internal-error"),Wt(typeof t.exp<"u","internal-error"),Wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Js&&w7(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function w7({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hf(this.lastLoginAt),this.creationTime=hf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(e){const t=e.auth,n=await e.getIdToken(),i=await If(e,sm(t,{idToken:n}));Wt(i?.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const l=s.providerUserInfo?.length?Qk(s.providerUserInfo):[],c=E7(e.providerData,l),d=e.isAnonymous,p=!(e.email&&s.passwordHash)&&!c?.length,m=d?p:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new kv(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(e,v)}async function b7(e){const t=Ye(e);await am(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function E7(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function Qk(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(e,t){const n=await Yk(e,{},async()=>{const i=jf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:l}=e.config,c=await Xk(e,s,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return e.emulatorConfig&&nl(e.emulatorConfig.host)&&(p.credentials="include"),$k.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x7(e,t){return sl(e,"POST","/v2/accounts:revokeToken",su(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Wt(t.idToken,"internal-error"),Wt(typeof t.idToken<"u","internal-error"),Wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):MA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Wt(t.length!==0,"internal-error");const n=MA(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:l}=await S7(t,n);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:l}=n,c=new oc;return i&&(Wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),s&&(Wt(typeof s=="string","internal-error",{appName:t}),c.accessToken=s),l&&(Wt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oc,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(e,t){Wt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class us{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new T7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await If(this,this.stsTokenManager.getToken(this.auth,t));return Wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return v7(this,t)}reload(){return b7(this)}_assign(t){this!==t&&(Wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new us({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await am(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(Fo(this.auth));const t=await this.getIdToken();return await If(this,_7(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,m=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:E,isAnonymous:x,providerData:O,stsTokenManager:U}=n;Wt(T&&U,t,"internal-error");const H=oc.fromJSON(this.name,U);Wt(typeof T=="string",t,"internal-error"),Io(i,t.name),Io(s,t.name),Wt(typeof E=="boolean",t,"internal-error"),Wt(typeof x=="boolean",t,"internal-error"),Io(l,t.name),Io(c,t.name),Io(d,t.name),Io(p,t.name),Io(m,t.name),Io(v,t.name);const F=new us({uid:T,auth:t,email:s,emailVerified:E,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:H,createdAt:m,lastLoginAt:v});return O&&Array.isArray(O)&&(F.providerData=O.map(K=>({...K}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(t,n,i=!1){const s=new oc;s.updateFromServerResponse(n);const l=new us({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await am(l),l}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Wt(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?Qk(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!l?.length,d=new oc;d.updateFromIdToken(i);const p=new us({uid:s.localId,auth:t,stsTokenManager:d,isAnonymous:c}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new kv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Map;function xa(e){Da(e instanceof Function,"Expected a class definition");let t=DA.get(e);return t?(Da(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,DA.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Jk.type="NONE";const OA=Jk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(e,t,n){return`firebase:${e}:${t}:${n}`}class lc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=kp(this.userKey,s.apiKey,l),this.fullPersistenceKey=kp("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sm(this.auth,{idToken:t}).catch(()=>{});return n?us._fromGetAccountInfoResponse(this.auth,n,t):null}return us._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new lc(xa(OA),t,i);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=s[0]||xa(OA);const c=kp(i,t.config.apiKey,t.name);let d=null;for(const m of n)try{const v=await m._get(c);if(v){let T;if(typeof v=="string"){const E=await sm(t,{idToken:v}).catch(()=>{});if(!E)break;T=await us._fromGetAccountInfoResponse(t,E,v)}else T=us._fromJSON(t,v);m!==l&&(d=T),l=m;break}}catch{}const p=s.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new lc(l,t,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new lc(l,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(iM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sM(t))return"Blackberry";if(aM(t))return"Webos";if(eM(t))return"Safari";if((t.includes("chrome/")||nM(t))&&!t.includes("edge/"))return"Chrome";if(rM(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function tM(e=vi()){return/firefox\//i.test(e)}function eM(e=vi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nM(e=vi()){return/crios\//i.test(e)}function iM(e=vi()){return/iemobile/i.test(e)}function rM(e=vi()){return/android/i.test(e)}function sM(e=vi()){return/blackberry/i.test(e)}function aM(e=vi()){return/webos/i.test(e)}function Bw(e=vi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function A7(e=vi()){return Bw(e)&&!!window.navigator?.standalone}function R7(){return i5()&&document.documentMode===10}function oM(e=vi()){return Bw(e)||rM(e)||aM(e)||sM(e)||/windows phone/i.test(e)||iM(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(e,t=[]){let n;switch(e){case"Browser":n=LA(vi());break;case"Worker":n=`${LA(vi())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=l=>new Promise((c,d)=>{try{const p=t(l);c(p)}catch(p){d(p)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(e,t={}){return sl(e,"GET","/v2/passwordPolicy",su(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=6;class k7{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??P7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NA(this),this.idTokenSubscription=new NA(this),this.beforeStateQueue=new C7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=xa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lc.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sm(this,{idToken:t}),i=await us._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await am(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=c7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ur(this.app))return Promise.reject(Fo(this));const n=t?Ye(t):null;return n&&Wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(Fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ur(this.app)?Promise.reject(Fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xa(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await I7(this),n=new k7(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bf("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await x7(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&xa(t)||this._popupRedirectResolver;Wt(n,this,"argument-error"),this.redirectPersistenceManager=await lc.create(this,[xa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,i,s);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=lM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&o7(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Dc(e){return Ye(e)}class NA{constructor(t){this.auth=t,this.observer=null,this.addObserver=h5(n=>this.observer=n)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D7(e){Hm=e}function uM(e){return Hm.loadJS(e)}function O7(){return Hm.recaptchaEnterpriseScript}function L7(){return Hm.gapiScript}function N7(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class V7{constructor(){this.enterprise=new z7}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class z7{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const U7="recaptcha-enterprise",cM="NO_RECAPTCHA";class B7{constructor(t){this.type=U7,this.auth=Dc(t)}async verify(t="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{y7(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new g7(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function s(l,c,d){const p=window.grecaptcha;kA(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(m=>{c(m)}).catch(()=>{c(cM)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new V7().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&kA(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=O7();p.length!==0&&(p+=d),uM(p).then(()=>{s(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function VA(e,t,n,i=!1,s=!1){const l=new B7(e);let c;if(s)c=cM;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function zA(e,t,n,i,s){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await VA(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await VA(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(e,t){const n=Sm(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(Kl(l,t??{}))return s;ds(s,"already-initialized")}return n.initialize({options:t})}function F7(e,t){const n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(xa);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function H7(e,t,n){const i=Dc(e);Wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,l=hM(t),{host:c,port:d}=q7(t),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Wt(Kl(m,i.config.emulator)&&Kl(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,nl(c)?(F0(`${l}//${c}${p}`),H0("Auth",!0)):G7()}function hM(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function q7(e){const t=hM(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:UA(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:UA(c)}}}function UA(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function G7(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Sa("not implemented")}_getIdTokenResponse(t){return Sa("not implemented")}_linkToIdToken(t,n){return Sa("not implemented")}_getReauthenticationResolver(t){return Sa("not implemented")}}async function Z7(e,t){return sl(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(e,t){return Fm(e,"POST","/v1/accounts:signInWithPassword",su(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(e,t){return Fm(e,"POST","/v1/accounts:signInWithEmailLink",su(e,t))}async function $7(e,t){return Fm(e,"POST","/v1/accounts:signInWithEmailLink",su(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends jw{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Pf(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Pf(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zA(t,n,"signInWithPassword",W7);case"emailLink":return K7(t,{email:this._email,oobCode:this._password});default:ds(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zA(t,i,"signUpPassword",Z7);case"emailLink":return $7(t,{idToken:n,email:this._email,oobCode:this._password});default:ds(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(e,t){return Fm(e,"POST","/v1/accounts:signInWithIdp",su(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7="http://localhost";class Jl extends jw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Jl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...l}=n;if(!i||!s)return null;const c=new Jl(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return uc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,uc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,uc(t,n)}buildRequest(){const t={requestUri:Y7,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=jf(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q7(e){const t=Hh(qh(e)).link,n=t?Hh(qh(t)).deep_link_id:null,i=Hh(qh(e)).deep_link_id;return(i?Hh(qh(i)).link:null)||i||n||t||e}class Fw{constructor(t){const n=Hh(qh(t)),i=n.apiKey??null,s=n.oobCode??null,l=X7(n.mode??null);Wt(i&&s&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Q7(t);try{return new Fw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.providerId=Oc.PROVIDER_ID}static credential(t,n){return Pf._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Fw.parseLink(n);return Wt(i,"argument-error"),Pf._fromEmailAndCode(t,i.code,i.tenantId)}}Oc.PROVIDER_ID="password";Oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends fM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends $f{constructor(){super("facebook.com")}static credential(t){return Jl._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mo.credentialFromTaggedObject(t)}static credentialFromError(t){return Mo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mo.credential(t.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends $f{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Jl._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Do.credentialFromTaggedObject(t)}static credentialFromError(t){return Do.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Do.credential(n,i)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends $f{constructor(){super("github.com")}static credential(t){return Jl._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Oo.credentialFromTaggedObject(t)}static credentialFromError(t){return Oo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Oo.credential(t.oauthAccessToken)}catch{return null}}}Oo.GITHUB_SIGN_IN_METHOD="github.com";Oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends $f{constructor(){super("twitter.com")}static credential(t,n){return Jl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Lo.credentialFromTaggedObject(t)}static credentialFromError(t){return Lo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Lo.credential(n,i)}catch{return null}}}Lo.TWITTER_SIGN_IN_METHOD="twitter.com";Lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const l=await us._fromIdTokenResponse(t,i,s),c=BA(i);return new vc({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=BA(i);return new vc({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function BA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om extends Js{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,om.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new om(t,n,i,s)}}function dM(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?om._fromErrorAndOperation(e,l,t,i):l})}async function J7(e,t,n=!1){const i=await If(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return vc._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(e,t,n=!1){const{auth:i}=e;if(Ur(i.app))return Promise.reject(Fo(i));const s="reauthenticate";try{const l=await If(e,dM(i,s,t,e),n);Wt(l.idToken,i,"internal-error");const c=Uw(l.idToken);Wt(c,i,"internal-error");const{sub:d}=c;return Wt(e.uid===d,i,"user-mismatch"),vc._forOperation(e,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&ds(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(e,t,n=!1){if(Ur(e.app))return Promise.reject(Fo(e));const i="signIn",s=await dM(e,i,t),l=await vc._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(l.user),l}async function eG(e,t){return pM(Dc(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nG(e){const t=Dc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function iG(e,t,n){return Ur(e.app)?Promise.reject(Fo(e)):eG(Ye(e),Oc.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&nG(e),i})}function rG(e,t,n,i){return Ye(e).onIdTokenChanged(t,n,i)}function sG(e,t,n){return Ye(e).beforeAuthStateChanged(t,n)}function aG(e,t,n,i){return Ye(e).onAuthStateChanged(t,n,i)}function oG(e){return Ye(e).signOut()}const lm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=1e3,uG=10;class gM extends mM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);R7()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,uG):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},lG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}gM.type="LOCAL";const cG=gM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM extends mM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yM.type="SESSION";const _M=yM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hG(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new qm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:l}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async m=>m(n.origin,l)),p=await hG(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=Hw("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(T){const E=T;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){return window}function dG(e){$s().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){return typeof $s().WorkerGlobalScope<"u"&&typeof $s().importScripts=="function"}async function pG(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mG(){return navigator?.serviceWorker?.controller||null}function gG(){return vM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="firebaseLocalStorageDb",yG=1,um="firebaseLocalStorage",TM="fbase_key";class Yf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gm(e,t){return e.transaction([um],t?"readwrite":"readonly").objectStore(um)}function _G(){const e=indexedDB.deleteDatabase(wM);return new Yf(e).toPromise()}function Mv(){const e=indexedDB.open(wM,yG);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(um,{keyPath:TM})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(um)?t(i):(i.close(),await _G(),t(await Mv()))})})}async function jA(e,t,n){const i=Gm(e,!0).put({[TM]:t,value:n});return new Yf(i).toPromise()}async function vG(e,t){const n=Gm(e,!1).get(t),i=await new Yf(n).toPromise();return i===void 0?null:i.value}function FA(e,t){const n=Gm(e,!0).delete(t);return new Yf(n).toPromise()}const wG=800,TG=3;class bM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>TG)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qm._getInstance(gG()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pG(),!this.activeServiceWorker)return;this.sender=new fG(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mv();return await jA(t,lm,"1"),await FA(t,lm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>jA(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>vG(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>FA(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const l=Gm(s,!1).getAll();return new Yf(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:l}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bM.type="LOCAL";const bG=bM;new Kf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(e,t){return t?xa(t):(Wt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends jw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return uc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return uc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function SG(e){return pM(e.auth,new qw(e),e.bypassAuthState)}function xG(e){const{auth:t,user:n}=e;return Wt(n,t,"internal-error"),tG(n,new qw(e),e.bypassAuthState)}async function AG(e){const{auth:t,user:n}=e;return Wt(n,t,"internal-error"),J7(n,new qw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t,n,i,s,l=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SG;case"linkViaPopup":case"linkViaRedirect":return AG;case"reauthViaPopup":case"reauthViaRedirect":return xG;default:ds(this.auth,"internal-error")}}resolve(t){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=new Kf(2e3,1e4);class tc extends EM{constructor(t,n,i,s,l){super(t,n,s,l),this.provider=i,this.authWindow=null,this.pollId=null,tc.currentPopupAction&&tc.currentPopupAction.cancel(),tc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Wt(t,this.auth,"internal-error"),t}async onExecution(){Da(this.filter.length===1,"Popup operations only handle one event");const t=Hw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tc.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,RG.get())};t()}}tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG="pendingRedirect",Mp=new Map;class IG extends EM{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Mp.get(this.auth._key());if(!t){try{const i=await PG(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Mp.set(this.auth._key(),t)}return this.bypassAuthState||Mp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PG(e,t){const n=DG(t),i=MG(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function kG(e,t){Mp.set(e._key(),t)}function MG(e){return xa(e._redirectPersistence)}function DG(e){return kp(CG,e.config.apiKey,e.name)}async function OG(e,t,n=!1){if(Ur(e.app))return Promise.reject(Fo(e));const i=Dc(e),s=EG(i,t),c=await new IG(i,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG=600*1e3;class NG{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VG(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!SM(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ks(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LG&&this.cachedEventUids.clear(),this.cachedEventUids.has(HA(t))}saveEventToCache(t){this.cachedEventUids.add(HA(t)),this.lastProcessedEventTime=Date.now()}}function HA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function SM({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function VG(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SM(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zG(e,t={}){return sl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BG=/^https?/;async function jG(e){if(e.config.emulator)return;const{authorizedDomains:t}=await zG(e);for(const n of t)try{if(FG(n))return}catch{}ds(e,"unauthorized-domain")}function FG(e){const t=Pv(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!BG.test(n))return!1;if(UG.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=new Kf(3e4,6e4);function qA(){const e=$s().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function qG(e){return new Promise((t,n)=>{function i(){qA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qA(),n(Ks(e,"network-request-failed"))},timeout:HG.get()})}if($s().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if($s().gapi?.load)i();else{const s=N7("iframefcb");return $s()[s]=()=>{gapi.load?i():n(Ks(e,"network-request-failed"))},uM(`${L7()}?onload=${s}`).catch(l=>n(l))}}).catch(t=>{throw Dp=null,t})}let Dp=null;function GG(e){return Dp=Dp||qG(e),Dp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG=new Kf(5e3,15e3),WG="__/auth/iframe",KG="emulator/auth/iframe",$G={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XG(e){const t=e.config;Wt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?zw(t,KG):`https://${e.config.authDomain}/${WG}`,i={apiKey:t.apiKey,appName:e.name,v:eu},s=YG.get(e.config.apiHost);s&&(i.eid=s);const l=e._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${jf(i).slice(1)}`}async function QG(e){const t=await GG(e),n=$s().gapi;return Wt(n,e,"internal-error"),t.open({where:document.body,url:XG(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$G,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ks(e,"network-request-failed"),d=$s().setTimeout(()=>{l(c)},ZG.get());function p(){$s().clearTimeout(d),s(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tZ=500,eZ=600,nZ="_blank",iZ="http://localhost";class GA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rZ(e,t,n,i=tZ,s=eZ){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...JG,width:i.toString(),height:s.toString(),top:l,left:c},m=vi().toLowerCase();n&&(d=nM(m)?nZ:n),tM(m)&&(t=t||iZ,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[x,O])=>`${E}${x}=${O},`,"");if(A7(m)&&d!=="_self")return sZ(t||"",d),new GA(null);const T=window.open(t||"",d,v);Wt(T,e,"popup-blocked");try{T.focus()}catch{}return new GA(T)}function sZ(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ="__/auth/handler",oZ="emulator/auth/handler",lZ=encodeURIComponent("fac");async function ZA(e,t,n,i,s,l){Wt(e.config.authDomain,e,"auth-domain-config-required"),Wt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:eu,eventId:s};if(t instanceof fM){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",c5(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(t instanceof $f){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await e._getAppCheckToken(),m=p?`#${lZ}=${encodeURIComponent(p)}`:"";return`${uZ(e)}?${jf(d).slice(1)}${m}`}function uZ({config:e}){return e.emulator?zw(e,oZ):`https://${e.authDomain}/${aZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="webStorageSupport";class cZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_M,this._completeRedirectFn=OG,this._overrideRedirectResult=kG}async _openPopup(t,n,i,s){Da(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ZA(t,n,i,Pv(),s);return rZ(t,l,Hw())}async _openRedirect(t,n,i,s){await this._originValidation(t);const l=await ZA(t,n,i,Pv(),s);return dG(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(Da(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await QG(t),i=new NG(t);return n.register("authEvent",s=>(Wt(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(E_,{type:E_},s=>{const l=s?.[0]?.[E_];l!==void 0&&n(!!l),ds(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jG(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return oM()||eM()||Bw()}}const hZ=cZ;var WA="@firebase/auth",KA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pZ(e){$l(new Go("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lM(e)},m=new M7(i,s,l,p);return F7(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),$l(new Go("auth-internal",t=>{const n=Dc(t.getProvider("auth").getImmediate());return(i=>new fZ(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(WA,KA,dZ(e)),Hs(WA,KA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ=300,gZ=WI("authIdTokenMaxAge")||mZ;let $A=null;const yZ=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>gZ)return;const s=n?.token;$A!==s&&($A=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _Z(e=Z0()){const t=Sm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=j7(e,{popupRedirectResolver:hZ,persistence:[bG,cG,_M]}),i=WI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=yZ(l.toString());sG(n,c,()=>c(n.currentUser)),rG(n,d=>c(d))}}const s=qI("auth");return s&&H7(n,`http://${s}`),n}function vZ(){return document.getElementsByTagName("head")?.[0]??document}D7({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const l=Ks("internal-error");l.customData=s,n(l)},i.type="text/javascript",i.charset="UTF-8",vZ().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pZ("Browser");const wZ={apiKey:"AIzaSyDea9j3FwUYCr4MmtUGeN1Dbrd8KXiQEOo",authDomain:"love-letters-portal.firebaseapp.com",projectId:"love-letters-portal",storageBucket:"love-letters-portal.firebasestorage.app",messagingSenderId:"1007931164401",appId:"1:1007931164401:web:da528413d39af4ce024b50",measurementId:"G-V0TZG964T8"},Gw=XI(wZ),cm=E8(Gw),Dv=n7(Gw),kf=_Z(Gw);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function TZ(e,t,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(i.next(v))}catch(T){c(T)}}function p(v){try{m(i.throw(v))}catch(T){c(T)}}function m(v){v.done?l(v.value):s(v.value).then(d,p)}m((i=i.apply(e,[])).next())})}function bZ(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,s,l,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(v){return p([m,v])}}function p(m){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(l=m[0]&2?s.return:m[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,m[1])).done)return l;switch(s=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],s=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ec=function(){return ec=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},ec.apply(this,arguments)},xM=function(e){return{loading:e==null,value:e}},EZ=function(){return function(e,t){switch(t.type){case"error":return ec(ec({},e),{error:t.error,loading:!1,value:void 0});case"reset":return xM(t.defaultValue);case"value":return ec(ec({},e),{error:void 0,loading:!1,value:t.value});default:return e}}},SZ=(function(e){var t=e?e():void 0,n=Y.useReducer(EZ(),xM(t)),i=n[0],s=n[1],l=Y.useCallback(function(){var p=e?e():void 0;s({type:"reset",defaultValue:p})},[e]),c=Y.useCallback(function(p){s({type:"error",error:p})},[]),d=Y.useCallback(function(p){s({type:"value",value:p})},[]);return Y.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:c,setValue:d,value:i.value}},[i.error,i.loading,l,c,d,i.value])}),Zw=(function(e,t){var n=SZ(function(){return e.currentUser}),i=n.error,s=n.loading,l=n.setError,c=n.setValue,d=n.value;return Y.useEffect(function(){var p=aG(e,function(m){return TZ(void 0,void 0,void 0,function(){var v;return bZ(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,t.onUserChanged(m)];case 2:return T.sent(),[3,4];case 3:return v=T.sent(),l(v),[3,4];case 4:return c(m),[2]}})})},l);return function(){p()}},[e]),[d,s,i]});function xZ({onLocationSelect:e}){return A9({click(t){e(t.latlng)}}),null}function AZ({location:e}){const t=MI();return Y.useEffect(()=>{e&&t.setView([e.lat,e.lng],15)},[e,t]),null}function RZ({post:e,onEdit:t,onDelete:n,isAdmin:i}){Y.useEffect(()=>{(async()=>(delete L.Icon.Default.prototype._getIconUrl,L.Icon.Default.mergeOptions({iconRetinaUrl:(await r_(async()=>{const{default:c}=await import("./marker-icon-2x-D4k_ikNW.js");return{default:c}},[])).default,iconUrl:(await r_(async()=>{const{default:c}=await import("./marker-icon-C2eJqgqv.js");return{default:c}},[])).default,shadowUrl:(await r_(async()=>{const{default:c}=await import("./marker-shadow-DU6CIJ0p.js");return{default:c}},[])).default})))()},[]);const s=new Date(e.createdAt?.toDate()).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),l=e.mediaUrls||(e.mediaUrl?[e.mediaUrl]:[]);return tt.jsxs(Pi.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative bg-white rounded-2xl shadow-lg p-5 border border-subtle flex flex-col gap-4",children:[i&&tt.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 z-20",children:[tt.jsx("button",{onClick:()=>t(e),className:"bg-blue-100 text-blue-600 p-1.5 rounded-full hover:bg-blue-200 transition",children:tt.jsx(Y2,{size:14})}),tt.jsx("button",{onClick:()=>n(e),className:"bg-red-100 text-red-600 p-1.5 rounded-full hover:bg-red-200 transition",children:tt.jsx(Q2,{size:14})})]}),tt.jsxs("div",{className:"flex items-center gap-2 text-sm text-text/70",children:[tt.jsx(fR,{size:14}),tt.jsxs("span",{children:[s," Uhr"]})]}),l.length>0&&tt.jsx("div",{className:"rounded-lg overflow-hidden border border-subtle",children:tt.jsx(B9.Carousel,{showThumbs:!1,showStatus:!1,infiniteLoop:!0,useKeyboardArrows:!0,autoPlay:!1,dynamicHeight:!0,children:l.map((c,d)=>tt.jsx("div",{children:tt.jsx("img",{src:c,alt:`Blog content ${d+1}`,className:"w-full h-auto object-cover"})},d))})}),e.text&&tt.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-0",children:tt.jsx("p",{className:"text-text/90 whitespace-pre-wrap",children:e.text})}),e.location&&tt.jsxs("div",{children:[tt.jsxs("h4",{className:"font-bold text-sm text-text/70 mb-2 flex items-center gap-2",children:[tt.jsx(pR,{size:16,className:"text-accent"})," Standort"]}),tt.jsx("div",{className:"h-48 rounded-lg overflow-hidden border border-subtle",children:tt.jsxs(DI,{center:[e.location.lat,e.location.lng],zoom:14,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[tt.jsx(LI,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),tt.jsx(OI,{position:[e.location.lat,e.location.lng],children:tt.jsx(C9,{children:"Hier war ich!"})})]})})]})]})}const CZ=({date:e})=>{const t=new Date(e).toLocaleDateString("de-DE",{weekday:"long",day:"2-digit",month:"long",year:"numeric"});return tt.jsxs("div",{className:"flex items-center my-8",children:[tt.jsx("div",{className:"flex-grow border-t border-subtle"}),tt.jsx("span",{className:"flex-shrink-0 mx-4 text-sm font-bold text-text/70 tracking-wider",children:t}),tt.jsx("div",{className:"flex-grow border-t border-subtle"})]})};function IZ(){const[e,t]=Zw(kf),[n,i]=Y.useState([]),[s,l]=Y.useState(!1),[c,d]=Y.useState(!0),[p,m]=Y.useState(!1),[v,T]=Y.useState(null);Y.useEffect(()=>{if(t){d(!0);return}e?e.getIdTokenResult(!0).then(H=>{l(H.claims.admin===!0),d(!1)}):(l(!1),d(!1))},[e,t]),Y.useEffect(()=>{const H=L8(_k(cm,"blogPosts"),N8("createdAt","desc")),F=H8(H,K=>{i(K.docs.map(Z=>({...Z.data(),id:Z.id})))});return()=>F()},[]);const E=[];let x=null;n.forEach(H=>{if(!H.createdAt)return;const F=new Date(H.createdAt.toDate()).toLocaleDateString("de-DE");F!==x&&(E.push({type:"date",date:H.createdAt.toDate(),id:F}),x=F),E.push({type:"post",...H})});const O=H=>{T(H),m(!0)},U=async H=>{if(window.confirm("Soll der Post wirklich gelscht werden?"))try{const F=H.mediaUrls||(H.mediaUrl?[H.mediaUrl]:[]);F.length>0&&await Promise.all(F.map(K=>Gk(Iv(Dv,K)))),await j8(vw(cm,"blogPosts",H.id))}catch(F){alert("Fehler beim Lschen des Posts. Grund: "+F.message)}};return t||c?tt.jsx("div",{className:"flex justify-center mt-10",children:tt.jsx(zp,{className:"animate-spin text-primary",size:48})}):tt.jsxs("div",{className:`w-full max-w-2xl font-sans ${p?"maps-in-background":""}`,children:[tt.jsxs("header",{className:"mb-12 text-center",children:[tt.jsxs("h2",{className:"text-4xl font-bold text-text flex items-center justify-center gap-3",children:[tt.jsx(Vp,{className:"text-primary",size:36}),tt.jsx("span",{children:"Meine Reise"})]}),tt.jsx("p",{className:"text-text/70 mt-2",children:"Kleine und groe Momente aus Porto."})]}),s&&tt.jsx(AM,{},"new-post-form"),tt.jsx("main",{className:"flex flex-col gap-6",children:E.length>0?E.map(H=>H.type==="date"?tt.jsx(CZ,{date:H.date},H.id):tt.jsx(RZ,{post:H,onEdit:O,onDelete:U,isAdmin:s},H.id)):!s&&tt.jsx("p",{className:"text-center text-text/70 mt-8",children:"Noch keine Blogeintrge vorhanden."})}),tt.jsx(f0,{children:p&&tt.jsx(PZ,{post:v,onClose:()=>m(!1)},v.id)})]})}function AM({postToEdit:e,onFormSubmit:t}){const n=k=>k?new Date(k.getTime()-k.getTimezoneOffset()*6e4).toISOString().slice(0,16):"",[i,s]=Y.useState(e?.text||""),[l,c]=Y.useState([]),[d,p]=Y.useState(e?.mediaUrls||(e?.mediaUrl?[e.mediaUrl]:[])),[m,v]=Y.useState([]),[T,E]=Y.useState(e?.location||null),[x,O]=Y.useState(n(e?.createdAt?.toDate())),[U,H]=Y.useState(!1),[F,K]=Y.useState(""),[Z,ot]=Y.useState(!1),J=Y.useRef(null),$=k=>E({lat:k.lat,lng:k.lng}),q=k=>c(it=>[...it,...Array.from(k.target.files)]),P=k=>{p(it=>it.filter(W=>W!==k)),v(it=>[...it,k])},D=k=>c(it=>it.filter(W=>W!==k)),G=()=>{if(!navigator.geolocation){K("Dein Browser untersttzt keine Standortermittlung.");return}ot(!0),K(""),navigator.geolocation.getCurrentPosition(k=>{const{latitude:it,longitude:W}=k.coords;E({lat:it,lng:W}),ot(!1)},k=>{K(`Standort konnte nicht ermittelt werden: ${k.message}`),ot(!1)},{enableHighAccuracy:!0})},N=async k=>{if(k.preventDefault(),!(!i&&l.length===0&&d.length===0&&!T)){H(!0),K("");try{m.length>0&&await Promise.all(m.map(rt=>Gk(Iv(Dv,rt))));const it=[];if(l.length>0){const rt=l.map(st=>{const Pt=`blog-media/${Date.now()}-${st.name}`,R=Iv(Dv,Pt);return t7(R,st).then(()=>e7(R))});it.push(...await Promise.all(rt))}const W=[...d,...it],et={text:i,location:T,mediaUrls:W};e?(et.createdAt=x?Ne.fromDate(new Date(x)):e.createdAt,await B8(vw(cm,"blogPosts",e.id),et)):(et.createdAt=x?Ne.fromDate(new Date(x)):G8(),await F8(_k(cm,"blogPosts"),et)),e||(s(""),c([]),E(null),O(""),J.current&&(J.current.value="")),t&&t()}catch(it){K(`Fehler: ${it.message}.`)}finally{H(!1)}}},M=[...d.map(k=>({type:"existing",src:k})),...l.map(k=>({type:"new",src:URL.createObjectURL(k),fileObject:k}))];return tt.jsxs("form",{onSubmit:N,className:"bg-white/90 rounded-2xl shadow-lg p-4 mb-12 flex flex-col gap-4 border border-subtle",children:[tt.jsx("textarea",{value:i,onChange:k=>s(k.target.value),placeholder:"Was ist heute Schnes passiert?",className:"w-full p-3 border border-subtle rounded-lg focus:outline-none focus:ring-2 focus:ring-accent",rows:"4"}),tt.jsxs("div",{children:[tt.jsxs("label",{className:"block text-text/80 text-sm font-bold mb-2 flex items-center gap-2",children:[tt.jsx($h,{size:16})," Datum & Uhrzeit"]}),tt.jsx("input",{type:"datetime-local",value:x,onChange:k=>O(k.target.value),className:"w-full p-2 border border-subtle rounded-lg focus:outline-none focus:ring-2 focus:ring-accent"})]}),tt.jsxs("div",{children:[tt.jsxs("button",{type:"button",onClick:()=>J.current.click(),className:"cursor-pointer flex items-center gap-2 p-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm w-fit",children:[tt.jsx(D2,{className:"text-primary"}),tt.jsx("span",{children:"Bilder hinzufgen..."})]}),tt.jsx("input",{ref:J,onChange:q,type:"file",accept:"image/*",className:"hidden",multiple:!0}),M.length>0&&tt.jsx("div",{className:"mt-4 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:M.map((k,it)=>tt.jsxs("div",{className:"relative group",children:[tt.jsx("img",{src:k.src,alt:`Vorschau ${it+1}`,className:"rounded-md w-full h-24 object-cover"}),tt.jsx("button",{type:"button",onClick:()=>k.type==="existing"?P(k.src):D(k.fileObject),className:"absolute top-1 right-1 bg-black/50 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:tt.jsx(mR,{size:12})})]},it))})]}),tt.jsxs("div",{children:[tt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[tt.jsx("label",{className:"block text-text/80 text-sm font-bold",children:"Ort auswhlen"}),tt.jsxs("button",{type:"button",onClick:G,disabled:Z,className:"flex items-center gap-1.5 text-xs font-semibold text-primary hover:text-accent disabled:opacity-50 transition",children:[Z?tt.jsx(zp,{size:14,className:"animate-spin"}):tt.jsx(N2,{size:14}),Z?"Suche...":"Meinen Standort verwenden"]})]}),tt.jsx("div",{className:"h-64 rounded-lg overflow-hidden border border-subtle",children:tt.jsxs(DI,{center:T?[T.lat,T.lng]:[41.1579,-8.6291],zoom:13,style:{height:"100%",width:"100%"},children:[tt.jsx(LI,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),tt.jsx(xZ,{onLocationSelect:$}),tt.jsx(AZ,{location:T}),T&&tt.jsx(OI,{position:[T.lat,T.lng]})]})}),T&&tt.jsxs("div",{className:"mt-2 flex items-center gap-1.5 text-sm text-green-600 font-medium",children:[" ",tt.jsx(pR,{size:14})," Standort ausgewhlt!"," "]})]}),F&&tt.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-100 p-3 rounded-lg",children:[" ",tt.jsx(tL,{size:18})," ",tt.jsx("span",{children:F})," "]}),tt.jsx("button",{type:"submit",disabled:U,className:"w-full flex justify-center items-center gap-2 bg-primary hover:bg-primary/90 text-white font-bold py-3 rounded-lg transition-transform transform active:scale-95 disabled:bg-primary/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:U?tt.jsxs(tt.Fragment,{children:[tt.jsx(zp,{className:"animate-spin"})," ",tt.jsx("span",{children:"Wird gespeichert..."})]}):tt.jsxs(tt.Fragment,{children:[tt.jsx(K2,{size:18})," ",tt.jsx("span",{children:e?"nderungen speichern":"Posten"})]})})]})}function PZ({post:e,onClose:t}){return tt.jsx(Pi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:t,children:tt.jsxs(Pi.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-background rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-subtle",onClick:n=>n.stopPropagation(),children:[tt.jsxs("div",{className:"sticky top-0 bg-background/80 p-4 border-b border-subtle flex justify-between items-center z-10",children:[tt.jsx("h3",{className:"font-bold text-lg text-text",children:"Post bearbeiten"}),tt.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200",children:tt.jsx(mR,{size:20})})]}),tt.jsx("div",{className:"p-4",children:tt.jsx(AM,{postToEdit:e,onFormSubmit:t,formId:e.id})})]})})}function kZ(){const[e,t]=Y.useState(""),[n,i]=Y.useState(""),[s,l]=Y.useState(""),c=dm(),d=async p=>{p.preventDefault(),l("");try{await iG(kf,e,n),c("/loveletters")}catch(m){l("Login fehlgeschlagen. Bitte berprfe E-Mail und Passwort."),console.error("Firebase Login Error:",m)}};return tt.jsx("div",{className:"w-full max-w-sm mx-auto mt-10 font-sans",children:tt.jsxs("form",{onSubmit:d,className:"bg-white/90 shadow-lg rounded-2xl px-8 pt-6 pb-8 mb-4 border border-subtle",children:[tt.jsx("h2",{className:"text-2xl font-bold text-center text-text mb-6",children:"Login"}),tt.jsxs("div",{className:"mb-4",children:[tt.jsx("label",{className:"block text-text/80 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),tt.jsx("input",{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),className:"shadow-inner appearance-none border border-subtle rounded-lg w-full py-2 px-3 text-text leading-tight focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),tt.jsxs("div",{className:"mb-6",children:[tt.jsx("label",{className:"block text-text/80 text-sm font-bold mb-2",htmlFor:"password",children:"Passwort"}),tt.jsx("input",{id:"password",type:"password",value:n,onChange:p=>i(p.target.value),className:"shadow-inner appearance-none border border-subtle rounded-lg w-full py-2 px-3 text-text leading-tight focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),s&&tt.jsx("p",{className:"text-red-500 text-xs italic text-center mb-4",children:s}),tt.jsx("div",{children:tt.jsx("button",{type:"submit",className:"bg-primary hover:bg-primary/90 text-white font-bold py-2 px-4 rounded-lg w-full transition-transform transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:"Anmelden"})})]})})}function MZ(){const[e]=Zw(kf),t=dm(),n=()=>{oG(kf),t("/login")},i={color:"hsl(215, 35%, 45%)",fontWeight:"bold"};return tt.jsx("nav",{className:"w-full max-w-xl bg-white/80 rounded-full shadow-md p-2 sticky top-4 z-50 mb-6",children:tt.jsx("div",{className:"flex justify-around items-center text-text/80",children:e?tt.jsxs(tt.Fragment,{children:[tt.jsxs(Bh,{to:"/loveletters",style:({isActive:s})=>s?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[tt.jsx(k2,{size:24}),tt.jsx("span",{className:"text-xs mt-1 font-sans",children:"Loveletters"})]}),tt.jsxs(Bh,{to:"/blog",style:({isActive:s})=>s?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[tt.jsx(Vp,{size:24}),tt.jsx("span",{className:"text-xs mt-1 font-sans",children:"Blog"})]}),tt.jsxs("button",{onClick:n,className:"flex flex-col items-center hover:text-primary transition-colors",children:[tt.jsx(j2,{size:24}),tt.jsx("span",{className:"text-xs mt-1 font-sans",children:"Logout"})]})]}):tt.jsxs(tt.Fragment,{children:[tt.jsxs(Bh,{to:"/blog",style:({isActive:s})=>s?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[tt.jsx(Vp,{size:24}),tt.jsx("span",{className:"text-xs mt-1 font-sans",children:"Blog"})]}),tt.jsxs(Bh,{to:"/login",style:({isActive:s})=>s?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[tt.jsx(dR,{size:24}),tt.jsx("span",{className:"text-xs mt-1 font-sans",children:"Login"})]})]})})})}function DZ({children:e}){const[t,n]=Zw(kf);return n?tt.jsx("div",{className:"flex w-full h-[80vh] justify-center items-center",children:tt.jsx(zp,{className:"animate-spin text-primary",size:48})}):t?e:tt.jsx(UO,{to:"/login",replace:!0})}function OZ(){return tt.jsxs("div",{className:"min-h-screen bg-background text-text flex flex-col items-center p-4",children:[tt.jsx(MZ,{}),tt.jsxs(jO,{children:[tt.jsx(Uh,{path:"/",element:tt.jsx(Oz,{})}),tt.jsx(Uh,{path:"/loveletters",element:tt.jsx(DZ,{children:tt.jsx(u9,{})})}),tt.jsx(Uh,{path:"/blog",element:tt.jsx(IZ,{})}),tt.jsx(Uh,{path:"/login",element:tt.jsx(kZ,{})})]})]})}const LZ="/loveletter/";YD.createRoot(document.getElementById("root")).render(tt.jsx(Op.StrictMode,{children:tt.jsx(c2,{basename:LZ,children:tt.jsx(OZ,{})})}));
