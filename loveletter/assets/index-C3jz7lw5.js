(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Bm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var e_={exports:{}},Vh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS;function bL(){if(DS)return Vh;DS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:u,ref:s!==void 0?s:null,props:a}}return Vh.Fragment=t,Vh.jsx=n,Vh.jsxs=n,Vh}var MS;function TL(){return MS||(MS=1,e_.exports=bL()),e_.exports}var tt=TL(),n_={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OS;function EL(){if(OS)return oe;OS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function T(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,V={};function F(R,ct,_t){this.props=R,this.context=ct,this.refs=V,this.updater=_t||S}F.prototype.isReactComponent={},F.prototype.setState=function(R,ct){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,ct,"setState")},F.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function j(){}j.prototype=F.prototype;function Z(R,ct,_t){this.props=R,this.context=ct,this.refs=V,this.updater=_t||S}var q=Z.prototype=new j;q.constructor=Z,D(q,F.prototype),q.isPureReactComponent=!0;var nt=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function H(R,ct,_t,G,Rt,kt){return _t=kt.ref,{$$typeof:e,type:R,key:ct,ref:_t!==void 0?_t:null,props:kt}}function I(R,ct){return H(R.type,ct,void 0,void 0,void 0,R.props)}function M(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function K(R){var ct={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(_t){return ct[_t]})}var N=/\/+/g;function k(R,ct){return typeof R=="object"&&R!==null&&R.key!=null?K(""+R.key):ct.toString(36)}function O(){}function rt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(O,O):(R.status="pending",R.then(function(ct){R.status==="pending"&&(R.status="fulfilled",R.value=ct)},function(ct){R.status==="pending"&&(R.status="rejected",R.reason=ct)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function $(R,ct,_t,G,Rt){var kt=typeof R;(kt==="undefined"||kt==="boolean")&&(R=null);var Tt=!1;if(R===null)Tt=!0;else switch(kt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(R.$$typeof){case e:case t:Tt=!0;break;case y:return Tt=R._init,$(Tt(R._payload),ct,_t,G,Rt)}}if(Tt)return Rt=Rt(R),Tt=G===""?"."+k(R,0):G,nt(Rt)?(_t="",Tt!=null&&(_t=Tt.replace(N,"$&/")+"/"),$(Rt,ct,_t,"",function(Ce){return Ce})):Rt!=null&&(M(Rt)&&(Rt=I(Rt,_t+(Rt.key==null||R&&R.key===Rt.key?"":(""+Rt.key).replace(N,"$&/")+"/")+Tt)),ct.push(Rt)),1;Tt=0;var le=G===""?".":G+":";if(nt(R))for(var Ft=0;Ft<R.length;Ft++)G=R[Ft],kt=le+k(G,Ft),Tt+=$(G,ct,_t,kt,Rt);else if(Ft=T(R),typeof Ft=="function")for(R=Ft.call(R),Ft=0;!(G=R.next()).done;)G=G.value,kt=le+k(G,Ft++),Tt+=$(G,ct,_t,kt,Rt);else if(kt==="object"){if(typeof R.then=="function")return $(rt(R),ct,_t,G,Rt);throw ct=String(R),Error("Objects are not valid as a React child (found: "+(ct==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":ct)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function et(R,ct,_t){if(R==null)return R;var G=[],Rt=0;return $(R,G,"","",function(kt){return ct.call(_t,kt,Rt++)}),G}function it(R){if(R._status===-1){var ct=R._result;ct=ct(),ct.then(function(_t){(R._status===0||R._status===-1)&&(R._status=1,R._result=_t)},function(_t){(R._status===0||R._status===-1)&&(R._status=2,R._result=_t)}),R._status===-1&&(R._status=0,R._result=ct)}if(R._status===1)return R._result.default;throw R._result}var ot=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ct=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(ct))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Ct(){}return oe.Children={map:et,forEach:function(R,ct,_t){et(R,function(){ct.apply(this,arguments)},_t)},count:function(R){var ct=0;return et(R,function(){ct++}),ct},toArray:function(R){return et(R,function(ct){return ct})||[]},only:function(R){if(!M(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},oe.Component=F,oe.Fragment=n,oe.Profiler=s,oe.PureComponent=Z,oe.StrictMode=i,oe.Suspense=p,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,oe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return X.H.useMemoCache(R)}},oe.cache=function(R){return function(){return R.apply(null,arguments)}},oe.cloneElement=function(R,ct,_t){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var G=D({},R.props),Rt=R.key,kt=void 0;if(ct!=null)for(Tt in ct.ref!==void 0&&(kt=void 0),ct.key!==void 0&&(Rt=""+ct.key),ct)!Y.call(ct,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&ct.ref===void 0||(G[Tt]=ct[Tt]);var Tt=arguments.length-2;if(Tt===1)G.children=_t;else if(1<Tt){for(var le=Array(Tt),Ft=0;Ft<Tt;Ft++)le[Ft]=arguments[Ft+2];G.children=le}return H(R.type,Rt,void 0,void 0,kt,G)},oe.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:a,_context:R},R},oe.createElement=function(R,ct,_t){var G,Rt={},kt=null;if(ct!=null)for(G in ct.key!==void 0&&(kt=""+ct.key),ct)Y.call(ct,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Rt[G]=ct[G]);var Tt=arguments.length-2;if(Tt===1)Rt.children=_t;else if(1<Tt){for(var le=Array(Tt),Ft=0;Ft<Tt;Ft++)le[Ft]=arguments[Ft+2];Rt.children=le}if(R&&R.defaultProps)for(G in Tt=R.defaultProps,Tt)Rt[G]===void 0&&(Rt[G]=Tt[G]);return H(R,kt,void 0,void 0,null,Rt)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(R){return{$$typeof:f,render:R}},oe.isValidElement=M,oe.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:it}},oe.memo=function(R,ct){return{$$typeof:m,type:R,compare:ct===void 0?null:ct}},oe.startTransition=function(R){var ct=X.T,_t={};X.T=_t;try{var G=R(),Rt=X.S;Rt!==null&&Rt(_t,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Ct,ot)}catch(kt){ot(kt)}finally{X.T=ct}},oe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},oe.use=function(R){return X.H.use(R)},oe.useActionState=function(R,ct,_t){return X.H.useActionState(R,ct,_t)},oe.useCallback=function(R,ct){return X.H.useCallback(R,ct)},oe.useContext=function(R){return X.H.useContext(R)},oe.useDebugValue=function(){},oe.useDeferredValue=function(R,ct){return X.H.useDeferredValue(R,ct)},oe.useEffect=function(R,ct,_t){var G=X.H;if(typeof _t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(R,ct)},oe.useId=function(){return X.H.useId()},oe.useImperativeHandle=function(R,ct,_t){return X.H.useImperativeHandle(R,ct,_t)},oe.useInsertionEffect=function(R,ct){return X.H.useInsertionEffect(R,ct)},oe.useLayoutEffect=function(R,ct){return X.H.useLayoutEffect(R,ct)},oe.useMemo=function(R,ct){return X.H.useMemo(R,ct)},oe.useOptimistic=function(R,ct){return X.H.useOptimistic(R,ct)},oe.useReducer=function(R,ct,_t){return X.H.useReducer(R,ct,_t)},oe.useRef=function(R){return X.H.useRef(R)},oe.useState=function(R){return X.H.useState(R)},oe.useSyncExternalStore=function(R,ct,_t){return X.H.useSyncExternalStore(R,ct,_t)},oe.useTransition=function(){return X.H.useTransition()},oe.version="19.1.1",oe}var LS;function hl(){return LS||(LS=1,n_.exports=EL()),n_.exports}var U=hl();const gi=Bm(U);var i_={exports:{}},zh={},r_={exports:{}},s_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS;function SL(){return NS||(NS=1,(function(e){function t(et,it){var ot=et.length;et.push(it);t:for(;0<ot;){var Ct=ot-1>>>1,R=et[Ct];if(0<s(R,it))et[Ct]=it,et[ot]=R,ot=Ct;else break t}}function n(et){return et.length===0?null:et[0]}function i(et){if(et.length===0)return null;var it=et[0],ot=et.pop();if(ot!==it){et[0]=ot;t:for(var Ct=0,R=et.length,ct=R>>>1;Ct<ct;){var _t=2*(Ct+1)-1,G=et[_t],Rt=_t+1,kt=et[Rt];if(0>s(G,ot))Rt<R&&0>s(kt,G)?(et[Ct]=kt,et[Rt]=ot,Ct=Rt):(et[Ct]=G,et[_t]=ot,Ct=_t);else if(Rt<R&&0>s(kt,ot))et[Ct]=kt,et[Rt]=ot,Ct=Rt;else break t}}return it}function s(et,it){var ot=et.sortIndex-it.sortIndex;return ot!==0?ot:et.id-it.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],m=[],y=1,w=null,T=3,S=!1,D=!1,V=!1,F=!1,j=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function nt(et){for(var it=n(m);it!==null;){if(it.callback===null)i(m);else if(it.startTime<=et)i(m),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(m)}}function X(et){if(V=!1,nt(et),!D)if(n(p)!==null)D=!0,Y||(Y=!0,k());else{var it=n(m);it!==null&&$(X,it.startTime-et)}}var Y=!1,H=-1,I=5,M=-1;function K(){return F?!0:!(e.unstable_now()-M<I)}function N(){if(F=!1,Y){var et=e.unstable_now();M=et;var it=!0;try{t:{D=!1,V&&(V=!1,Z(H),H=-1),S=!0;var ot=T;try{e:{for(nt(et),w=n(p);w!==null&&!(w.expirationTime>et&&K());){var Ct=w.callback;if(typeof Ct=="function"){w.callback=null,T=w.priorityLevel;var R=Ct(w.expirationTime<=et);if(et=e.unstable_now(),typeof R=="function"){w.callback=R,nt(et),it=!0;break e}w===n(p)&&i(p),nt(et)}else i(p);w=n(p)}if(w!==null)it=!0;else{var ct=n(m);ct!==null&&$(X,ct.startTime-et),it=!1}}break t}finally{w=null,T=ot,S=!1}it=void 0}}finally{it?k():Y=!1}}}var k;if(typeof q=="function")k=function(){q(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,rt=O.port2;O.port1.onmessage=N,k=function(){rt.postMessage(null)}}else k=function(){j(N,0)};function $(et,it){H=j(function(){et(e.unstable_now())},it)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(et){et.callback=null},e.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<et?Math.floor(1e3/et):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(et){switch(T){case 1:case 2:case 3:var it=3;break;default:it=T}var ot=T;T=it;try{return et()}finally{T=ot}},e.unstable_requestPaint=function(){F=!0},e.unstable_runWithPriority=function(et,it){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var ot=T;T=et;try{return it()}finally{T=ot}},e.unstable_scheduleCallback=function(et,it,ot){var Ct=e.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ct+ot:Ct):ot=Ct,et){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ot+R,et={id:y++,callback:it,priorityLevel:et,startTime:ot,expirationTime:R,sortIndex:-1},ot>Ct?(et.sortIndex=ot,t(m,et),n(p)===null&&et===n(m)&&(V?(Z(H),H=-1):V=!0,$(X,ot-Ct))):(et.sortIndex=R,t(p,et),D||S||(D=!0,Y||(Y=!0,k()))),et},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(et){var it=T;return function(){var ot=T;T=it;try{return et.apply(this,arguments)}finally{T=ot}}}})(s_)),s_}var VS;function xL(){return VS||(VS=1,r_.exports=SL()),r_.exports}var o_={exports:{}},Oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS;function AL(){if(zS)return Oi;zS=1;var e=hl();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(p,m,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:p,containerInfo:m,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Oi.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return a(p,m,null,y)},Oi.flushSync=function(p){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=m,i.p=y,i.d.f()}},Oi.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Oi.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Oi.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,w=f(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:S}):y==="script"&&i.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Oi.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Oi.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,w=f(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Oi.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Oi.requestFormReset=function(p){i.d.r(p)},Oi.unstable_batchedUpdates=function(p,m){return p(m)},Oi.useFormState=function(p,m,y){return u.H.useFormState(p,m,y)},Oi.useFormStatus=function(){return u.H.useHostTransitionStatus()},Oi.version="19.1.1",Oi}var US;function lC(){if(US)return o_.exports;US=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),o_.exports=AL(),o_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS;function RL(){if(BS)return zh;BS=1;var e=xL(),t=hl(),n=lC();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function u(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function p(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var c=r,d=o;;){var v=c.return;if(v===null)break;var b=v.alternate;if(b===null){if(d=v.return,d!==null){c=d;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===c)return f(v),r;if(b===d)return f(v),o;b=b.sibling}throw Error(i(188))}if(c.return!==d.return)c=v,d=b;else{for(var P=!1,B=v.child;B;){if(B===c){P=!0,c=v,d=b;break}if(B===d){P=!0,d=v,c=b;break}B=B.sibling}if(!P){for(B=b.child;B;){if(B===c){P=!0,c=b,d=v;break}if(B===d){P=!0,d=b,c=v;break}B=B.sibling}if(!P)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),q=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function rt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case F:return"Profiler";case V:return"StrictMode";case X:return"Suspense";case Y:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case q:return(r.displayName||"Context")+".Provider";case Z:return(r._context.displayName||"Context")+".Consumer";case nt:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return o=r.displayName||null,o!==null?o:rt(r.type)||"Memo";case I:o=r._payload,r=r._init;try{return rt(r(o))}catch{}}return null}var $=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ct=[],R=-1;function ct(r){return{current:r}}function _t(r){0>R||(r.current=Ct[R],Ct[R]=null,R--)}function G(r,o){R++,Ct[R]=r.current,r.current=o}var Rt=ct(null),kt=ct(null),Tt=ct(null),le=ct(null);function Ft(r,o){switch(G(Tt,o),G(kt,r),G(Rt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?oS(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=oS(o),r=aS(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}_t(Rt),G(Rt,r)}function Ce(){_t(Rt),_t(kt),_t(Tt)}function Yt(r){r.memoizedState!==null&&G(le,r);var o=Rt.current,c=aS(o,r.type);o!==c&&(G(kt,r),G(Rt,c))}function nn(r){kt.current===r&&(_t(Rt),_t(kt)),le.current===r&&(_t(le),Dh._currentValue=ot)}var Ge=Object.prototype.hasOwnProperty,Nn=e.unstable_scheduleCallback,Rn=e.unstable_cancelCallback,ri=e.unstable_shouldYield,yi=e.unstable_requestPaint,yn=e.unstable_now,mr=e.unstable_getCurrentPriorityLevel,Qi=e.unstable_ImmediatePriority,Cn=e.unstable_UserBlockingPriority,si=e.unstable_NormalPriority,gr=e.unstable_LowPriority,Ji=e.unstable_IdlePriority,jr=e.log,Ls=e.unstable_setDisableYieldValue,mt=null,wt=null;function Lt(r){if(typeof jr=="function"&&Ls(r),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(mt,r)}catch{}}var Bt=Math.clz32?Math.clz32:Vn,ce=Math.log,je=Math.LN2;function Vn(r){return r>>>=0,r===0?32:31-(ce(r)/je|0)|0}var _n=256,Xn=4194304;function rn(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function tn(r,o,c){var d=r.pendingLanes;if(d===0)return 0;var v=0,b=r.suspendedLanes,P=r.pingedLanes;r=r.warmLanes;var B=d&134217727;return B!==0?(d=B&~b,d!==0?v=rn(d):(P&=B,P!==0?v=rn(P):c||(c=B&~r,c!==0&&(v=rn(c))))):(B=d&~b,B!==0?v=rn(B):P!==0?v=rn(P):c||(c=d&~r,c!==0&&(v=rn(c)))),v===0?0:o!==0&&o!==v&&(o&b)===0&&(b=v&-v,c=o&-o,b>=c||b===32&&(c&4194048)!==0)?o:v}function vn(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function zn(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(){var r=_n;return _n<<=1,(_n&4194048)===0&&(_n=256),r}function Ns(){var r=Xn;return Xn<<=1,(Xn&62914560)===0&&(Xn=4194304),r}function tr(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Me(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function In(r,o,c,d,v,b){var P=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var B=r.entanglements,J=r.expirationTimes,ft=r.hiddenUpdates;for(c=P&~c;0<c;){var vt=31-Bt(c),St=1<<vt;B[vt]=0,J[vt]=-1;var dt=ft[vt];if(dt!==null)for(ft[vt]=null,vt=0;vt<dt.length;vt++){var pt=dt[vt];pt!==null&&(pt.lane&=-536870913)}c&=~St}d!==0&&We(r,d,0),b!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=b&~(P&~o))}function We(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Bt(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function Ci(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var d=31-Bt(c),v=1<<d;v&o|r[d]&o&&(r[d]|=o),c&=~v}}function hn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function wn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Pn(){var r=it.p;return r!==0?r:(r=window.event,r===void 0?32:AS(r.type))}function ji(r,o){var c=it.p;try{return it.p=r,o()}finally{it.p=c}}var ie=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ie,Se="__reactProps$"+ie,sn="__reactContainer$"+ie,bn="__reactEvents$"+ie,Nt="__reactListeners$"+ie,Un="__reactHandles$"+ie,yr="__reactResources$"+ie,er="__reactMarker$"+ie;function hs(r){delete r[Ie],delete r[Se],delete r[bn],delete r[Nt],delete r[Un]}function _r(r){var o=r[Ie];if(o)return o;for(var c=r.parentNode;c;){if(o=c[sn]||c[Ie]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=hS(r);r!==null;){if(c=r[Ie])return c;r=hS(r)}return o}r=c,c=r.parentNode}return null}function vr(r){if(r=r[Ie]||r[sn]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function _i(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function oi(r){var o=r[yr];return o||(o=r[yr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function fn(r){r[er]=!0}var vl=new Set,Qo={};function wr(r,o){Fr(r,o),Fr(r+"Capture",o)}function Fr(r,o){for(Qo[r]=o,r=0;r<o.length;r++)vl.add(o[r])}var mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},wo={};function gu(r){return Ge.call(wo,r)?!0:Ge.call(vo,r)?!1:mu.test(r)?wo[r]=!0:(vo[r]=!0,!1)}function Vs(r,o,c){if(gu(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function Hr(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function Qn(r,o,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+d)}}var fs,zs;function qr(r){if(fs===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);fs=o&&o[1]||"",zs=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+r+zs}var bo=!1;function Gr(r,o){if(!r||bo)return"";bo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(pt){var dt=pt}Reflect.construct(r,[],St)}else{try{St.call()}catch(pt){dt=pt}r.call(St.prototype)}}else{try{throw Error()}catch(pt){dt=pt}(St=r())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(pt){if(pt&&dt&&typeof pt.stack=="string")return[pt.stack,dt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),P=b[0],B=b[1];if(P&&B){var J=P.split(`
`),ft=B.split(`
`);for(v=d=0;d<J.length&&!J[d].includes("DetermineComponentFrameRoot");)d++;for(;v<ft.length&&!ft[v].includes("DetermineComponentFrameRoot");)v++;if(d===J.length||v===ft.length)for(d=J.length-1,v=ft.length-1;1<=d&&0<=v&&J[d]!==ft[v];)v--;for(;1<=d&&0<=v;d--,v--)if(J[d]!==ft[v]){if(d!==1||v!==1)do if(d--,v--,0>v||J[d]!==ft[v]){var vt=`
`+J[d].replace(" at new "," at ");return r.displayName&&vt.includes("<anonymous>")&&(vt=vt.replace("<anonymous>",r.displayName)),vt}while(1<=d&&0<=v);break}}}finally{bo=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?qr(c):""}function he(r){switch(r.tag){case 26:case 27:case 5:return qr(r.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 15:return Gr(r.type,!1);case 11:return Gr(r.type.render,!1);case 1:return Gr(r.type,!0);case 31:return qr("Activity");default:return""}}function Pe(r){try{var o="";do o+=he(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Wr(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Us(r){var o=Wr(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,b=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(P){d=""+P,b.call(this,P)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(P){d=""+P},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Bs(r){r._valueTracker||(r._valueTracker=Us(r))}function ee(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return r&&(d=Wr(r)?r.checked?"true":"false":r.value),r=d,r!==c?(o.setValue(r),!0):!1}function Oe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var wl=/[\n"\\]/g;function en(r){return r.replace(wl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ze(r,o,c,d,v,b,P,B){r.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.type=P:r.removeAttribute("type"),o!=null?P==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Bn(o)):r.value!==""+Bn(o)&&(r.value=""+Bn(o)):P!=="submit"&&P!=="reset"||r.removeAttribute("value"),o!=null?br(r,P,Bn(o)):c!=null?br(r,P,Bn(c)):d!=null&&r.removeAttribute("value"),v==null&&b!=null&&(r.defaultChecked=!!b),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?r.name=""+Bn(B):r.removeAttribute("name")}function To(r,o,c,d,v,b,P,B){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;c=c!=null?""+Bn(c):"",o=o!=null?""+Bn(o):c,B||o===r.value||(r.value=o),r.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=B?r.checked:!!d,r.defaultChecked=!!d,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(r.name=P)}function br(r,o,c){o==="number"&&Oe(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function vi(r,o,c,d){if(r=r.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<r.length;c++)v=o.hasOwnProperty("$"+r[c].value),r[c].selected!==v&&(r[c].selected=v),v&&d&&(r[c].defaultSelected=!0)}else{for(c=""+Bn(c),o=null,v=0;v<r.length;v++){if(r[v].value===c){r[v].selected=!0,d&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function Zt(r,o,c){if(o!=null&&(o=""+Bn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+Bn(c):""}function Fi(r,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if($(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Bn(o),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function ai(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var Tr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(r,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,c):typeof c!="number"||c===0||Tr.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function ds(r,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&c[v]!==d&&Jo(r,v,d)}else for(var b in o)o.hasOwnProperty(b)&&Jo(r,b,o[b])}function Eo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function js(r){return ta.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Er=null;function wi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Zr=null,Sr=null;function Tl(r){var o=vr(r);if(o&&(r=o.stateNode)){var c=r[Se]||null;t:switch(r=o.stateNode,o.type){case"input":if(Ze(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+en(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==r&&d.form===r.form){var v=d[Se]||null;if(!v)throw Error(i(90));Ze(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===r.form&&ee(d)}break t;case"textarea":Zt(r,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&vi(r,!!c.multiple,o,!1)}}}var qt=!1;function Hi(r,o,c){if(qt)return r(o,c);qt=!0;try{var d=r(o);return d}finally{if(qt=!1,(Zr!==null||Sr!==null)&&(np(),Zr&&(o=Zr,r=Sr,Sr=Zr=null,Tl(o),r)))for(o=0;o<r.length;o++)Tl(r[o])}}function be(r,o){var c=r.stateNode;if(c===null)return null;var d=c[Se]||null;if(d===null)return null;c=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ii=!1;if(nr)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){Ii=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{Ii=!1}var ir=null,Pi=null,xr=null;function ms(){if(xr)return xr;var r,o=Pi,c=o.length,d,v="value"in ir?ir.value:ir.textContent,b=v.length;for(r=0;r<c&&o[r]===v[r];r++);var P=c-r;for(d=1;d<=P&&o[c-d]===v[b-d];d++);return xr=v.slice(r,1<d?1-d:void 0)}function Ve(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function li(){return!0}function ea(){return!1}function kn(r){function o(c,d,v,b,P){this._reactName=c,this._targetInst=v,this.type=d,this.nativeEvent=b,this.target=P,this.currentTarget=null;for(var B in r)r.hasOwnProperty(B)&&(c=r[B],this[B]=c?c(b):b[B]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?li:ea,this.isPropagationStopped=ea,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),o}var xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=kn(xe),gs=y({},xe,{view:0,detail:0}),yu=kn(gs),xo,se,Kr,Jn=y({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Kr&&(Kr&&r.type==="mousemove"?(xo=r.screenX-Kr.screenX,se=r.screenY-Kr.screenY):se=xo=0,Kr=r),xo)},movementY:function(r){return"movementY"in r?r.movementY:se}}),ui=kn(Jn),El=y({},Jn,{dataTransfer:0}),$c=kn(El),ys=y({},gs,{relatedTarget:0}),na=kn(ys),ia=y({},xe,{animationName:0,elapsedTime:0,pseudoElement:0}),ra=kn(ia),_u=y({},xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fs=kn(_u),Yc=y({},xe,{data:0}),ki=kn(Yc),Ao={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ar={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sa(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Ar[r])?!!o[r]:!1}function Hs(){return sa}var oa=y({},gs,{key:function(r){if(r.key){var o=Ao[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ve(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sl[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(r){return r.type==="keypress"?Ve(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ve(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),aa=kn(oa),xl=y({},Jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),la=kn(xl),_s=y({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),vu=kn(_s),ua=y({},xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),wu=kn(ua),Al=y({},Jn,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ro=kn(Al),jn=y({},xe,{newState:0,oldState:0}),$r=kn(jn),bu=[9,13,27,32],Di=nr&&"CompositionEvent"in window,g=null;nr&&"documentMode"in document&&(g=document.documentMode);var x=nr&&"TextEvent"in window&&!g,C=nr&&(!Di||g&&8<g&&11>=g),W=" ",lt=!1;function yt(r,o){switch(r){case"keyup":return bu.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var me=!1;function Tn(r,o){switch(r){case"compositionend":return Pt(o);case"keypress":return o.which!==32?null:(lt=!0,W);case"textInput":return r=o.data,r===W&&lt?null:r;default:return null}}function ge(r,o){if(me)return r==="compositionend"||!Di&&yt(r,o)?(r=ms(),xr=Pi=ir=null,me=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return C&&o.locale!=="ko"?null:o.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ke(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!ke[r.type]:o==="textarea"}function vs(r,o,c,d){Zr?Sr?Sr.push(d):Sr=[d]:Zr=d,o=lp(o,"onChange"),0<o.length&&(c=new So("onChange","change",null,c,d),r.push({event:c,listeners:o}))}var Fe=null,Yr=null;function Xr(r){eS(r,0)}function Tu(r){var o=_i(r);if(ee(o))return r}function ca(r,o){if(r==="change")return o}var Xc=!1;if(nr){var ha;if(nr){var Qc="oninput"in document;if(!Qc){var ws=document.createElement("div");ws.setAttribute("oninput","return;"),Qc=typeof ws.oninput=="function"}ha=Qc}else ha=!1;Xc=ha&&(!document.documentMode||9<document.documentMode)}function Rl(){Fe&&(Fe.detachEvent("onpropertychange",bd),Yr=Fe=null)}function bd(r){if(r.propertyName==="value"&&Tu(Yr)){var o=[];vs(o,Yr,r,wi(r)),Hi(Xr,o)}}function Jc(r,o,c){r==="focusin"?(Rl(),Fe=o,Yr=c,Fe.attachEvent("onpropertychange",bd)):r==="focusout"&&Rl()}function xg(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tu(Yr)}function bs(r,o){if(r==="click")return Tu(o)}function Ag(r,o){if(r==="input"||r==="change")return Tu(o)}function fa(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var qi=typeof Object.is=="function"?Object.is:fa;function Gi(r,o){if(qi(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var v=c[d];if(!Ge.call(o,v)||!qi(r[v],o[v]))return!1}return!0}function Cl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function th(r,o){var c=Cl(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=o&&d>=o)return{node:c,offset:o-r};r=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Cl(c)}}function Eu(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Eu(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Il(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Oe(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Oe(r.document)}return o}function Pl(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var Su=nr&&"documentMode"in document&&11>=document.documentMode,Rr=null,da=null,Co=null,xu=!1;function Td(r,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xu||Rr==null||Rr!==Oe(d)||(d=Rr,"selectionStart"in d&&Pl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Co&&Gi(Co,d)||(Co=d,d=lp(da,"onSelect"),0<d.length&&(o=new So("onSelect","select",null,o,c),r.push({event:o,listeners:d}),o.target=Rr)))}function Qr(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var pa={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Au={},Ed={};nr&&(Ed=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function qs(r){if(Au[r])return Au[r];if(!pa[r])return r;var o=pa[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in Ed)return Au[r]=o[c];return r}var Sd=qs("animationend"),Cr=qs("animationiteration"),kl=qs("animationstart"),Rg=qs("transitionrun"),Ru=qs("transitionstart"),Cg=qs("transitioncancel"),eh=qs("transitionend"),xd=new Map,Io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Io.push("scrollEnd");function Ir(r,o){xd.set(r,o),wr(o,[r])}var Po=new WeakMap;function Wi(r,o){if(typeof r=="object"&&r!==null){var c=Po.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Pe(o)},Po.set(r,o),o)}return{value:r,source:o,stack:Pe(o)}}var Zi=[],ma=0,Pr=0;function Dl(){for(var r=ma,o=Pr=ma=0;o<r;){var c=Zi[o];Zi[o++]=null;var d=Zi[o];Zi[o++]=null;var v=Zi[o];Zi[o++]=null;var b=Zi[o];if(Zi[o++]=null,d!==null&&v!==null){var P=d.pending;P===null?v.next=v:(v.next=P.next,P.next=v),d.pending=v}b!==0&&Ol(c,v,b)}}function Ml(r,o,c,d){Zi[ma++]=r,Zi[ma++]=o,Zi[ma++]=c,Zi[ma++]=d,Pr|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function ko(r,o,c,d){return Ml(r,o,c,d),Gs(r)}function ga(r,o){return Ml(r,null,null,o),Gs(r)}function Ol(r,o,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var v=!1,b=r.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(v=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,v&&o!==null&&(v=31-Bt(c),r=b.hiddenUpdates,d=r[v],d===null?r[v]=[o]:d.push(o),o.lane=c|536870912),b):null}function Gs(r){if(50<Sh)throw Sh=0,xy=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Do={};function Ad(r,o,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(r,o,c,d){return new Ad(r,o,c,d)}function Cu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Jr(r,o){var c=r.alternate;return c===null?(c=Ki(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function nh(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Ll(r,o,c,d,v,b){var P=0;if(d=r,typeof r=="function")Cu(r)&&(P=1);else if(typeof r=="string")P=lL(r,c,Rt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case M:return r=Ki(31,c,o,v),r.elementType=M,r.lanes=b,r;case D:return Ws(c.children,v,b,o);case V:P=8,v|=24;break;case F:return r=Ki(12,c,o,v|2),r.elementType=F,r.lanes=b,r;case X:return r=Ki(13,c,o,v),r.elementType=X,r.lanes=b,r;case Y:return r=Ki(19,c,o,v),r.elementType=Y,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case q:P=10;break t;case Z:P=9;break t;case nt:P=11;break t;case H:P=14;break t;case I:P=16,d=null;break t}P=29,c=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Ki(P,c,o,v),o.elementType=r,o.type=d,o.lanes=b,o}function Ws(r,o,c,d){return r=Ki(7,r,d,o),r.lanes=c,r}function ih(r,o,c){return r=Ki(6,r,null,o),r.lanes=c,r}function Iu(r,o,c){return o=Ki(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Mo=[],ya=0,l=null,h=0,_=[],E=0,A=null,z=1,Q="";function ut(r,o){Mo[ya++]=h,Mo[ya++]=l,l=r,h=o}function gt(r,o,c){_[E++]=z,_[E++]=Q,_[E++]=A,A=r;var d=z;r=Q;var v=32-Bt(d)-1;d&=~(1<<v),c+=1;var b=32-Bt(o)+v;if(30<b){var P=v-v%5;b=(d&(1<<P)-1).toString(32),d>>=P,v-=P,z=1<<32-Bt(o)+v|c<<v|d,Q=b+r}else z=1<<b|c<<v|d,Q=r}function At(r){r.return!==null&&(ut(r,1),gt(r,1,0))}function Dt(r){for(;r===l;)l=Mo[--ya],Mo[ya]=null,h=Mo[--ya],Mo[ya]=null;for(;r===A;)A=_[--E],_[E]=null,Q=_[--E],_[E]=null,z=_[--E],_[E]=null}var Vt=null,Ut=null,Jt=!1,$e=null,dn=!1,ci=Error(i(519));function rr(r){var o=Error(i(418,""));throw va(Wi(o,r)),ci}function Rd(r){var o=r.stateNode,c=r.type,d=r.memoizedProps;switch(o[Ie]=r,o[Se]=d,c){case"dialog":pe("cancel",o),pe("close",o);break;case"iframe":case"object":case"embed":pe("load",o);break;case"video":case"audio":for(c=0;c<Ah.length;c++)pe(Ah[c],o);break;case"source":pe("error",o);break;case"img":case"image":case"link":pe("error",o),pe("load",o);break;case"details":pe("toggle",o);break;case"input":pe("invalid",o),To(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Bs(o);break;case"select":pe("invalid",o);break;case"textarea":pe("invalid",o),Fi(o,d.value,d.defaultValue,d.children),Bs(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||sS(o.textContent,c)?(d.popover!=null&&(pe("beforetoggle",o),pe("toggle",o)),d.onScroll!=null&&pe("scroll",o),d.onScrollEnd!=null&&pe("scrollend",o),d.onClick!=null&&(o.onclick=up),o=!0):o=!1,o||rr(r)}function Cd(r){for(Vt=r.return;Vt;)switch(Vt.tag){case 5:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:Vt=Vt.return}}function Nl(r){if(r!==Vt)return!1;if(!Jt)return Cd(r),Jt=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||jy(r.type,r.memoizedProps)),c=!c),c&&Ut&&rr(r),Cd(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){Ut=xs(r.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}Ut=null}}else o===27?(o=Ut,Oa(r.type)?(r=Gy,Gy=null,Ut=r):Ut=o):Ut=Vt?xs(r.stateNode.nextSibling):null;return!0}function _a(){Ut=Vt=null,Jt=!1}function Id(){var r=$e;return r!==null&&(ar===null?ar=r:ar.push.apply(ar,r),$e=null),r}function va(r){$e===null?$e=[r]:$e.push(r)}var on=ct(null),ts=null,Ts=null;function Zs(r,o,c){G(on,o._currentValue),o._currentValue=c}function Es(r){r._currentValue=on.current,_t(on)}function Vl(r,o,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===c)break;r=r.return}}function Pu(r,o,c,d){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var b=v.dependencies;if(b!==null){var P=v.child;b=b.firstContext;t:for(;b!==null;){var B=b;b=v;for(var J=0;J<o.length;J++)if(B.context===o[J]){b.lanes|=c,B=b.alternate,B!==null&&(B.lanes|=c),Vl(b.return,c,r),d||(P=null);break t}b=B.next}}else if(v.tag===18){if(P=v.return,P===null)throw Error(i(341));P.lanes|=c,b=P.alternate,b!==null&&(b.lanes|=c),Vl(P,c,r),P=null}else P=v.child;if(P!==null)P.return=v;else for(P=v;P!==null;){if(P===r){P=null;break}if(v=P.sibling,v!==null){v.return=P.return,P=v;break}P=P.return}v=P}}function zl(r,o,c,d){r=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var P=v.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var B=v.type;qi(v.pendingProps.value,P.value)||(r!==null?r.push(B):r=[B])}}else if(v===le.current){if(P=v.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Dh):r=[Dh])}v=v.return}r!==null&&Pu(o,r,c,d),o.flags|=262144}function Pd(r){for(r=r.firstContext;r!==null;){if(!qi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ul(r){ts=r,Ts=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Mi(r){return Gb(ts,r)}function kd(r,o){return ts===null&&Ul(r),Gb(r,o)}function Gb(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ts===null){if(r===null)throw Error(i(308));Ts=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Ts=Ts.next=o;return c}var aO=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},lO=e.unstable_scheduleCallback,uO=e.unstable_NormalPriority,ti={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ig(){return{controller:new aO,data:new Map,refCount:0}}function rh(r){r.refCount--,r.refCount===0&&lO(uO,function(){r.controller.abort()})}var sh=null,Pg=0,ku=0,Du=null;function cO(r,o){if(sh===null){var c=sh=[];Pg=0,ku=Dy(),Du={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Pg++,o.then(Wb,Wb),o}function Wb(){if(--Pg===0&&sh!==null){Du!==null&&(Du.status="fulfilled");var r=sh;sh=null,ku=0,Du=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function hO(r,o){var c=[],d={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),d}var Zb=et.S;et.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&cO(r,o),Zb!==null&&Zb(r,o)};var Bl=ct(null);function kg(){var r=Bl.current;return r!==null?r:Ye.pooledCache}function Dd(r,o){o===null?G(Bl,Bl.current):G(Bl,o.pool)}function Kb(){var r=kg();return r===null?null:{parent:ti._currentValue,pool:r}}var oh=Error(i(460)),$b=Error(i(474)),Md=Error(i(542)),Dg={then:function(){}};function Yb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Od(){}function Xb(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Od,Od),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Jb(r),r;default:if(typeof o.status=="string")o.then(Od,Od);else{if(r=Ye,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Jb(r),r}throw ah=o,oh}}var ah=null;function Qb(){if(ah===null)throw Error(i(459));var r=ah;return ah=null,r}function Jb(r){if(r===oh||r===Md)throw Error(i(483))}var wa=!1;function Mg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Og(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ba(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ta(r,o,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Le&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=Gs(r),Ol(r,null,c),o}return Ml(r,d,o,c),Gs(r)}function lh(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,Ci(r,c)}}function Lg(r,o){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var v=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var P={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?v=b=P:b=b.next=P,c=c.next}while(c!==null);b===null?v=b=o:b=b.next=o}else v=b=o;c={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var Ng=!1;function uh(){if(Ng){var r=Du;if(r!==null)throw r}}function ch(r,o,c,d){Ng=!1;var v=r.updateQueue;wa=!1;var b=v.firstBaseUpdate,P=v.lastBaseUpdate,B=v.shared.pending;if(B!==null){v.shared.pending=null;var J=B,ft=J.next;J.next=null,P===null?b=ft:P.next=ft,P=J;var vt=r.alternate;vt!==null&&(vt=vt.updateQueue,B=vt.lastBaseUpdate,B!==P&&(B===null?vt.firstBaseUpdate=ft:B.next=ft,vt.lastBaseUpdate=J))}if(b!==null){var St=v.baseState;P=0,vt=ft=J=null,B=b;do{var dt=B.lane&-536870913,pt=dt!==B.lane;if(pt?(Te&dt)===dt:(d&dt)===dt){dt!==0&&dt===ku&&(Ng=!0),vt!==null&&(vt=vt.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});t:{var Xt=r,Gt=B;dt=o;var Be=c;switch(Gt.tag){case 1:if(Xt=Gt.payload,typeof Xt=="function"){St=Xt.call(Be,St,dt);break t}St=Xt;break t;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=Gt.payload,dt=typeof Xt=="function"?Xt.call(Be,St,dt):Xt,dt==null)break t;St=y({},St,dt);break t;case 2:wa=!0}}dt=B.callback,dt!==null&&(r.flags|=64,pt&&(r.flags|=8192),pt=v.callbacks,pt===null?v.callbacks=[dt]:pt.push(dt))}else pt={lane:dt,tag:B.tag,payload:B.payload,callback:B.callback,next:null},vt===null?(ft=vt=pt,J=St):vt=vt.next=pt,P|=dt;if(B=B.next,B===null){if(B=v.shared.pending,B===null)break;pt=B,B=pt.next,pt.next=null,v.lastBaseUpdate=pt,v.shared.pending=null}}while(!0);vt===null&&(J=St),v.baseState=J,v.firstBaseUpdate=ft,v.lastBaseUpdate=vt,b===null&&(v.shared.lanes=0),Pa|=P,r.lanes=P,r.memoizedState=St}}function tT(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function eT(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)tT(c[r],o)}var Mu=ct(null),Ld=ct(0);function nT(r,o){r=Bo,G(Ld,r),G(Mu,o),Bo=r|o.baseLanes}function Vg(){G(Ld,Bo),G(Mu,Mu.current)}function zg(){Bo=Ld.current,_t(Mu),_t(Ld)}var Ea=0,ue=null,ze=null,Fn=null,Nd=!1,Ou=!1,jl=!1,Vd=0,hh=0,Lu=null,fO=0;function Dn(){throw Error(i(321))}function Ug(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!qi(r[c],o[c]))return!1;return!0}function Bg(r,o,c,d,v,b){return Ea=b,ue=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,et.H=r===null||r.memoizedState===null?UT:BT,jl=!1,b=c(d,v),jl=!1,Ou&&(b=rT(o,c,d,v)),iT(r),b}function iT(r){et.H=Hd;var o=ze!==null&&ze.next!==null;if(Ea=0,Fn=ze=ue=null,Nd=!1,hh=0,Lu=null,o)throw Error(i(300));r===null||hi||(r=r.dependencies,r!==null&&Pd(r)&&(hi=!0))}function rT(r,o,c,d){ue=r;var v=0;do{if(Ou&&(Lu=null),hh=0,Ou=!1,25<=v)throw Error(i(301));if(v+=1,Fn=ze=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}et.H=vO,b=o(c,d)}while(Ou);return b}function dO(){var r=et.H,o=r.useState()[0];return o=typeof o.then=="function"?fh(o):o,r=r.useState()[0],(ze!==null?ze.memoizedState:null)!==r&&(ue.flags|=1024),o}function jg(){var r=Vd!==0;return Vd=0,r}function Fg(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function Hg(r){if(Nd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Nd=!1}Ea=0,Fn=ze=ue=null,Ou=!1,hh=Vd=0,Lu=null}function sr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?ue.memoizedState=Fn=r:Fn=Fn.next=r,Fn}function Hn(){if(ze===null){var r=ue.alternate;r=r!==null?r.memoizedState:null}else r=ze.next;var o=Fn===null?ue.memoizedState:Fn.next;if(o!==null)Fn=o,ze=r;else{if(r===null)throw ue.alternate===null?Error(i(467)):Error(i(310));ze=r,r={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Fn===null?ue.memoizedState=Fn=r:Fn=Fn.next=r}return Fn}function qg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fh(r){var o=hh;return hh+=1,Lu===null&&(Lu=[]),r=Xb(Lu,r,o),o=ue,(Fn===null?o.memoizedState:Fn.next)===null&&(o=o.alternate,et.H=o===null||o.memoizedState===null?UT:BT),r}function zd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fh(r);if(r.$$typeof===q)return Mi(r)}throw Error(i(438,String(r)))}function Gg(r){var o=null,c=ue.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=ue.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=qg(),ue.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),d=0;d<r;d++)c[d]=K;return o.index++,c}function Oo(r,o){return typeof o=="function"?o(r):o}function Ud(r){var o=Hn();return Wg(o,ze,r)}function Wg(r,o,c){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var v=r.baseQueue,b=d.pending;if(b!==null){if(v!==null){var P=v.next;v.next=b.next,b.next=P}o.baseQueue=v=b,d.pending=null}if(b=r.baseState,v===null)r.memoizedState=b;else{o=v.next;var B=P=null,J=null,ft=o,vt=!1;do{var St=ft.lane&-536870913;if(St!==ft.lane?(Te&St)===St:(Ea&St)===St){var dt=ft.revertLane;if(dt===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),St===ku&&(vt=!0);else if((Ea&dt)===dt){ft=ft.next,dt===ku&&(vt=!0);continue}else St={lane:0,revertLane:ft.revertLane,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},J===null?(B=J=St,P=b):J=J.next=St,ue.lanes|=dt,Pa|=dt;St=ft.action,jl&&c(b,St),b=ft.hasEagerState?ft.eagerState:c(b,St)}else dt={lane:St,revertLane:ft.revertLane,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},J===null?(B=J=dt,P=b):J=J.next=dt,ue.lanes|=St,Pa|=St;ft=ft.next}while(ft!==null&&ft!==o);if(J===null?P=b:J.next=B,!qi(b,r.memoizedState)&&(hi=!0,vt&&(c=Du,c!==null)))throw c;r.memoizedState=b,r.baseState=P,r.baseQueue=J,d.lastRenderedState=b}return v===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Zg(r){var o=Hn(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var d=c.dispatch,v=c.pending,b=o.memoizedState;if(v!==null){c.pending=null;var P=v=v.next;do b=r(b,P.action),P=P.next;while(P!==v);qi(b,o.memoizedState)||(hi=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,d]}function sT(r,o,c){var d=ue,v=Hn(),b=Jt;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=o();var P=!qi((ze||v).memoizedState,c);P&&(v.memoizedState=c,hi=!0),v=v.queue;var B=lT.bind(null,d,v,r);if(dh(2048,8,B,[r]),v.getSnapshot!==o||P||Fn!==null&&Fn.memoizedState.tag&1){if(d.flags|=2048,Nu(9,Bd(),aT.bind(null,d,v,c,o),null),Ye===null)throw Error(i(349));b||(Ea&124)!==0||oT(d,o,c)}return c}function oT(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=ue.updateQueue,o===null?(o=qg(),ue.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function aT(r,o,c,d){o.value=c,o.getSnapshot=d,uT(o)&&cT(r)}function lT(r,o,c){return c(function(){uT(o)&&cT(r)})}function uT(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!qi(r,c)}catch{return!0}}function cT(r){var o=ga(r,2);o!==null&&Lr(o,r,2)}function Kg(r){var o=sr();if(typeof r=="function"){var c=r;if(r=c(),jl){Lt(!0);try{c()}finally{Lt(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:r},o}function hT(r,o,c,d){return r.baseState=c,Wg(r,ze,typeof d=="function"?d:Oo)}function pO(r,o,c,d,v){if(Fd(r))throw Error(i(485));if(r=o.action,r!==null){var b={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){b.listeners.push(P)}};et.T!==null?c(!0):b.isTransition=!1,d(b),c=o.pending,c===null?(b.next=o.pending=b,fT(o,b)):(b.next=c.next,o.pending=c.next=b)}}function fT(r,o){var c=o.action,d=o.payload,v=r.state;if(o.isTransition){var b=et.T,P={};et.T=P;try{var B=c(v,d),J=et.S;J!==null&&J(P,B),dT(r,o,B)}catch(ft){$g(r,o,ft)}finally{et.T=b}}else try{b=c(v,d),dT(r,o,b)}catch(ft){$g(r,o,ft)}}function dT(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){pT(r,o,d)},function(d){return $g(r,o,d)}):pT(r,o,c)}function pT(r,o,c){o.status="fulfilled",o.value=c,mT(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,fT(r,c)))}function $g(r,o,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,mT(o),o=o.next;while(o!==d)}r.action=null}function mT(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function gT(r,o){return o}function yT(r,o){if(Jt){var c=Ye.formState;if(c!==null){t:{var d=ue;if(Jt){if(Ut){e:{for(var v=Ut,b=dn;v.nodeType!==8;){if(!b){v=null;break e}if(v=xs(v.nextSibling),v===null){v=null;break e}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Ut=xs(v.nextSibling),d=v.data==="F!";break t}}rr(d)}d=!1}d&&(o=c[0])}}return c=sr(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gT,lastRenderedState:o},c.queue=d,c=NT.bind(null,ue,d),d.dispatch=c,d=Kg(!1),b=ty.bind(null,ue,!1,d.queue),d=sr(),v={state:o,dispatch:null,action:r,pending:null},d.queue=v,c=pO.bind(null,ue,v,b,c),v.dispatch=c,d.memoizedState=r,[o,c,!1]}function _T(r){var o=Hn();return vT(o,ze,r)}function vT(r,o,c){if(o=Wg(r,o,gT)[0],r=Ud(Oo)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=fh(o)}catch(P){throw P===oh?Md:P}else d=o;o=Hn();var v=o.queue,b=v.dispatch;return c!==o.memoizedState&&(ue.flags|=2048,Nu(9,Bd(),mO.bind(null,v,c),null)),[d,b,r]}function mO(r,o){r.action=o}function wT(r){var o=Hn(),c=ze;if(c!==null)return vT(o,c,r);Hn(),o=o.memoizedState,c=Hn();var d=c.queue.dispatch;return c.memoizedState=r,[o,d,!1]}function Nu(r,o,c,d){return r={tag:r,create:c,deps:d,inst:o,next:null},o=ue.updateQueue,o===null&&(o=qg(),ue.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,o.lastEffect=r),r}function Bd(){return{destroy:void 0,resource:void 0}}function bT(){return Hn().memoizedState}function jd(r,o,c,d){var v=sr();d=d===void 0?null:d,ue.flags|=r,v.memoizedState=Nu(1|o,Bd(),c,d)}function dh(r,o,c,d){var v=Hn();d=d===void 0?null:d;var b=v.memoizedState.inst;ze!==null&&d!==null&&Ug(d,ze.memoizedState.deps)?v.memoizedState=Nu(o,b,c,d):(ue.flags|=r,v.memoizedState=Nu(1|o,b,c,d))}function TT(r,o){jd(8390656,8,r,o)}function ET(r,o){dh(2048,8,r,o)}function ST(r,o){return dh(4,2,r,o)}function xT(r,o){return dh(4,4,r,o)}function AT(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function RT(r,o,c){c=c!=null?c.concat([r]):null,dh(4,4,AT.bind(null,o,r),c)}function Yg(){}function CT(r,o){var c=Hn();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&Ug(o,d[1])?d[0]:(c.memoizedState=[r,o],r)}function IT(r,o){var c=Hn();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&Ug(o,d[1]))return d[0];if(d=r(),jl){Lt(!0);try{r()}finally{Lt(!1)}}return c.memoizedState=[d,o],d}function Xg(r,o,c){return c===void 0||(Ea&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=DE(),ue.lanes|=r,Pa|=r,c)}function PT(r,o,c,d){return qi(c,o)?c:Mu.current!==null?(r=Xg(r,c,d),qi(r,o)||(hi=!0),r):(Ea&42)===0?(hi=!0,r.memoizedState=c):(r=DE(),ue.lanes|=r,Pa|=r,o)}function kT(r,o,c,d,v){var b=it.p;it.p=b!==0&&8>b?b:8;var P=et.T,B={};et.T=B,ty(r,!1,o,c);try{var J=v(),ft=et.S;if(ft!==null&&ft(B,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var vt=hO(J,d);ph(r,o,vt,Or(r))}else ph(r,o,d,Or(r))}catch(St){ph(r,o,{then:function(){},status:"rejected",reason:St},Or())}finally{it.p=b,et.T=P}}function gO(){}function Qg(r,o,c,d){if(r.tag!==5)throw Error(i(476));var v=DT(r).queue;kT(r,v,o,ot,c===null?gO:function(){return MT(r),c(d)})}function DT(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:ot},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function MT(r){var o=DT(r).next.queue;ph(r,o,{},Or())}function Jg(){return Mi(Dh)}function OT(){return Hn().memoizedState}function LT(){return Hn().memoizedState}function yO(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=Or();r=ba(c);var d=Ta(o,r,c);d!==null&&(Lr(d,o,c),lh(d,o,c)),o={cache:Ig()},r.payload=o;return}o=o.return}}function _O(r,o,c){var d=Or();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Fd(r)?VT(o,c):(c=ko(r,o,c,d),c!==null&&(Lr(c,r,d),zT(c,o,d)))}function NT(r,o,c){var d=Or();ph(r,o,c,d)}function ph(r,o,c,d){var v={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Fd(r))VT(o,v);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var P=o.lastRenderedState,B=b(P,c);if(v.hasEagerState=!0,v.eagerState=B,qi(B,P))return Ml(r,o,v,0),Ye===null&&Dl(),!1}catch{}finally{}if(c=ko(r,o,v,d),c!==null)return Lr(c,r,d),zT(c,o,d),!0}return!1}function ty(r,o,c,d){if(d={lane:2,revertLane:Dy(),action:d,hasEagerState:!1,eagerState:null,next:null},Fd(r)){if(o)throw Error(i(479))}else o=ko(r,c,d,2),o!==null&&Lr(o,r,2)}function Fd(r){var o=r.alternate;return r===ue||o!==null&&o===ue}function VT(r,o){Ou=Nd=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function zT(r,o,c){if((c&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,Ci(r,c)}}var Hd={readContext:Mi,use:zd,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useInsertionEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useSyncExternalStore:Dn,useId:Dn,useHostTransitionStatus:Dn,useFormState:Dn,useActionState:Dn,useOptimistic:Dn,useMemoCache:Dn,useCacheRefresh:Dn},UT={readContext:Mi,use:zd,useCallback:function(r,o){return sr().memoizedState=[r,o===void 0?null:o],r},useContext:Mi,useEffect:TT,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,jd(4194308,4,AT.bind(null,o,r),c)},useLayoutEffect:function(r,o){return jd(4194308,4,r,o)},useInsertionEffect:function(r,o){jd(4,2,r,o)},useMemo:function(r,o){var c=sr();o=o===void 0?null:o;var d=r();if(jl){Lt(!0);try{r()}finally{Lt(!1)}}return c.memoizedState=[d,o],d},useReducer:function(r,o,c){var d=sr();if(c!==void 0){var v=c(o);if(jl){Lt(!0);try{c(o)}finally{Lt(!1)}}}else v=o;return d.memoizedState=d.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},d.queue=r,r=r.dispatch=_O.bind(null,ue,r),[d.memoizedState,r]},useRef:function(r){var o=sr();return r={current:r},o.memoizedState=r},useState:function(r){r=Kg(r);var o=r.queue,c=NT.bind(null,ue,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:Yg,useDeferredValue:function(r,o){var c=sr();return Xg(c,r,o)},useTransition:function(){var r=Kg(!1);return r=kT.bind(null,ue,r.queue,!0,!1),sr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var d=ue,v=sr();if(Jt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),Ye===null)throw Error(i(349));(Te&124)!==0||oT(d,o,c)}v.memoizedState=c;var b={value:c,getSnapshot:o};return v.queue=b,TT(lT.bind(null,d,b,r),[r]),d.flags|=2048,Nu(9,Bd(),aT.bind(null,d,b,c,o),null),c},useId:function(){var r=sr(),o=Ye.identifierPrefix;if(Jt){var c=Q,d=z;c=(d&~(1<<32-Bt(d)-1)).toString(32)+c,o=""+o+"R"+c,c=Vd++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=fO++,o=""+o+"r"+c.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:Jg,useFormState:yT,useActionState:yT,useOptimistic:function(r){var o=sr();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=ty.bind(null,ue,!0,c),c.dispatch=o,[r,o]},useMemoCache:Gg,useCacheRefresh:function(){return sr().memoizedState=yO.bind(null,ue)}},BT={readContext:Mi,use:zd,useCallback:CT,useContext:Mi,useEffect:ET,useImperativeHandle:RT,useInsertionEffect:ST,useLayoutEffect:xT,useMemo:IT,useReducer:Ud,useRef:bT,useState:function(){return Ud(Oo)},useDebugValue:Yg,useDeferredValue:function(r,o){var c=Hn();return PT(c,ze.memoizedState,r,o)},useTransition:function(){var r=Ud(Oo)[0],o=Hn().memoizedState;return[typeof r=="boolean"?r:fh(r),o]},useSyncExternalStore:sT,useId:OT,useHostTransitionStatus:Jg,useFormState:_T,useActionState:_T,useOptimistic:function(r,o){var c=Hn();return hT(c,ze,r,o)},useMemoCache:Gg,useCacheRefresh:LT},vO={readContext:Mi,use:zd,useCallback:CT,useContext:Mi,useEffect:ET,useImperativeHandle:RT,useInsertionEffect:ST,useLayoutEffect:xT,useMemo:IT,useReducer:Zg,useRef:bT,useState:function(){return Zg(Oo)},useDebugValue:Yg,useDeferredValue:function(r,o){var c=Hn();return ze===null?Xg(c,r,o):PT(c,ze.memoizedState,r,o)},useTransition:function(){var r=Zg(Oo)[0],o=Hn().memoizedState;return[typeof r=="boolean"?r:fh(r),o]},useSyncExternalStore:sT,useId:OT,useHostTransitionStatus:Jg,useFormState:wT,useActionState:wT,useOptimistic:function(r,o){var c=Hn();return ze!==null?hT(c,ze,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Gg,useCacheRefresh:LT},Vu=null,mh=0;function qd(r){var o=mh;return mh+=1,Vu===null&&(Vu=[]),Xb(Vu,r,o)}function gh(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Gd(r,o){throw o.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function jT(r){var o=r._init;return o(r._payload)}function FT(r){function o(at,st){if(r){var ht=at.deletions;ht===null?(at.deletions=[st],at.flags|=16):ht.push(st)}}function c(at,st){if(!r)return null;for(;st!==null;)o(at,st),st=st.sibling;return null}function d(at){for(var st=new Map;at!==null;)at.key!==null?st.set(at.key,at):st.set(at.index,at),at=at.sibling;return st}function v(at,st){return at=Jr(at,st),at.index=0,at.sibling=null,at}function b(at,st,ht){return at.index=ht,r?(ht=at.alternate,ht!==null?(ht=ht.index,ht<st?(at.flags|=67108866,st):ht):(at.flags|=67108866,st)):(at.flags|=1048576,st)}function P(at){return r&&at.alternate===null&&(at.flags|=67108866),at}function B(at,st,ht,bt){return st===null||st.tag!==6?(st=ih(ht,at.mode,bt),st.return=at,st):(st=v(st,ht),st.return=at,st)}function J(at,st,ht,bt){var zt=ht.type;return zt===D?vt(at,st,ht.props.children,bt,ht.key):st!==null&&(st.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===I&&jT(zt)===st.type)?(st=v(st,ht.props),gh(st,ht),st.return=at,st):(st=Ll(ht.type,ht.key,ht.props,null,at.mode,bt),gh(st,ht),st.return=at,st)}function ft(at,st,ht,bt){return st===null||st.tag!==4||st.stateNode.containerInfo!==ht.containerInfo||st.stateNode.implementation!==ht.implementation?(st=Iu(ht,at.mode,bt),st.return=at,st):(st=v(st,ht.children||[]),st.return=at,st)}function vt(at,st,ht,bt,zt){return st===null||st.tag!==7?(st=Ws(ht,at.mode,bt,zt),st.return=at,st):(st=v(st,ht),st.return=at,st)}function St(at,st,ht){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return st=ih(""+st,at.mode,ht),st.return=at,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case T:return ht=Ll(st.type,st.key,st.props,null,at.mode,ht),gh(ht,st),ht.return=at,ht;case S:return st=Iu(st,at.mode,ht),st.return=at,st;case I:var bt=st._init;return st=bt(st._payload),St(at,st,ht)}if($(st)||k(st))return st=Ws(st,at.mode,ht,null),st.return=at,st;if(typeof st.then=="function")return St(at,qd(st),ht);if(st.$$typeof===q)return St(at,kd(at,st),ht);Gd(at,st)}return null}function dt(at,st,ht,bt){var zt=st!==null?st.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return zt!==null?null:B(at,st,""+ht,bt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case T:return ht.key===zt?J(at,st,ht,bt):null;case S:return ht.key===zt?ft(at,st,ht,bt):null;case I:return zt=ht._init,ht=zt(ht._payload),dt(at,st,ht,bt)}if($(ht)||k(ht))return zt!==null?null:vt(at,st,ht,bt,null);if(typeof ht.then=="function")return dt(at,st,qd(ht),bt);if(ht.$$typeof===q)return dt(at,st,kd(at,ht),bt);Gd(at,ht)}return null}function pt(at,st,ht,bt,zt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return at=at.get(ht)||null,B(st,at,""+bt,zt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case T:return at=at.get(bt.key===null?ht:bt.key)||null,J(st,at,bt,zt);case S:return at=at.get(bt.key===null?ht:bt.key)||null,ft(st,at,bt,zt);case I:var fe=bt._init;return bt=fe(bt._payload),pt(at,st,ht,bt,zt)}if($(bt)||k(bt))return at=at.get(ht)||null,vt(st,at,bt,zt,null);if(typeof bt.then=="function")return pt(at,st,ht,qd(bt),zt);if(bt.$$typeof===q)return pt(at,st,ht,kd(st,bt),zt);Gd(st,bt)}return null}function Xt(at,st,ht,bt){for(var zt=null,fe=null,jt=st,Wt=st=0,di=null;jt!==null&&Wt<ht.length;Wt++){jt.index>Wt?(di=jt,jt=null):di=jt.sibling;var Ae=dt(at,jt,ht[Wt],bt);if(Ae===null){jt===null&&(jt=di);break}r&&jt&&Ae.alternate===null&&o(at,jt),st=b(Ae,st,Wt),fe===null?zt=Ae:fe.sibling=Ae,fe=Ae,jt=di}if(Wt===ht.length)return c(at,jt),Jt&&ut(at,Wt),zt;if(jt===null){for(;Wt<ht.length;Wt++)jt=St(at,ht[Wt],bt),jt!==null&&(st=b(jt,st,Wt),fe===null?zt=jt:fe.sibling=jt,fe=jt);return Jt&&ut(at,Wt),zt}for(jt=d(jt);Wt<ht.length;Wt++)di=pt(jt,at,Wt,ht[Wt],bt),di!==null&&(r&&di.alternate!==null&&jt.delete(di.key===null?Wt:di.key),st=b(di,st,Wt),fe===null?zt=di:fe.sibling=di,fe=di);return r&&jt.forEach(function(Ua){return o(at,Ua)}),Jt&&ut(at,Wt),zt}function Gt(at,st,ht,bt){if(ht==null)throw Error(i(151));for(var zt=null,fe=null,jt=st,Wt=st=0,di=null,Ae=ht.next();jt!==null&&!Ae.done;Wt++,Ae=ht.next()){jt.index>Wt?(di=jt,jt=null):di=jt.sibling;var Ua=dt(at,jt,Ae.value,bt);if(Ua===null){jt===null&&(jt=di);break}r&&jt&&Ua.alternate===null&&o(at,jt),st=b(Ua,st,Wt),fe===null?zt=Ua:fe.sibling=Ua,fe=Ua,jt=di}if(Ae.done)return c(at,jt),Jt&&ut(at,Wt),zt;if(jt===null){for(;!Ae.done;Wt++,Ae=ht.next())Ae=St(at,Ae.value,bt),Ae!==null&&(st=b(Ae,st,Wt),fe===null?zt=Ae:fe.sibling=Ae,fe=Ae);return Jt&&ut(at,Wt),zt}for(jt=d(jt);!Ae.done;Wt++,Ae=ht.next())Ae=pt(jt,at,Wt,Ae.value,bt),Ae!==null&&(r&&Ae.alternate!==null&&jt.delete(Ae.key===null?Wt:Ae.key),st=b(Ae,st,Wt),fe===null?zt=Ae:fe.sibling=Ae,fe=Ae);return r&&jt.forEach(function(wL){return o(at,wL)}),Jt&&ut(at,Wt),zt}function Be(at,st,ht,bt){if(typeof ht=="object"&&ht!==null&&ht.type===D&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case T:t:{for(var zt=ht.key;st!==null;){if(st.key===zt){if(zt=ht.type,zt===D){if(st.tag===7){c(at,st.sibling),bt=v(st,ht.props.children),bt.return=at,at=bt;break t}}else if(st.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===I&&jT(zt)===st.type){c(at,st.sibling),bt=v(st,ht.props),gh(bt,ht),bt.return=at,at=bt;break t}c(at,st);break}else o(at,st);st=st.sibling}ht.type===D?(bt=Ws(ht.props.children,at.mode,bt,ht.key),bt.return=at,at=bt):(bt=Ll(ht.type,ht.key,ht.props,null,at.mode,bt),gh(bt,ht),bt.return=at,at=bt)}return P(at);case S:t:{for(zt=ht.key;st!==null;){if(st.key===zt)if(st.tag===4&&st.stateNode.containerInfo===ht.containerInfo&&st.stateNode.implementation===ht.implementation){c(at,st.sibling),bt=v(st,ht.children||[]),bt.return=at,at=bt;break t}else{c(at,st);break}else o(at,st);st=st.sibling}bt=Iu(ht,at.mode,bt),bt.return=at,at=bt}return P(at);case I:return zt=ht._init,ht=zt(ht._payload),Be(at,st,ht,bt)}if($(ht))return Xt(at,st,ht,bt);if(k(ht)){if(zt=k(ht),typeof zt!="function")throw Error(i(150));return ht=zt.call(ht),Gt(at,st,ht,bt)}if(typeof ht.then=="function")return Be(at,st,qd(ht),bt);if(ht.$$typeof===q)return Be(at,st,kd(at,ht),bt);Gd(at,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,st!==null&&st.tag===6?(c(at,st.sibling),bt=v(st,ht),bt.return=at,at=bt):(c(at,st),bt=ih(ht,at.mode,bt),bt.return=at,at=bt),P(at)):c(at,st)}return function(at,st,ht,bt){try{mh=0;var zt=Be(at,st,ht,bt);return Vu=null,zt}catch(jt){if(jt===oh||jt===Md)throw jt;var fe=Ki(29,jt,null,at.mode);return fe.lanes=bt,fe.return=at,fe}finally{}}}var zu=FT(!0),HT=FT(!1),es=ct(null),Ks=null;function Sa(r){var o=r.alternate;G(ei,ei.current&1),G(es,r),Ks===null&&(o===null||Mu.current!==null||o.memoizedState!==null)&&(Ks=r)}function qT(r){if(r.tag===22){if(G(ei,ei.current),G(es,r),Ks===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Ks=r)}}else xa()}function xa(){G(ei,ei.current),G(es,es.current)}function Lo(r){_t(es),Ks===r&&(Ks=null),_t(ei)}var ei=ct(0);function Wd(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||qy(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function ey(r,o,c,d){o=r.memoizedState,c=c(d,o),c=c==null?o:y({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var ny={enqueueSetState:function(r,o,c){r=r._reactInternals;var d=Or(),v=ba(d);v.payload=o,c!=null&&(v.callback=c),o=Ta(r,v,d),o!==null&&(Lr(o,r,d),lh(o,r,d))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var d=Or(),v=ba(d);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Ta(r,v,d),o!==null&&(Lr(o,r,d),lh(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=Or(),d=ba(c);d.tag=2,o!=null&&(d.callback=o),o=Ta(r,d,c),o!==null&&(Lr(o,r,c),lh(o,r,c))}};function GT(r,o,c,d,v,b,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,P):o.prototype&&o.prototype.isPureReactComponent?!Gi(c,d)||!Gi(v,b):!0}function WT(r,o,c,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==r&&ny.enqueueReplaceState(o,o.state,null)}function Fl(r,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(r=r.defaultProps){c===o&&(c=y({},c));for(var v in r)c[v]===void 0&&(c[v]=r[v])}return c}var Zd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function ZT(r){Zd(r)}function KT(r){console.error(r)}function $T(r){Zd(r)}function Kd(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function YT(r,o,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function iy(r,o,c){return c=ba(c),c.tag=3,c.payload={element:null},c.callback=function(){Kd(r,o)},c}function XT(r){return r=ba(r),r.tag=3,r}function QT(r,o,c,d){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var b=d.value;r.payload=function(){return v(b)},r.callback=function(){YT(o,c,d)}}var P=c.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(r.callback=function(){YT(o,c,d),typeof v!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var B=d.stack;this.componentDidCatch(d.value,{componentStack:B!==null?B:""})})}function wO(r,o,c,d,v){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&zl(o,c,v,!0),c=es.current,c!==null){switch(c.tag){case 13:return Ks===null?Ry():c.alternate===null&&En===0&&(En=3),c.flags&=-257,c.flags|=65536,c.lanes=v,d===Dg?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),Iy(r,d,v)),!1;case 22:return c.flags|=65536,d===Dg?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),Iy(r,d,v)),!1}throw Error(i(435,c.tag))}return Iy(r,d,v),Ry(),!1}if(Jt)return o=es.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==ci&&(r=Error(i(422),{cause:d}),va(Wi(r,c)))):(d!==ci&&(o=Error(i(423),{cause:d}),va(Wi(o,c))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,d=Wi(d,c),v=iy(r.stateNode,d,v),Lg(r,v),En!==4&&(En=2)),!1;var b=Error(i(520),{cause:d});if(b=Wi(b,c),Eh===null?Eh=[b]:Eh.push(b),En!==4&&(En=2),o===null)return!0;d=Wi(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=v&-v,c.lanes|=r,r=iy(c.stateNode,d,r),Lg(c,r),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ka===null||!ka.has(b))))return c.flags|=65536,v&=-v,c.lanes|=v,v=XT(v),QT(v,r,c,d),Lg(c,v),!1}c=c.return}while(c!==null);return!1}var JT=Error(i(461)),hi=!1;function bi(r,o,c,d){o.child=r===null?HT(o,null,c,d):zu(o,r.child,c,d)}function tE(r,o,c,d,v){c=c.render;var b=o.ref;if("ref"in d){var P={};for(var B in d)B!=="ref"&&(P[B]=d[B])}else P=d;return Ul(o),d=Bg(r,o,c,P,b,v),B=jg(),r!==null&&!hi?(Fg(r,o,v),No(r,o,v)):(Jt&&B&&At(o),o.flags|=1,bi(r,o,d,v),o.child)}function eE(r,o,c,d,v){if(r===null){var b=c.type;return typeof b=="function"&&!Cu(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,nE(r,o,b,d,v)):(r=Ll(c.type,null,d,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,!hy(r,v)){var P=b.memoizedProps;if(c=c.compare,c=c!==null?c:Gi,c(P,d)&&r.ref===o.ref)return No(r,o,v)}return o.flags|=1,r=Jr(b,d),r.ref=o.ref,r.return=o,o.child=r}function nE(r,o,c,d,v){if(r!==null){var b=r.memoizedProps;if(Gi(b,d)&&r.ref===o.ref)if(hi=!1,o.pendingProps=d=b,hy(r,v))(r.flags&131072)!==0&&(hi=!0);else return o.lanes=r.lanes,No(r,o,v)}return ry(r,o,c,d,v)}function iE(r,o,c){var d=o.pendingProps,v=d.children,b=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=b!==null?b.baseLanes|c:c,r!==null){for(v=o.child=r.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;o.childLanes=b&~d}else o.childLanes=0,o.child=null;return rE(r,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Dd(o,b!==null?b.cachePool:null),b!==null?nT(o,b):Vg(),qT(o);else return o.lanes=o.childLanes=536870912,rE(r,o,b!==null?b.baseLanes|c:c,c)}else b!==null?(Dd(o,b.cachePool),nT(o,b),xa(),o.memoizedState=null):(r!==null&&Dd(o,null),Vg(),xa());return bi(r,o,v,c),o.child}function rE(r,o,c,d){var v=kg();return v=v===null?null:{parent:ti._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},r!==null&&Dd(o,null),Vg(),qT(o),r!==null&&zl(r,o,d,!0),null}function $d(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function ry(r,o,c,d,v){return Ul(o),c=Bg(r,o,c,d,void 0,v),d=jg(),r!==null&&!hi?(Fg(r,o,v),No(r,o,v)):(Jt&&d&&At(o),o.flags|=1,bi(r,o,c,v),o.child)}function sE(r,o,c,d,v,b){return Ul(o),o.updateQueue=null,c=rT(o,d,c,v),iT(r),d=jg(),r!==null&&!hi?(Fg(r,o,b),No(r,o,b)):(Jt&&d&&At(o),o.flags|=1,bi(r,o,c,b),o.child)}function oE(r,o,c,d,v){if(Ul(o),o.stateNode===null){var b=Do,P=c.contextType;typeof P=="object"&&P!==null&&(b=Mi(P)),b=new c(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ny,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},Mg(o),P=c.contextType,b.context=typeof P=="object"&&P!==null?Mi(P):Do,b.state=o.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(ey(o,c,P,d),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(P=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),P!==b.state&&ny.enqueueReplaceState(b,b.state,null),ch(o,d,b,v),uh(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){b=o.stateNode;var B=o.memoizedProps,J=Fl(c,B);b.props=J;var ft=b.context,vt=c.contextType;P=Do,typeof vt=="object"&&vt!==null&&(P=Mi(vt));var St=c.getDerivedStateFromProps;vt=typeof St=="function"||typeof b.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,vt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(B||ft!==P)&&WT(o,b,d,P),wa=!1;var dt=o.memoizedState;b.state=dt,ch(o,d,b,v),uh(),ft=o.memoizedState,B||dt!==ft||wa?(typeof St=="function"&&(ey(o,c,St,d),ft=o.memoizedState),(J=wa||GT(o,c,J,d,dt,ft,P))?(vt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ft),b.props=d,b.state=ft,b.context=P,d=J):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,Og(r,o),P=o.memoizedProps,vt=Fl(c,P),b.props=vt,St=o.pendingProps,dt=b.context,ft=c.contextType,J=Do,typeof ft=="object"&&ft!==null&&(J=Mi(ft)),B=c.getDerivedStateFromProps,(ft=typeof B=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==St||dt!==J)&&WT(o,b,d,J),wa=!1,dt=o.memoizedState,b.state=dt,ch(o,d,b,v),uh();var pt=o.memoizedState;P!==St||dt!==pt||wa||r!==null&&r.dependencies!==null&&Pd(r.dependencies)?(typeof B=="function"&&(ey(o,c,B,d),pt=o.memoizedState),(vt=wa||GT(o,c,vt,d,dt,pt,J)||r!==null&&r.dependencies!==null&&Pd(r.dependencies))?(ft||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,pt,J),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,pt,J)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||P===r.memoizedProps&&dt===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&dt===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=pt),b.props=d,b.state=pt,b.context=J,d=vt):(typeof b.componentDidUpdate!="function"||P===r.memoizedProps&&dt===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&dt===r.memoizedState||(o.flags|=1024),d=!1)}return b=d,$d(r,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,r!==null&&d?(o.child=zu(o,r.child,null,v),o.child=zu(o,null,c,v)):bi(r,o,c,v),o.memoizedState=b.state,r=o.child):r=No(r,o,v),r}function aE(r,o,c,d){return _a(),o.flags|=256,bi(r,o,c,d),o.child}var sy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oy(r){return{baseLanes:r,cachePool:Kb()}}function ay(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=ns),r}function lE(r,o,c){var d=o.pendingProps,v=!1,b=(o.flags&128)!==0,P;if((P=b)||(P=r!==null&&r.memoizedState===null?!1:(ei.current&2)!==0),P&&(v=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,r===null){if(Jt){if(v?Sa(o):xa(),Jt){var B=Ut,J;if(J=B){t:{for(J=B,B=dn;J.nodeType!==8;){if(!B){B=null;break t}if(J=xs(J.nextSibling),J===null){B=null;break t}}B=J}B!==null?(o.memoizedState={dehydrated:B,treeContext:A!==null?{id:z,overflow:Q}:null,retryLane:536870912,hydrationErrors:null},J=Ki(18,null,null,0),J.stateNode=B,J.return=o,o.child=J,Vt=o,Ut=null,J=!0):J=!1}J||rr(o)}if(B=o.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return qy(B)?o.lanes=32:o.lanes=536870912,null;Lo(o)}return B=d.children,d=d.fallback,v?(xa(),v=o.mode,B=Yd({mode:"hidden",children:B},v),d=Ws(d,v,c,null),B.return=o,d.return=o,B.sibling=d,o.child=B,v=o.child,v.memoizedState=oy(c),v.childLanes=ay(r,P,c),o.memoizedState=sy,d):(Sa(o),ly(o,B))}if(J=r.memoizedState,J!==null&&(B=J.dehydrated,B!==null)){if(b)o.flags&256?(Sa(o),o.flags&=-257,o=uy(r,o,c)):o.memoizedState!==null?(xa(),o.child=r.child,o.flags|=128,o=null):(xa(),v=d.fallback,B=o.mode,d=Yd({mode:"visible",children:d.children},B),v=Ws(v,B,c,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,zu(o,r.child,null,c),d=o.child,d.memoizedState=oy(c),d.childLanes=ay(r,P,c),o.memoizedState=sy,o=v);else if(Sa(o),qy(B)){if(P=B.nextSibling&&B.nextSibling.dataset,P)var ft=P.dgst;P=ft,d=Error(i(419)),d.stack="",d.digest=P,va({value:d,source:null,stack:null}),o=uy(r,o,c)}else if(hi||zl(r,o,c,!1),P=(c&r.childLanes)!==0,hi||P){if(P=Ye,P!==null&&(d=c&-c,d=(d&42)!==0?1:hn(d),d=(d&(P.suspendedLanes|c))!==0?0:d,d!==0&&d!==J.retryLane))throw J.retryLane=d,ga(r,d),Lr(P,r,d),JT;B.data==="$?"||Ry(),o=uy(r,o,c)}else B.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=J.treeContext,Ut=xs(B.nextSibling),Vt=o,Jt=!0,$e=null,dn=!1,r!==null&&(_[E++]=z,_[E++]=Q,_[E++]=A,z=r.id,Q=r.overflow,A=o),o=ly(o,d.children),o.flags|=4096);return o}return v?(xa(),v=d.fallback,B=o.mode,J=r.child,ft=J.sibling,d=Jr(J,{mode:"hidden",children:d.children}),d.subtreeFlags=J.subtreeFlags&65011712,ft!==null?v=Jr(ft,v):(v=Ws(v,B,c,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,B=r.child.memoizedState,B===null?B=oy(c):(J=B.cachePool,J!==null?(ft=ti._currentValue,J=J.parent!==ft?{parent:ft,pool:ft}:J):J=Kb(),B={baseLanes:B.baseLanes|c,cachePool:J}),v.memoizedState=B,v.childLanes=ay(r,P,c),o.memoizedState=sy,d):(Sa(o),c=r.child,r=c.sibling,c=Jr(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,r!==null&&(P=o.deletions,P===null?(o.deletions=[r],o.flags|=16):P.push(r)),o.child=c,o.memoizedState=null,c)}function ly(r,o){return o=Yd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Yd(r,o){return r=Ki(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function uy(r,o,c){return zu(o,r.child,null,c),r=ly(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function uE(r,o,c){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Vl(r.return,o,c)}function cy(r,o,c,d,v){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:v}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=c,b.tailMode=v)}function cE(r,o,c){var d=o.pendingProps,v=d.revealOrder,b=d.tail;if(bi(r,o,d.children,c),d=ei.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&uE(r,c,o);else if(r.tag===19)uE(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(G(ei,d),v){case"forwards":for(c=o.child,v=null;c!==null;)r=c.alternate,r!==null&&Wd(r)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),cy(o,!1,v,c,b);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&Wd(r)===null){o.child=v;break}r=v.sibling,v.sibling=c,c=v,v=r}cy(o,!0,c,null,b);break;case"together":cy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function No(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Pa|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(zl(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,c=Jr(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Jr(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function hy(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Pd(r)))}function bO(r,o,c){switch(o.tag){case 3:Ft(o,o.stateNode.containerInfo),Zs(o,ti,r.memoizedState.cache),_a();break;case 27:case 5:Yt(o);break;case 4:Ft(o,o.stateNode.containerInfo);break;case 10:Zs(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Sa(o),o.flags|=128,null):(c&o.child.childLanes)!==0?lE(r,o,c):(Sa(o),r=No(r,o,c),r!==null?r.sibling:null);Sa(o);break;case 19:var v=(r.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(zl(r,o,c,!1),d=(c&o.childLanes)!==0),v){if(d)return cE(r,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),G(ei,ei.current),d)break;return null;case 22:case 23:return o.lanes=0,iE(r,o,c);case 24:Zs(o,ti,r.memoizedState.cache)}return No(r,o,c)}function hE(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)hi=!0;else{if(!hy(r,c)&&(o.flags&128)===0)return hi=!1,bO(r,o,c);hi=(r.flags&131072)!==0}else hi=!1,Jt&&(o.flags&1048576)!==0&&gt(o,h,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,v=d._init;if(d=v(d._payload),o.type=d,typeof d=="function")Cu(d)?(r=Fl(d,r),o.tag=1,o=oE(null,o,d,r,c)):(o.tag=0,o=ry(null,o,d,r,c));else{if(d!=null){if(v=d.$$typeof,v===nt){o.tag=11,o=tE(null,o,d,r,c);break t}else if(v===H){o.tag=14,o=eE(null,o,d,r,c);break t}}throw o=rt(d)||d,Error(i(306,o,""))}}return o;case 0:return ry(r,o,o.type,o.pendingProps,c);case 1:return d=o.type,v=Fl(d,o.pendingProps),oE(r,o,d,v,c);case 3:t:{if(Ft(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var b=o.memoizedState;v=b.element,Og(r,o),ch(o,d,null,c);var P=o.memoizedState;if(d=P.cache,Zs(o,ti,d),d!==b.cache&&Pu(o,[ti],c,!0),uh(),d=P.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=aE(r,o,d,c);break t}else if(d!==v){v=Wi(Error(i(424)),o),va(v),o=aE(r,o,d,c);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ut=xs(r.firstChild),Vt=o,Jt=!0,$e=null,dn=!0,c=HT(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(_a(),d===v){o=No(r,o,c);break t}bi(r,o,d,c)}o=o.child}return o;case 26:return $d(r,o),r===null?(c=mS(o.type,null,o.pendingProps,null))?o.memoizedState=c:Jt||(c=o.type,r=o.pendingProps,d=cp(Tt.current).createElement(c),d[Ie]=o,d[Se]=r,Ei(d,c,r),fn(d),o.stateNode=d):o.memoizedState=mS(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Yt(o),r===null&&Jt&&(d=o.stateNode=fS(o.type,o.pendingProps,Tt.current),Vt=o,dn=!0,v=Ut,Oa(o.type)?(Gy=v,Ut=xs(d.firstChild)):Ut=v),bi(r,o,o.pendingProps.children,c),$d(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Jt&&((v=d=Ut)&&(d=$O(d,o.type,o.pendingProps,dn),d!==null?(o.stateNode=d,Vt=o,Ut=xs(d.firstChild),dn=!1,v=!0):v=!1),v||rr(o)),Yt(o),v=o.type,b=o.pendingProps,P=r!==null?r.memoizedProps:null,d=b.children,jy(v,b)?d=null:P!==null&&jy(v,P)&&(o.flags|=32),o.memoizedState!==null&&(v=Bg(r,o,dO,null,null,c),Dh._currentValue=v),$d(r,o),bi(r,o,d,c),o.child;case 6:return r===null&&Jt&&((r=c=Ut)&&(c=YO(c,o.pendingProps,dn),c!==null?(o.stateNode=c,Vt=o,Ut=null,r=!0):r=!1),r||rr(o)),null;case 13:return lE(r,o,c);case 4:return Ft(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=zu(o,null,d,c):bi(r,o,d,c),o.child;case 11:return tE(r,o,o.type,o.pendingProps,c);case 7:return bi(r,o,o.pendingProps,c),o.child;case 8:return bi(r,o,o.pendingProps.children,c),o.child;case 12:return bi(r,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Zs(o,o.type,d.value),bi(r,o,d.children,c),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,Ul(o),v=Mi(v),d=d(v),o.flags|=1,bi(r,o,d,c),o.child;case 14:return eE(r,o,o.type,o.pendingProps,c);case 15:return nE(r,o,o.type,o.pendingProps,c);case 19:return cE(r,o,c);case 31:return d=o.pendingProps,c=o.mode,d={mode:d.mode,children:d.children},r===null?(c=Yd(d,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Jr(r.child,d),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return iE(r,o,c);case 24:return Ul(o),d=Mi(ti),r===null?(v=kg(),v===null&&(v=Ye,b=Ig(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=c),v=b),o.memoizedState={parent:d,cache:v},Mg(o),Zs(o,ti,v)):((r.lanes&c)!==0&&(Og(r,o),ch(o,null,null,c),uh()),v=r.memoizedState,b=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Zs(o,ti,d)):(d=b.cache,Zs(o,ti,d),d!==v.cache&&Pu(o,[ti],c,!0))),bi(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Vo(r){r.flags|=4}function fE(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!wS(o)){if(o=es.current,o!==null&&((Te&4194048)===Te?Ks!==null:(Te&62914560)!==Te&&(Te&536870912)===0||o!==Ks))throw ah=Dg,$b;r.flags|=8192}}function Xd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Ns():536870912,r.lanes|=o,Fu|=o)}function yh(r,o){if(!Jt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function pn(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(o)for(var v=r.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=d,r.childLanes=c,o}function TO(r,o,c){var d=o.pendingProps;switch(Dt(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(o),null;case 1:return pn(o),null;case 3:return c=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Es(ti),Ce(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Nl(o)?Vo(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Id())),pn(o),null;case 26:return c=o.memoizedState,r===null?(Vo(o),c!==null?(pn(o),fE(o,c)):(pn(o),o.flags&=-16777217)):c?c!==r.memoizedState?(Vo(o),pn(o),fE(o,c)):(pn(o),o.flags&=-16777217):(r.memoizedProps!==d&&Vo(o),pn(o),o.flags&=-16777217),null;case 27:nn(o),c=Tt.current;var v=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Vo(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return pn(o),null}r=Rt.current,Nl(o)?Rd(o):(r=fS(v,d,c),o.stateNode=r,Vo(o))}return pn(o),null;case 5:if(nn(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Vo(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return pn(o),null}if(r=Rt.current,Nl(o))Rd(o);else{switch(v=cp(Tt.current),r){case 1:r=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?v.createElement(c,{is:d.is}):v.createElement(c)}}r[Ie]=o,r[Se]=d;t:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)r.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break t;for(;v.sibling===null;){if(v.return===null||v.return===o)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=r;t:switch(Ei(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Vo(o)}}return pn(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Vo(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=Tt.current,Nl(o)){if(r=o.stateNode,c=o.memoizedProps,d=null,v=Vt,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}r[Ie]=o,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||sS(r.nodeValue,c)),r||rr(o)}else r=cp(r).createTextNode(d),r[Ie]=o,o.stateNode=r}return pn(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=Nl(o),d!==null&&d.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Ie]=o}else _a(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;pn(o),v=!1}else v=Id(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Lo(o),o):(Lo(o),null)}if(Lo(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),Xd(o,o.updateQueue),pn(o),null;case 4:return Ce(),r===null&&Ny(o.stateNode.containerInfo),pn(o),null;case 10:return Es(o.type),pn(o),null;case 19:if(_t(ei),v=o.memoizedState,v===null)return pn(o),null;if(d=(o.flags&128)!==0,b=v.rendering,b===null)if(d)yh(v,!1);else{if(En!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(b=Wd(r),b!==null){for(o.flags|=128,yh(v,!1),r=b.updateQueue,o.updateQueue=r,Xd(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)nh(c,r),c=c.sibling;return G(ei,ei.current&1|2),o.child}r=r.sibling}v.tail!==null&&yn()>tp&&(o.flags|=128,d=!0,yh(v,!1),o.lanes=4194304)}else{if(!d)if(r=Wd(b),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,Xd(o,r),yh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Jt)return pn(o),null}else 2*yn()-v.renderingStartTime>tp&&c!==536870912&&(o.flags|=128,d=!0,yh(v,!1),o.lanes=4194304);v.isBackwards?(b.sibling=o.child,o.child=b):(r=v.last,r!==null?r.sibling=b:o.child=b,v.last=b)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=yn(),o.sibling=null,r=ei.current,G(ei,d?r&1|2:r&1),o):(pn(o),null);case 22:case 23:return Lo(o),zg(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(pn(o),o.subtreeFlags&6&&(o.flags|=8192)):pn(o),c=o.updateQueue,c!==null&&Xd(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),r!==null&&_t(Bl),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Es(ti),pn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function EO(r,o){switch(Dt(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Es(ti),Ce(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return nn(o),null;case 13:if(Lo(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));_a()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return _t(ei),null;case 4:return Ce(),null;case 10:return Es(o.type),null;case 22:case 23:return Lo(o),zg(),r!==null&&_t(Bl),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Es(ti),null;case 25:return null;default:return null}}function dE(r,o){switch(Dt(o),o.tag){case 3:Es(ti),Ce();break;case 26:case 27:case 5:nn(o);break;case 4:Ce();break;case 13:Lo(o);break;case 19:_t(ei);break;case 10:Es(o.type);break;case 22:case 23:Lo(o),zg(),r!==null&&_t(Bl);break;case 24:Es(ti)}}function _h(r,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var v=d.next;c=v;do{if((c.tag&r)===r){d=void 0;var b=c.create,P=c.inst;d=b(),P.destroy=d}c=c.next}while(c!==v)}}catch(B){He(o,o.return,B)}}function Aa(r,o,c){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var b=v.next;d=b;do{if((d.tag&r)===r){var P=d.inst,B=P.destroy;if(B!==void 0){P.destroy=void 0,v=o;var J=c,ft=B;try{ft()}catch(vt){He(v,J,vt)}}}d=d.next}while(d!==b)}}catch(vt){He(o,o.return,vt)}}function pE(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{eT(o,c)}catch(d){He(r,r.return,d)}}}function mE(r,o,c){c.props=Fl(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){He(r,o,d)}}function vh(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(v){He(r,o,v)}}function $s(r,o){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(v){He(r,o,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){He(r,o,v)}else c.current=null}function gE(r){var o=r.type,c=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(v){He(r,r.return,v)}}function fy(r,o,c){try{var d=r.stateNode;qO(d,r.type,c,o),d[Se]=o}catch(v){He(r,r.return,v)}}function yE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Oa(r.type)||r.tag===4}function dy(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||yE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Oa(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function py(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=up));else if(d!==4&&(d===27&&Oa(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(py(r,o,c),r=r.sibling;r!==null;)py(r,o,c),r=r.sibling}function Qd(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(d!==4&&(d===27&&Oa(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Qd(r,o,c),r=r.sibling;r!==null;)Qd(r,o,c),r=r.sibling}function _E(r){var o=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Ei(o,d,c),o[Ie]=r,o[Se]=c}catch(b){He(r,r.return,b)}}var zo=!1,Mn=!1,my=!1,vE=typeof WeakSet=="function"?WeakSet:Set,fi=null;function SO(r,o){if(r=r.containerInfo,Uy=gp,r=Il(r),Pl(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var v=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break t}var P=0,B=-1,J=-1,ft=0,vt=0,St=r,dt=null;e:for(;;){for(var pt;St!==c||v!==0&&St.nodeType!==3||(B=P+v),St!==b||d!==0&&St.nodeType!==3||(J=P+d),St.nodeType===3&&(P+=St.nodeValue.length),(pt=St.firstChild)!==null;)dt=St,St=pt;for(;;){if(St===r)break e;if(dt===c&&++ft===v&&(B=P),dt===b&&++vt===d&&(J=P),(pt=St.nextSibling)!==null)break;St=dt,dt=St.parentNode}St=pt}c=B===-1||J===-1?null:{start:B,end:J}}else c=null}c=c||{start:0,end:0}}else c=null;for(By={focusedElem:r,selectionRange:c},gp=!1,fi=o;fi!==null;)if(o=fi,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,fi=r;else for(;fi!==null;){switch(o=fi,b=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,c=o,v=b.memoizedProps,b=b.memoizedState,d=c.stateNode;try{var Xt=Fl(c.type,v,c.elementType===c.type);r=d.getSnapshotBeforeUpdate(Xt,b),d.__reactInternalSnapshotBeforeUpdate=r}catch(Gt){He(c,c.return,Gt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)Hy(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,fi=r;break}fi=o.return}}function wE(r,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Ra(r,c),d&4&&_h(5,c);break;case 1:if(Ra(r,c),d&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(P){He(c,c.return,P)}else{var v=Fl(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(v,o,r.__reactInternalSnapshotBeforeUpdate)}catch(P){He(c,c.return,P)}}d&64&&pE(c),d&512&&vh(c,c.return);break;case 3:if(Ra(r,c),d&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{eT(r,o)}catch(P){He(c,c.return,P)}}break;case 27:o===null&&d&4&&_E(c);case 26:case 5:Ra(r,c),o===null&&d&4&&gE(c),d&512&&vh(c,c.return);break;case 12:Ra(r,c);break;case 13:Ra(r,c),d&4&&EE(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=MO.bind(null,c),XO(r,c))));break;case 22:if(d=c.memoizedState!==null||zo,!d){o=o!==null&&o.memoizedState!==null||Mn,v=zo;var b=Mn;zo=d,(Mn=o)&&!b?Ca(r,c,(c.subtreeFlags&8772)!==0):Ra(r,c),zo=v,Mn=b}break;case 30:break;default:Ra(r,c)}}function bE(r){var o=r.alternate;o!==null&&(r.alternate=null,bE(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&hs(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var an=null,or=!1;function Uo(r,o,c){for(c=c.child;c!==null;)TE(r,o,c),c=c.sibling}function TE(r,o,c){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(mt,c)}catch{}switch(c.tag){case 26:Mn||$s(c,o),Uo(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Mn||$s(c,o);var d=an,v=or;Oa(c.type)&&(an=c.stateNode,or=!1),Uo(r,o,c),Ch(c.stateNode),an=d,or=v;break;case 5:Mn||$s(c,o);case 6:if(d=an,v=or,an=null,Uo(r,o,c),an=d,or=v,an!==null)if(or)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(c.stateNode)}catch(b){He(c,o,b)}else try{an.removeChild(c.stateNode)}catch(b){He(c,o,b)}break;case 18:an!==null&&(or?(r=an,cS(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Nh(r)):cS(an,c.stateNode));break;case 4:d=an,v=or,an=c.stateNode.containerInfo,or=!0,Uo(r,o,c),an=d,or=v;break;case 0:case 11:case 14:case 15:Mn||Aa(2,c,o),Mn||Aa(4,c,o),Uo(r,o,c);break;case 1:Mn||($s(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&mE(c,o,d)),Uo(r,o,c);break;case 21:Uo(r,o,c);break;case 22:Mn=(d=Mn)||c.memoizedState!==null,Uo(r,o,c),Mn=d;break;default:Uo(r,o,c)}}function EE(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Nh(r)}catch(c){He(o,o.return,c)}}function xO(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new vE),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new vE),o;default:throw Error(i(435,r.tag))}}function gy(r,o){var c=xO(r);o.forEach(function(d){var v=OO.bind(null,r,d);c.has(d)||(c.add(d),d.then(v,v))})}function kr(r,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var v=c[d],b=r,P=o,B=P;t:for(;B!==null;){switch(B.tag){case 27:if(Oa(B.type)){an=B.stateNode,or=!1;break t}break;case 5:an=B.stateNode,or=!1;break t;case 3:case 4:an=B.stateNode.containerInfo,or=!0;break t}B=B.return}if(an===null)throw Error(i(160));TE(b,P,v),an=null,or=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)SE(o,r),o=o.sibling}var Ss=null;function SE(r,o){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:kr(o,r),Dr(r),d&4&&(Aa(3,r,r.return),_h(3,r),Aa(5,r,r.return));break;case 1:kr(o,r),Dr(r),d&512&&(Mn||c===null||$s(c,c.return)),d&64&&zo&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var v=Ss;if(kr(o,r),Dr(r),d&512&&(Mn||c===null||$s(c,c.return)),d&4){var b=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){t:{d=r.type,c=r.memoizedProps,v=v.ownerDocument||v;e:switch(d){case"title":b=v.getElementsByTagName("title")[0],(!b||b[er]||b[Ie]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(d),v.head.insertBefore(b,v.querySelector("head > title"))),Ei(b,d,c),b[Ie]=r,fn(b),d=b;break t;case"link":var P=_S("link","href",v).get(d+(c.href||""));if(P){for(var B=0;B<P.length;B++)if(b=P[B],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){P.splice(B,1);break e}}b=v.createElement(d),Ei(b,d,c),v.head.appendChild(b);break;case"meta":if(P=_S("meta","content",v).get(d+(c.content||""))){for(B=0;B<P.length;B++)if(b=P[B],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){P.splice(B,1);break e}}b=v.createElement(d),Ei(b,d,c),v.head.appendChild(b);break;default:throw Error(i(468,d))}b[Ie]=r,fn(b),d=b}r.stateNode=d}else vS(v,r.type,r.stateNode);else r.stateNode=yS(v,d,r.memoizedProps);else b!==d?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,d===null?vS(v,r.type,r.stateNode):yS(v,d,r.memoizedProps)):d===null&&r.stateNode!==null&&fy(r,r.memoizedProps,c.memoizedProps)}break;case 27:kr(o,r),Dr(r),d&512&&(Mn||c===null||$s(c,c.return)),c!==null&&d&4&&fy(r,r.memoizedProps,c.memoizedProps);break;case 5:if(kr(o,r),Dr(r),d&512&&(Mn||c===null||$s(c,c.return)),r.flags&32){v=r.stateNode;try{ai(v,"")}catch(pt){He(r,r.return,pt)}}d&4&&r.stateNode!=null&&(v=r.memoizedProps,fy(r,v,c!==null?c.memoizedProps:v)),d&1024&&(my=!0);break;case 6:if(kr(o,r),Dr(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(pt){He(r,r.return,pt)}}break;case 3:if(dp=null,v=Ss,Ss=hp(o.containerInfo),kr(o,r),Ss=v,Dr(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Nh(o.containerInfo)}catch(pt){He(r,r.return,pt)}my&&(my=!1,xE(r));break;case 4:d=Ss,Ss=hp(r.stateNode.containerInfo),kr(o,r),Dr(r),Ss=d;break;case 12:kr(o,r),Dr(r);break;case 13:kr(o,r),Dr(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ty=yn()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,gy(r,d)));break;case 22:v=r.memoizedState!==null;var J=c!==null&&c.memoizedState!==null,ft=zo,vt=Mn;if(zo=ft||v,Mn=vt||J,kr(o,r),Mn=vt,zo=ft,Dr(r),d&8192)t:for(o=r.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||J||zo||Mn||Hl(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){J=c=o;try{if(b=J.stateNode,v)P=b.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{B=J.stateNode;var St=J.memoizedProps.style,dt=St!=null&&St.hasOwnProperty("display")?St.display:null;B.style.display=dt==null||typeof dt=="boolean"?"":(""+dt).trim()}}catch(pt){He(J,J.return,pt)}}}else if(o.tag===6){if(c===null){J=o;try{J.stateNode.nodeValue=v?"":J.memoizedProps}catch(pt){He(J,J.return,pt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,gy(r,c))));break;case 19:kr(o,r),Dr(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,gy(r,d)));break;case 30:break;case 21:break;default:kr(o,r),Dr(r)}}function Dr(r){var o=r.flags;if(o&2){try{for(var c,d=r.return;d!==null;){if(yE(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var v=c.stateNode,b=dy(r);Qd(r,b,v);break;case 5:var P=c.stateNode;c.flags&32&&(ai(P,""),c.flags&=-33);var B=dy(r);Qd(r,B,P);break;case 3:case 4:var J=c.stateNode.containerInfo,ft=dy(r);py(r,ft,J);break;default:throw Error(i(161))}}catch(vt){He(r,r.return,vt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function xE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;xE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Ra(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)wE(r,o.alternate,o),o=o.sibling}function Hl(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Aa(4,o,o.return),Hl(o);break;case 1:$s(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&mE(o,o.return,c),Hl(o);break;case 27:Ch(o.stateNode);case 26:case 5:$s(o,o.return),Hl(o);break;case 22:o.memoizedState===null&&Hl(o);break;case 30:Hl(o);break;default:Hl(o)}r=r.sibling}}function Ca(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=r,b=o,P=b.flags;switch(b.tag){case 0:case 11:case 15:Ca(v,b,c),_h(4,b);break;case 1:if(Ca(v,b,c),d=b,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ft){He(d,d.return,ft)}if(d=b,v=d.updateQueue,v!==null){var B=d.stateNode;try{var J=v.shared.hiddenCallbacks;if(J!==null)for(v.shared.hiddenCallbacks=null,v=0;v<J.length;v++)tT(J[v],B)}catch(ft){He(d,d.return,ft)}}c&&P&64&&pE(b),vh(b,b.return);break;case 27:_E(b);case 26:case 5:Ca(v,b,c),c&&d===null&&P&4&&gE(b),vh(b,b.return);break;case 12:Ca(v,b,c);break;case 13:Ca(v,b,c),c&&P&4&&EE(v,b);break;case 22:b.memoizedState===null&&Ca(v,b,c),vh(b,b.return);break;case 30:break;default:Ca(v,b,c)}o=o.sibling}}function yy(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&rh(c))}function _y(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&rh(r))}function Ys(r,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)AE(r,o,c,d),o=o.sibling}function AE(r,o,c,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ys(r,o,c,d),v&2048&&_h(9,o);break;case 1:Ys(r,o,c,d);break;case 3:Ys(r,o,c,d),v&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&rh(r)));break;case 12:if(v&2048){Ys(r,o,c,d),r=o.stateNode;try{var b=o.memoizedProps,P=b.id,B=b.onPostCommit;typeof B=="function"&&B(P,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(J){He(o,o.return,J)}}else Ys(r,o,c,d);break;case 13:Ys(r,o,c,d);break;case 23:break;case 22:b=o.stateNode,P=o.alternate,o.memoizedState!==null?b._visibility&2?Ys(r,o,c,d):wh(r,o):b._visibility&2?Ys(r,o,c,d):(b._visibility|=2,Uu(r,o,c,d,(o.subtreeFlags&10256)!==0)),v&2048&&yy(P,o);break;case 24:Ys(r,o,c,d),v&2048&&_y(o.alternate,o);break;default:Ys(r,o,c,d)}}function Uu(r,o,c,d,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=r,P=o,B=c,J=d,ft=P.flags;switch(P.tag){case 0:case 11:case 15:Uu(b,P,B,J,v),_h(8,P);break;case 23:break;case 22:var vt=P.stateNode;P.memoizedState!==null?vt._visibility&2?Uu(b,P,B,J,v):wh(b,P):(vt._visibility|=2,Uu(b,P,B,J,v)),v&&ft&2048&&yy(P.alternate,P);break;case 24:Uu(b,P,B,J,v),v&&ft&2048&&_y(P.alternate,P);break;default:Uu(b,P,B,J,v)}o=o.sibling}}function wh(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,d=o,v=d.flags;switch(d.tag){case 22:wh(c,d),v&2048&&yy(d.alternate,d);break;case 24:wh(c,d),v&2048&&_y(d.alternate,d);break;default:wh(c,d)}o=o.sibling}}var bh=8192;function Bu(r){if(r.subtreeFlags&bh)for(r=r.child;r!==null;)RE(r),r=r.sibling}function RE(r){switch(r.tag){case 26:Bu(r),r.flags&bh&&r.memoizedState!==null&&cL(Ss,r.memoizedState,r.memoizedProps);break;case 5:Bu(r);break;case 3:case 4:var o=Ss;Ss=hp(r.stateNode.containerInfo),Bu(r),Ss=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=bh,bh=16777216,Bu(r),bh=o):Bu(r));break;default:Bu(r)}}function CE(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Th(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];fi=d,PE(d,r)}CE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)IE(r),r=r.sibling}function IE(r){switch(r.tag){case 0:case 11:case 15:Th(r),r.flags&2048&&Aa(9,r,r.return);break;case 3:Th(r);break;case 12:Th(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Jd(r)):Th(r);break;default:Th(r)}}function Jd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];fi=d,PE(d,r)}CE(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Aa(8,o,o.return),Jd(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Jd(o));break;default:Jd(o)}r=r.sibling}}function PE(r,o){for(;fi!==null;){var c=fi;switch(c.tag){case 0:case 11:case 15:Aa(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:rh(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,fi=d;else t:for(c=r;fi!==null;){d=fi;var v=d.sibling,b=d.return;if(bE(d),d===c){fi=null;break t}if(v!==null){v.return=b,fi=v;break t}fi=b}}}var AO={getCacheForType:function(r){var o=Mi(ti),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},RO=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ye=null,de=null,Te=0,Ne=0,Mr=null,Ia=!1,ju=!1,vy=!1,Bo=0,En=0,Pa=0,ql=0,wy=0,ns=0,Fu=0,Eh=null,ar=null,by=!1,Ty=0,tp=1/0,ep=null,ka=null,Ti=0,Da=null,Hu=null,qu=0,Ey=0,Sy=null,kE=null,Sh=0,xy=null;function Or(){if((Le&2)!==0&&Te!==0)return Te&-Te;if(et.T!==null){var r=ku;return r!==0?r:Dy()}return Pn()}function DE(){ns===0&&(ns=(Te&536870912)===0||Jt?_o():536870912);var r=es.current;return r!==null&&(r.flags|=32),ns}function Lr(r,o,c){(r===Ye&&(Ne===2||Ne===9)||r.cancelPendingCommit!==null)&&(Gu(r,0),Ma(r,Te,ns,!1)),Me(r,c),((Le&2)===0||r!==Ye)&&(r===Ye&&((Le&2)===0&&(ql|=c),En===4&&Ma(r,Te,ns,!1)),Xs(r))}function ME(r,o,c){if((Le&6)!==0)throw Error(i(327));var d=!c&&(o&124)===0&&(o&r.expiredLanes)===0||vn(r,o),v=d?PO(r,o):Cy(r,o,!0),b=d;do{if(v===0){ju&&!d&&Ma(r,o,0,!1);break}else{if(c=r.current.alternate,b&&!CO(c)){v=Cy(r,o,!1),b=!1;continue}if(v===2){if(b=o,r.errorRecoveryDisabledLanes&b)var P=0;else P=r.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;t:{var B=r;v=Eh;var J=B.current.memoizedState.isDehydrated;if(J&&(Gu(B,P).flags|=256),P=Cy(B,P,!1),P!==2){if(vy&&!J){B.errorRecoveryDisabledLanes|=b,ql|=b,v=4;break t}b=ar,ar=v,b!==null&&(ar===null?ar=b:ar.push.apply(ar,b))}v=P}if(b=!1,v!==2)continue}}if(v===1){Gu(r,0),Ma(r,o,0,!0);break}t:{switch(d=r,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ma(d,o,ns,!Ia);break t;case 2:ar=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(v=Ty+300-yn(),10<v)){if(Ma(d,o,ns,!Ia),tn(d,0,!0)!==0)break t;d.timeoutHandle=lS(OE.bind(null,d,c,ar,ep,by,o,ns,ql,Fu,Ia,b,2,-0,0),v);break t}OE(d,c,ar,ep,by,o,ns,ql,Fu,Ia,b,0,-0,0)}}break}while(!0);Xs(r)}function OE(r,o,c,d,v,b,P,B,J,ft,vt,St,dt,pt){if(r.timeoutHandle=-1,St=o.subtreeFlags,(St&8192||(St&16785408)===16785408)&&(kh={stylesheets:null,count:0,unsuspend:uL},RE(o),St=hL(),St!==null)){r.cancelPendingCommit=St(jE.bind(null,r,o,b,c,d,v,P,B,J,vt,1,dt,pt)),Ma(r,b,P,!ft);return}jE(r,o,b,c,d,v,P,B,J)}function CO(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var v=c[d],b=v.getSnapshot;v=v.value;try{if(!qi(b(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ma(r,o,c,d){o&=~wy,o&=~ql,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var v=o;0<v;){var b=31-Bt(v),P=1<<b;d[b]=-1,v&=~P}c!==0&&We(r,c,o)}function np(){return(Le&6)===0?(xh(0),!1):!0}function Ay(){if(de!==null){if(Ne===0)var r=de.return;else r=de,Ts=ts=null,Hg(r),Vu=null,mh=0,r=de;for(;r!==null;)dE(r.alternate,r),r=r.return;de=null}}function Gu(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,WO(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Ay(),Ye=r,de=c=Jr(r.current,null),Te=o,Ne=0,Mr=null,Ia=!1,ju=vn(r,o),vy=!1,Fu=ns=wy=ql=Pa=En=0,ar=Eh=null,by=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var v=31-Bt(d),b=1<<v;o|=r[v],d&=~b}return Bo=o,Dl(),c}function LE(r,o){ue=null,et.H=Hd,o===oh||o===Md?(o=Qb(),Ne=3):o===$b?(o=Qb(),Ne=4):Ne=o===JT?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mr=o,de===null&&(En=1,Kd(r,Wi(o,r.current)))}function NE(){var r=et.H;return et.H=Hd,r===null?Hd:r}function VE(){var r=et.A;return et.A=AO,r}function Ry(){En=4,Ia||(Te&4194048)!==Te&&es.current!==null||(ju=!0),(Pa&134217727)===0&&(ql&134217727)===0||Ye===null||Ma(Ye,Te,ns,!1)}function Cy(r,o,c){var d=Le;Le|=2;var v=NE(),b=VE();(Ye!==r||Te!==o)&&(ep=null,Gu(r,o)),o=!1;var P=En;t:do try{if(Ne!==0&&de!==null){var B=de,J=Mr;switch(Ne){case 8:Ay(),P=6;break t;case 3:case 2:case 9:case 6:es.current===null&&(o=!0);var ft=Ne;if(Ne=0,Mr=null,Wu(r,B,J,ft),c&&ju){P=0;break t}break;default:ft=Ne,Ne=0,Mr=null,Wu(r,B,J,ft)}}IO(),P=En;break}catch(vt){LE(r,vt)}while(!0);return o&&r.shellSuspendCounter++,Ts=ts=null,Le=d,et.H=v,et.A=b,de===null&&(Ye=null,Te=0,Dl()),P}function IO(){for(;de!==null;)zE(de)}function PO(r,o){var c=Le;Le|=2;var d=NE(),v=VE();Ye!==r||Te!==o?(ep=null,tp=yn()+500,Gu(r,o)):ju=vn(r,o);t:do try{if(Ne!==0&&de!==null){o=de;var b=Mr;e:switch(Ne){case 1:Ne=0,Mr=null,Wu(r,o,b,1);break;case 2:case 9:if(Yb(b)){Ne=0,Mr=null,UE(o);break}o=function(){Ne!==2&&Ne!==9||Ye!==r||(Ne=7),Xs(r)},b.then(o,o);break t;case 3:Ne=7;break t;case 4:Ne=5;break t;case 7:Yb(b)?(Ne=0,Mr=null,UE(o)):(Ne=0,Mr=null,Wu(r,o,b,7));break;case 5:var P=null;switch(de.tag){case 26:P=de.memoizedState;case 5:case 27:var B=de;if(!P||wS(P)){Ne=0,Mr=null;var J=B.sibling;if(J!==null)de=J;else{var ft=B.return;ft!==null?(de=ft,ip(ft)):de=null}break e}}Ne=0,Mr=null,Wu(r,o,b,5);break;case 6:Ne=0,Mr=null,Wu(r,o,b,6);break;case 8:Ay(),En=6;break t;default:throw Error(i(462))}}kO();break}catch(vt){LE(r,vt)}while(!0);return Ts=ts=null,et.H=d,et.A=v,Le=c,de!==null?0:(Ye=null,Te=0,Dl(),En)}function kO(){for(;de!==null&&!ri();)zE(de)}function zE(r){var o=hE(r.alternate,r,Bo);r.memoizedProps=r.pendingProps,o===null?ip(r):de=o}function UE(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=sE(c,o,o.pendingProps,o.type,void 0,Te);break;case 11:o=sE(c,o,o.pendingProps,o.type.render,o.ref,Te);break;case 5:Hg(o);default:dE(c,o),o=de=nh(o,Bo),o=hE(c,o,Bo)}r.memoizedProps=r.pendingProps,o===null?ip(r):de=o}function Wu(r,o,c,d){Ts=ts=null,Hg(o),Vu=null,mh=0;var v=o.return;try{if(wO(r,v,o,c,Te)){En=1,Kd(r,Wi(c,r.current)),de=null;return}}catch(b){if(v!==null)throw de=v,b;En=1,Kd(r,Wi(c,r.current)),de=null;return}o.flags&32768?(Jt||d===1?r=!0:ju||(Te&536870912)!==0?r=!1:(Ia=r=!0,(d===2||d===9||d===3||d===6)&&(d=es.current,d!==null&&d.tag===13&&(d.flags|=16384))),BE(o,r)):ip(o)}function ip(r){var o=r;do{if((o.flags&32768)!==0){BE(o,Ia);return}r=o.return;var c=TO(o.alternate,o,Bo);if(c!==null){de=c;return}if(o=o.sibling,o!==null){de=o;return}de=o=r}while(o!==null);En===0&&(En=5)}function BE(r,o){do{var c=EO(r.alternate,r);if(c!==null){c.flags&=32767,de=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){de=r;return}de=r=c}while(r!==null);En=6,de=null}function jE(r,o,c,d,v,b,P,B,J){r.cancelPendingCommit=null;do rp();while(Ti!==0);if((Le&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=Pr,In(r,c,b,P,B,J),r===Ye&&(de=Ye=null,Te=0),Hu=o,Da=r,qu=c,Ey=b,Sy=v,kE=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,LO(si,function(){return WE(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=et.T,et.T=null,v=it.p,it.p=2,P=Le,Le|=4;try{SO(r,o,c)}finally{Le=P,it.p=v,et.T=d}}Ti=1,FE(),HE(),qE()}}function FE(){if(Ti===1){Ti=0;var r=Da,o=Hu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=et.T,et.T=null;var d=it.p;it.p=2;var v=Le;Le|=4;try{SE(o,r);var b=By,P=Il(r.containerInfo),B=b.focusedElem,J=b.selectionRange;if(P!==B&&B&&B.ownerDocument&&Eu(B.ownerDocument.documentElement,B)){if(J!==null&&Pl(B)){var ft=J.start,vt=J.end;if(vt===void 0&&(vt=ft),"selectionStart"in B)B.selectionStart=ft,B.selectionEnd=Math.min(vt,B.value.length);else{var St=B.ownerDocument||document,dt=St&&St.defaultView||window;if(dt.getSelection){var pt=dt.getSelection(),Xt=B.textContent.length,Gt=Math.min(J.start,Xt),Be=J.end===void 0?Gt:Math.min(J.end,Xt);!pt.extend&&Gt>Be&&(P=Be,Be=Gt,Gt=P);var at=th(B,Gt),st=th(B,Be);if(at&&st&&(pt.rangeCount!==1||pt.anchorNode!==at.node||pt.anchorOffset!==at.offset||pt.focusNode!==st.node||pt.focusOffset!==st.offset)){var ht=St.createRange();ht.setStart(at.node,at.offset),pt.removeAllRanges(),Gt>Be?(pt.addRange(ht),pt.extend(st.node,st.offset)):(ht.setEnd(st.node,st.offset),pt.addRange(ht))}}}}for(St=[],pt=B;pt=pt.parentNode;)pt.nodeType===1&&St.push({element:pt,left:pt.scrollLeft,top:pt.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<St.length;B++){var bt=St[B];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}gp=!!Uy,By=Uy=null}finally{Le=v,it.p=d,et.T=c}}r.current=o,Ti=2}}function HE(){if(Ti===2){Ti=0;var r=Da,o=Hu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=et.T,et.T=null;var d=it.p;it.p=2;var v=Le;Le|=4;try{wE(r,o.alternate,o)}finally{Le=v,it.p=d,et.T=c}}Ti=3}}function qE(){if(Ti===4||Ti===3){Ti=0,yi();var r=Da,o=Hu,c=qu,d=kE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ti=5:(Ti=0,Hu=Da=null,GE(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(ka=null),wn(c),o=o.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(mt,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=et.T,v=it.p,it.p=2,et.T=null;try{for(var b=r.onRecoverableError,P=0;P<d.length;P++){var B=d[P];b(B.value,{componentStack:B.stack})}}finally{et.T=o,it.p=v}}(qu&3)!==0&&rp(),Xs(r),v=r.pendingLanes,(c&4194090)!==0&&(v&42)!==0?r===xy?Sh++:(Sh=0,xy=r):Sh=0,xh(0)}}function GE(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,rh(o)))}function rp(r){return FE(),HE(),qE(),WE()}function WE(){if(Ti!==5)return!1;var r=Da,o=Ey;Ey=0;var c=wn(qu),d=et.T,v=it.p;try{it.p=32>c?32:c,et.T=null,c=Sy,Sy=null;var b=Da,P=qu;if(Ti=0,Hu=Da=null,qu=0,(Le&6)!==0)throw Error(i(331));var B=Le;if(Le|=4,IE(b.current),AE(b,b.current,P,c),Le=B,xh(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(mt,b)}catch{}return!0}finally{it.p=v,et.T=d,GE(r,o)}}function ZE(r,o,c){o=Wi(c,o),o=iy(r.stateNode,o,2),r=Ta(r,o,2),r!==null&&(Me(r,2),Xs(r))}function He(r,o,c){if(r.tag===3)ZE(r,r,c);else for(;o!==null;){if(o.tag===3){ZE(o,r,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ka===null||!ka.has(d))){r=Wi(c,r),c=XT(2),d=Ta(o,c,2),d!==null&&(QT(c,d,o,r),Me(d,2),Xs(d));break}}o=o.return}}function Iy(r,o,c){var d=r.pingCache;if(d===null){d=r.pingCache=new RO;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(c)||(vy=!0,v.add(c),r=DO.bind(null,r,o,c),o.then(r,r))}function DO(r,o,c){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Ye===r&&(Te&c)===c&&(En===4||En===3&&(Te&62914560)===Te&&300>yn()-Ty?(Le&2)===0&&Gu(r,0):wy|=c,Fu===Te&&(Fu=0)),Xs(r)}function KE(r,o){o===0&&(o=Ns()),r=ga(r,o),r!==null&&(Me(r,o),Xs(r))}function MO(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),KE(r,c)}function OO(r,o){var c=0;switch(r.tag){case 13:var d=r.stateNode,v=r.memoizedState;v!==null&&(c=v.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),KE(r,c)}function LO(r,o){return Nn(r,o)}var sp=null,Zu=null,Py=!1,op=!1,ky=!1,Gl=0;function Xs(r){r!==Zu&&r.next===null&&(Zu===null?sp=Zu=r:Zu=Zu.next=r),op=!0,Py||(Py=!0,VO())}function xh(r,o){if(!ky&&op){ky=!0;do for(var c=!1,d=sp;d!==null;){if(r!==0){var v=d.pendingLanes;if(v===0)var b=0;else{var P=d.suspendedLanes,B=d.pingedLanes;b=(1<<31-Bt(42|r)+1)-1,b&=v&~(P&~B),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,QE(d,b))}else b=Te,b=tn(d,d===Ye?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||vn(d,b)||(c=!0,QE(d,b));d=d.next}while(c);ky=!1}}function NO(){$E()}function $E(){op=Py=!1;var r=0;Gl!==0&&(GO()&&(r=Gl),Gl=0);for(var o=yn(),c=null,d=sp;d!==null;){var v=d.next,b=YE(d,o);b===0?(d.next=null,c===null?sp=v:c.next=v,v===null&&(Zu=c)):(c=d,(r!==0||(b&3)!==0)&&(op=!0)),d=v}xh(r)}function YE(r,o){for(var c=r.suspendedLanes,d=r.pingedLanes,v=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var P=31-Bt(b),B=1<<P,J=v[P];J===-1?((B&c)===0||(B&d)!==0)&&(v[P]=zn(B,o)):J<=o&&(r.expiredLanes|=B),b&=~B}if(o=Ye,c=Te,c=tn(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===o&&(Ne===2||Ne===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Rn(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||vn(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(d!==null&&Rn(d),wn(c)){case 2:case 8:c=Cn;break;case 32:c=si;break;case 268435456:c=Ji;break;default:c=si}return d=XE.bind(null,r),c=Nn(c,d),r.callbackPriority=o,r.callbackNode=c,o}return d!==null&&d!==null&&Rn(d),r.callbackPriority=2,r.callbackNode=null,2}function XE(r,o){if(Ti!==0&&Ti!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(rp()&&r.callbackNode!==c)return null;var d=Te;return d=tn(r,r===Ye?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(ME(r,d,o),YE(r,yn()),r.callbackNode!=null&&r.callbackNode===c?XE.bind(null,r):null)}function QE(r,o){if(rp())return null;ME(r,o,!0)}function VO(){ZO(function(){(Le&6)!==0?Nn(Qi,NO):$E()})}function Dy(){return Gl===0&&(Gl=_o()),Gl}function JE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:js(""+r)}function tS(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function zO(r,o,c,d,v){if(o==="submit"&&c&&c.stateNode===v){var b=JE((v[Se]||null).action),P=d.submitter;P&&(o=(o=P[Se]||null)?JE(o.formAction):P.getAttribute("formAction"),o!==null&&(b=o,P=null));var B=new So("action","action",null,d,v);r.push({event:B,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Gl!==0){var J=P?tS(v,P):new FormData(v);Qg(c,{pending:!0,data:J,method:v.method,action:b},null,J)}}else typeof b=="function"&&(B.preventDefault(),J=P?tS(v,P):new FormData(v),Qg(c,{pending:!0,data:J,method:v.method,action:b},b,J))},currentTarget:v}]})}}for(var My=0;My<Io.length;My++){var Oy=Io[My],UO=Oy.toLowerCase(),BO=Oy[0].toUpperCase()+Oy.slice(1);Ir(UO,"on"+BO)}Ir(Sd,"onAnimationEnd"),Ir(Cr,"onAnimationIteration"),Ir(kl,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Rg,"onTransitionRun"),Ir(Ru,"onTransitionStart"),Ir(Cg,"onTransitionCancel"),Ir(eh,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ah));function eS(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],v=d.event;d=d.listeners;t:{var b=void 0;if(o)for(var P=d.length-1;0<=P;P--){var B=d[P],J=B.instance,ft=B.currentTarget;if(B=B.listener,J!==b&&v.isPropagationStopped())break t;b=B,v.currentTarget=ft;try{b(v)}catch(vt){Zd(vt)}v.currentTarget=null,b=J}else for(P=0;P<d.length;P++){if(B=d[P],J=B.instance,ft=B.currentTarget,B=B.listener,J!==b&&v.isPropagationStopped())break t;b=B,v.currentTarget=ft;try{b(v)}catch(vt){Zd(vt)}v.currentTarget=null,b=J}}}}function pe(r,o){var c=o[bn];c===void 0&&(c=o[bn]=new Set);var d=r+"__bubble";c.has(d)||(nS(o,r,2,!1),c.add(d))}function Ly(r,o,c){var d=0;o&&(d|=4),nS(c,r,d,o)}var ap="_reactListening"+Math.random().toString(36).slice(2);function Ny(r){if(!r[ap]){r[ap]=!0,vl.forEach(function(c){c!=="selectionchange"&&(jO.has(c)||Ly(c,!1,r),Ly(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[ap]||(o[ap]=!0,Ly("selectionchange",!1,o))}}function nS(r,o,c,d){switch(AS(o)){case 2:var v=pL;break;case 8:v=mL;break;default:v=Yy}c=v.bind(null,o,c,r),v=void 0,!Ii||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?r.addEventListener(o,c,{capture:!0,passive:v}):r.addEventListener(o,c,!0):v!==void 0?r.addEventListener(o,c,{passive:v}):r.addEventListener(o,c,!1)}function Vy(r,o,c,d,v){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var P=d.tag;if(P===3||P===4){var B=d.stateNode.containerInfo;if(B===v)break;if(P===4)for(P=d.return;P!==null;){var J=P.tag;if((J===3||J===4)&&P.stateNode.containerInfo===v)return;P=P.return}for(;B!==null;){if(P=_r(B),P===null)return;if(J=P.tag,J===5||J===6||J===26||J===27){d=b=P;continue t}B=B.parentNode}}d=d.return}Hi(function(){var ft=b,vt=wi(c),St=[];t:{var dt=xd.get(r);if(dt!==void 0){var pt=So,Xt=r;switch(r){case"keypress":if(Ve(c)===0)break t;case"keydown":case"keyup":pt=aa;break;case"focusin":Xt="focus",pt=na;break;case"focusout":Xt="blur",pt=na;break;case"beforeblur":case"afterblur":pt=na;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=vu;break;case Sd:case Cr:case kl:pt=ra;break;case eh:pt=wu;break;case"scroll":case"scrollend":pt=yu;break;case"wheel":pt=Ro;break;case"copy":case"cut":case"paste":pt=Fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=la;break;case"toggle":case"beforetoggle":pt=$r}var Gt=(o&4)!==0,Be=!Gt&&(r==="scroll"||r==="scrollend"),at=Gt?dt!==null?dt+"Capture":null:dt;Gt=[];for(var st=ft,ht;st!==null;){var bt=st;if(ht=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||ht===null||at===null||(bt=be(st,at),bt!=null&&Gt.push(Rh(st,bt,ht))),Be)break;st=st.return}0<Gt.length&&(dt=new pt(dt,Xt,null,c,vt),St.push({event:dt,listeners:Gt}))}}if((o&7)===0){t:{if(dt=r==="mouseover"||r==="pointerover",pt=r==="mouseout"||r==="pointerout",dt&&c!==Er&&(Xt=c.relatedTarget||c.fromElement)&&(_r(Xt)||Xt[sn]))break t;if((pt||dt)&&(dt=vt.window===vt?vt:(dt=vt.ownerDocument)?dt.defaultView||dt.parentWindow:window,pt?(Xt=c.relatedTarget||c.toElement,pt=ft,Xt=Xt?_r(Xt):null,Xt!==null&&(Be=a(Xt),Gt=Xt.tag,Xt!==Be||Gt!==5&&Gt!==27&&Gt!==6)&&(Xt=null)):(pt=null,Xt=ft),pt!==Xt)){if(Gt=ui,bt="onMouseLeave",at="onMouseEnter",st="mouse",(r==="pointerout"||r==="pointerover")&&(Gt=la,bt="onPointerLeave",at="onPointerEnter",st="pointer"),Be=pt==null?dt:_i(pt),ht=Xt==null?dt:_i(Xt),dt=new Gt(bt,st+"leave",pt,c,vt),dt.target=Be,dt.relatedTarget=ht,bt=null,_r(vt)===ft&&(Gt=new Gt(at,st+"enter",Xt,c,vt),Gt.target=ht,Gt.relatedTarget=Be,bt=Gt),Be=bt,pt&&Xt)e:{for(Gt=pt,at=Xt,st=0,ht=Gt;ht;ht=Ku(ht))st++;for(ht=0,bt=at;bt;bt=Ku(bt))ht++;for(;0<st-ht;)Gt=Ku(Gt),st--;for(;0<ht-st;)at=Ku(at),ht--;for(;st--;){if(Gt===at||at!==null&&Gt===at.alternate)break e;Gt=Ku(Gt),at=Ku(at)}Gt=null}else Gt=null;pt!==null&&iS(St,dt,pt,Gt,!1),Xt!==null&&Be!==null&&iS(St,Be,Xt,Gt,!0)}}t:{if(dt=ft?_i(ft):window,pt=dt.nodeName&&dt.nodeName.toLowerCase(),pt==="select"||pt==="input"&&dt.type==="file")var zt=ca;else if(Ke(dt))if(Xc)zt=Ag;else{zt=xg;var fe=Jc}else pt=dt.nodeName,!pt||pt.toLowerCase()!=="input"||dt.type!=="checkbox"&&dt.type!=="radio"?ft&&Eo(ft.elementType)&&(zt=ca):zt=bs;if(zt&&(zt=zt(r,ft))){vs(St,zt,c,vt);break t}fe&&fe(r,dt,ft),r==="focusout"&&ft&&dt.type==="number"&&ft.memoizedProps.value!=null&&br(dt,"number",dt.value)}switch(fe=ft?_i(ft):window,r){case"focusin":(Ke(fe)||fe.contentEditable==="true")&&(Rr=fe,da=ft,Co=null);break;case"focusout":Co=da=Rr=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,Td(St,c,vt);break;case"selectionchange":if(Su)break;case"keydown":case"keyup":Td(St,c,vt)}var jt;if(Di)t:{switch(r){case"compositionstart":var Wt="onCompositionStart";break t;case"compositionend":Wt="onCompositionEnd";break t;case"compositionupdate":Wt="onCompositionUpdate";break t}Wt=void 0}else me?yt(r,c)&&(Wt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Wt="onCompositionStart");Wt&&(C&&c.locale!=="ko"&&(me||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&me&&(jt=ms()):(ir=vt,Pi="value"in ir?ir.value:ir.textContent,me=!0)),fe=lp(ft,Wt),0<fe.length&&(Wt=new ki(Wt,r,null,c,vt),St.push({event:Wt,listeners:fe}),jt?Wt.data=jt:(jt=Pt(c),jt!==null&&(Wt.data=jt)))),(jt=x?Tn(r,c):ge(r,c))&&(Wt=lp(ft,"onBeforeInput"),0<Wt.length&&(fe=new ki("onBeforeInput","beforeinput",null,c,vt),St.push({event:fe,listeners:Wt}),fe.data=jt)),zO(St,r,ft,c,vt)}eS(St,o)})}function Rh(r,o,c){return{instance:r,listener:o,currentTarget:c}}function lp(r,o){for(var c=o+"Capture",d=[];r!==null;){var v=r,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=be(r,c),v!=null&&d.unshift(Rh(r,v,b)),v=be(r,o),v!=null&&d.push(Rh(r,v,b))),r.tag===3)return d;r=r.return}return[]}function Ku(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function iS(r,o,c,d,v){for(var b=o._reactName,P=[];c!==null&&c!==d;){var B=c,J=B.alternate,ft=B.stateNode;if(B=B.tag,J!==null&&J===d)break;B!==5&&B!==26&&B!==27||ft===null||(J=ft,v?(ft=be(c,b),ft!=null&&P.unshift(Rh(c,ft,J))):v||(ft=be(c,b),ft!=null&&P.push(Rh(c,ft,J)))),c=c.return}P.length!==0&&r.push({event:o,listeners:P})}var FO=/\r\n?/g,HO=/\u0000|\uFFFD/g;function rS(r){return(typeof r=="string"?r:""+r).replace(FO,`
`).replace(HO,"")}function sS(r,o){return o=rS(o),rS(r)===o}function up(){}function Ue(r,o,c,d,v,b){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ai(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ai(r,""+d);break;case"className":Hr(r,"class",d);break;case"tabIndex":Hr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(r,c,d);break;case"style":ds(r,d,b);break;case"data":if(o!=="object"){Hr(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=js(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&Ue(r,o,"name",v.name,v,null),Ue(r,o,"formEncType",v.formEncType,v,null),Ue(r,o,"formMethod",v.formMethod,v,null),Ue(r,o,"formTarget",v.formTarget,v,null)):(Ue(r,o,"encType",v.encType,v,null),Ue(r,o,"method",v.method,v,null),Ue(r,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=js(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=up);break;case"onScroll":d!=null&&pe("scroll",r);break;case"onScrollEnd":d!=null&&pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=js(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":pe("beforetoggle",r),pe("toggle",r),Vs(r,"popover",d);break;case"xlinkActuate":Qn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Qn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Qn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Qn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Qn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Qn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Qn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Qn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Qn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Vs(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=bl.get(c)||c,Vs(r,c,d))}}function zy(r,o,c,d,v,b){switch(c){case"style":ds(r,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof d=="string"?ai(r,d):(typeof d=="number"||typeof d=="bigint")&&ai(r,""+d);break;case"onScroll":d!=null&&pe("scroll",r);break;case"onScrollEnd":d!=null&&pe("scrollend",r);break;case"onClick":d!=null&&(r.onclick=up);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),b=r[Se]||null,b=b!=null?b[c]:null,typeof b=="function"&&r.removeEventListener(o,b,v),typeof d=="function")){typeof b!="function"&&b!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,d,v);break t}c in r?r[c]=d:d===!0?r.setAttribute(c,""):Vs(r,c,d)}}}function Ei(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",r),pe("load",r);var d=!1,v=!1,b;for(b in c)if(c.hasOwnProperty(b)){var P=c[b];if(P!=null)switch(b){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ue(r,o,b,P,c,null)}}v&&Ue(r,o,"srcSet",c.srcSet,c,null),d&&Ue(r,o,"src",c.src,c,null);return;case"input":pe("invalid",r);var B=b=P=v=null,J=null,ft=null;for(d in c)if(c.hasOwnProperty(d)){var vt=c[d];if(vt!=null)switch(d){case"name":v=vt;break;case"type":P=vt;break;case"checked":J=vt;break;case"defaultChecked":ft=vt;break;case"value":b=vt;break;case"defaultValue":B=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(i(137,o));break;default:Ue(r,o,d,vt,c,null)}}To(r,b,B,J,ft,P,v,!1),Bs(r);return;case"select":pe("invalid",r),d=P=b=null;for(v in c)if(c.hasOwnProperty(v)&&(B=c[v],B!=null))switch(v){case"value":b=B;break;case"defaultValue":P=B;break;case"multiple":d=B;default:Ue(r,o,v,B,c,null)}o=b,c=P,r.multiple=!!d,o!=null?vi(r,!!d,o,!1):c!=null&&vi(r,!!d,c,!0);return;case"textarea":pe("invalid",r),b=v=d=null;for(P in c)if(c.hasOwnProperty(P)&&(B=c[P],B!=null))switch(P){case"value":d=B;break;case"defaultValue":v=B;break;case"children":b=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:Ue(r,o,P,B,c,null)}Fi(r,d,v,b),Bs(r);return;case"option":for(J in c)if(c.hasOwnProperty(J)&&(d=c[J],d!=null))switch(J){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ue(r,o,J,d,c,null)}return;case"dialog":pe("beforetoggle",r),pe("toggle",r),pe("cancel",r),pe("close",r);break;case"iframe":case"object":pe("load",r);break;case"video":case"audio":for(d=0;d<Ah.length;d++)pe(Ah[d],r);break;case"image":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"embed":case"source":case"link":pe("error",r),pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ft in c)if(c.hasOwnProperty(ft)&&(d=c[ft],d!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ue(r,o,ft,d,c,null)}return;default:if(Eo(o)){for(vt in c)c.hasOwnProperty(vt)&&(d=c[vt],d!==void 0&&zy(r,o,vt,d,c,void 0));return}}for(B in c)c.hasOwnProperty(B)&&(d=c[B],d!=null&&Ue(r,o,B,d,c,null))}function qO(r,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,P=null,B=null,J=null,ft=null,vt=null;for(pt in c){var St=c[pt];if(c.hasOwnProperty(pt)&&St!=null)switch(pt){case"checked":break;case"value":break;case"defaultValue":J=St;default:d.hasOwnProperty(pt)||Ue(r,o,pt,null,d,St)}}for(var dt in d){var pt=d[dt];if(St=c[dt],d.hasOwnProperty(dt)&&(pt!=null||St!=null))switch(dt){case"type":b=pt;break;case"name":v=pt;break;case"checked":ft=pt;break;case"defaultChecked":vt=pt;break;case"value":P=pt;break;case"defaultValue":B=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(i(137,o));break;default:pt!==St&&Ue(r,o,dt,pt,d,St)}}Ze(r,P,B,J,ft,vt,b,v);return;case"select":pt=P=B=dt=null;for(b in c)if(J=c[b],c.hasOwnProperty(b)&&J!=null)switch(b){case"value":break;case"multiple":pt=J;default:d.hasOwnProperty(b)||Ue(r,o,b,null,d,J)}for(v in d)if(b=d[v],J=c[v],d.hasOwnProperty(v)&&(b!=null||J!=null))switch(v){case"value":dt=b;break;case"defaultValue":B=b;break;case"multiple":P=b;default:b!==J&&Ue(r,o,v,b,d,J)}o=B,c=P,d=pt,dt!=null?vi(r,!!c,dt,!1):!!d!=!!c&&(o!=null?vi(r,!!c,o,!0):vi(r,!!c,c?[]:"",!1));return;case"textarea":pt=dt=null;for(B in c)if(v=c[B],c.hasOwnProperty(B)&&v!=null&&!d.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Ue(r,o,B,null,d,v)}for(P in d)if(v=d[P],b=c[P],d.hasOwnProperty(P)&&(v!=null||b!=null))switch(P){case"value":dt=v;break;case"defaultValue":pt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&Ue(r,o,P,v,d,b)}Zt(r,dt,pt);return;case"option":for(var Xt in c)if(dt=c[Xt],c.hasOwnProperty(Xt)&&dt!=null&&!d.hasOwnProperty(Xt))switch(Xt){case"selected":r.selected=!1;break;default:Ue(r,o,Xt,null,d,dt)}for(J in d)if(dt=d[J],pt=c[J],d.hasOwnProperty(J)&&dt!==pt&&(dt!=null||pt!=null))switch(J){case"selected":r.selected=dt&&typeof dt!="function"&&typeof dt!="symbol";break;default:Ue(r,o,J,dt,d,pt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in c)dt=c[Gt],c.hasOwnProperty(Gt)&&dt!=null&&!d.hasOwnProperty(Gt)&&Ue(r,o,Gt,null,d,dt);for(ft in d)if(dt=d[ft],pt=c[ft],d.hasOwnProperty(ft)&&dt!==pt&&(dt!=null||pt!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(i(137,o));break;default:Ue(r,o,ft,dt,d,pt)}return;default:if(Eo(o)){for(var Be in c)dt=c[Be],c.hasOwnProperty(Be)&&dt!==void 0&&!d.hasOwnProperty(Be)&&zy(r,o,Be,void 0,d,dt);for(vt in d)dt=d[vt],pt=c[vt],!d.hasOwnProperty(vt)||dt===pt||dt===void 0&&pt===void 0||zy(r,o,vt,dt,d,pt);return}}for(var at in c)dt=c[at],c.hasOwnProperty(at)&&dt!=null&&!d.hasOwnProperty(at)&&Ue(r,o,at,null,d,dt);for(St in d)dt=d[St],pt=c[St],!d.hasOwnProperty(St)||dt===pt||dt==null&&pt==null||Ue(r,o,St,dt,d,pt)}var Uy=null,By=null;function cp(r){return r.nodeType===9?r:r.ownerDocument}function oS(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aS(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function jy(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Fy=null;function GO(){var r=window.event;return r&&r.type==="popstate"?r===Fy?!1:(Fy=r,!0):(Fy=null,!1)}var lS=typeof setTimeout=="function"?setTimeout:void 0,WO=typeof clearTimeout=="function"?clearTimeout:void 0,uS=typeof Promise=="function"?Promise:void 0,ZO=typeof queueMicrotask=="function"?queueMicrotask:typeof uS<"u"?function(r){return uS.resolve(null).then(r).catch(KO)}:lS;function KO(r){setTimeout(function(){throw r})}function Oa(r){return r==="head"}function cS(r,o){var c=o,d=0,v=0;do{var b=c.nextSibling;if(r.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<d&&8>d){c=d;var P=r.ownerDocument;if(c&1&&Ch(P.documentElement),c&2&&Ch(P.body),c&4)for(c=P.head,Ch(c),P=c.firstChild;P;){var B=P.nextSibling,J=P.nodeName;P[er]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&P.rel.toLowerCase()==="stylesheet"||c.removeChild(P),P=B}}if(v===0){r.removeChild(b),Nh(o);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:d=c.charCodeAt(0)-48;else d=0;c=b}while(c);Nh(o)}function Hy(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Hy(c),hs(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function $O(r,o,c,d){for(;r.nodeType===1;){var v=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[er])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=xs(r.nextSibling),r===null)break}return null}function YO(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=xs(r.nextSibling),r===null))return null;return r}function qy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function XO(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function xs(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Gy=null;function hS(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function fS(r,o,c){switch(o=cp(c),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ch(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);hs(r)}var is=new Map,dS=new Set;function hp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var jo=it.d;it.d={f:QO,r:JO,D:tL,C:eL,L:nL,m:iL,X:sL,S:rL,M:oL};function QO(){var r=jo.f(),o=np();return r||o}function JO(r){var o=vr(r);o!==null&&o.tag===5&&o.type==="form"?MT(o):jo.r(r)}var $u=typeof document>"u"?null:document;function pS(r,o,c){var d=$u;if(d&&typeof o=="string"&&o){var v=en(o);v='link[rel="'+r+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),dS.has(v)||(dS.add(v),r={rel:r,crossOrigin:c,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),Ei(o,"link",r),fn(o),d.head.appendChild(o)))}}function tL(r){jo.D(r),pS("dns-prefetch",r,null)}function eL(r,o){jo.C(r,o),pS("preconnect",r,o)}function nL(r,o,c){jo.L(r,o,c);var d=$u;if(d&&r&&o){var v='link[rel="preload"][as="'+en(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+en(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+en(c.imageSizes)+'"]')):v+='[href="'+en(r)+'"]';var b=v;switch(o){case"style":b=Yu(r);break;case"script":b=Xu(r)}is.has(b)||(r=y({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),is.set(b,r),d.querySelector(v)!==null||o==="style"&&d.querySelector(Ih(b))||o==="script"&&d.querySelector(Ph(b))||(o=d.createElement("link"),Ei(o,"link",r),fn(o),d.head.appendChild(o)))}}function iL(r,o){jo.m(r,o);var c=$u;if(c&&r){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+en(d)+'"][href="'+en(r)+'"]',b=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Xu(r)}if(!is.has(b)&&(r=y({rel:"modulepreload",href:r},o),is.set(b,r),c.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ph(b)))return}d=c.createElement("link"),Ei(d,"link",r),fn(d),c.head.appendChild(d)}}}function rL(r,o,c){jo.S(r,o,c);var d=$u;if(d&&r){var v=oi(d).hoistableStyles,b=Yu(r);o=o||"default";var P=v.get(b);if(!P){var B={loading:0,preload:null};if(P=d.querySelector(Ih(b)))B.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":o},c),(c=is.get(b))&&Wy(r,c);var J=P=d.createElement("link");fn(J),Ei(J,"link",r),J._p=new Promise(function(ft,vt){J.onload=ft,J.onerror=vt}),J.addEventListener("load",function(){B.loading|=1}),J.addEventListener("error",function(){B.loading|=2}),B.loading|=4,fp(P,o,d)}P={type:"stylesheet",instance:P,count:1,state:B},v.set(b,P)}}}function sL(r,o){jo.X(r,o);var c=$u;if(c&&r){var d=oi(c).hoistableScripts,v=Xu(r),b=d.get(v);b||(b=c.querySelector(Ph(v)),b||(r=y({src:r,async:!0},o),(o=is.get(v))&&Zy(r,o),b=c.createElement("script"),fn(b),Ei(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function oL(r,o){jo.M(r,o);var c=$u;if(c&&r){var d=oi(c).hoistableScripts,v=Xu(r),b=d.get(v);b||(b=c.querySelector(Ph(v)),b||(r=y({src:r,async:!0,type:"module"},o),(o=is.get(v))&&Zy(r,o),b=c.createElement("script"),fn(b),Ei(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function mS(r,o,c,d){var v=(v=Tt.current)?hp(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Yu(c.href),c=oi(v).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Yu(c.href);var b=oi(v).hoistableStyles,P=b.get(r);if(P||(v=v.ownerDocument||v,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,P),(b=v.querySelector(Ih(r)))&&!b._p&&(P.instance=b,P.state.loading=5),is.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},is.set(r,c),b||aL(v,r,c,P.state))),o&&d===null)throw Error(i(528,""));return P}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Xu(c),c=oi(v).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Yu(r){return'href="'+en(r)+'"'}function Ih(r){return'link[rel="stylesheet"]['+r+"]"}function gS(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function aL(r,o,c,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Ei(o,"link",c),fn(o),r.head.appendChild(o))}function Xu(r){return'[src="'+en(r)+'"]'}function Ph(r){return"script[async]"+r}function yS(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+en(c.href)+'"]');if(d)return o.instance=d,fn(d),d;var v=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),fn(d),Ei(d,"style",v),fp(d,c.precedence,r),o.instance=d;case"stylesheet":v=Yu(c.href);var b=r.querySelector(Ih(v));if(b)return o.state.loading|=4,o.instance=b,fn(b),b;d=gS(c),(v=is.get(v))&&Wy(d,v),b=(r.ownerDocument||r).createElement("link"),fn(b);var P=b;return P._p=new Promise(function(B,J){P.onload=B,P.onerror=J}),Ei(b,"link",d),o.state.loading|=4,fp(b,c.precedence,r),o.instance=b;case"script":return b=Xu(c.src),(v=r.querySelector(Ph(b)))?(o.instance=v,fn(v),v):(d=c,(v=is.get(b))&&(d=y({},c),Zy(d,v)),r=r.ownerDocument||r,v=r.createElement("script"),fn(v),Ei(v,"link",d),r.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,fp(d,c.precedence,r));return o.instance}function fp(r,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,b=v,P=0;P<d.length;P++){var B=d[P];if(B.dataset.precedence===o)b=B;else if(b!==v)break}b?b.parentNode.insertBefore(r,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function Wy(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Zy(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var dp=null;function _S(r,o,c){if(dp===null){var d=new Map,v=dp=new Map;v.set(c,d)}else v=dp,d=v.get(c),d||(d=new Map,v.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),v=0;v<c.length;v++){var b=c[v];if(!(b[er]||b[Ie]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var P=b.getAttribute(o)||"";P=r+P;var B=d.get(P);B?B.push(b):d.set(P,[b])}}return d}function vS(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function lL(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function wS(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var kh=null;function uL(){}function cL(r,o,c){if(kh===null)throw Error(i(475));var d=kh;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=Yu(c.href),b=r.querySelector(Ih(v));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=pp.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=b,fn(b);return}b=r.ownerDocument||r,c=gS(c),(v=is.get(v))&&Wy(c,v),b=b.createElement("link"),fn(b);var P=b;P._p=new Promise(function(B,J){P.onload=B,P.onerror=J}),Ei(b,"link",c),o.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=pp.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function hL(){if(kh===null)throw Error(i(475));var r=kh;return r.stylesheets&&r.count===0&&Ky(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&Ky(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function pp(){if(this.count--,this.count===0){if(this.stylesheets)Ky(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var mp=null;function Ky(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,mp=new Map,o.forEach(fL,r),mp=null,pp.call(r))}function fL(r,o){if(!(o.state.loading&4)){var c=mp.get(r);if(c)var d=c.get(null);else{c=new Map,mp.set(r,c);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var P=v[b];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(c.set(P.dataset.precedence,P),d=P)}d&&c.set(null,d)}v=o.instance,P=v.getAttribute("data-precedence"),b=c.get(P)||d,b===d&&c.set(null,v),c.set(P,v),this.count++,d=pp.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),b?b.parentNode.insertBefore(v,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),o.state.loading|=4}}var Dh={$$typeof:q,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function dL(r,o,c,d,v,b,P,B){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.hiddenUpdates=tr(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function bS(r,o,c,d,v,b,P,B,J,ft,vt,St){return r=new dL(r,o,c,P,B,J,ft,St),o=1,b===!0&&(o|=24),b=Ki(3,null,null,o),r.current=b,b.stateNode=r,o=Ig(),o.refCount++,r.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:o},Mg(b),r}function TS(r){return r?(r=Do,r):Do}function ES(r,o,c,d,v,b){v=TS(v),d.context===null?d.context=v:d.pendingContext=v,d=ba(o),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=Ta(r,d,o),c!==null&&(Lr(c,r,o),lh(c,r,o))}function SS(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function $y(r,o){SS(r,o),(r=r.alternate)&&SS(r,o)}function xS(r){if(r.tag===13){var o=ga(r,67108864);o!==null&&Lr(o,r,67108864),$y(r,67108864)}}var gp=!0;function pL(r,o,c,d){var v=et.T;et.T=null;var b=it.p;try{it.p=2,Yy(r,o,c,d)}finally{it.p=b,et.T=v}}function mL(r,o,c,d){var v=et.T;et.T=null;var b=it.p;try{it.p=8,Yy(r,o,c,d)}finally{it.p=b,et.T=v}}function Yy(r,o,c,d){if(gp){var v=Xy(d);if(v===null)Vy(r,o,d,yp,c),RS(r,d);else if(yL(v,r,o,c,d))d.stopPropagation();else if(RS(r,d),o&4&&-1<gL.indexOf(r)){for(;v!==null;){var b=vr(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var P=rn(b.pendingLanes);if(P!==0){var B=b;for(B.pendingLanes|=2,B.entangledLanes|=2;P;){var J=1<<31-Bt(P);B.entanglements[1]|=J,P&=~J}Xs(b),(Le&6)===0&&(tp=yn()+500,xh(0))}}break;case 13:B=ga(b,2),B!==null&&Lr(B,b,2),np(),$y(b,2)}if(b=Xy(d),b===null&&Vy(r,o,d,yp,c),b===v)break;v=b}v!==null&&d.stopPropagation()}else Vy(r,o,d,null,c)}}function Xy(r){return r=wi(r),Qy(r)}var yp=null;function Qy(r){if(yp=null,r=_r(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=u(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return yp=r,null}function AS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case Qi:return 2;case Cn:return 8;case si:case gr:return 32;case Ji:return 268435456;default:return 32}default:return 32}}var Jy=!1,La=null,Na=null,Va=null,Mh=new Map,Oh=new Map,za=[],gL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RS(r,o){switch(r){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Mh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oh.delete(o.pointerId)}}function Lh(r,o,c,d,v,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[v]},o!==null&&(o=vr(o),o!==null&&xS(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function yL(r,o,c,d,v){switch(o){case"focusin":return La=Lh(La,r,o,c,d,v),!0;case"dragenter":return Na=Lh(Na,r,o,c,d,v),!0;case"mouseover":return Va=Lh(Va,r,o,c,d,v),!0;case"pointerover":var b=v.pointerId;return Mh.set(b,Lh(Mh.get(b)||null,r,o,c,d,v)),!0;case"gotpointercapture":return b=v.pointerId,Oh.set(b,Lh(Oh.get(b)||null,r,o,c,d,v)),!0}return!1}function CS(r){var o=_r(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=u(c),o!==null){r.blockedOn=o,ji(r.priority,function(){if(c.tag===13){var d=Or();d=hn(d);var v=ga(c,d);v!==null&&Lr(v,c,d),$y(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _p(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Xy(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);Er=d,c.target.dispatchEvent(d),Er=null}else return o=vr(c),o!==null&&xS(o),r.blockedOn=c,!1;o.shift()}return!0}function IS(r,o,c){_p(r)&&c.delete(o)}function _L(){Jy=!1,La!==null&&_p(La)&&(La=null),Na!==null&&_p(Na)&&(Na=null),Va!==null&&_p(Va)&&(Va=null),Mh.forEach(IS),Oh.forEach(IS)}function vp(r,o){r.blockedOn===o&&(r.blockedOn=null,Jy||(Jy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_L)))}var wp=null;function PS(r){wp!==r&&(wp=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wp===r&&(wp=null);for(var o=0;o<r.length;o+=3){var c=r[o],d=r[o+1],v=r[o+2];if(typeof d!="function"){if(Qy(d||c)===null)continue;break}var b=vr(c);b!==null&&(r.splice(o,3),o-=3,Qg(b,{pending:!0,data:v,method:c.method,action:d},d,v))}}))}function Nh(r){function o(J){return vp(J,r)}La!==null&&vp(La,r),Na!==null&&vp(Na,r),Va!==null&&vp(Va,r),Mh.forEach(o),Oh.forEach(o);for(var c=0;c<za.length;c++){var d=za[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<za.length&&(c=za[0],c.blockedOn===null);)CS(c),c.blockedOn===null&&za.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var v=c[d],b=c[d+1],P=v[Se]||null;if(typeof b=="function")P||PS(c);else if(P){var B=null;if(b&&b.hasAttribute("formAction")){if(v=b,P=b[Se]||null)B=P.formAction;else if(Qy(v)!==null)continue}else B=P.action;typeof B=="function"?c[d+1]=B:(c.splice(d,3),d-=3),PS(c)}}}function t_(r){this._internalRoot=r}bp.prototype.render=t_.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=Or();ES(c,d,r,o,null,null)},bp.prototype.unmount=t_.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;ES(r.current,2,null,r,null,null),np(),o[sn]=null}};function bp(r){this._internalRoot=r}bp.prototype.unstable_scheduleHydration=function(r){if(r){var o=Pn();r={blockedOn:null,target:r,priority:o};for(var c=0;c<za.length&&o!==0&&o<za[c].priority;c++);za.splice(c,0,r),c===0&&CS(r)}};var kS=t.version;if(kS!=="19.1.1")throw Error(i(527,kS,"19.1.1"));it.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var vL={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{mt=Tp.inject(vL),wt=Tp}catch{}}return zh.createRoot=function(r,o){if(!s(r))throw Error(i(299));var c=!1,d="",v=ZT,b=KT,P=$T,B=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks)),o=bS(r,1,!1,null,null,c,d,v,b,P,B,null),r[sn]=o.current,Ny(r),new t_(o)},zh.hydrateRoot=function(r,o,c){if(!s(r))throw Error(i(299));var d=!1,v="",b=ZT,P=KT,B=$T,J=null,ft=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(J=c.unstable_transitionCallbacks),c.formState!==void 0&&(ft=c.formState)),o=bS(r,1,!0,o,c??null,d,v,b,P,B,J,ft),o.context=TS(null),c=o.current,d=Or(),d=hn(d),v=ba(d),v.callback=null,Ta(c,v,d),c=d,o.current.lanes=c,Me(o,c),Xs(o),r[sn]=o.current,Ny(r),new bp(o)},zh.version="19.1.1",zh}var jS;function CL(){if(jS)return i_.exports;jS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),i_.exports=RL(),i_.exports}var IL=CL();const PL=Bm(IL);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var FS="popstate";function kL(e={}){function t(i,s){let{pathname:a,search:u,hash:f}=i.location;return av("",{pathname:a,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:If(s)}return ML(t,n,null,e)}function un(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ps(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DL(){return Math.random().toString(36).substring(2,10)}function HS(e,t){return{usr:e.state,key:e.key,idx:t}}function av(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?kc(t):t,state:n,key:t&&t.key||i||DL()}}function If({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function kc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function ML(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,f="POP",p=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function w(){f="POP";let F=y(),j=F==null?null:F-m;m=F,p&&p({action:f,location:V.location,delta:j})}function T(F,j){f="PUSH";let Z=av(V.location,F,j);m=y()+1;let q=HS(Z,m),nt=V.createHref(Z);try{u.pushState(q,"",nt)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(nt)}a&&p&&p({action:f,location:V.location,delta:1})}function S(F,j){f="REPLACE";let Z=av(V.location,F,j);m=y();let q=HS(Z,m),nt=V.createHref(Z);u.replaceState(q,"",nt),a&&p&&p({action:f,location:V.location,delta:0})}function D(F){return OL(F)}let V={get action(){return f},get location(){return e(s,u)},listen(F){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(FS,w),p=F,()=>{s.removeEventListener(FS,w),p=null}},createHref(F){return t(s,F)},createURL:D,encodeLocation(F){let j=D(F);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:S,go(F){return u.go(F)}};return V}function OL(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),un(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:If(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function uC(e,t,n="/"){return LL(e,t,n,!1)}function LL(e,t,n,i){let s=typeof t=="string"?kc(t):t,a=Go(s.pathname||"/",n);if(a==null)return null;let u=cC(e);NL(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let m=ZL(a);f=GL(u[p],m,i)}return f}function cC(e,t=[],n=[],i=""){let s=(a,u,f)=>{let p={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};p.relativePath.startsWith("/")&&(un(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=qo([i,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(un(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),cC(a.children,t,y,m)),!(a.path==null&&!a.index)&&t.push({path:m,score:HL(m,a.index),routesMeta:y})};return e.forEach((a,u)=>{if(a.path===""||!a.path?.includes("?"))s(a,u);else for(let f of hC(a.path))s(a,u,f)}),t}function hC(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let u=hC(i.join("/")),f=[];return f.push(...u.map(p=>p===""?a:[a,p].join("/"))),s&&f.push(...u),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function NL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:qL(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var VL=/^:[\w-]+$/,zL=3,UL=2,BL=1,jL=10,FL=-2,qS=e=>e==="*";function HL(e,t){let n=e.split("/"),i=n.length;return n.some(qS)&&(i+=FL),t&&(i+=UL),n.filter(s=>!qS(s)).reduce((s,a)=>s+(VL.test(a)?zL:a===""?BL:jL),i)}function qL(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function GL(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",u=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,y=a==="/"?t:t.slice(a.length)||"/",w=om({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),T=p.route;if(!w&&m&&n&&!i[i.length-1].route.index&&(w=om({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:qo([a,w.pathname]),pathnameBase:XL(qo([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=qo([a,w.pathnameBase]))}return u}function om(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=WL(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:w},T)=>{if(y==="*"){let D=f[T]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const S=f[T];return w&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:e}}function WL(e,t=!1,n=!0){Ps(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function ZL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ps(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Go(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function KL(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?kc(e):e;return{pathname:n?n.startsWith("/")?n:$L(n,t):t,search:QL(i),hash:JL(s)}}function $L(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function a_(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tw(e){let t=YL(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Ew(e,t,n,i=!1){let s;typeof e=="string"?s=kc(e):(s={...e},un(!s.pathname||!s.pathname.includes("?"),a_("?","pathname","search",s)),un(!s.pathname||!s.pathname.includes("#"),a_("#","pathname","hash",s)),un(!s.search||!s.search.includes("#"),a_("#","search","hash",s)));let a=e===""||s.pathname==="",u=a?"/":s.pathname,f;if(u==null)f=n;else{let w=t.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;s.pathname=T.join("/")}f=w>=0?t[w]:"/"}let p=KL(s,f),m=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var qo=e=>e.join("/").replace(/\/\/+/g,"/"),XL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function t2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var fC=["POST","PUT","PATCH","DELETE"];new Set(fC);var e2=["GET",...fC];new Set(e2);var Dc=U.createContext(null);Dc.displayName="DataRouter";var jm=U.createContext(null);jm.displayName="DataRouterState";U.createContext(!1);var dC=U.createContext({isTransitioning:!1});dC.displayName="ViewTransition";var n2=U.createContext(new Map);n2.displayName="Fetchers";var i2=U.createContext(null);i2.displayName="Await";var Os=U.createContext(null);Os.displayName="Navigation";var Jf=U.createContext(null);Jf.displayName="Location";var go=U.createContext({outlet:null,matches:[],isDataRoute:!1});go.displayName="Route";var Sw=U.createContext(null);Sw.displayName="RouteError";function r2(e,{relative:t}={}){un(Mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(Os),{hash:s,pathname:a,search:u}=td(e,{relative:t}),f=a;return n!=="/"&&(f=a==="/"?n:qo([n,a])),i.createHref({pathname:f,search:u,hash:s})}function Mc(){return U.useContext(Jf)!=null}function fl(){return un(Mc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Jf).location}var pC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mC(e){U.useContext(Os).static||U.useLayoutEffect(e)}function Fm(){let{isDataRoute:e}=U.useContext(go);return e?y2():s2()}function s2(){un(Mc(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext(Dc),{basename:t,navigator:n}=U.useContext(Os),{matches:i}=U.useContext(go),{pathname:s}=fl(),a=JSON.stringify(Tw(i)),u=U.useRef(!1);return mC(()=>{u.current=!0}),U.useCallback((p,m={})=>{if(Ps(u.current,pC),!u.current)return;if(typeof p=="number"){n.go(p);return}let y=Ew(p,JSON.parse(a),s,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:qo([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,a,s,e])}U.createContext(null);function td(e,{relative:t}={}){let{matches:n}=U.useContext(go),{pathname:i}=fl(),s=JSON.stringify(Tw(n));return U.useMemo(()=>Ew(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function o2(e,t){return gC(e,t)}function gC(e,t,n,i){un(Mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=U.useContext(Os),{matches:a}=U.useContext(go),u=a[a.length-1],f=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";yC(p,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=fl(),T;if(t){let j=typeof t=="string"?kc(t):t;un(m==="/"||j.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=w;let S=T.pathname||"/",D=S;if(m!=="/"){let j=m.replace(/^\//,"").split("/");D="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let V=uC(e,{pathname:D});Ps(y||V!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ps(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=h2(V&&V.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:qo([m,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:qo([m,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,n,i);return t&&F?U.createElement(Jf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},F):F}function a2(){let e=g2(),t=t2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:s},n):null,u)}var l2=U.createElement(a2,null),u2=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(go.Provider,{value:this.props.routeContext},U.createElement(Sw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c2({routeContext:e,match:t,children:n}){let i=U.useContext(Dc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(go.Provider,{value:e},n)}function h2(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n?.errors;if(a!=null){let p=s.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);un(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:w}=n,T=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||T){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,m,y)=>{let w,T=!1,S=null,D=null;n&&(w=a&&m.route.id?a[m.route.id]:void 0,S=m.route.errorElement||l2,u&&(f<0&&y===0?(yC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,D=null):f===y&&(T=!0,D=m.route.hydrateFallbackElement||null)));let V=t.concat(s.slice(0,y+1)),F=()=>{let j;return w?j=S:T?j=D:m.route.Component?j=U.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=p,U.createElement(c2,{match:m,routeContext:{outlet:p,matches:V,isDataRoute:n!=null},children:j})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?U.createElement(u2,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:F(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):F()},null)}function xw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f2(e){let t=U.useContext(Dc);return un(t,xw(e)),t}function d2(e){let t=U.useContext(jm);return un(t,xw(e)),t}function p2(e){let t=U.useContext(go);return un(t,xw(e)),t}function Aw(e){let t=p2(e),n=t.matches[t.matches.length-1];return un(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function m2(){return Aw("useRouteId")}function g2(){let e=U.useContext(Sw),t=d2("useRouteError"),n=Aw("useRouteError");return e!==void 0?e:t.errors?.[n]}function y2(){let{router:e}=f2("useNavigate"),t=Aw("useNavigate"),n=U.useRef(!1);return mC(()=>{n.current=!0}),U.useCallback(async(s,a={})=>{Ps(n.current,pC),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var GS={};function yC(e,t,n){!t&&!GS[e]&&(GS[e]=!0,Ps(!1,n))}U.memo(_2);function _2({routes:e,future:t,state:n}){return gC(e,void 0,n,t)}function v2({to:e,replace:t,state:n,relative:i}){un(Mc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=U.useContext(Os);Ps(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=U.useContext(go),{pathname:u}=fl(),f=Fm(),p=Ew(e,Tw(a),u,i==="path"),m=JSON.stringify(p);return U.useEffect(()=>{f(JSON.parse(m),{replace:t,state:n,relative:i})},[f,m,i,t,n]),null}function Jh(e){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w2({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){un(!Mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof n=="string"&&(n=kc(n));let{pathname:p="/",search:m="",hash:y="",state:w=null,key:T="default"}=n,S=U.useMemo(()=>{let D=Go(p,u);return D==null?null:{location:{pathname:D,search:m,hash:y,state:w,key:T},navigationType:i}},[u,p,m,y,w,T,i]);return Ps(S!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:U.createElement(Os.Provider,{value:f},U.createElement(Jf.Provider,{children:t,value:S}))}function b2({children:e,location:t}){return o2(lv(e),t)}function lv(e,t=[]){let n=[];return U.Children.forEach(e,(i,s)=>{if(!U.isValidElement(i))return;let a=[...t,s];if(i.type===U.Fragment){n.push.apply(n,lv(i.props.children,a));return}un(i.type===Jh,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=lv(i.props.children,a)),n.push(u)}),n}var Fp="get",Hp="application/x-www-form-urlencoded";function Hm(e){return e!=null&&typeof e.tagName=="string"}function T2(e){return Hm(e)&&e.tagName.toLowerCase()==="button"}function E2(e){return Hm(e)&&e.tagName.toLowerCase()==="form"}function S2(e){return Hm(e)&&e.tagName.toLowerCase()==="input"}function x2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function A2(e,t){return e.button===0&&(!t||t==="_self")&&!x2(e)}var Ep=null;function R2(){if(Ep===null)try{new FormData(document.createElement("form"),0),Ep=!1}catch{Ep=!0}return Ep}var C2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function l_(e){return e!=null&&!C2.has(e)?(Ps(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hp}"`),null):e}function I2(e,t){let n,i,s,a,u;if(E2(e)){let f=e.getAttribute("action");i=f?Go(f,t):null,n=e.getAttribute("method")||Fp,s=l_(e.getAttribute("enctype"))||Hp,a=new FormData(e)}else if(T2(e)||S2(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||f.getAttribute("action");if(i=p?Go(p,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||Fp,s=l_(e.getAttribute("formenctype"))||l_(f.getAttribute("enctype"))||Hp,a=new FormData(f,e),!R2()){let{name:m,type:y,value:w}=e;if(y==="image"){let T=m?`${m}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else m&&a.append(m,w)}}else{if(Hm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fp,i=null,s=Hp,u=e}return a&&s==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function P2(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&Go(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function k2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function M2(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let u=await k2(a,n);return u.links?u.links():[]}return[]}));return V2(i.flat(1).filter(D2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function WS(e,t,n,i,s,a){let u=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,f=(p,m)=>n[m].pathname!==p.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==p.params["*"];return a==="assets"?t.filter((p,m)=>u(p,m)||f(p,m)):a==="data"?t.filter((p,m)=>{let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function O2(e,t,{includeHydrateFallback:n}={}){return L2(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function L2(e){return[...new Set(e)]}function N2(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function V2(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(N2(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function _C(){let e=U.useContext(Dc);return Rw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function z2(){let e=U.useContext(jm);return Rw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Cw=U.createContext(void 0);Cw.displayName="FrameworkContext";function vC(){let e=U.useContext(Cw);return Rw(e,"You must render this element inside a <HydratedRouter> element"),e}function U2(e,t){let n=U.useContext(Cw),[i,s]=U.useState(!1),[a,u]=U.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:w}=t,T=U.useRef(null);U.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let V=j=>{j.forEach(Z=>{u(Z.isIntersecting)})},F=new IntersectionObserver(V,{threshold:.5});return T.current&&F.observe(T.current),()=>{F.disconnect()}}},[e]),U.useEffect(()=>{if(i){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[i]);let S=()=>{s(!0)},D=()=>{s(!1),u(!1)};return n?e!=="intent"?[a,T,{}]:[a,T,{onFocus:Uh(f,S),onBlur:Uh(p,D),onMouseEnter:Uh(m,S),onMouseLeave:Uh(y,D),onTouchStart:Uh(w,S)}]:[!1,T,{}]}function Uh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function B2({page:e,...t}){let{router:n}=_C(),i=U.useMemo(()=>uC(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?U.createElement(F2,{page:e,matches:i,...t}):null}function j2(e){let{manifest:t,routeModules:n}=vC(),[i,s]=U.useState([]);return U.useEffect(()=>{let a=!1;return M2(e,t,n).then(u=>{a||s(u)}),()=>{a=!0}},[e,t,n]),i}function F2({page:e,matches:t,...n}){let i=fl(),{manifest:s,routeModules:a}=vC(),{basename:u}=_C(),{loaderData:f,matches:p}=z2(),m=U.useMemo(()=>WS(e,t,p,s,i,"data"),[e,t,p,s,i]),y=U.useMemo(()=>WS(e,t,p,s,i,"assets"),[e,t,p,s,i]),w=U.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let D=new Set,V=!1;if(t.forEach(j=>{let Z=s.routes[j.route.id];!Z||!Z.hasLoader||(!m.some(q=>q.route.id===j.route.id)&&j.route.id in f&&a[j.route.id]?.shouldRevalidate||Z.hasClientLoader?V=!0:D.add(j.route.id))}),D.size===0)return[];let F=P2(e,u,"data");return V&&D.size>0&&F.searchParams.set("_routes",t.filter(j=>D.has(j.route.id)).map(j=>j.route.id).join(",")),[F.pathname+F.search]},[u,f,i,s,m,t,e,a]),T=U.useMemo(()=>O2(y,s),[y,s]),S=j2(y);return U.createElement(U.Fragment,null,w.map(D=>U.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),T.map(D=>U.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),S.map(({key:D,link:V})=>U.createElement("link",{key:D,nonce:n.nonce,...V})))}function H2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var wC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wC&&(window.__reactRouterVersion="7.8.0")}catch{}function q2({basename:e,children:t,window:n}){let i=U.useRef();i.current==null&&(i.current=kL({window:n,v5Compat:!0}));let s=i.current,[a,u]=U.useState({action:s.action,location:s.location}),f=U.useCallback(p=>{U.startTransition(()=>u(p))},[u]);return U.useLayoutEffect(()=>s.listen(f),[s,f]),U.createElement(w2,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var bC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,am=U.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:u,state:f,target:p,to:m,preventScrollReset:y,viewTransition:w,...T},S){let{basename:D}=U.useContext(Os),V=typeof m=="string"&&bC.test(m),F,j=!1;if(typeof m=="string"&&V&&(F=m,wC))try{let M=new URL(window.location.href),K=m.startsWith("//")?new URL(M.protocol+m):new URL(m),N=Go(K.pathname,D);K.origin===M.origin&&N!=null?m=N+K.search+K.hash:j=!0}catch{Ps(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=r2(m,{relative:s}),[q,nt,X]=U2(i,T),Y=Z2(m,{replace:u,state:f,target:p,preventScrollReset:y,relative:s,viewTransition:w});function H(M){t&&t(M),M.defaultPrevented||Y(M)}let I=U.createElement("a",{...T,...X,href:F||Z,onClick:j||a?t:H,ref:H2(S,nt),target:p,"data-discover":!V&&n==="render"?"true":void 0});return q&&!V?U.createElement(U.Fragment,null,I,U.createElement(B2,{page:Z})):I});am.displayName="Link";var tf=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:u,viewTransition:f,children:p,...m},y){let w=td(u,{relative:m.relative}),T=fl(),S=U.useContext(jm),{navigator:D,basename:V}=U.useContext(Os),F=S!=null&&Q2(w)&&f===!0,j=D.encodeLocation?D.encodeLocation(w).pathname:w.pathname,Z=T.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),q=q?q.toLowerCase():null,j=j.toLowerCase()),q&&V&&(q=Go(q,V)||q);const nt=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let X=Z===j||!s&&Z.startsWith(j)&&Z.charAt(nt)==="/",Y=q!=null&&(q===j||!s&&q.startsWith(j)&&q.charAt(j.length)==="/"),H={isActive:X,isPending:Y,isTransitioning:F},I=X?t:void 0,M;typeof i=="function"?M=i(H):M=[i,X?"active":null,Y?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(H):a;return U.createElement(am,{...m,"aria-current":I,className:M,ref:y,style:K,to:u,viewTransition:f},typeof p=="function"?p(H):p)});tf.displayName="NavLink";var G2=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:u=Fp,action:f,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:w,...T},S)=>{let D=Y2(),V=X2(f,{relative:m}),F=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&bC.test(f),Z=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let nt=q.nativeEvent.submitter,X=nt?.getAttribute("formmethod")||u;D(nt||q.currentTarget,{fetcherKey:t,method:X,navigate:n,replace:s,state:a,relative:m,preventScrollReset:y,viewTransition:w})};return U.createElement("form",{ref:S,method:F,action:V,onSubmit:i?p:Z,...T,"data-discover":!j&&e==="render"?"true":void 0})});G2.displayName="Form";function W2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TC(e){let t=U.useContext(Dc);return un(t,W2(e)),t}function Z2(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:u}={}){let f=Fm(),p=fl(),m=td(e,{relative:a});return U.useCallback(y=>{if(A2(y,t)){y.preventDefault();let w=n!==void 0?n:If(p)===If(m);f(e,{replace:w,state:i,preventScrollReset:s,relative:a,viewTransition:u})}},[p,f,m,n,i,t,e,s,a,u])}var K2=0,$2=()=>`__${String(++K2)}__`;function Y2(){let{router:e}=TC("useSubmit"),{basename:t}=U.useContext(Os),n=m2();return U.useCallback(async(i,s={})=>{let{action:a,method:u,encType:f,formData:p,body:m}=I2(i,t);if(s.navigate===!1){let y=s.fetcherKey||$2();await e.fetch(y,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function X2(e,{relative:t}={}){let{basename:n}=U.useContext(Os),i=U.useContext(go);un(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...td(e||".",{relative:t})},u=fl();if(e==null){a.search=u.search;let f=new URLSearchParams(a.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let y=f.toString();a.search=y?`?${y}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:qo([n,a.pathname])),If(a)}function Q2(e,{relative:t}={}){let n=U.useContext(dC);un(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=TC("useViewTransitionState"),s=td(e,{relative:t});if(!n.isTransitioning)return!1;let a=Go(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Go(n.nextLocation.pathname,i)||n.nextLocation.pathname;return om(s.pathname,u)!=null||om(s.pathname,a)!=null}var rc=lC();/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),ZS=e=>{const t=tN(e);return t.charAt(0).toUpperCase()+t.slice(1)},EC=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),eN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=U.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:u,...f},p)=>U.createElement("svg",{ref:p,...nN,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:EC("lucide",s),...!a&&!eN(f)&&{"aria-hidden":"true"},...f},[...u.map(([m,y])=>U.createElement(m,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=(e,t)=>{const n=U.forwardRef(({className:i,...s},a)=>U.createElement(iN,{ref:a,iconNode:t,className:EC(`lucide-${J2(ZS(e))}`,`lucide-${e}`,i),...s}));return n.displayName=ZS(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lm=Yn("book-open",rN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cf=Yn("calendar",sN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SC=Yn("clock",oN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],lN=Yn("grip-vertical",aN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],cN=Yn("heart",uN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],fN=Yn("house",hN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],pN=Yn("image",dN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],um=Yn("loader",mN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yN=Yn("locate-fixed",gN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vN=Yn("lock",_N);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],xC=Yn("log-in",wN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],TN=Yn("log-out",bN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],SN=Yn("mail-open",EN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AN=Yn("mail",xN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],AC=Yn("map-pin",RN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],IN=Yn("send",CN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],kN=Yn("square-pen",PN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],MN=Yn("trash-2",DN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LN=Yn("triangle-alert",ON);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],RC=Yn("x",NN),Iw=U.createContext({});function Pw(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const kw=typeof window<"u",CC=kw?U.useLayoutEffect:U.useEffect,qm=U.createContext(null);function Dw(e,t){e.indexOf(t)===-1&&e.push(t)}function Mw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Wo=(e,t,n)=>n>t?t:n<e?e:n;let Ow=()=>{};const Zo={},IC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function PC(e){return typeof e=="object"&&e!==null}const kC=e=>/^0[^.\s]+$/u.test(e);function Lw(e){let t;return()=>(t===void 0&&(t=e()),t)}const cs=e=>e,VN=(e,t)=>n=>t(e(n)),ed=(...e)=>e.reduce(VN),Pf=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Nw{constructor(){this.subscriptions=[]}add(t){return Dw(this.subscriptions,t),()=>Mw(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const no=e=>e*1e3,io=e=>e/1e3;function DC(e,t){return t?e*(1e3/t):0}const MC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,zN=1e-7,UN=12;function BN(e,t,n,i,s){let a,u,f=0;do u=t+(n-t)/2,a=MC(u,i,s)-e,a>0?n=u:t=u;while(Math.abs(a)>zN&&++f<UN);return u}function nd(e,t,n,i){if(e===t&&n===i)return cs;const s=a=>BN(a,0,1,e,n);return a=>a===0||a===1?a:MC(s(a),t,i)}const OC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,LC=e=>t=>1-e(1-t),NC=nd(.33,1.53,.69,.99),Vw=LC(NC),VC=OC(Vw),zC=e=>(e*=2)<1?.5*Vw(e):.5*(2-Math.pow(2,-10*(e-1))),zw=e=>1-Math.sin(Math.acos(e)),UC=LC(zw),BC=OC(zw),jN=nd(.42,0,1,1),FN=nd(0,0,.58,1),jC=nd(.42,0,.58,1),HN=e=>Array.isArray(e)&&typeof e[0]!="number",FC=e=>Array.isArray(e)&&typeof e[0]=="number",qN={linear:cs,easeIn:jN,easeInOut:jC,easeOut:FN,circIn:zw,circInOut:BC,circOut:UC,backIn:Vw,backInOut:VC,backOut:NC,anticipate:zC},GN=e=>typeof e=="string",KS=e=>{if(FC(e)){Ow(e.length===4);const[t,n,i,s]=e;return nd(t,n,i,s)}else if(GN(e))return qN[e];return e},Sp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WN(e,t){let n=new Set,i=new Set,s=!1,a=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(y){u.has(y)&&(m.schedule(y),e()),y(f)}const m={schedule:(y,w=!1,T=!1)=>{const D=T&&s?n:i;return w&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(f=y,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(p),n.clear(),s=!1,a&&(a=!1,m.process(y))}};return m}const ZN=40;function HC(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Sp.reduce((q,nt)=>(q[nt]=WN(a),q),{}),{setup:f,read:p,resolveKeyframes:m,preUpdate:y,update:w,preRender:T,render:S,postRender:D}=u,V=()=>{const q=Zo.useManualTiming?s.timestamp:performance.now();n=!1,Zo.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(q-s.timestamp,ZN),1)),s.timestamp=q,s.isProcessing=!0,f.process(s),p.process(s),m.process(s),y.process(s),w.process(s),T.process(s),S.process(s),D.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(V))},F=()=>{n=!0,i=!0,s.isProcessing||e(V)};return{schedule:Sp.reduce((q,nt)=>{const X=u[nt];return q[nt]=(Y,H=!1,I=!1)=>(n||F(),X.schedule(Y,H,I)),q},{}),cancel:q=>{for(let nt=0;nt<Sp.length;nt++)u[Sp[nt]].cancel(q)},state:s,steps:u}}const{schedule:ln,cancel:nl,state:Si,steps:u_}=HC(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let qp;function KN(){qp=void 0}const hr={now:()=>(qp===void 0&&hr.set(Si.isProcessing||Zo.useManualTiming?Si.timestamp:performance.now()),qp),set:e=>{qp=e,queueMicrotask(KN)}},qC=e=>t=>typeof t=="string"&&t.startsWith(e),Uw=qC("--"),$N=qC("var(--"),Bw=e=>$N(e)?YN.test(e.split("/*")[0].trim()):!1,YN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},kf={...Oc,transform:e=>Wo(0,1,e)},xp={...Oc,default:1},hf=e=>Math.round(e*1e5)/1e5,jw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XN(e){return e==null}const QN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fw=(e,t)=>n=>!!(typeof n=="string"&&QN.test(n)&&n.startsWith(e)||t&&!XN(n)&&Object.prototype.hasOwnProperty.call(n,t)),GC=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,u,f]=i.match(jw);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},JN=e=>Wo(0,255,e),c_={...Oc,transform:e=>Math.round(JN(e))},$l={test:Fw("rgb","red"),parse:GC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+c_.transform(e)+", "+c_.transform(t)+", "+c_.transform(n)+", "+hf(kf.transform(i))+")"};function tV(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const uv={test:Fw("#"),parse:tV,transform:$l.transform},id=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fa=id("deg"),ro=id("%"),Qt=id("px"),eV=id("vh"),nV=id("vw"),$S={...ro,parse:e=>ro.parse(e)/100,transform:e=>ro.transform(e*100)},sc={test:Fw("hsl","hue"),parse:GC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ro.transform(hf(t))+", "+ro.transform(hf(n))+", "+hf(kf.transform(i))+")"},Wn={test:e=>$l.test(e)||uv.test(e)||sc.test(e),parse:e=>$l.test(e)?$l.parse(e):sc.test(e)?sc.parse(e):uv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?$l.transform(e):sc.transform(e),getAnimatableNone:e=>{const t=Wn.parse(e);return t.alpha=0,Wn.transform(t)}},iV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rV(e){return isNaN(e)&&typeof e=="string"&&(e.match(jw)?.length||0)+(e.match(iV)?.length||0)>0}const WC="number",ZC="color",sV="var",oV="var(",YS="${}",aV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Df(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const f=t.replace(aV,p=>(Wn.test(p)?(i.color.push(a),s.push(ZC),n.push(Wn.parse(p))):p.startsWith(oV)?(i.var.push(a),s.push(sV),n.push(p)):(i.number.push(a),s.push(WC),n.push(parseFloat(p))),++a,YS)).split(YS);return{values:n,split:f,indexes:i,types:s}}function KC(e){return Df(e).values}function $C(e){const{split:t,types:n}=Df(e),i=t.length;return s=>{let a="";for(let u=0;u<i;u++)if(a+=t[u],s[u]!==void 0){const f=n[u];f===WC?a+=hf(s[u]):f===ZC?a+=Wn.transform(s[u]):a+=s[u]}return a}}const lV=e=>typeof e=="number"?0:Wn.test(e)?Wn.getAnimatableNone(e):e;function uV(e){const t=KC(e);return $C(e)(t.map(lV))}const il={test:rV,parse:KC,createTransformer:$C,getAnimatableNone:uV};function h_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cV({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,u=0;if(!t)s=a=u=n;else{const f=n<.5?n*(1+t):n+t-n*t,p=2*n-f;s=h_(p,f,e+1/3),a=h_(p,f,e),u=h_(p,f,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function cm(e,t){return n=>n>0?t:e}const mn=(e,t,n)=>e+(t-e)*n,f_=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},hV=[uv,$l,sc],fV=e=>hV.find(t=>t.test(e));function XS(e){const t=fV(e);if(!t)return!1;let n=t.parse(e);return t===sc&&(n=cV(n)),n}const QS=(e,t)=>{const n=XS(e),i=XS(t);if(!n||!i)return cm(e,t);const s={...n};return a=>(s.red=f_(n.red,i.red,a),s.green=f_(n.green,i.green,a),s.blue=f_(n.blue,i.blue,a),s.alpha=mn(n.alpha,i.alpha,a),$l.transform(s))},cv=new Set(["none","hidden"]);function dV(e,t){return cv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function pV(e,t){return n=>mn(e,t,n)}function Hw(e){return typeof e=="number"?pV:typeof e=="string"?Bw(e)?cm:Wn.test(e)?QS:yV:Array.isArray(e)?YC:typeof e=="object"?Wn.test(e)?QS:mV:cm}function YC(e,t){const n=[...e],i=n.length,s=e.map((a,u)=>Hw(a)(a,t[u]));return a=>{for(let u=0;u<i;u++)n[u]=s[u](a);return n}}function mV(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=Hw(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function gV(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],u=e.indexes[a][i[a]],f=e.values[u]??0;n[s]=f,i[a]++}return n}const yV=(e,t)=>{const n=il.createTransformer(t),i=Df(e),s=Df(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?cv.has(e)&&!s.values.length||cv.has(t)&&!i.values.length?dV(e,t):ed(YC(gV(i,s),s.values),n):cm(e,t)};function XC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?mn(e,t,n):Hw(e)(e,t)}const _V=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ln.update(t,n),stop:()=>nl(t),now:()=>Si.isProcessing?Si.timestamp:hr.now()}},QC=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},hm=2e4;function qw(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<hm;)t+=n,i=e.next(t);return t>=hm?1/0:t}function vV(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(qw(i),hm);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:io(s)}}const wV=5;function JC(e,t,n){const i=Math.max(t-wV,0);return DC(n-e(i),t-i)}const Sn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},d_=.001;function bV({duration:e=Sn.duration,bounce:t=Sn.bounce,velocity:n=Sn.velocity,mass:i=Sn.mass}){let s,a,u=1-t;u=Wo(Sn.minDamping,Sn.maxDamping,u),e=Wo(Sn.minDuration,Sn.maxDuration,io(e)),u<1?(s=m=>{const y=m*u,w=y*e,T=y-n,S=hv(m,u),D=Math.exp(-w);return d_-T/S*D},a=m=>{const w=m*u*e,T=w*n+n,S=Math.pow(u,2)*Math.pow(m,2)*e,D=Math.exp(-w),V=hv(Math.pow(m,2),u);return(-s(m)+d_>0?-1:1)*((T-S)*D)/V}):(s=m=>{const y=Math.exp(-m*e),w=(m-n)*e+1;return-d_+y*w},a=m=>{const y=Math.exp(-m*e),w=(n-m)*(e*e);return y*w});const f=5/e,p=EV(s,a,f);if(e=no(e),isNaN(p))return{stiffness:Sn.stiffness,damping:Sn.damping,duration:e};{const m=Math.pow(p,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:e}}}const TV=12;function EV(e,t,n){let i=n;for(let s=1;s<TV;s++)i=i-e(i)/t(i);return i}function hv(e,t){return e*Math.sqrt(1-t*t)}const SV=["duration","bounce"],xV=["stiffness","damping","mass"];function JS(e,t){return t.some(n=>e[n]!==void 0)}function AV(e){let t={velocity:Sn.velocity,stiffness:Sn.stiffness,damping:Sn.damping,mass:Sn.mass,isResolvedFromDuration:!1,...e};if(!JS(e,xV)&&JS(e,SV))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*Wo(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Sn.mass,stiffness:s,damping:a}}else{const n=bV(e);t={...t,...n,mass:Sn.mass},t.isResolvedFromDuration=!0}return t}function fm(e=Sn.visualDuration,t=Sn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:a},{stiffness:p,damping:m,mass:y,duration:w,velocity:T,isResolvedFromDuration:S}=AV({...n,velocity:-io(n.velocity||0)}),D=T||0,V=m/(2*Math.sqrt(p*y)),F=u-a,j=io(Math.sqrt(p/y)),Z=Math.abs(F)<5;i||(i=Z?Sn.restSpeed.granular:Sn.restSpeed.default),s||(s=Z?Sn.restDelta.granular:Sn.restDelta.default);let q;if(V<1){const X=hv(j,V);q=Y=>{const H=Math.exp(-V*j*Y);return u-H*((D+V*j*F)/X*Math.sin(X*Y)+F*Math.cos(X*Y))}}else if(V===1)q=X=>u-Math.exp(-j*X)*(F+(D+j*F)*X);else{const X=j*Math.sqrt(V*V-1);q=Y=>{const H=Math.exp(-V*j*Y),I=Math.min(X*Y,300);return u-H*((D+V*j*F)*Math.sinh(I)+X*F*Math.cosh(I))/X}}const nt={calculatedDuration:S&&w||null,next:X=>{const Y=q(X);if(S)f.done=X>=w;else{let H=X===0?D:0;V<1&&(H=X===0?no(D):JC(q,X,Y));const I=Math.abs(H)<=i,M=Math.abs(u-Y)<=s;f.done=I&&M}return f.value=f.done?u:Y,f},toString:()=>{const X=Math.min(qw(nt),hm),Y=QC(H=>nt.next(X*H).value,X,30);return X+"ms "+Y},toTransition:()=>{}};return nt}fm.applyToOptions=e=>{const t=vV(e,100,fm);return e.ease=t.ease,e.duration=no(t.duration),e.type="keyframes",e};function fv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:f,max:p,restDelta:m=.5,restSpeed:y}){const w=e[0],T={done:!1,value:w},S=I=>f!==void 0&&I<f||p!==void 0&&I>p,D=I=>f===void 0?p:p===void 0||Math.abs(f-I)<Math.abs(p-I)?f:p;let V=n*t;const F=w+V,j=u===void 0?F:u(F);j!==F&&(V=j-w);const Z=I=>-V*Math.exp(-I/i),q=I=>j+Z(I),nt=I=>{const M=Z(I),K=q(I);T.done=Math.abs(M)<=m,T.value=T.done?j:K};let X,Y;const H=I=>{S(T.value)&&(X=I,Y=fm({keyframes:[T.value,D(T.value)],velocity:JC(q,I,T.value),damping:s,stiffness:a,restDelta:m,restSpeed:y}))};return H(0),{calculatedDuration:null,next:I=>{let M=!1;return!Y&&X===void 0&&(M=!0,nt(I),H(I)),X!==void 0&&I>=X?Y.next(I-X):(!M&&nt(I),T)}}}function RV(e,t,n){const i=[],s=n||Zo.mix||XC,a=e.length-1;for(let u=0;u<a;u++){let f=s(e[u],e[u+1]);if(t){const p=Array.isArray(t)?t[u]||cs:t;f=ed(p,f)}i.push(f)}return i}function CV(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(Ow(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=RV(t,i,s),p=f.length,m=y=>{if(u&&y<e[0])return t[0];let w=0;if(p>1)for(;w<e.length-2&&!(y<e[w+1]);w++);const T=Pf(e[w],e[w+1],y);return f[w](T)};return n?y=>m(Wo(e[0],e[a-1],y)):m}function IV(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Pf(0,t,i);e.push(mn(n,1,s))}}function PV(e){const t=[0];return IV(t,e.length-1),t}function kV(e,t){return e.map(n=>n*t)}function DV(e,t){return e.map(()=>t||jC).splice(0,e.length-1)}function ff({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=HN(i)?i.map(KS):KS(i),a={done:!1,value:t[0]},u=kV(n&&n.length===t.length?n:PV(t),e),f=CV(u,t,{ease:Array.isArray(s)?s:DV(t,s)});return{calculatedDuration:e,next:p=>(a.value=f(p),a.done=p>=e,a)}}const MV=e=>e!==null;function Gw(e,{repeat:t,repeatType:n="loop"},i,s=1){const a=e.filter(MV),f=s<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!f||i===void 0?a[f]:i}const OV={decay:fv,inertia:fv,tween:ff,keyframes:ff,spring:fm};function tI(e){typeof e.type=="string"&&(e.type=OV[e.type])}class Ww{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const LV=e=>e/100;class Zw extends Ww{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==hr.now()&&this.tick(hr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;tI(t);const{type:n=ff,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=t;let{keyframes:f}=t;const p=n||ff;p!==ff&&typeof f[0]!="number"&&(this.mixKeyframes=ed(LV,XC(f[0],f[1])),f=[0,100]);const m=p({...t,keyframes:f});a==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...f].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=qw(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:w,repeatType:T,repeatDelay:S,type:D,onUpdate:V,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const j=this.currentTime-m*(this.playbackSpeed>=0?1:-1),Z=this.playbackSpeed>=0?j<0:j>s;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let q=this.currentTime,nt=i;if(w){const I=Math.min(this.currentTime,s)/f;let M=Math.floor(I),K=I%1;!K&&I>=1&&(K=1),K===1&&M--,M=Math.min(M,w+1),!!(M%2)&&(T==="reverse"?(K=1-K,S&&(K-=S/f)):T==="mirror"&&(nt=u)),q=Wo(0,1,K)*f}const X=Z?{done:!1,value:y[0]}:nt.next(q);a&&(X.value=a(X.value));let{done:Y}=X;!Z&&p!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return H&&D!==fv&&(X.value=Gw(y,this.options,F,this.speed)),V&&V(X.value),H&&this.finish(),X}then(t,n){return this.finished.then(t,n)}get duration(){return io(this.calculatedDuration)}get time(){return io(this.currentTime)}set time(t){t=no(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=io(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=_V,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function NV(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Yl=e=>e*180/Math.PI,dv=e=>{const t=Yl(Math.atan2(e[1],e[0]));return pv(t)},VV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dv,rotateZ:dv,skewX:e=>Yl(Math.atan(e[1])),skewY:e=>Yl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pv=e=>(e=e%360,e<0&&(e+=360),e),tx=dv,ex=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),nx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ex,scaleY:nx,scale:e=>(ex(e)+nx(e))/2,rotateX:e=>pv(Yl(Math.atan2(e[6],e[5]))),rotateY:e=>pv(Yl(Math.atan2(-e[2],e[0]))),rotateZ:tx,rotate:tx,skewX:e=>Yl(Math.atan(e[4])),skewY:e=>Yl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function mv(e){return e.includes("scale")?1:0}function gv(e,t){if(!e||e==="none")return mv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=zV,s=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=VV,s=f}if(!s)return mv(t);const a=i[t],u=s[1].split(",").map(BV);return typeof a=="function"?a(u):u[a]}const UV=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gv(n,t)};function BV(e){return parseFloat(e.trim())}const Lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nc=new Set(Lc),ix=e=>e===Oc||e===Qt,jV=new Set(["x","y","z"]),FV=Lc.filter(e=>!jV.has(e));function HV(e){const t=[];return FV.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Ql={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gv(t,"x"),y:(e,{transform:t})=>gv(t,"y")};Ql.translateX=Ql.x;Ql.translateY=Ql.y;const Jl=new Set;let yv=!1,_v=!1,vv=!1;function eI(){if(_v){const e=Array.from(Jl).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=HV(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,u])=>{i.getValue(a)?.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}_v=!1,yv=!1,Jl.forEach(e=>e.complete(vv)),Jl.clear()}function nI(){Jl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_v=!0)})}function qV(){vv=!0,nI(),eI(),vv=!1}class Kw{constructor(t,n,i,s,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Jl.add(this),yv||(yv=!0,ln.read(nI),ln.resolveKeyframes(eI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const a=s?.get(),u=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&n){const f=i.readValue(n,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),s&&a===void 0&&s.set(t[0])}NV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Jl.delete(this)}cancel(){this.state==="scheduled"&&(Jl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GV=e=>e.startsWith("--");function WV(e,t,n){GV(t)?e.style.setProperty(t,n):e.style[t]=n}const ZV=Lw(()=>window.ScrollTimeline!==void 0),KV={};function $V(e,t){const n=Lw(e);return()=>KV[t]??n()}const iI=$V(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ef=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,rx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ef([0,.65,.55,1]),circOut:ef([.55,0,1,.45]),backIn:ef([.31,.01,.66,-.59]),backOut:ef([.33,1.53,.69,.99])};function rI(e,t){if(e)return typeof e=="function"?iI()?QC(e,t):"ease-out":FC(e)?ef(e):Array.isArray(e)?e.map(n=>rI(n,t)||rx.easeOut):rx[e]}function YV(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:f="easeOut",times:p}={},m=void 0){const y={[t]:n};p&&(y.offset=p);const w=rI(f,s);Array.isArray(w)&&(y.easing=w);const T={delay:i,duration:s,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return m&&(T.pseudoElement=m),e.animate(y,T)}function sI(e){return typeof e=="function"&&"applyToOptions"in e}function XV({type:e,...t}){return sI(e)&&iI()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class QV extends Ww{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=t;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=t,Ow(typeof t.type!="string");const m=XV(t);this.animation=YV(n,i,s,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=Gw(s,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):WV(n,i,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return io(Number(t))}get time(){return io(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=no(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ZV()?(this.animation.timeline=t,cs):n(this)}}const oI={anticipate:zC,backInOut:VC,circInOut:BC};function JV(e){return e in oI}function t4(e){typeof e.ease=="string"&&JV(e.ease)&&(e.ease=oI[e.ease])}const sx=10;class e4 extends QV{constructor(t){t4(t),tI(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new Zw({...u,autoplay:!1}),p=no(this.finishedTime??this.time);n.setWithVelocity(f.sample(p-sx).value,f.sample(p).value,sx),f.stop()}}const ox=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(il.test(e)||e==="0")&&!e.startsWith("url("));function n4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function i4(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],u=ox(s,t),f=ox(a,t);return!u||!f?!1:n4(e)||(n==="spring"||sI(n))&&i}function wv(e){e.duration=0,e.type}const r4=new Set(["opacity","clipPath","filter","transform"]),s4=Lw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function o4(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:a,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=t.owner.getProps();return s4()&&n&&r4.has(n)&&(n!=="transform"||!m)&&!p&&!i&&s!=="mirror"&&a!==0&&u!=="inertia"}const a4=40;class l4 extends Ww{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",keyframes:f,name:p,motionValue:m,element:y,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hr.now();const T={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:u,name:p,motionValue:m,element:y,...w},S=y?.KeyframeResolver||Kw;this.keyframeResolver=new S(f,(D,V,F)=>this.onKeyframesResolved(D,V,T,!F),p,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:a,type:u,velocity:f,delay:p,isHandoff:m,onUpdate:y}=i;this.resolvedAt=hr.now(),i4(t,a,u,f)||((Zo.instantAnimations||!p)&&y?.(Gw(t,i,n)),t[0]=t[t.length-1],wv(i),i.repeat=0);const T={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>a4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},S=!m&&o4(T)?new e4({...T,element:T.motionValue.owner.current}):new Zw(T);S.finished.then(()=>this.notifyFinished()).catch(cs),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),qV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const u4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c4(e){const t=u4.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function aI(e,t,n=1){const[i,s]=c4(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const u=a.trim();return IC(u)?parseFloat(u):u}return Bw(s)?aI(s,t,n+1):s}function $w(e,t){return e?.[t]??e?.default??e}const lI=new Set(["width","height","top","left","right","bottom",...Lc]),h4={test:e=>e==="auto",parse:e=>e},uI=e=>t=>t.test(e),cI=[Oc,Qt,ro,Fa,nV,eV,h4],ax=e=>cI.find(uI(e));function f4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||kC(e):!0}const d4=new Set(["brightness","contrast","saturate","opacity"]);function p4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(jw)||[];if(!i)return e;const s=n.replace(i,"");let a=d4.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const m4=/\b([a-z-]*)\(.*?\)/gu,bv={...il,getAnimatableNone:e=>{const t=e.match(m4);return t?t.map(p4).join(" "):e}},lx={...Oc,transform:Math.round},g4={rotate:Fa,rotateX:Fa,rotateY:Fa,rotateZ:Fa,scale:xp,scaleX:xp,scaleY:xp,scaleZ:xp,skew:Fa,skewX:Fa,skewY:Fa,distance:Qt,translateX:Qt,translateY:Qt,translateZ:Qt,x:Qt,y:Qt,z:Qt,perspective:Qt,transformPerspective:Qt,opacity:kf,originX:$S,originY:$S,originZ:Qt},Yw={borderWidth:Qt,borderTopWidth:Qt,borderRightWidth:Qt,borderBottomWidth:Qt,borderLeftWidth:Qt,borderRadius:Qt,radius:Qt,borderTopLeftRadius:Qt,borderTopRightRadius:Qt,borderBottomRightRadius:Qt,borderBottomLeftRadius:Qt,width:Qt,maxWidth:Qt,height:Qt,maxHeight:Qt,top:Qt,right:Qt,bottom:Qt,left:Qt,padding:Qt,paddingTop:Qt,paddingRight:Qt,paddingBottom:Qt,paddingLeft:Qt,margin:Qt,marginTop:Qt,marginRight:Qt,marginBottom:Qt,marginLeft:Qt,backgroundPositionX:Qt,backgroundPositionY:Qt,...g4,zIndex:lx,fillOpacity:kf,strokeOpacity:kf,numOctaves:lx},y4={...Yw,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:bv,WebkitFilter:bv},hI=e=>y4[e];function fI(e,t){let n=hI(e);return n!==bv&&(n=il),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _4=new Set(["auto","none","0"]);function v4(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!_4.has(a)&&Df(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=fI(n,s)}class w4 extends Kw{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let m=t[p];if(typeof m=="string"&&(m=m.trim(),Bw(m))){const y=aI(m,n.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!lI.has(i)||t.length!==2)return;const[s,a]=t,u=ax(s),f=ax(a);if(u!==f)if(ix(u)&&ix(f))for(let p=0;p<t.length;p++){const m=t[p];typeof m=="string"&&(t[p]=parseFloat(m))}else Ql[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||f4(t[s]))&&i.push(s);i.length&&v4(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ql[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=Ql[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function b4(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const dI=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function pI(e){return PC(e)&&"offsetHeight"in e}const ux=30,T4=e=>!isNaN(parseFloat(e));class E4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=hr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=hr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=T4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Nw);const i=this.events[t].add(n);return t==="change"?()=>{i(),ln.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ux)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ux);return DC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bc(e,t){return new E4(e,t)}const{schedule:Xw}=HC(queueMicrotask,!1),Rs={x:!1,y:!1};function mI(){return Rs.x||Rs.y}function S4(e){return e==="x"||e==="y"?Rs[e]?null:(Rs[e]=!0,()=>{Rs[e]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}function gI(e,t){const n=b4(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function cx(e){return!(e.pointerType==="touch"||mI())}function x4(e,t,n={}){const[i,s,a]=gI(e,n),u=f=>{if(!cx(f))return;const{target:p}=f,m=t(p,f);if(typeof m!="function"||!p)return;const y=w=>{cx(w)&&(m(w),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,s)};return i.forEach(f=>{f.addEventListener("pointerenter",u,s)}),a}const yI=(e,t)=>t?e===t?!0:yI(e,t.parentElement):!1,Qw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,A4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function R4(e){return A4.has(e.tagName)||e.tabIndex!==-1}const Gp=new WeakSet;function hx(e){return t=>{t.key==="Enter"&&e(t)}}function p_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C4=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=hx(()=>{if(Gp.has(n))return;p_(n,"down");const s=hx(()=>{p_(n,"up")}),a=()=>p_(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function fx(e){return Qw(e)&&!mI()}function I4(e,t,n={}){const[i,s,a]=gI(e,n),u=f=>{const p=f.currentTarget;if(!fx(f))return;Gp.add(p);const m=t(p,f),y=(S,D)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),Gp.has(p)&&Gp.delete(p),fx(S)&&typeof m=="function"&&m(S,{success:D})},w=S=>{y(S,p===window||p===document||n.useGlobalTarget||yI(p,S.target))},T=S=>{y(S,!1)};window.addEventListener("pointerup",w,s),window.addEventListener("pointercancel",T,s)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,s),pI(f)&&(f.addEventListener("focus",m=>C4(m,s)),!R4(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),a}function _I(e){return PC(e)&&"ownerSVGElement"in e}function P4(e){return _I(e)&&e.tagName==="svg"}const zi=e=>!!(e&&e.getVelocity),k4=[...cI,Wn,il],D4=e=>k4.find(uI(e)),Jw=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class M4 extends U.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=pI(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function O4({children:e,isPresent:t,anchorX:n,root:i}){const s=U.useId(),a=U.useRef(null),u=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=U.useContext(Jw);return U.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:w,right:T}=u.current;if(t||!a.current||!p||!m)return;const S=n==="left"?`left: ${w}`:`right: ${T}`;a.current.dataset.motionPopId=s;const D=document.createElement("style");f&&(D.nonce=f);const V=i??document.head;return V.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${y}px !important;
          }
        `),()=>{V.contains(D)&&V.removeChild(D)}},[t]),tt.jsx(M4,{isPresent:t,childRef:a,sizeRef:u,children:U.cloneElement(e,{ref:a})})}const L4=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:u,anchorX:f,root:p})=>{const m=Pw(N4),y=U.useId();let w=!0,T=U.useMemo(()=>(w=!1,{id:y,initial:t,isPresent:n,custom:s,onExitComplete:S=>{m.set(S,!0);for(const D of m.values())if(!D)return;i&&i()},register:S=>(m.set(S,!1),()=>m.delete(S))}),[n,m,i]);return a&&w&&(T={...T}),U.useMemo(()=>{m.forEach((S,D)=>m.set(D,!1))},[n]),U.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),u==="popLayout"&&(e=tt.jsx(O4,{isPresent:n,anchorX:f,root:p,children:e})),tt.jsx(qm.Provider,{value:T,children:e})};function N4(){return new Map}function vI(e=!0){const t=U.useContext(qm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=U.useId();U.useEffect(()=>{if(e)return s(a)},[e]);const u=U.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,u]:[!0]}const Ap=e=>e.key||"";function dx(e){const t=[];return U.Children.forEach(e,n=>{U.isValidElement(n)&&t.push(n)}),t}const t0=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:u=!1,anchorX:f="left",root:p})=>{const[m,y]=vI(u),w=U.useMemo(()=>dx(e),[e]),T=u&&!m?[]:w.map(Ap),S=U.useRef(!0),D=U.useRef(w),V=Pw(()=>new Map),[F,j]=U.useState(w),[Z,q]=U.useState(w);CC(()=>{S.current=!1,D.current=w;for(let Y=0;Y<Z.length;Y++){const H=Ap(Z[Y]);T.includes(H)?V.delete(H):V.get(H)!==!0&&V.set(H,!1)}},[Z,T.length,T.join("-")]);const nt=[];if(w!==F){let Y=[...w];for(let H=0;H<Z.length;H++){const I=Z[H],M=Ap(I);T.includes(M)||(Y.splice(H,0,I),nt.push(I))}return a==="wait"&&nt.length&&(Y=nt),q(dx(Y)),j(w),null}const{forceRender:X}=U.useContext(Iw);return tt.jsx(tt.Fragment,{children:Z.map(Y=>{const H=Ap(Y),I=u&&!m?!1:w===Z||T.includes(H),M=()=>{if(V.has(H))V.set(H,!0);else return;let K=!0;V.forEach(N=>{N||(K=!1)}),K&&(X?.(),q(D.current),u&&y?.(),i&&i())};return tt.jsx(L4,{isPresent:I,initial:!S.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:p,onExitComplete:I?void 0:M,anchorX:f,children:Y},H)})})},wI=U.createContext({strict:!1}),px={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tc={};for(const e in px)Tc[e]={isEnabled:t=>px[e].some(n=>!!t[n])};function V4(e){for(const t in e)Tc[t]={...Tc[t],...e[t]}}const z4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||z4.has(e)}let bI=e=>!dm(e);function U4(e){typeof e=="function"&&(bI=t=>t.startsWith("on")?!dm(t):e(t))}try{U4(require("@emotion/is-prop-valid").default)}catch{}function B4(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(bI(s)||n===!0&&dm(s)||!t&&!dm(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Gm=U.createContext({});function Wm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Mf(e){return typeof e=="string"||Array.isArray(e)}const e0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],n0=["initial",...e0];function Zm(e){return Wm(e.animate)||n0.some(t=>Mf(e[t]))}function TI(e){return!!(Zm(e)||e.variants)}function j4(e,t){if(Zm(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Mf(n)?n:void 0,animate:Mf(i)?i:void 0}}return e.inherit!==!1?t:{}}function F4(e){const{initial:t,animate:n}=j4(e,U.useContext(Gm));return U.useMemo(()=>({initial:t,animate:n}),[mx(t),mx(n)])}function mx(e){return Array.isArray(e)?e.join(" "):e}const Of={};function H4(e){for(const t in e)Of[t]=e[t],Uw(t)&&(Of[t].isCSSVariable=!0)}function EI(e,{layout:t,layoutId:n}){return Nc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Of[e]||e==="opacity")}const q4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G4=Lc.length;function W4(e,t,n){let i="",s=!0;for(let a=0;a<G4;a++){const u=Lc[a],f=e[u];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(u.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const m=dI(f,Yw[u]);if(!p){s=!1;const y=q4[u]||u;i+=`${y}(${m}) `}n&&(t[u]=m)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function i0(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let u=!1,f=!1;for(const p in t){const m=t[p];if(Nc.has(p)){u=!0;continue}else if(Uw(p)){s[p]=m;continue}else{const y=dI(m,Yw[p]);p.startsWith("origin")?(f=!0,a[p]=y):i[p]=y}}if(t.transform||(u||n?i.transform=W4(t,e.transform,n):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:m="50%",originZ:y=0}=a;i.transformOrigin=`${p} ${m} ${y}`}}const r0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SI(e,t,n){for(const i in t)!zi(t[i])&&!EI(i,n)&&(e[i]=t[i])}function Z4({transformTemplate:e},t){return U.useMemo(()=>{const n=r0();return i0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function K4(e,t){const n=e.style||{},i={};return SI(i,n,e),Object.assign(i,Z4(e,t)),i}function $4(e,t){const n={},i=K4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const Y4={offset:"stroke-dashoffset",array:"stroke-dasharray"},X4={offset:"strokeDashoffset",array:"strokeDasharray"};function Q4(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?Y4:X4;e[a.offset]=Qt.transform(-i);const u=Qt.transform(t),f=Qt.transform(n);e[a.array]=`${u} ${f}`}function xI(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:u=0,...f},p,m,y){if(i0(e,f,m),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:T}=e;w.transform&&(T.transform=w.transform,delete w.transform),(T.transform||w.transformOrigin)&&(T.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete w.transformBox),t!==void 0&&(w.x=t),n!==void 0&&(w.y=n),i!==void 0&&(w.scale=i),s!==void 0&&Q4(w,s,a,u,!1)}const AI=()=>({...r0(),attrs:{}}),RI=e=>typeof e=="string"&&e.toLowerCase()==="svg";function J4(e,t,n,i){const s=U.useMemo(()=>{const a=AI();return xI(a,t,RI(i),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};SI(a,e.style,e),s.style={...a,...s.style}}return s}const tz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s0(e){return typeof e!="string"||e.includes("-")?!1:!!(tz.indexOf(e)>-1||/[A-Z]/u.test(e))}function ez(e,t,n,{latestValues:i},s,a=!1){const f=(s0(e)?J4:$4)(t,i,s,e),p=B4(t,typeof e=="string",a),m=e!==U.Fragment?{...p,...f,ref:n}:{},{children:y}=t,w=U.useMemo(()=>zi(y)?y.get():y,[y]);return U.createElement(e,{...m,children:w})}function gx(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function o0(e,t,n,i){if(typeof t=="function"){const[s,a]=gx(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=gx(i);t=t(n!==void 0?n:e.custom,s,a)}return t}function Wp(e){return zi(e)?e.get():e}function nz({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:iz(n,i,s,e),renderState:t()}}function iz(e,t,n,i){const s={},a=i(e,{});for(const T in a)s[T]=Wp(a[T]);let{initial:u,animate:f}=e;const p=Zm(e),m=TI(e);t&&m&&!p&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const w=y?f:u;if(w&&typeof w!="boolean"&&!Wm(w)){const T=Array.isArray(w)?w:[w];for(let S=0;S<T.length;S++){const D=o0(e,T[S]);if(D){const{transitionEnd:V,transition:F,...j}=D;for(const Z in j){let q=j[Z];if(Array.isArray(q)){const nt=y?q.length-1:0;q=q[nt]}q!==null&&(s[Z]=q)}for(const Z in V)s[Z]=V[Z]}}}return s}const CI=e=>(t,n)=>{const i=U.useContext(Gm),s=U.useContext(qm),a=()=>nz(e,t,i,s);return n?a():Pw(a)};function a0(e,t,n){const{style:i}=e,s={};for(const a in i)(zi(i[a])||t.style&&zi(t.style[a])||EI(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=i[a]);return s}const rz=CI({scrapeMotionValuesFromProps:a0,createRenderState:r0});function II(e,t,n){const i=a0(e,t,n);for(const s in e)if(zi(e[s])||zi(t[s])){const a=Lc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}const sz=CI({scrapeMotionValuesFromProps:II,createRenderState:AI}),oz=Symbol.for("motionComponentSymbol");function oc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function az(e,t,n){return U.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):oc(n)&&(n.current=i))},[t])}const l0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lz="framerAppearId",PI="data-"+l0(lz),kI=U.createContext({});function uz(e,t,n,i,s){const{visualElement:a}=U.useContext(Gm),u=U.useContext(wI),f=U.useContext(qm),p=U.useContext(Jw).reducedMotion,m=U.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:a,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const y=m.current,w=U.useContext(kI);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&cz(m.current,n,s,w);const T=U.useRef(!1);U.useInsertionEffect(()=>{y&&T.current&&y.update(n,f)});const S=n[PI],D=U.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return CC(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),U.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),D.current=!1),y.enteringChildren=void 0)}),y}function cz(e,t,n,i){const{layoutId:s,layout:a,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:m,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:DI(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||f&&oc(f),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:p,layoutRoot:m})}function DI(e){if(e)return e.options.allowProjection!==!1?e.projection:DI(e.parent)}function m_(e,{forwardMotionProps:t=!1}={},n,i){n&&V4(n);const s=s0(e)?sz:rz;function a(f,p){let m;const y={...U.useContext(Jw),...f,layoutId:hz(f)},{isStatic:w}=y,T=F4(f),S=s(f,w);if(!w&&kw){fz();const D=dz(y);m=D.MeasureLayout,T.visualElement=uz(e,S,y,i,D.ProjectionNode)}return tt.jsxs(Gm.Provider,{value:T,children:[m&&T.visualElement?tt.jsx(m,{visualElement:T.visualElement,...y}):null,ez(e,f,az(S,T.visualElement,p),S,w,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=U.forwardRef(a);return u[oz]=e,u}function hz({layoutId:e}){const t=U.useContext(Iw).id;return t&&e!==void 0?t+"-"+e:e}function fz(e,t){U.useContext(wI).strict}function dz(e){const{drag:t,layout:n}=Tc;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function pz(e,t){if(typeof Proxy>"u")return m_;const n=new Map,i=(a,u)=>m_(a,u,e,t),s=(a,u)=>i(a,u);return new Proxy(s,{get:(a,u)=>u==="create"?i:(n.has(u)||n.set(u,m_(u,void 0,e,t)),n.get(u))})}function MI({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function mz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function g_(e){return e===void 0||e===1}function Tv({scale:e,scaleX:t,scaleY:n}){return!g_(e)||!g_(t)||!g_(n)}function Zl(e){return Tv(e)||OI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function OI(e){return yx(e.x)||yx(e.y)}function yx(e){return e&&e!=="0%"}function pm(e,t,n){const i=e-n,s=t*i;return n+s}function _x(e,t,n,i,s){return s!==void 0&&(e=pm(e,s,i)),pm(e,n,i)+t}function Ev(e,t=0,n=1,i,s){e.min=_x(e.min,t,n,i,s),e.max=_x(e.max,t,n,i,s)}function LI(e,{x:t,y:n}){Ev(e.x,t.translate,t.scale,t.originPoint),Ev(e.y,n.translate,n.scale,n.originPoint)}const vx=.999999999999,wx=1.0000000000001;function yz(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,u;for(let f=0;f<s;f++){a=n[f],u=a.projectionDelta;const{visualElement:p}=a.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&lc(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,LI(e,u)),i&&Zl(a.latestValues)&&lc(e,a.latestValues))}t.x<wx&&t.x>vx&&(t.x=1),t.y<wx&&t.y>vx&&(t.y=1)}function ac(e,t){e.min=e.min+t,e.max=e.max+t}function bx(e,t,n,i,s=.5){const a=mn(e.min,e.max,s);Ev(e,t,n,a,i)}function lc(e,t){bx(e.x,t.x,t.scaleX,t.scale,t.originX),bx(e.y,t.y,t.scaleY,t.scale,t.originY)}function NI(e,t){return MI(gz(e.getBoundingClientRect(),t))}function _z(e,t,n){const i=NI(e,n),{scroll:s}=t;return s&&(ac(i.x,s.offset.x),ac(i.y,s.offset.y)),i}const Tx=()=>({translate:0,scale:1,origin:0,originPoint:0}),uc=()=>({x:Tx(),y:Tx()}),Ex=()=>({min:0,max:0}),On=()=>({x:Ex(),y:Ex()}),Sv={current:null},VI={current:!1};function vz(){if(VI.current=!0,!!kw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sv.current=e.matches;e.addEventListener("change",t),t()}else Sv.current=!1}const wz=new WeakMap;function bz(e,t,n){for(const i in t){const s=t[i],a=n[i];if(zi(s))e.addValue(i,s);else if(zi(a))e.addValue(i,bc(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=e.getStaticValue(i);e.addValue(i,bc(u!==void 0?u:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Sx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Tz{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=hr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ln.render(this.render,!1,!0))};const{latestValues:p,renderState:m}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=f,this.blockInitialAnimation=!!a,this.isControllingVariants=Zm(n),this.isVariantNode=TI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in w){const S=w[T];p[T]!==void 0&&zi(S)&&S.set(p[T])}}mount(t){this.current=t,wz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),VI.current||vz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),nl(this.notifyUpdate),nl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Nc.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ln.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Tc){const n=Tc[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):On()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Sx.length;i++){const s=Sx[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=t[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=bz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=bc(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(IC(i)||kC(i))?i=parseFloat(i):!D4(i)&&il.test(n)&&(i=fI(t,n)),this.setBaseTarget(t,zi(i)?i.get():i)),zi(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=o0(this.props,n,this.presenceContext?.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!zi(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Nw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Xw.render(this.render)}}class zI extends Tz{constructor(){super(...arguments),this.KeyframeResolver=w4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function UI(e,{style:t,vars:n},i,s){const a=e.style;let u;for(u in t)a[u]=t[u];s?.applyProjectionStyles(a,i);for(u in n)a.setProperty(u,n[u])}function Ez(e){return window.getComputedStyle(e)}class Sz extends zI{constructor(){super(...arguments),this.type="html",this.renderInstance=UI}readValueFromInstance(t,n){if(Nc.has(n))return this.projection?.isProjecting?mv(n):UV(t,n);{const i=Ez(t),s=(Uw(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return NI(t,n)}build(t,n,i){i0(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return a0(t,n,i)}}const BI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xz(e,t,n,i){UI(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(BI.has(s)?s:l0(s),t.attrs[s])}class Az extends zI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=On}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Nc.has(n)){const i=hI(n);return i&&i.default||0}return n=BI.has(n)?n:l0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return II(t,n,i)}build(t,n,i){xI(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){xz(t,n,i,s)}mount(t){this.isSVGTag=RI(t.tagName),super.mount(t)}}const Rz=(e,t)=>s0(e)?new Az(t):new Sz(t,{allowProjection:e!==U.Fragment});function fc(e,t,n){const i=e.getProps();return o0(i,t,n!==void 0?n:i.custom,e)}const xv=e=>Array.isArray(e);function Cz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,bc(n))}function Iz(e){return xv(e)?e[e.length-1]||0:e}function Pz(e,t){const n=fc(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const u in a){const f=Iz(a[u]);Cz(e,u,f)}}function kz(e){return!!(zi(e)&&e.add)}function Av(e,t){const n=e.getValue("willChange");if(kz(n))return n.add(t);if(!n&&Zo.WillChange){const i=new Zo.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function jI(e){return e.props[PI]}const Dz=e=>e!==null;function Mz(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(Dz),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[a]}const Oz={type:"spring",stiffness:500,damping:25,restSpeed:10},Lz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Nz={type:"keyframes",duration:.8},Vz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zz=(e,{keyframes:t})=>t.length>2?Nz:Nc.has(e)?e.startsWith("scale")?Lz(t[1]):Oz:Vz;function Uz({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:f,from:p,elapsed:m,...y}){return!!Object.keys(y).length}const u0=(e,t,n,i={},s,a)=>u=>{const f=$w(i,e)||{},p=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-no(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-m,onUpdate:T=>{t.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:a?void 0:s};Uz(f)||Object.assign(y,zz(e,y)),y.duration&&(y.duration=no(y.duration)),y.repeatDelay&&(y.repeatDelay=no(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let w=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(wv(y),y.delay===0&&(w=!0)),(Zo.instantAnimations||Zo.skipAnimations)&&(w=!0,wv(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,w&&!a&&t.get()!==void 0){const T=Mz(y.keyframes,f);if(T!==void 0){ln.update(()=>{y.onUpdate(T),y.onComplete()});return}}return f.isSync?new Zw(y):new l4(y)};function Bz({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function FI(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:u,...f}=t;i&&(a=i);const p=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const y in f){const w=e.getValue(y,e.latestValues[y]??null),T=f[y];if(T===void 0||m&&Bz(m,y))continue;const S={delay:n,...$w(a||{},y)},D=w.get();if(D!==void 0&&!w.isAnimating&&!Array.isArray(T)&&T===D&&!S.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const j=jI(e);if(j){const Z=window.MotionHandoffAnimation(j,y,ln);Z!==null&&(S.startTime=Z,V=!0)}}Av(e,y),w.start(u0(y,w,T,e.shouldReduceMotion&&lI.has(y)?{type:!1}:S,e,V));const F=w.animation;F&&p.push(F)}return u&&Promise.all(p).then(()=>{ln.update(()=>{u&&Pz(e,u)})}),p}function HI(e,t,n,i=0,s=1){const a=Array.from(e).sort((m,y)=>m.sortNodePosition(y)).indexOf(t),u=e.size,f=(u-1)*i;return typeof n=="function"?n(a,u):s===1?a*i:f-a*i}function Rv(e,t,n={}){const i=fc(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(FI(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:w}=s;return jz(e,t,p,m,y,w,n)}:()=>Promise.resolve(),{when:f}=s;if(f){const[p,m]=f==="beforeChildren"?[a,u]:[u,a];return p().then(()=>m())}else return Promise.all([a(),u(n.delay)])}function jz(e,t,n=0,i=0,s=0,a=1,u){const f=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),f.push(Rv(p,t,{...u,delay:n+(typeof i=="function"?0:i)+HI(e.variantChildren,p,i,s,a)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(f)}function Fz(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>Rv(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=Rv(e,t,n);else{const s=typeof t=="function"?fc(e,t,n.custom):t;i=Promise.all(FI(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function qI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const Hz=n0.length;function GI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?GI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Hz;n++){const i=n0[n],s=e.props[i];(Mf(s)||s===!1)&&(t[i]=s)}return t}const qz=[...e0].reverse(),Gz=e0.length;function Wz(e){return t=>Promise.all(t.map(({animation:n,options:i})=>Fz(e,n,i)))}function Zz(e){let t=Wz(e),n=xx(),i=!0;const s=p=>(m,y)=>{const w=fc(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(w){const{transition:T,transitionEnd:S,...D}=w;m={...m,...D,...S}}return m};function a(p){t=p(e)}function u(p){const{props:m}=e,y=GI(e.parent)||{},w=[],T=new Set;let S={},D=1/0;for(let F=0;F<Gz;F++){const j=qz[F],Z=n[j],q=m[j]!==void 0?m[j]:y[j],nt=Mf(q),X=j===p?Z.isActive:null;X===!1&&(D=F);let Y=q===y[j]&&q!==m[j]&&nt;if(Y&&i&&e.manuallyAnimateOnMount&&(Y=!1),Z.protectedKeys={...S},!Z.isActive&&X===null||!q&&!Z.prevProp||Wm(q)||typeof q=="boolean")continue;const H=Kz(Z.prevProp,q);let I=H||j===p&&Z.isActive&&!Y&&nt||F>D&&nt,M=!1;const K=Array.isArray(q)?q:[q];let N=K.reduce(s(j),{});X===!1&&(N={});const{prevResolvedValues:k={}}=Z,O={...k,...N},rt=it=>{I=!0,T.has(it)&&(M=!0,T.delete(it)),Z.needsAnimating[it]=!0;const ot=e.getValue(it);ot&&(ot.liveStyle=!1)};for(const it in O){const ot=N[it],Ct=k[it];if(S.hasOwnProperty(it))continue;let R=!1;xv(ot)&&xv(Ct)?R=!qI(ot,Ct):R=ot!==Ct,R?ot!=null?rt(it):T.add(it):ot!==void 0&&T.has(it)?rt(it):Z.protectedKeys[it]=!0}Z.prevProp=q,Z.prevResolvedValues=N,Z.isActive&&(S={...S,...N}),i&&e.blockInitialAnimation&&(I=!1);const $=Y&&H;I&&(!$||M)&&w.push(...K.map(it=>{const ot={type:j};if(typeof it=="string"&&i&&!$&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,R=fc(Ct,it);if(Ct.enteringChildren&&R){const{delayChildren:ct}=R.transition||{};ot.delay=HI(Ct.enteringChildren,e,ct)}}return{animation:it,options:ot}}))}if(T.size){const F={};if(typeof m.initial!="boolean"){const j=fc(e,Array.isArray(m.initial)?m.initial[0]:m.initial);j&&j.transition&&(F.transition=j.transition)}T.forEach(j=>{const Z=e.getBaseTarget(j),q=e.getValue(j);q&&(q.liveStyle=!0),F[j]=Z??null}),w.push({animation:F})}let V=!!w.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(V=!1),i=!1,V?t(w):Promise.resolve()}function f(p,m){if(n[p].isActive===m)return Promise.resolve();e.variantChildren?.forEach(w=>w.animationState?.setActive(p,m)),n[p].isActive=m;const y=u(p);for(const w in n)n[w].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:a,getState:()=>n,reset:()=>{n=xx(),i=!0}}}function Kz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!qI(t,e):!1}function Wl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xx(){return{animate:Wl(!0),whileInView:Wl(),whileHover:Wl(),whileTap:Wl(),whileDrag:Wl(),whileFocus:Wl(),exit:Wl()}}class dl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class $z extends dl{constructor(t){super(t),t.animationState||(t.animationState=Zz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Yz=0;class Xz extends dl{constructor(){super(...arguments),this.id=Yz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Qz={animation:{Feature:$z},exit:{Feature:Xz}};function Lf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function rd(e){return{point:{x:e.pageX,y:e.pageY}}}const Jz=e=>t=>Qw(t)&&e(t,rd(t));function df(e,t,n,i){return Lf(e,t,Jz(n),i)}const WI=1e-4,tU=1-WI,eU=1+WI,ZI=.01,nU=0-ZI,iU=0+ZI;function Xi(e){return e.max-e.min}function rU(e,t,n){return Math.abs(e-t)<=n}function Ax(e,t,n,i=.5){e.origin=i,e.originPoint=mn(t.min,t.max,e.origin),e.scale=Xi(n)/Xi(t),e.translate=mn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=tU&&e.scale<=eU||isNaN(e.scale))&&(e.scale=1),(e.translate>=nU&&e.translate<=iU||isNaN(e.translate))&&(e.translate=0)}function pf(e,t,n,i){Ax(e.x,t.x,n.x,i?i.originX:void 0),Ax(e.y,t.y,n.y,i?i.originY:void 0)}function Rx(e,t,n){e.min=n.min+t.min,e.max=e.min+Xi(t)}function sU(e,t,n){Rx(e.x,t.x,n.x),Rx(e.y,t.y,n.y)}function Cx(e,t,n){e.min=t.min-n.min,e.max=e.min+Xi(t)}function mf(e,t,n){Cx(e.x,t.x,n.x),Cx(e.y,t.y,n.y)}function ss(e){return[e("x"),e("y")]}const KI=({current:e})=>e?e.ownerDocument.defaultView:null,Ix=(e,t)=>Math.abs(e-t);function oU(e,t){const n=Ix(e.x,t.x),i=Ix(e.y,t.y);return Math.sqrt(n**2+i**2)}class $I{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=__(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,D=oU(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!D)return;const{point:V}=T,{timestamp:F}=Si;this.history.push({...V,timestamp:F});const{onStart:j,onMove:Z}=this.handlers;S||(j&&j(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),Z&&Z(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=y_(S,this.transformPagePoint),ln.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:D,onSessionEnd:V,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=__(T.type==="pointercancel"?this.lastMoveEventInfo:y_(S,this.transformPagePoint),this.history);this.startEvent&&D&&D(T,j),V&&V(T,j)},!Qw(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=s||window;const f=rd(t),p=y_(f,this.transformPagePoint),{point:m}=p,{timestamp:y}=Si;this.history=[{...m,timestamp:y}];const{onSessionStart:w}=n;w&&w(t,__(p,this.history)),this.removeListeners=ed(df(this.contextWindow,"pointermove",this.handlePointerMove),df(this.contextWindow,"pointerup",this.handlePointerUp),df(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nl(this.updatePoint)}}function y_(e,t){return t?{point:t(e.point)}:e}function Px(e,t){return{x:e.x-t.x,y:e.y-t.y}}function __({point:e},t){return{point:e,delta:Px(e,YI(t)),offset:Px(e,aU(t)),velocity:lU(t,.1)}}function aU(e){return e[0]}function YI(e){return e[e.length-1]}function lU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=YI(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>no(t)));)n--;if(!i)return{x:0,y:0};const a=io(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function uU(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?mn(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?mn(n,e,i.max):Math.min(e,n)),e}function kx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function cU(e,{top:t,left:n,bottom:i,right:s}){return{x:kx(e.x,n,s),y:kx(e.y,t,i)}}function Dx(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function hU(e,t){return{x:Dx(e.x,t.x),y:Dx(e.y,t.y)}}function fU(e,t){let n=.5;const i=Xi(e),s=Xi(t);return s>i?n=Pf(t.min,t.max-i,e.min):i>s&&(n=Pf(e.min,e.max-s,t.min)),Wo(0,1,n)}function dU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Cv=.35;function pU(e=Cv){return e===!1?e=0:e===!0&&(e=Cv),{x:Mx(e,"left","right"),y:Mx(e,"top","bottom")}}function Mx(e,t,n){return{min:Ox(e,t),max:Ox(e,n)}}function Ox(e,t){return typeof e=="number"?e:e[t]||0}const mU=new WeakMap;class gU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=On(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rd(w).point)},u=(w,T)=>{const{drag:S,dragPropagation:D,onDragStart:V}=this.getProps();if(S&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=S4(S),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(j=>{let Z=this.getAxisMotionValue(j).get()||0;if(ro.test(Z)){const{projection:q}=this.visualElement;if(q&&q.layout){const nt=q.layout.layoutBox[j];nt&&(Z=Xi(nt)*(parseFloat(Z)/100))}}this.originPoint[j]=Z}),V&&ln.postRender(()=>V(w,T)),Av(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},f=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T;const{dragPropagation:S,dragDirectionLock:D,onDirectionLock:V,onDrag:F}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:j}=T;if(D&&this.currentDirection===null){this.currentDirection=yU(j),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",T.point,j),this.updateAxis("y",T.point,j),this.visualElement.render(),F&&F(w,T)},p=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T,this.stop(w,T),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ss(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new $I(t,{onSessionStart:a,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:KI(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&ln.postRender(()=>f(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!Rp(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=uU(u,this.constraints[t],this.elastic[t])),a.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&oc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=cU(i.layoutBox,t):this.constraints=!1,this.elastic=pU(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ss(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=dU(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!oc(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=_z(i,s.root,this.visualElement.getTransformPagePoint());let u=hU(s.layout.layoutBox,a);if(n){const f=n(mz(u));this.hasMutatedConstraints=!!f,f&&(u=MI(f))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},m=ss(y=>{if(!Rp(y,n,this.currentDirection))return;let w=p&&p[y]||{};u&&(w={min:0,max:0});const T=s?200:1e6,S=s?40:1e7,D={type:"inertia",velocity:i?t[y]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(y,D)});return Promise.all(m).then(f)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Av(this.visualElement,t),i.start(u0(t,i,0,n,this.visualElement,!1))}stopAnimation(){ss(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ss(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ss(n=>{const{drag:i}=this.getProps();if(!Rp(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:f}=s.layout.layoutBox[n];a.set(t[n]-mn(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!oc(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ss(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();s[u]=fU({min:p,max:p},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ss(u=>{if(!Rp(u,t,null))return;const f=this.getAxisMotionValue(u),{min:p,max:m}=this.constraints[u];f.set(mn(p,m,s[u]))})}addListeners(){if(!this.visualElement.current)return;mU.set(this.visualElement,this);const t=this.visualElement.current,n=df(t,"pointerdown",p=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();oc(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ln.read(i);const u=Lf(window,"resize",()=>this.scalePositionWithinConstraints()),f=s.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(ss(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=p[y].translate,w.set(w.get()+p[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=Cv,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:f}}}function Rp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class _U extends dl{constructor(t){super(t),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new gU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lx=e=>(t,n)=>{e&&ln.postRender(()=>e(t,n))};class vU extends dl{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(t){this.session=new $I(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Lx(t),onStart:Lx(n),onMove:i,onEnd:(a,u)=>{delete this.session,s&&ln.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=df(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Qt.test(e))e=parseFloat(e);else return e;const n=Nx(e,t.target.x),i=Nx(e,t.target.y);return`${n}% ${i}%`}},wU={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=il.parse(e);if(s.length>5)return i;const a=il.createTransformer(e),u=typeof s[0]!="number"?1:0,f=n.x.scale*t.x,p=n.y.scale*t.y;s[0+u]/=f,s[1+u]/=p;const m=mn(f,p,.5);return typeof s[2+u]=="number"&&(s[2+u]/=m),typeof s[3+u]=="number"&&(s[3+u]/=m),a(s)}};let v_=!1;class bU extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;H4(TU),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),v_&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Zp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,v_=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?u.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?u.promote():u.relegate()||ln.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Xw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;v_=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function XI(e){const[t,n]=vI(),i=U.useContext(Iw);return tt.jsx(bU,{...e,layoutGroup:i,switchLayoutGroup:U.useContext(kI),isPresent:t,safeToRemove:n})}const TU={borderRadius:{...Bh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bh,borderTopRightRadius:Bh,borderBottomLeftRadius:Bh,borderBottomRightRadius:Bh,boxShadow:wU};function EU(e,t,n){const i=zi(e)?e:bc(e);return i.start(u0("",i,t,n)),i.animation}const SU=(e,t)=>e.depth-t.depth;class xU{constructor(){this.children=[],this.isDirty=!1}add(t){Dw(this.children,t),this.isDirty=!0}remove(t){Mw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SU),this.isDirty=!1,this.children.forEach(t)}}function AU(e,t){const n=hr.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(nl(i),e(a-t))};return ln.setup(i,!0),()=>nl(i)}const QI=["TopLeft","TopRight","BottomLeft","BottomRight"],RU=QI.length,Vx=e=>typeof e=="string"?parseFloat(e):e,zx=e=>typeof e=="number"||Qt.test(e);function CU(e,t,n,i,s,a){s?(e.opacity=mn(0,n.opacity??1,IU(i)),e.opacityExit=mn(t.opacity??1,0,PU(i))):a&&(e.opacity=mn(t.opacity??1,n.opacity??1,i));for(let u=0;u<RU;u++){const f=`border${QI[u]}Radius`;let p=Ux(t,f),m=Ux(n,f);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||zx(p)===zx(m)?(e[f]=Math.max(mn(Vx(p),Vx(m),i),0),(ro.test(m)||ro.test(p))&&(e[f]+="%")):e[f]=m}(t.rotate||n.rotate)&&(e.rotate=mn(t.rotate||0,n.rotate||0,i))}function Ux(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const IU=JI(0,.5,UC),PU=JI(.5,.95,cs);function JI(e,t,n){return i=>i<e?0:i>t?1:n(Pf(e,t,i))}function Bx(e,t){e.min=t.min,e.max=t.max}function rs(e,t){Bx(e.x,t.x),Bx(e.y,t.y)}function jx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Fx(e,t,n,i,s){return e-=t,e=pm(e,1/n,i),s!==void 0&&(e=pm(e,1/s,i)),e}function kU(e,t=0,n=1,i=.5,s,a=e,u=e){if(ro.test(t)&&(t=parseFloat(t),t=mn(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=mn(a.min,a.max,i);e===a&&(f-=t),e.min=Fx(e.min,t,n,f,s),e.max=Fx(e.max,t,n,f,s)}function Hx(e,t,[n,i,s],a,u){kU(e,t[n],t[i],t[s],t.scale,a,u)}const DU=["x","scaleX","originX"],MU=["y","scaleY","originY"];function qx(e,t,n,i){Hx(e.x,t,DU,n?n.x:void 0,i?i.x:void 0),Hx(e.y,t,MU,n?n.y:void 0,i?i.y:void 0)}function Gx(e){return e.translate===0&&e.scale===1}function tP(e){return Gx(e.x)&&Gx(e.y)}function Wx(e,t){return e.min===t.min&&e.max===t.max}function OU(e,t){return Wx(e.x,t.x)&&Wx(e.y,t.y)}function Zx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function eP(e,t){return Zx(e.x,t.x)&&Zx(e.y,t.y)}function Kx(e){return Xi(e.x)/Xi(e.y)}function $x(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class LU{constructor(){this.members=[]}add(t){Dw(this.members,t),t.scheduleRender()}remove(t){if(Mw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NU(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,u=n?.z||0;if((s||a||u)&&(i=`translate3d(${s}px, ${a}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:w,rotateY:T,skewX:S,skewY:D}=n;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),w&&(i+=`rotateX(${w}deg) `),T&&(i+=`rotateY(${T}deg) `),S&&(i+=`skewX(${S}deg) `),D&&(i+=`skewY(${D}deg) `)}const f=e.x.scale*t.x,p=e.y.scale*t.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const w_=["","X","Y","Z"],VU=1e3;let zU=0;function b_(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function nP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=jI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ln,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&nP(i)}function iP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},f=t?.()){this.id=zU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jU),this.nodes.forEach(GU),this.nodes.forEach(WU),this.nodes.forEach(FU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new xU)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Nw),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=_I(u)&&!P4(u),this.instance=u;const{layoutId:f,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),e){let y,w=0;const T=()=>this.root.updateBlockedByResize=!1;ln.read(()=>{w=window.innerWidth}),e(u,()=>{const S=window.innerWidth;S!==w&&(w=S,this.root.updateBlockedByResize=!0,y&&y(),y=AU(T,250),Zp.hasAnimatedSinceResize&&(Zp.hasAnimatedSinceResize=!1,this.nodes.forEach(Qx)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||m.getDefaultTransition()||XU,{onLayoutAnimationStart:V,onLayoutAnimationComplete:F}=m.getProps(),j=!this.targetLayout||!eP(this.targetLayout,S),Z=!w&&T;if(this.options.layoutRoot||this.resumeFrom||Z||w&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...$w(D,"layout"),onPlay:V,onComplete:F};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,Z)}else w||Qx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),nl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Xx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qU),this.nodes.forEach(UU),this.nodes.forEach(BU)):this.nodes.forEach(Xx),this.clearAllSnapshots();const f=hr.now();Si.delta=Wo(0,1e3/60,f-Si.timestamp),Si.timestamp=f,Si.isProcessing=!0,u_.update.process(Si),u_.preRender.process(Si),u_.render.process(Si),Si.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HU),this.sharedNodes.forEach(KU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xi(this.snapshot.measuredBox.x)&&!Xi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=On(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!tP(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(f||Zl(this.latestValues)||y)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),QU(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return On();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(JU))){const{scroll:m}=this.root;m&&(ac(f.x,m.offset.x),ac(f.y,m.offset.y))}return f}removeElementScroll(u){const f=On();if(rs(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:w}=m;m!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&rs(f,u),ac(f.x,y.offset.x),ac(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const p=On();rs(p,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&lc(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Zl(y.latestValues)&&lc(p,y.latestValues)}return Zl(this.latestValues)&&lc(p,this.latestValues),p}removeTransform(u){const f=On();rs(f,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Zl(m.latestValues))continue;Tv(m.latestValues)&&m.updateSnapshot();const y=On(),w=m.measurePageBox();rs(y,w),qx(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Zl(this.latestValues)&&qx(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Si.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=Si.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=On(),this.relativeTargetOrigin=On(),mf(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=On(),this.targetWithTransforms=On()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rs(this.target,this.layout.layoutBox),LI(this.target,this.targetDelta)):rs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=On(),this.relativeTargetOrigin=On(),mf(this.relativeTargetOrigin,this.target,T.target),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tv(this.parent.latestValues)||OI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Si.timestamp&&(p=!1),p)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;rs(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;yz(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=On());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jx(this.prevProjectionDelta.x,this.projectionDelta.x),jx(this.prevProjectionDelta.y,this.projectionDelta.y)),pf(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!$x(this.projectionDelta.x,this.prevProjectionDelta.x)||!$x(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uc(),this.projectionDelta=uc(),this.projectionDeltaWithTransform=uc()}setAnimationOrigin(u,f=!1){const p=this.snapshot,m=p?p.latestValues:{},y={...this.latestValues},w=uc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=On(),S=p?p.source:void 0,D=this.layout?this.layout.source:void 0,V=S!==D,F=this.getStack(),j=!F||F.members.length<=1,Z=!!(V&&!j&&this.options.crossfade===!0&&!this.path.some(YU));this.animationProgress=0;let q;this.mixTargetDelta=nt=>{const X=nt/1e3;Jx(w.x,u.x,X),Jx(w.y,u.y,X),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mf(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$U(this.relativeTarget,this.relativeTargetOrigin,T,X),q&&OU(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=On()),rs(q,this.relativeTarget)),V&&(this.animationValues=y,CU(y,m,this.latestValues,X,Z,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(nl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ln.update(()=>{Zp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bc(0)),this.currentAnimation=EU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:m,latestValues:y}=u;if(!(!f||!p||!m)){if(this!==u&&this.layout&&m&&rP(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||On();const w=Xi(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+w;const T=Xi(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+T}rs(f,p),lc(f,y),pf(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new LU),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const m={};p.z&&b_("z",u,m,this.animationValues);for(let y=0;y<w_.length;y++)b_(`rotate${w_[y]}`,u,m,this.animationValues),b_(`skew${w_[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Wp(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Wp(f?.pointerEvents)||""),this.hasProjected&&!Zl(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let w=NU(this.projectionDeltaWithTransform,this.treeScale,y);p&&(w=p(y,w)),u.transform=w;const{x:T,y:S}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Of){if(y[D]===void 0)continue;const{correct:V,applyTo:F,isCSSVariable:j}=Of[D],Z=w==="none"?y[D]:V(y[D],m);if(F){const q=F.length;for(let nt=0;nt<q;nt++)u[F[nt]]=Z}else j?this.options.visualElement.renderState.vars[D]=Z:u[D]=Z}this.options.layoutId&&(u.pointerEvents=m===this?Wp(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Yx),this.root.sharedNodes.clear()}}}function UU(e){e.updateLayout()}function BU(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?ss(y=>{const w=a?t.measuredBox[y]:t.layoutBox[y],T=Xi(w);w.min=n[y].min,w.max=w.min+T}):rP(s,t.layoutBox,n)&&ss(y=>{const w=a?t.measuredBox[y]:t.layoutBox[y],T=Xi(n[y]);w.max=w.min+T,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+T)});const u=uc();pf(u,n,t.layoutBox);const f=uc();a?pf(f,e.applyTransform(i,!0),t.measuredBox):pf(f,n,t.layoutBox);const p=!tP(u);let m=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:T}=y;if(w&&T){const S=On();mf(S,t.layoutBox,w.layoutBox);const D=On();mf(D,n,T.layoutBox),eP(S,D)||(m=!0),y.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function jU(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function FU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function HU(e){e.clearSnapshot()}function Yx(e){e.clearMeasurements()}function Xx(e){e.isLayoutDirty=!1}function qU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Qx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function GU(e){e.resolveTargetDelta()}function WU(e){e.calcProjection()}function ZU(e){e.resetSkewAndRotation()}function KU(e){e.removeLeadSnapshot()}function Jx(e,t,n){e.translate=mn(t.translate,0,n),e.scale=mn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function t1(e,t,n,i){e.min=mn(t.min,n.min,i),e.max=mn(t.max,n.max,i)}function $U(e,t,n,i){t1(e.x,t.x,n.x,i),t1(e.y,t.y,n.y,i)}function YU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const XU={duration:.45,ease:[.4,0,.1,1]},e1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),n1=e1("applewebkit/")&&!e1("chrome/")?Math.round:cs;function i1(e){e.min=n1(e.min),e.max=n1(e.max)}function QU(e){i1(e.x),i1(e.y)}function rP(e,t,n){return e==="position"||e==="preserve-aspect"&&!rU(Kx(t),Kx(n),.2)}function JU(e){return e!==e.root&&e.scroll?.wasRoot}const tB=iP({attachResizeListener:(e,t)=>Lf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),T_={current:void 0},sP=iP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!T_.current){const e=new tB({});e.mount(window),e.setOptions({layoutScroll:!0}),T_.current=e}return T_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),eB={pan:{Feature:vU},drag:{Feature:_U,ProjectionNode:sP,MeasureLayout:XI}};function r1(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&ln.postRender(()=>a(t,rd(t)))}class nB extends dl{mount(){const{current:t}=this.node;t&&(this.unmount=x4(t,(n,i)=>(r1(this.node,i,"Start"),s=>r1(this.node,s,"End"))))}unmount(){}}class iB extends dl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ed(Lf(this.node.current,"focus",()=>this.onFocus()),Lf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s1(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&ln.postRender(()=>a(t,rd(t)))}class rB extends dl{mount(){const{current:t}=this.node;t&&(this.unmount=I4(t,(n,i)=>(s1(this.node,i,"Start"),(s,{success:a})=>s1(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Iv=new WeakMap,E_=new WeakMap,sB=e=>{const t=Iv.get(e.target);t&&t(e)},oB=e=>{e.forEach(sB)};function aB({root:e,...t}){const n=e||document;E_.has(n)||E_.set(n,{});const i=E_.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(oB,{root:e,...t})),i[s]}function lB(e,t,n){const i=aB(t);return Iv.set(e,n),i.observe(e),()=>{Iv.delete(e),i.unobserve(e)}}const uB={some:0,all:1};class cB extends dl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:uB[s]},f=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),T=m?y:w;T&&T(p)};return lB(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(hB(t,n))&&this.startObserver()}unmount(){}}function hB({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const fB={inView:{Feature:cB},tap:{Feature:rB},focus:{Feature:iB},hover:{Feature:nB}},dB={layout:{ProjectionNode:sP,MeasureLayout:XI}},pB={...Qz,...fB,...eB,...dB},Yi=pz(pB,Rz);function mB(){return tt.jsxs("div",{className:"flex flex-col items-center justify-center text-center w-full max-w-2xl mx-auto font-sans mt-16",children:[tt.jsx(Yi.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-extrabold text-text",children:"Willkommen auf meiner Reise"}),tt.jsx(Yi.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-4 text-lg text-text/80",children:"Ein Portal voller Briefe und ein Reisetagebuch aus Porto."}),tt.jsxs(Yi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mt-10 flex flex-col sm:flex-row gap-4",children:[tt.jsxs(am,{to:"/blog",className:"flex items-center justify-center gap-2 px-8 py-3 bg-primary text-white font-bold rounded-full shadow-lg hover:bg-primary/90 transition-transform transform active:scale-95",children:[tt.jsx(lm,{size:20}),tt.jsx("span",{children:"Blog ansehen"})]}),tt.jsxs(am,{to:"/login",className:"flex items-center justify-center gap-2 px-8 py-3 bg-white text-primary font-bold rounded-full shadow-lg hover:bg-gray-100 transition-transform transform active:scale-95 border border-subtle",children:[tt.jsx(xC,{size:20}),tt.jsx("span",{children:"Login"})]})]})]})}function gB(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const yB=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_B=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vB={};function o1(e,t){return(vB.jsx?_B:yB).test(e)}const wB=/[ \t\n\f\r]/g;function bB(e){return typeof e=="object"?e.type==="text"?a1(e.value):!1:a1(e)}function a1(e){return e.replace(wB,"")===""}class sd{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}sd.prototype.normal={};sd.prototype.property={};sd.prototype.space=void 0;function oP(e,t){const n={},i={};for(const s of e)Object.assign(n,s.property),Object.assign(i,s.normal);return new sd(n,i,t)}function Pv(e){return e.toLowerCase()}class dr{constructor(t,n){this.attribute=n,this.property=t}}dr.prototype.attribute="";dr.prototype.booleanish=!1;dr.prototype.boolean=!1;dr.prototype.commaOrSpaceSeparated=!1;dr.prototype.commaSeparated=!1;dr.prototype.defined=!1;dr.prototype.mustUseProperty=!1;dr.prototype.number=!1;dr.prototype.overloadedBoolean=!1;dr.prototype.property="";dr.prototype.spaceSeparated=!1;dr.prototype.space=void 0;let TB=0;const ae=uu(),Gn=uu(),kv=uu(),It=uu(),Xe=uu(),dc=uu(),Vr=uu();function uu(){return 2**++TB}const Dv=Object.freeze(Object.defineProperty({__proto__:null,boolean:ae,booleanish:Gn,commaOrSpaceSeparated:Vr,commaSeparated:dc,number:It,overloadedBoolean:kv,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),S_=Object.keys(Dv);class c0 extends dr{constructor(t,n,i,s){let a=-1;if(super(t,n),l1(this,"space",s),typeof i=="number")for(;++a<S_.length;){const u=S_[a];l1(this,S_[a],(i&Dv[u])===Dv[u])}}}c0.prototype.defined=!0;function l1(e,t,n){n&&(e[t]=n)}function Vc(e){const t={},n={};for(const[i,s]of Object.entries(e.properties)){const a=new c0(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),t[i]=a,n[Pv(i)]=i,n[Pv(a.attribute)]=i}return new sd(t,n,e.space)}const aP=Vc({properties:{ariaActiveDescendant:null,ariaAtomic:Gn,ariaAutoComplete:null,ariaBusy:Gn,ariaChecked:Gn,ariaColCount:It,ariaColIndex:It,ariaColSpan:It,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:Gn,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:Gn,ariaFlowTo:Xe,ariaGrabbed:Gn,ariaHasPopup:null,ariaHidden:Gn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:It,ariaLive:null,ariaModal:Gn,ariaMultiLine:Gn,ariaMultiSelectable:Gn,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:It,ariaPressed:Gn,ariaReadOnly:Gn,ariaRelevant:null,ariaRequired:Gn,ariaRoleDescription:Xe,ariaRowCount:It,ariaRowIndex:It,ariaRowSpan:It,ariaSelected:Gn,ariaSetSize:It,ariaSort:null,ariaValueMax:It,ariaValueMin:It,ariaValueNow:It,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function lP(e,t){return t in e?e[t]:t}function uP(e,t){return lP(e,t.toLowerCase())}const EB=Vc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:dc,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:ae,allowPaymentRequest:ae,allowUserMedia:ae,alt:null,as:null,async:ae,autoCapitalize:null,autoComplete:Xe,autoFocus:ae,autoPlay:ae,blocking:Xe,capture:null,charSet:null,checked:ae,cite:null,className:Xe,cols:It,colSpan:null,content:null,contentEditable:Gn,controls:ae,controlsList:Xe,coords:It|dc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ae,defer:ae,dir:null,dirName:null,disabled:ae,download:kv,draggable:Gn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ae,formTarget:null,headers:Xe,height:It,hidden:kv,high:It,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:ae,inputMode:null,integrity:null,is:null,isMap:ae,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:ae,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ae,low:It,manifest:null,max:null,maxLength:It,media:null,method:null,min:null,minLength:It,multiple:ae,muted:ae,name:null,nonce:null,noModule:ae,noValidate:ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ae,optimum:It,pattern:null,ping:Xe,placeholder:null,playsInline:ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ae,referrerPolicy:null,rel:Xe,required:ae,reversed:ae,rows:It,rowSpan:It,sandbox:Xe,scope:null,scoped:ae,seamless:ae,selected:ae,shadowRootClonable:ae,shadowRootDelegatesFocus:ae,shadowRootMode:null,shape:null,size:It,sizes:null,slot:null,span:It,spellCheck:Gn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:It,step:null,style:null,tabIndex:It,target:null,title:null,translate:null,type:null,typeMustMatch:ae,useMap:null,value:Gn,width:It,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:It,borderColor:null,bottomMargin:It,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ae,declare:ae,event:null,face:null,frame:null,frameBorder:null,hSpace:It,leftMargin:It,link:null,longDesc:null,lowSrc:null,marginHeight:It,marginWidth:It,noResize:ae,noHref:ae,noShade:ae,noWrap:ae,object:null,profile:null,prompt:null,rev:null,rightMargin:It,rules:null,scheme:null,scrolling:Gn,standby:null,summary:null,text:null,topMargin:It,valueType:null,version:null,vAlign:null,vLink:null,vSpace:It,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ae,disableRemotePlayback:ae,prefix:null,property:null,results:It,security:null,unselectable:null},space:"html",transform:uP}),SB=Vc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Vr,accentHeight:It,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:It,amplitude:It,arabicForm:null,ascent:It,attributeName:null,attributeType:null,azimuth:It,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:It,by:null,calcMode:null,capHeight:It,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:It,diffuseConstant:It,direction:null,display:null,dur:null,divisor:It,dominantBaseline:null,download:ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:It,enableBackground:null,end:null,event:null,exponent:It,externalResourcesRequired:null,fill:null,fillOpacity:It,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:dc,g2:dc,glyphName:dc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:It,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:It,horizOriginX:It,horizOriginY:It,id:null,ideographic:It,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:It,k:It,k1:It,k2:It,k3:It,k4:It,kernelMatrix:Vr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:It,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:It,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:It,overlineThickness:It,paintOrder:null,panose1:null,path:null,pathLength:It,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:It,pointsAtY:It,pointsAtZ:It,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vr,rev:Vr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vr,requiredFeatures:Vr,requiredFonts:Vr,requiredFormats:Vr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:It,specularExponent:It,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:It,strikethroughThickness:It,string:null,stroke:null,strokeDashArray:Vr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:It,strokeOpacity:It,strokeWidth:null,style:null,surfaceScale:It,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vr,tabIndex:It,tableValues:null,target:null,targetX:It,targetY:It,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:It,underlineThickness:It,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:It,values:null,vAlphabetic:It,vMathematical:It,vectorEffect:null,vHanging:It,vIdeographic:It,version:null,vertAdvY:It,vertOriginX:It,vertOriginY:It,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:It,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lP}),cP=Vc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),hP=Vc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:uP}),fP=Vc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),xB={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},AB=/[A-Z]/g,u1=/-[a-z]/g,RB=/^data[-\w.:]+$/i;function CB(e,t){const n=Pv(t);let i=t,s=dr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&RB.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(u1,PB);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!u1.test(a)){let u=a.replace(AB,IB);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}s=c0}return new s(i,t)}function IB(e){return"-"+e.toLowerCase()}function PB(e){return e.charAt(1).toUpperCase()}const kB=oP([aP,EB,cP,hP,fP],"html"),h0=oP([aP,SB,cP,hP,fP],"svg");function DB(e){return e.join(" ").trim()}var Qu={},x_,c1;function MB(){if(c1)return x_;c1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,m="/",y="*",w="",T="comment",S="declaration";x_=function(V,F){if(typeof V!="string")throw new TypeError("First argument must be a string");if(!V)return[];F=F||{};var j=1,Z=1;function q(O){var rt=O.match(t);rt&&(j+=rt.length);var $=O.lastIndexOf(p);Z=~$?O.length-$:Z+O.length}function nt(){var O={line:j,column:Z};return function(rt){return rt.position=new X(O),I(),rt}}function X(O){this.start=O,this.end={line:j,column:Z},this.source=F.source}X.prototype.content=V;function Y(O){var rt=new Error(F.source+":"+j+":"+Z+": "+O);if(rt.reason=O,rt.filename=F.source,rt.line=j,rt.column=Z,rt.source=V,!F.silent)throw rt}function H(O){var rt=O.exec(V);if(rt){var $=rt[0];return q($),V=V.slice($.length),rt}}function I(){H(n)}function M(O){var rt;for(O=O||[];rt=K();)rt!==!1&&O.push(rt);return O}function K(){var O=nt();if(!(m!=V.charAt(0)||y!=V.charAt(1))){for(var rt=2;w!=V.charAt(rt)&&(y!=V.charAt(rt)||m!=V.charAt(rt+1));)++rt;if(rt+=2,w===V.charAt(rt-1))return Y("End of comment missing");var $=V.slice(2,rt-2);return Z+=2,q($),V=V.slice(rt),Z+=2,O({type:T,comment:$})}}function N(){var O=nt(),rt=H(i);if(rt){if(K(),!H(s))return Y("property missing ':'");var $=H(a),et=O({type:S,property:D(rt[0].replace(e,w)),value:$?D($[0].replace(e,w)):w});return H(u),et}}function k(){var O=[];M(O);for(var rt;rt=N();)rt!==!1&&(O.push(rt),M(O));return O}return I(),k()};function D(V){return V?V.replace(f,w):w}return x_}var h1;function OB(){if(h1)return Qu;h1=1;var e=Qu&&Qu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.default=n;var t=e(MB());function n(i,s){var a=null;if(!i||typeof i!="string")return a;var u=(0,t.default)(i),f=typeof s=="function";return u.forEach(function(p){if(p.type==="declaration"){var m=p.property,y=p.value;f?s(m,y,p):y&&(a=a||{},a[m]=y)}}),a}return Qu}var jh={},f1;function LB(){if(f1)return jh;f1=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(m){return!m||n.test(m)||e.test(m)},u=function(m,y){return y.toUpperCase()},f=function(m,y){return"".concat(y,"-")},p=function(m,y){return y===void 0&&(y={}),a(m)?m:(m=m.toLowerCase(),y.reactCompat?m=m.replace(s,f):m=m.replace(i,f),m.replace(t,u))};return jh.camelCase=p,jh}var Fh,d1;function NB(){if(d1)return Fh;d1=1;var e=Fh&&Fh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(OB()),n=LB();function i(s,a){var u={};return!s||typeof s!="string"||(0,t.default)(s,function(f,p){f&&p&&(u[(0,n.camelCase)(f,a)]=p)}),u}return i.default=i,Fh=i,Fh}var VB=NB();const zB=Bm(VB),dP=pP("end"),f0=pP("start");function pP(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function UB(e){const t=f0(e),n=dP(e);if(t&&n)return{start:t,end:n}}function gf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?p1(e.position):"start"in e||"end"in e?p1(e):"line"in e||"column"in e?Mv(e):""}function Mv(e){return m1(e&&e.line)+":"+m1(e&&e.column)}function p1(e){return Mv(e&&e.start)+"-"+Mv(e&&e.end)}function m1(e){return e&&typeof e=="number"?e:1}class Bi extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",a={},u=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?s=t:!a.cause&&t&&(u=!0,s=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?a.ruleId=i:(a.source=i.slice(0,p),a.ruleId=i.slice(p+1))}if(!a.place&&a.ancestors&&a.ancestors){const p=a.ancestors[a.ancestors.length-1];p&&(a.place=p.position)}const f=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=f?f.line:void 0,this.name=gf(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=u&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Bi.prototype.file="";Bi.prototype.name="";Bi.prototype.reason="";Bi.prototype.message="";Bi.prototype.stack="";Bi.prototype.column=void 0;Bi.prototype.line=void 0;Bi.prototype.ancestors=void 0;Bi.prototype.cause=void 0;Bi.prototype.fatal=void 0;Bi.prototype.place=void 0;Bi.prototype.ruleId=void 0;Bi.prototype.source=void 0;const d0={}.hasOwnProperty,BB=new Map,jB=/[A-Z]/g,FB=new Set(["table","tbody","thead","tfoot","tr"]),HB=new Set(["td","th"]),mP="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qB(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=QB(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=XB(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?h0:kB,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=gP(s,e,void 0);return a&&typeof a!="string"?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function gP(e,t,n){if(t.type==="element")return GB(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return WB(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return KB(e,t,n);if(t.type==="mdxjsEsm")return ZB(e,t);if(t.type==="root")return $B(e,t,n);if(t.type==="text")return YB(e,t)}function GB(e,t,n){const i=e.schema;let s=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=h0,e.schema=s),e.ancestors.push(t);const a=_P(e,t.tagName,!1),u=JB(e,t);let f=m0(e,t);return FB.has(t.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!bB(p):!0})),yP(e,u,a,t),p0(u,f),e.ancestors.pop(),e.schema=i,e.create(t,a,u,n)}function WB(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Nf(e,t.position)}function ZB(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Nf(e,t.position)}function KB(e,t,n){const i=e.schema;let s=i;t.name==="svg"&&i.space==="html"&&(s=h0,e.schema=s),e.ancestors.push(t);const a=t.name===null?e.Fragment:_P(e,t.name,!0),u=t3(e,t),f=m0(e,t);return yP(e,u,a,t),p0(u,f),e.ancestors.pop(),e.schema=i,e.create(t,a,u,n)}function $B(e,t,n){const i={};return p0(i,m0(e,t)),e.create(t,e.Fragment,i,n)}function YB(e,t){return t.value}function yP(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function p0(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function XB(e,t,n){return i;function i(s,a,u,f){const m=Array.isArray(u.children)?n:t;return f?m(a,u,f):m(a,u)}}function QB(e,t){return n;function n(i,s,a,u){const f=Array.isArray(a.children),p=f0(i);return t(s,a,u,f,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function JB(e,t){const n={};let i,s;for(s in t.properties)if(s!=="children"&&d0.call(t.properties,s)){const a=e3(e,s,t.properties[s]);if(a){const[u,f]=a;e.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&HB.has(t.tagName)?i=f:n[u]=f}}if(i){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function t3(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const a=i.data.estree.body[0];a.type;const u=a.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else Nf(e,t.position);else{const s=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const f=i.value.data.estree.body[0];f.type,a=e.evaluater.evaluateExpression(f.expression)}else Nf(e,t.position);else a=i.value===null?!0:i.value;n[s]=a}return n}function m0(e,t){const n=[];let i=-1;const s=e.passKeys?new Map:BB;for(;++i<t.children.length;){const a=t.children[i];let u;if(e.passKeys){const p=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(p){const m=s.get(p)||0;u=p+"-"+m,s.set(p,m+1)}}const f=gP(e,a,u);f!==void 0&&n.push(f)}return n}function e3(e,t,n){const i=CB(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?gB(n):DB(n)),i.property==="style"){let s=typeof n=="object"?n:n3(e,String(n));return e.stylePropertyNameCase==="css"&&(s=i3(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?xB[i.property]||i.property:i.attribute,n]}}function n3(e,t){try{return zB(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,s=new Bi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=mP+"#cannot-parse-style-attribute",s}}function _P(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let a=-1,u;for(;++a<s.length;){const f=o1(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(a&&f.type==="Literal"),optional:!1}:f}i=u}else i=o1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const s=i.value;return d0.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);Nf(e)}function Nf(e,t){const n=new Bi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=mP+"#cannot-handle-mdx-estrees-without-createevaluater",n}function i3(e){const t={};let n;for(n in e)d0.call(e,n)&&(t[r3(n)]=e[n]);return t}function r3(e){let t=e.replace(jB,s3);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function s3(e){return"-"+e.toLowerCase()}const A_={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},o3={};function a3(e,t){const n=o3,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return vP(e,i,s)}function vP(e,t,n){if(l3(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return g1(e.children,t,n)}return Array.isArray(e)?g1(e,t,n):""}function g1(e,t,n){const i=[];let s=-1;for(;++s<e.length;)i[s]=vP(e[s],t,n);return i.join("")}function l3(e){return!!(e&&typeof e=="object")}const y1=document.createElement("i");function g0(e){const t="&"+e+";";y1.innerHTML=t;const n=y1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function fo(e,t,n,i){const s=e.length;let a=0,u;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);a<i.length;)u=i.slice(a,a+1e4),u.unshift(t,0),e.splice(...u),a+=1e4,t+=1e4}function as(e,t){return e.length>0?(fo(e,e.length,0,t),e):t}const _1={}.hasOwnProperty;function u3(e){const t={};let n=-1;for(;++n<e.length;)c3(t,e[n]);return t}function c3(e,t){let n;for(n in t){const s=(_1.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let u;if(a)for(u in a){_1.call(s,u)||(s[u]=[]);const f=a[u];h3(s[u],Array.isArray(f)?f:f?[f]:[])}}}function h3(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);fo(e,0,0,i)}function wP(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function pc(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const to=pl(/[A-Za-z]/),zr=pl(/[\dA-Za-z]/),f3=pl(/[#-'*+\--9=?A-Z^-~]/);function Ov(e){return e!==null&&(e<32||e===127)}const Lv=pl(/\d/),d3=pl(/[\dA-Fa-f]/),p3=pl(/[!-/:-@[-`{-~]/);function te(e){return e!==null&&e<-2}function fr(e){return e!==null&&(e<0||e===32)}function Re(e){return e===-2||e===-1||e===32}const m3=pl(new RegExp("\\p{P}|\\p{S}","u")),g3=pl(/\s/);function pl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function zc(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let u="";if(a===37&&zr(e.charCodeAt(n+1))&&zr(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(u=String.fromCharCode(a));else if(a>55295&&a<57344){const f=e.charCodeAt(n+1);a<56320&&f>56319&&f<57344?(u=String.fromCharCode(a,f),s=1):u=""}else u=String.fromCharCode(a);u&&(t.push(e.slice(i,n),encodeURIComponent(u)),i=n+s+1,u=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function Je(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let a=0;return u;function u(p){return Re(p)?(e.enter(n),f(p)):t(p)}function f(p){return Re(p)&&a++<s?(e.consume(p),f):(e.exit(n),t(p))}}const y3={tokenize:_3};function _3(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Je(e,t,"linePrefix")}function s(f){return e.enter("paragraph"),a(f)}function a(f){const p=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,u(f)}function u(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return te(f)?(e.consume(f),e.exit("chunkText"),a):(e.consume(f),u)}}const v3={tokenize:w3},v1={tokenize:b3};function w3(e){const t=this,n=[];let i=0,s,a,u;return f;function f(q){if(i<n.length){const nt=n[i];return t.containerState=nt[1],e.attempt(nt[0].continuation,p,m)(q)}return m(q)}function p(q){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&Z();const nt=t.events.length;let X=nt,Y;for(;X--;)if(t.events[X][0]==="exit"&&t.events[X][1].type==="chunkFlow"){Y=t.events[X][1].end;break}j(i);let H=nt;for(;H<t.events.length;)t.events[H][1].end={...Y},H++;return fo(t.events,X+1,0,t.events.slice(nt)),t.events.length=H,m(q)}return f(q)}function m(q){if(i===n.length){if(!s)return T(q);if(s.currentConstruct&&s.currentConstruct.concrete)return D(q);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(v1,y,w)(q)}function y(q){return s&&Z(),j(i),T(q)}function w(q){return t.parser.lazy[t.now().line]=i!==n.length,u=t.now().offset,D(q)}function T(q){return t.containerState={},e.attempt(v1,S,D)(q)}function S(q){return i++,n.push([t.currentConstruct,t.containerState]),T(q)}function D(q){if(q===null){s&&Z(),j(0),e.consume(q);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),V(q)}function V(q){if(q===null){F(e.exit("chunkFlow"),!0),j(0),e.consume(q);return}return te(q)?(e.consume(q),F(e.exit("chunkFlow")),i=0,t.interrupt=void 0,f):(e.consume(q),V)}function F(q,nt){const X=t.sliceStream(q);if(nt&&X.push(null),q.previous=a,a&&(a.next=q),a=q,s.defineSkip(q.start),s.write(X),t.parser.lazy[q.start.line]){let Y=s.events.length;for(;Y--;)if(s.events[Y][1].start.offset<u&&(!s.events[Y][1].end||s.events[Y][1].end.offset>u))return;const H=t.events.length;let I=H,M,K;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(M){K=t.events[I][1].end;break}M=!0}for(j(i),Y=H;Y<t.events.length;)t.events[Y][1].end={...K},Y++;fo(t.events,I+1,0,t.events.slice(H)),t.events.length=Y}}function j(q){let nt=n.length;for(;nt-- >q;){const X=n[nt];t.containerState=X[1],X[0].exit.call(t,e)}n.length=q}function Z(){s.write([null]),a=void 0,s=void 0,t.containerState._closeFlow=void 0}}function b3(e,t,n){return Je(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function w1(e){if(e===null||fr(e)||g3(e))return 1;if(m3(e))return 2}function y0(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!i.includes(a)&&(t=a(t,n),i.push(a))}return t}const Nv={name:"attention",resolveAll:T3,tokenize:E3};function T3(e,t){let n=-1,i,s,a,u,f,p,m,y;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;p=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const w={...e[i][1].end},T={...e[n][1].start};b1(w,-p),b1(T,p),u={type:p>1?"strongSequence":"emphasisSequence",start:w,end:{...e[i][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:T},a={type:p>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},s={type:p>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},e[i][1].end={...u.start},e[n][1].start={...f.end},m=[],e[i][1].end.offset-e[i][1].start.offset&&(m=as(m,[["enter",e[i][1],t],["exit",e[i][1],t]])),m=as(m,[["enter",s,t],["enter",u,t],["exit",u,t],["enter",a,t]]),m=as(m,y0(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),m=as(m,[["exit",a,t],["enter",f,t],["exit",f,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(y=2,m=as(m,[["enter",e[n][1],t],["exit",e[n][1],t]])):y=0,fo(e,i-1,n-i+3,m),n=i+m.length-y-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function E3(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=w1(i);let a;return u;function u(p){return a=p,e.enter("attentionSequence"),f(p)}function f(p){if(p===a)return e.consume(p),f;const m=e.exit("attentionSequence"),y=w1(p),w=!y||y===2&&s||n.includes(p),T=!s||s===2&&y||n.includes(i);return m._open=!!(a===42?w:w&&(s||!T)),m._close=!!(a===42?T:T&&(y||!w)),t(p)}}function b1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const S3={name:"autolink",tokenize:x3};function x3(e,t,n){let i=0;return s;function s(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(S){return to(S)?(e.consume(S),u):S===64?n(S):m(S)}function u(S){return S===43||S===45||S===46||zr(S)?(i=1,f(S)):m(S)}function f(S){return S===58?(e.consume(S),i=0,p):(S===43||S===45||S===46||zr(S))&&i++<32?(e.consume(S),f):(i=0,m(S))}function p(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||Ov(S)?n(S):(e.consume(S),p)}function m(S){return S===64?(e.consume(S),y):f3(S)?(e.consume(S),m):n(S)}function y(S){return zr(S)?w(S):n(S)}function w(S){return S===46?(e.consume(S),i=0,y):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):T(S)}function T(S){if((S===45||zr(S))&&i++<63){const D=S===45?T:w;return e.consume(S),D}return n(S)}}const Km={partial:!0,tokenize:A3};function A3(e,t,n){return i;function i(a){return Re(a)?Je(e,s,"linePrefix")(a):s(a)}function s(a){return a===null||te(a)?t(a):n(a)}}const bP={continuation:{tokenize:C3},exit:I3,name:"blockQuote",tokenize:R3};function R3(e,t,n){const i=this;return s;function s(u){if(u===62){const f=i.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),a}return n(u)}function a(u){return Re(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function C3(e,t,n){const i=this;return s;function s(u){return Re(u)?Je(e,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):a(u)}function a(u){return e.attempt(bP,t,n)(u)}}function I3(e){e.exit("blockQuote")}const TP={name:"characterEscape",tokenize:P3};function P3(e,t,n){return i;function i(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),s}function s(a){return p3(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const EP={name:"characterReference",tokenize:k3};function k3(e,t,n){const i=this;let s=0,a,u;return f;function f(w){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(w),e.exit("characterReferenceMarker"),p}function p(w){return w===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(w),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),a=31,u=zr,y(w))}function m(w){return w===88||w===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(w),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,u=d3,y):(e.enter("characterReferenceValue"),a=7,u=Lv,y(w))}function y(w){if(w===59&&s){const T=e.exit("characterReferenceValue");return u===zr&&!g0(i.sliceSerialize(T))?n(w):(e.enter("characterReferenceMarker"),e.consume(w),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(w)&&s++<a?(e.consume(w),y):n(w)}}const T1={partial:!0,tokenize:M3},E1={concrete:!0,name:"codeFenced",tokenize:D3};function D3(e,t,n){const i=this,s={partial:!0,tokenize:X};let a=0,u=0,f;return p;function p(Y){return m(Y)}function m(Y){const H=i.events[i.events.length-1];return a=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,f=Y,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),y(Y)}function y(Y){return Y===f?(u++,e.consume(Y),y):u<3?n(Y):(e.exit("codeFencedFenceSequence"),Re(Y)?Je(e,w,"whitespace")(Y):w(Y))}function w(Y){return Y===null||te(Y)?(e.exit("codeFencedFence"),i.interrupt?t(Y):e.check(T1,V,nt)(Y)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),T(Y))}function T(Y){return Y===null||te(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),w(Y)):Re(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Je(e,S,"whitespace")(Y)):Y===96&&Y===f?n(Y):(e.consume(Y),T)}function S(Y){return Y===null||te(Y)?w(Y):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),D(Y))}function D(Y){return Y===null||te(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),w(Y)):Y===96&&Y===f?n(Y):(e.consume(Y),D)}function V(Y){return e.attempt(s,nt,F)(Y)}function F(Y){return e.enter("lineEnding"),e.consume(Y),e.exit("lineEnding"),j}function j(Y){return a>0&&Re(Y)?Je(e,Z,"linePrefix",a+1)(Y):Z(Y)}function Z(Y){return Y===null||te(Y)?e.check(T1,V,nt)(Y):(e.enter("codeFlowValue"),q(Y))}function q(Y){return Y===null||te(Y)?(e.exit("codeFlowValue"),Z(Y)):(e.consume(Y),q)}function nt(Y){return e.exit("codeFenced"),t(Y)}function X(Y,H,I){let M=0;return K;function K($){return Y.enter("lineEnding"),Y.consume($),Y.exit("lineEnding"),N}function N($){return Y.enter("codeFencedFence"),Re($)?Je(Y,k,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):k($)}function k($){return $===f?(Y.enter("codeFencedFenceSequence"),O($)):I($)}function O($){return $===f?(M++,Y.consume($),O):M>=u?(Y.exit("codeFencedFenceSequence"),Re($)?Je(Y,rt,"whitespace")($):rt($)):I($)}function rt($){return $===null||te($)?(Y.exit("codeFencedFence"),H($)):I($)}}}function M3(e,t,n){const i=this;return s;function s(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),a)}function a(u){return i.parser.lazy[i.now().line]?n(u):t(u)}}const R_={name:"codeIndented",tokenize:L3},O3={partial:!0,tokenize:N3};function L3(e,t,n){const i=this;return s;function s(m){return e.enter("codeIndented"),Je(e,a,"linePrefix",5)(m)}function a(m){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(m):n(m)}function u(m){return m===null?p(m):te(m)?e.attempt(O3,u,p)(m):(e.enter("codeFlowValue"),f(m))}function f(m){return m===null||te(m)?(e.exit("codeFlowValue"),u(m)):(e.consume(m),f)}function p(m){return e.exit("codeIndented"),t(m)}}function N3(e,t,n){const i=this;return s;function s(u){return i.parser.lazy[i.now().line]?n(u):te(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):Je(e,a,"linePrefix",5)(u)}function a(u){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):te(u)?s(u):n(u)}}const V3={name:"codeText",previous:U3,resolve:z3,tokenize:B3};function z3(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function U3(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function B3(e,t,n){let i=0,s,a;return u;function u(w){return e.enter("codeText"),e.enter("codeTextSequence"),f(w)}function f(w){return w===96?(e.consume(w),i++,f):(e.exit("codeTextSequence"),p(w))}function p(w){return w===null?n(w):w===32?(e.enter("space"),e.consume(w),e.exit("space"),p):w===96?(a=e.enter("codeTextSequence"),s=0,y(w)):te(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),p):(e.enter("codeTextData"),m(w))}function m(w){return w===null||w===32||w===96||te(w)?(e.exit("codeTextData"),p(w)):(e.consume(w),m)}function y(w){return w===96?(e.consume(w),s++,y):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(w)):(a.type="codeTextData",m(w))}}class j3{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const s=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&Hh(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Hh(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Hh(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Hh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Hh(this.left,n.reverse())}}}function Hh(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function SP(e){const t={};let n=-1,i,s,a,u,f,p,m;const y=new j3(e);for(;++n<y.length;){for(;n in t;)n=t[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,a=0,a<p.length&&p[a][1].type==="lineEndingBlank"&&(a+=2),a<p.length&&p[a][1].type==="content"))for(;++a<p.length&&p[a][1].type!=="content";)p[a][1].type==="chunkText"&&(p[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,F3(y,n)),n=t[n],m=!0);else if(i[1]._container){for(a=n,s=void 0;a--;)if(u=y.get(a),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(y.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=a);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(i[1].end={...y.get(s)[1].start},f=y.slice(s,n),f.unshift(i),y.splice(s,n-s+1,f))}}return fo(e,0,Number.POSITIVE_INFINITY,y.slice(0)),!m}function F3(e,t){const n=e.get(t)[1],i=e.get(t)[2];let s=t-1;const a=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,p=[],m={};let y,w,T=-1,S=n,D=0,V=0;const F=[V];for(;S;){for(;e.get(++s)[1]!==S;);a.push(s),S._tokenizer||(y=i.sliceStream(S),S.next||y.push(null),w&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),w=S,S=S.next}for(S=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(V=T+1,F.push(V),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):F.pop(),T=F.length;T--;){const j=f.slice(F[T],F[T+1]),Z=a.pop();p.push([Z,Z+j.length-1]),e.splice(Z,2,j)}for(p.reverse(),T=-1;++T<p.length;)m[D+p[T][0]]=D+p[T][1],D+=p[T][1]-p[T][0]-1;return m}const H3={resolve:G3,tokenize:W3},q3={partial:!0,tokenize:Z3};function G3(e){return SP(e),e}function W3(e,t){let n;return i;function i(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(f)}function s(f){return f===null?a(f):te(f)?e.check(q3,u,a)(f):(e.consume(f),s)}function a(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function u(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function Z3(e,t,n){const i=this;return s;function s(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Je(e,a,"linePrefix")}function a(u){if(u===null||te(u))return n(u);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):e.interrupt(i.parser.constructs.flow,n,t)(u)}}function xP(e,t,n,i,s,a,u,f,p){const m=p||Number.POSITIVE_INFINITY;let y=0;return w;function w(j){return j===60?(e.enter(i),e.enter(s),e.enter(a),e.consume(j),e.exit(a),T):j===null||j===32||j===41||Ov(j)?n(j):(e.enter(i),e.enter(u),e.enter(f),e.enter("chunkString",{contentType:"string"}),V(j))}function T(j){return j===62?(e.enter(a),e.consume(j),e.exit(a),e.exit(s),e.exit(i),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(j))}function S(j){return j===62?(e.exit("chunkString"),e.exit(f),T(j)):j===null||j===60||te(j)?n(j):(e.consume(j),j===92?D:S)}function D(j){return j===60||j===62||j===92?(e.consume(j),S):S(j)}function V(j){return!y&&(j===null||j===41||fr(j))?(e.exit("chunkString"),e.exit(f),e.exit(u),e.exit(i),t(j)):y<m&&j===40?(e.consume(j),y++,V):j===41?(e.consume(j),y--,V):j===null||j===32||j===40||Ov(j)?n(j):(e.consume(j),j===92?F:V)}function F(j){return j===40||j===41||j===92?(e.consume(j),V):V(j)}}function AP(e,t,n,i,s,a){const u=this;let f=0,p;return m;function m(S){return e.enter(i),e.enter(s),e.consume(S),e.exit(s),e.enter(a),y}function y(S){return f>999||S===null||S===91||S===93&&!p||S===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(e.exit(a),e.enter(s),e.consume(S),e.exit(s),e.exit(i),t):te(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y):(e.enter("chunkString",{contentType:"string"}),w(S))}function w(S){return S===null||S===91||S===93||te(S)||f++>999?(e.exit("chunkString"),y(S)):(e.consume(S),p||(p=!Re(S)),S===92?T:w)}function T(S){return S===91||S===92||S===93?(e.consume(S),f++,w):w(S)}}function RP(e,t,n,i,s,a){let u;return f;function f(T){return T===34||T===39||T===40?(e.enter(i),e.enter(s),e.consume(T),e.exit(s),u=T===40?41:T,p):n(T)}function p(T){return T===u?(e.enter(s),e.consume(T),e.exit(s),e.exit(i),t):(e.enter(a),m(T))}function m(T){return T===u?(e.exit(a),p(u)):T===null?n(T):te(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),Je(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===u||T===null||te(T)?(e.exit("chunkString"),m(T)):(e.consume(T),T===92?w:y)}function w(T){return T===u||T===92?(e.consume(T),y):y(T)}}function yf(e,t){let n;return i;function i(s){return te(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):Re(s)?Je(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}const K3={name:"definition",tokenize:Y3},$3={partial:!0,tokenize:X3};function Y3(e,t,n){const i=this;let s;return a;function a(S){return e.enter("definition"),u(S)}function u(S){return AP.call(i,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return s=pc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),p):n(S)}function p(S){return fr(S)?yf(e,m)(S):m(S)}function m(S){return xP(e,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function y(S){return e.attempt($3,w,w)(S)}function w(S){return Re(S)?Je(e,T,"whitespace")(S):T(S)}function T(S){return S===null||te(S)?(e.exit("definition"),i.parser.defined.push(s),t(S)):n(S)}}function X3(e,t,n){return i;function i(f){return fr(f)?yf(e,s)(f):n(f)}function s(f){return RP(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function a(f){return Re(f)?Je(e,u,"whitespace")(f):u(f)}function u(f){return f===null||te(f)?t(f):n(f)}}const Q3={name:"hardBreakEscape",tokenize:J3};function J3(e,t,n){return i;function i(a){return e.enter("hardBreakEscape"),e.consume(a),s}function s(a){return te(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const t6={name:"headingAtx",resolve:e6,tokenize:n6};function e6(e,t){let n=e.length-2,i=3,s,a;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},a={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},fo(e,i,n-i+1,[["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t]])),e}function n6(e,t,n){let i=0;return s;function s(y){return e.enter("atxHeading"),a(y)}function a(y){return e.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&i++<6?(e.consume(y),u):y===null||fr(y)?(e.exit("atxHeadingSequence"),f(y)):n(y)}function f(y){return y===35?(e.enter("atxHeadingSequence"),p(y)):y===null||te(y)?(e.exit("atxHeading"),t(y)):Re(y)?Je(e,f,"whitespace")(y):(e.enter("atxHeadingText"),m(y))}function p(y){return y===35?(e.consume(y),p):(e.exit("atxHeadingSequence"),f(y))}function m(y){return y===null||y===35||fr(y)?(e.exit("atxHeadingText"),f(y)):(e.consume(y),m)}}const i6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],S1=["pre","script","style","textarea"],r6={concrete:!0,name:"htmlFlow",resolveTo:a6,tokenize:l6},s6={partial:!0,tokenize:c6},o6={partial:!0,tokenize:u6};function a6(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function l6(e,t,n){const i=this;let s,a,u,f,p;return m;function m(G){return y(G)}function y(G){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(G),w}function w(G){return G===33?(e.consume(G),T):G===47?(e.consume(G),a=!0,V):G===63?(e.consume(G),s=3,i.interrupt?t:R):to(G)?(e.consume(G),u=String.fromCharCode(G),F):n(G)}function T(G){return G===45?(e.consume(G),s=2,S):G===91?(e.consume(G),s=5,f=0,D):to(G)?(e.consume(G),s=4,i.interrupt?t:R):n(G)}function S(G){return G===45?(e.consume(G),i.interrupt?t:R):n(G)}function D(G){const Rt="CDATA[";return G===Rt.charCodeAt(f++)?(e.consume(G),f===Rt.length?i.interrupt?t:k:D):n(G)}function V(G){return to(G)?(e.consume(G),u=String.fromCharCode(G),F):n(G)}function F(G){if(G===null||G===47||G===62||fr(G)){const Rt=G===47,kt=u.toLowerCase();return!Rt&&!a&&S1.includes(kt)?(s=1,i.interrupt?t(G):k(G)):i6.includes(u.toLowerCase())?(s=6,Rt?(e.consume(G),j):i.interrupt?t(G):k(G)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(G):a?Z(G):q(G))}return G===45||zr(G)?(e.consume(G),u+=String.fromCharCode(G),F):n(G)}function j(G){return G===62?(e.consume(G),i.interrupt?t:k):n(G)}function Z(G){return Re(G)?(e.consume(G),Z):K(G)}function q(G){return G===47?(e.consume(G),K):G===58||G===95||to(G)?(e.consume(G),nt):Re(G)?(e.consume(G),q):K(G)}function nt(G){return G===45||G===46||G===58||G===95||zr(G)?(e.consume(G),nt):X(G)}function X(G){return G===61?(e.consume(G),Y):Re(G)?(e.consume(G),X):q(G)}function Y(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(e.consume(G),p=G,H):Re(G)?(e.consume(G),Y):I(G)}function H(G){return G===p?(e.consume(G),p=null,M):G===null||te(G)?n(G):(e.consume(G),H)}function I(G){return G===null||G===34||G===39||G===47||G===60||G===61||G===62||G===96||fr(G)?X(G):(e.consume(G),I)}function M(G){return G===47||G===62||Re(G)?q(G):n(G)}function K(G){return G===62?(e.consume(G),N):n(G)}function N(G){return G===null||te(G)?k(G):Re(G)?(e.consume(G),N):n(G)}function k(G){return G===45&&s===2?(e.consume(G),et):G===60&&s===1?(e.consume(G),it):G===62&&s===4?(e.consume(G),ct):G===63&&s===3?(e.consume(G),R):G===93&&s===5?(e.consume(G),Ct):te(G)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(s6,_t,O)(G)):G===null||te(G)?(e.exit("htmlFlowData"),O(G)):(e.consume(G),k)}function O(G){return e.check(o6,rt,_t)(G)}function rt(G){return e.enter("lineEnding"),e.consume(G),e.exit("lineEnding"),$}function $(G){return G===null||te(G)?O(G):(e.enter("htmlFlowData"),k(G))}function et(G){return G===45?(e.consume(G),R):k(G)}function it(G){return G===47?(e.consume(G),u="",ot):k(G)}function ot(G){if(G===62){const Rt=u.toLowerCase();return S1.includes(Rt)?(e.consume(G),ct):k(G)}return to(G)&&u.length<8?(e.consume(G),u+=String.fromCharCode(G),ot):k(G)}function Ct(G){return G===93?(e.consume(G),R):k(G)}function R(G){return G===62?(e.consume(G),ct):G===45&&s===2?(e.consume(G),R):k(G)}function ct(G){return G===null||te(G)?(e.exit("htmlFlowData"),_t(G)):(e.consume(G),ct)}function _t(G){return e.exit("htmlFlow"),t(G)}}function u6(e,t,n){const i=this;return s;function s(u){return te(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),a):n(u)}function a(u){return i.parser.lazy[i.now().line]?n(u):t(u)}}function c6(e,t,n){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Km,t,n)}}const h6={name:"htmlText",tokenize:f6};function f6(e,t,n){const i=this;let s,a,u;return f;function f(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),p}function p(R){return R===33?(e.consume(R),m):R===47?(e.consume(R),X):R===63?(e.consume(R),q):to(R)?(e.consume(R),I):n(R)}function m(R){return R===45?(e.consume(R),y):R===91?(e.consume(R),a=0,D):to(R)?(e.consume(R),Z):n(R)}function y(R){return R===45?(e.consume(R),S):n(R)}function w(R){return R===null?n(R):R===45?(e.consume(R),T):te(R)?(u=w,it(R)):(e.consume(R),w)}function T(R){return R===45?(e.consume(R),S):w(R)}function S(R){return R===62?et(R):R===45?T(R):w(R)}function D(R){const ct="CDATA[";return R===ct.charCodeAt(a++)?(e.consume(R),a===ct.length?V:D):n(R)}function V(R){return R===null?n(R):R===93?(e.consume(R),F):te(R)?(u=V,it(R)):(e.consume(R),V)}function F(R){return R===93?(e.consume(R),j):V(R)}function j(R){return R===62?et(R):R===93?(e.consume(R),j):V(R)}function Z(R){return R===null||R===62?et(R):te(R)?(u=Z,it(R)):(e.consume(R),Z)}function q(R){return R===null?n(R):R===63?(e.consume(R),nt):te(R)?(u=q,it(R)):(e.consume(R),q)}function nt(R){return R===62?et(R):q(R)}function X(R){return to(R)?(e.consume(R),Y):n(R)}function Y(R){return R===45||zr(R)?(e.consume(R),Y):H(R)}function H(R){return te(R)?(u=H,it(R)):Re(R)?(e.consume(R),H):et(R)}function I(R){return R===45||zr(R)?(e.consume(R),I):R===47||R===62||fr(R)?M(R):n(R)}function M(R){return R===47?(e.consume(R),et):R===58||R===95||to(R)?(e.consume(R),K):te(R)?(u=M,it(R)):Re(R)?(e.consume(R),M):et(R)}function K(R){return R===45||R===46||R===58||R===95||zr(R)?(e.consume(R),K):N(R)}function N(R){return R===61?(e.consume(R),k):te(R)?(u=N,it(R)):Re(R)?(e.consume(R),N):M(R)}function k(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),s=R,O):te(R)?(u=k,it(R)):Re(R)?(e.consume(R),k):(e.consume(R),rt)}function O(R){return R===s?(e.consume(R),s=void 0,$):R===null?n(R):te(R)?(u=O,it(R)):(e.consume(R),O)}function rt(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||fr(R)?M(R):(e.consume(R),rt)}function $(R){return R===47||R===62||fr(R)?M(R):n(R)}function et(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):n(R)}function it(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),ot}function ot(R){return Re(R)?Je(e,Ct,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):Ct(R)}function Ct(R){return e.enter("htmlTextData"),u(R)}}const _0={name:"labelEnd",resolveAll:g6,resolveTo:y6,tokenize:_6},d6={tokenize:v6},p6={tokenize:w6},m6={tokenize:b6};function g6(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",t+=s}}return e.length!==n.length&&fo(e,0,e.length,n),e}function y6(e,t){let n=e.length,i=0,s,a,u,f;for(;n--;)if(s=e[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(u=n);const p={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[a][1].start},end:{...e[u][1].end}},y={type:"labelText",start:{...e[a+i+2][1].end},end:{...e[u-2][1].start}};return f=[["enter",p,t],["enter",m,t]],f=as(f,e.slice(a+1,a+i+3)),f=as(f,[["enter",y,t]]),f=as(f,y0(t.parser.constructs.insideSpan.null,e.slice(a+i+4,u-3),t)),f=as(f,[["exit",y,t],e[u-2],e[u-1],["exit",m,t]]),f=as(f,e.slice(u+1)),f=as(f,[["exit",p,t]]),fo(e,a,e.length,f),e}function _6(e,t,n){const i=this;let s=i.events.length,a,u;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){a=i.events[s][1];break}return f;function f(T){return a?a._inactive?w(T):(u=i.parser.defined.includes(pc(i.sliceSerialize({start:a.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(T),e.exit("labelMarker"),e.exit("labelEnd"),p):n(T)}function p(T){return T===40?e.attempt(d6,y,u?y:w)(T):T===91?e.attempt(p6,y,u?m:w)(T):u?y(T):w(T)}function m(T){return e.attempt(m6,y,w)(T)}function y(T){return t(T)}function w(T){return a._balanced=!0,n(T)}}function v6(e,t,n){return i;function i(w){return e.enter("resource"),e.enter("resourceMarker"),e.consume(w),e.exit("resourceMarker"),s}function s(w){return fr(w)?yf(e,a)(w):a(w)}function a(w){return w===41?y(w):xP(e,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(w)}function u(w){return fr(w)?yf(e,p)(w):y(w)}function f(w){return n(w)}function p(w){return w===34||w===39||w===40?RP(e,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(w):y(w)}function m(w){return fr(w)?yf(e,y)(w):y(w)}function y(w){return w===41?(e.enter("resourceMarker"),e.consume(w),e.exit("resourceMarker"),e.exit("resource"),t):n(w)}}function w6(e,t,n){const i=this;return s;function s(f){return AP.call(i,e,a,u,"reference","referenceMarker","referenceString")(f)}function a(f){return i.parser.defined.includes(pc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function u(f){return n(f)}}function b6(e,t,n){return i;function i(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),s}function s(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const T6={name:"labelStartImage",resolveAll:_0.resolveAll,tokenize:E6};function E6(e,t,n){const i=this;return s;function s(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),a}function a(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(f):t(f)}}const S6={name:"labelStartLink",resolveAll:_0.resolveAll,tokenize:x6};function x6(e,t,n){const i=this;return s;function s(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),a}function a(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):t(u)}}const C_={name:"lineEnding",tokenize:A6};function A6(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Je(e,t,"linePrefix")}}const Kp={name:"thematicBreak",tokenize:R6};function R6(e,t,n){let i=0,s;return a;function a(m){return e.enter("thematicBreak"),u(m)}function u(m){return s=m,f(m)}function f(m){return m===s?(e.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||te(m))?(e.exit("thematicBreak"),t(m)):n(m)}function p(m){return m===s?(e.consume(m),i++,p):(e.exit("thematicBreakSequence"),Re(m)?Je(e,f,"whitespace")(m):f(m))}}const lr={continuation:{tokenize:k6},exit:M6,name:"list",tokenize:P6},C6={partial:!0,tokenize:O6},I6={partial:!0,tokenize:D6};function P6(e,t,n){const i=this,s=i.events[i.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return f;function f(S){const D=i.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!i.containerState.marker||S===i.containerState.marker:Lv(S)){if(i.containerState.type||(i.containerState.type=D,e.enter(D,{_container:!0})),D==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(Kp,n,m)(S):m(S);if(!i.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(S)}return n(S)}function p(S){return Lv(S)&&++u<10?(e.consume(S),p):(!i.interrupt||u<2)&&(i.containerState.marker?S===i.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),m(S)):n(S)}function m(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||S,e.check(Km,i.interrupt?n:y,e.attempt(C6,T,w))}function y(S){return i.containerState.initialBlankLine=!0,a++,T(S)}function w(S){return Re(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return i.containerState.size=a+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function k6(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Km,s,a);function s(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Je(e,t,"listItemIndent",i.containerState.size+1)(f)}function a(f){return i.containerState.furtherBlankLines||!Re(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(I6,t,u)(f))}function u(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,Je(e,e.attempt(lr,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function D6(e,t,n){const i=this;return Je(e,s,"listItemIndent",i.containerState.size+1);function s(a){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?t(a):n(a)}}function M6(e){e.exit(this.containerState.type)}function O6(e,t,n){const i=this;return Je(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const u=i.events[i.events.length-1];return!Re(a)&&u&&u[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const x1={name:"setextUnderline",resolveTo:L6,tokenize:N6};function L6(e,t){let n=e.length,i,s,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const u={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",a?(e.splice(s,0,["enter",u,t]),e.splice(a+1,0,["exit",e[i][1],t]),e[i][1].end={...e[a][1].end}):e[i][1]=u,e.push(["exit",u,t]),e}function N6(e,t,n){const i=this;let s;return a;function a(m){let y=i.events.length,w;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){w=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||w)?(e.enter("setextHeadingLine"),s=m,u(m)):n(m)}function u(m){return e.enter("setextHeadingLineSequence"),f(m)}function f(m){return m===s?(e.consume(m),f):(e.exit("setextHeadingLineSequence"),Re(m)?Je(e,p,"lineSuffix")(m):p(m))}function p(m){return m===null||te(m)?(e.exit("setextHeadingLine"),t(m)):n(m)}}const V6={tokenize:z6};function z6(e){const t=this,n=e.attempt(Km,i,e.attempt(this.parser.constructs.flowInitial,s,Je(e,e.attempt(this.parser.constructs.flow,s,e.attempt(H3,s)),"linePrefix")));return n;function i(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const U6={resolveAll:IP()},B6=CP("string"),j6=CP("text");function CP(e){return{resolveAll:IP(e==="text"?F6:void 0),tokenize:t};function t(n){const i=this,s=this.parser.constructs[e],a=n.attempt(s,u,f);return u;function u(y){return m(y)?a(y):f(y)}function f(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return m(y)?(n.exit("data"),a(y)):(n.consume(y),p)}function m(y){if(y===null)return!0;const w=s[y];let T=-1;if(w)for(;++T<w.length;){const S=w[T];if(!S.previous||S.previous.call(i,i.previous))return!0}return!1}}}function IP(e){return t;function t(n,i){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return e?e(n,i):n}}function F6(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let a=s.length,u=-1,f=0,p;for(;a--;){const m=s[a];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(m===-2)p=!0,f++;else if(m!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const m={type:n===e.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?u:i.start._bufferIndex+u,_index:i.start._index+a,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(e.splice(n,0,["enter",m,t],["exit",m,t]),n+=2)}n++}return e}const H6={42:lr,43:lr,45:lr,48:lr,49:lr,50:lr,51:lr,52:lr,53:lr,54:lr,55:lr,56:lr,57:lr,62:bP},q6={91:K3},G6={[-2]:R_,[-1]:R_,32:R_},W6={35:t6,42:Kp,45:[x1,Kp],60:r6,61:x1,95:Kp,96:E1,126:E1},Z6={38:EP,92:TP},K6={[-5]:C_,[-4]:C_,[-3]:C_,33:T6,38:EP,42:Nv,60:[S3,h6],91:S6,92:[Q3,TP],93:_0,95:Nv,96:V3},$6={null:[Nv,U6]},Y6={null:[42,95]},X6={null:[]},Q6=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Y6,contentInitial:q6,disable:X6,document:H6,flow:W6,flowInitial:G6,insideSpan:$6,string:Z6,text:K6},Symbol.toStringTag,{value:"Module"}));function J6(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let u=[],f=[];const p={attempt:H(X),check:H(Y),consume:Z,enter:q,exit:nt,interrupt:H(Y,{interrupt:!0})},m={code:null,containerState:{},defineSkip:V,events:[],now:D,parser:e,previous:null,sliceSerialize:T,sliceStream:S,write:w};let y=t.tokenize.call(m,p);return t.resolveAll&&a.push(t),m;function w(N){return u=as(u,N),F(),u[u.length-1]!==null?[]:(I(t,0),m.events=y0(a,m.events,m),m.events)}function T(N,k){return e9(S(N),k)}function S(N){return t9(u,N)}function D(){const{_bufferIndex:N,_index:k,line:O,column:rt,offset:$}=i;return{_bufferIndex:N,_index:k,line:O,column:rt,offset:$}}function V(N){s[N.line]=N.column,K()}function F(){let N;for(;i._index<u.length;){const k=u[i._index];if(typeof k=="string")for(N=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===N&&i._bufferIndex<k.length;)j(k.charCodeAt(i._bufferIndex));else j(k)}}function j(N){y=y(N)}function Z(N){te(N)?(i.line++,i.column=1,i.offset+=N===-3?2:1,K()):N!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=N}function q(N,k){const O=k||{};return O.type=N,O.start=D(),m.events.push(["enter",O,m]),f.push(O),O}function nt(N){const k=f.pop();return k.end=D(),m.events.push(["exit",k,m]),k}function X(N,k){I(N,k.from)}function Y(N,k){k.restore()}function H(N,k){return O;function O(rt,$,et){let it,ot,Ct,R;return Array.isArray(rt)?_t(rt):"tokenize"in rt?_t([rt]):ct(rt);function ct(Tt){return le;function le(Ft){const Ce=Ft!==null&&Tt[Ft],Yt=Ft!==null&&Tt.null,nn=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(Yt)?Yt:Yt?[Yt]:[]];return _t(nn)(Ft)}}function _t(Tt){return it=Tt,ot=0,Tt.length===0?et:G(Tt[ot])}function G(Tt){return le;function le(Ft){return R=M(),Ct=Tt,Tt.partial||(m.currentConstruct=Tt),Tt.name&&m.parser.constructs.disable.null.includes(Tt.name)?kt():Tt.tokenize.call(k?Object.assign(Object.create(m),k):m,p,Rt,kt)(Ft)}}function Rt(Tt){return N(Ct,R),$}function kt(Tt){return R.restore(),++ot<it.length?G(it[ot]):et}}}function I(N,k){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&fo(m.events,k,m.events.length-k,N.resolve(m.events.slice(k),m)),N.resolveTo&&(m.events=N.resolveTo(m.events,m))}function M(){const N=D(),k=m.previous,O=m.currentConstruct,rt=m.events.length,$=Array.from(f);return{from:rt,restore:et};function et(){i=N,m.previous=k,m.currentConstruct=O,m.events.length=rt,f=$,K()}}function K(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function t9(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let u;if(n===s)u=[e[n].slice(i,a)];else{if(u=e.slice(n,s),i>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(i):u.shift()}a>0&&u.push(e[s].slice(0,a))}return u}function e9(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const a=e[n];let u;if(typeof a=="string")u=a;else switch(a){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&s)continue;u=" ";break}default:u=String.fromCharCode(a)}s=a===-2,i.push(u)}return i.join("")}function n9(e){const i={constructs:u3([Q6,...(e||{}).extensions||[]]),content:s(y3),defined:[],document:s(v3),flow:s(V6),lazy:{},string:s(B6),text:s(j6)};return i;function s(a){return u;function u(f){return J6(i,a,f)}}}function i9(e){for(;!SP(e););return e}const A1=/[\0\t\n\r]/g;function r9(){let e=1,t="",n=!0,i;return s;function s(a,u,f){const p=[];let m,y,w,T,S;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(u||void 0).decode(a)),w=0,t="",n&&(a.charCodeAt(0)===65279&&w++,n=void 0);w<a.length;){if(A1.lastIndex=w,m=A1.exec(a),T=m&&m.index!==void 0?m.index:a.length,S=a.charCodeAt(T),!m){t=a.slice(w);break}if(S===10&&w===T&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),w<T&&(p.push(a.slice(w,T)),e+=T-w),S){case 0:{p.push(65533),e++;break}case 9:{for(y=Math.ceil(e/4)*4,p.push(-2);e++<y;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:i=!0,e=1}w=T+1}return f&&(i&&p.push(-5),t&&p.push(t),p.push(null)),p}}const s9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function o9(e){return e.replace(s9,a9)}function a9(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return wP(n.slice(a?2:1),a?16:10)}return g0(n)||e}const PP={}.hasOwnProperty;function l9(e,t,n){return typeof t!="string"&&(n=t,t=void 0),u9(n)(i9(n9(n).document().write(r9()(e,t,!0))))}function u9(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Qi),autolinkProtocol:M,autolinkEmail:M,atxHeading:a(ri),blockQuote:a(Yt),characterEscape:M,characterReference:M,codeFenced:a(nn),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(nn,u),codeText:a(Ge,u),codeTextData:M,data:M,codeFlowValue:M,definition:a(Nn),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(Rn),hardBreakEscape:a(yi),hardBreakTrailing:a(yi),htmlFlow:a(yn,u),htmlFlowData:M,htmlText:a(yn,u),htmlTextData:M,image:a(mr),label:u,link:a(Qi),listItem:a(si),listItemValue:T,listOrdered:a(Cn,w),listUnordered:a(Cn),paragraph:a(gr),reference:G,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(ri),strong:a(Ji),thematicBreak:a(Ls)},exit:{atxHeading:p(),atxHeadingSequence:X,autolink:p(),autolinkEmail:Ce,autolinkProtocol:Ft,blockQuote:p(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:kt,characterReferenceMarkerNumeric:kt,characterReferenceValue:Tt,characterReference:le,codeFenced:p(F),codeFencedFence:V,codeFencedFenceInfo:S,codeFencedFenceMeta:D,codeFlowValue:K,codeIndented:p(j),codeText:p($),codeTextData:K,data:K,definition:p(),definitionDestinationString:nt,definitionLabelString:Z,definitionTitleString:q,emphasis:p(),hardBreakEscape:p(k),hardBreakTrailing:p(k),htmlFlow:p(O),htmlFlowData:K,htmlText:p(rt),htmlTextData:K,image:p(it),label:Ct,labelText:ot,lineEnding:N,link:p(et),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:Rt,resourceDestinationString:R,resourceTitleString:ct,resource:_t,setextHeading:p(I),setextHeadingLineSequence:H,setextHeadingText:Y,strong:p(),thematicBreak:p()}};kP(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(mt){let wt={type:"root",children:[]};const Lt={stack:[wt],tokenStack:[],config:t,enter:f,exit:m,buffer:u,resume:y,data:n},Bt=[];let ce=-1;for(;++ce<mt.length;)if(mt[ce][1].type==="listOrdered"||mt[ce][1].type==="listUnordered")if(mt[ce][0]==="enter")Bt.push(ce);else{const je=Bt.pop();ce=s(mt,je,ce)}for(ce=-1;++ce<mt.length;){const je=t[mt[ce][0]];PP.call(je,mt[ce][1].type)&&je[mt[ce][1].type].call(Object.assign({sliceSerialize:mt[ce][2].sliceSerialize},Lt),mt[ce][1])}if(Lt.tokenStack.length>0){const je=Lt.tokenStack[Lt.tokenStack.length-1];(je[1]||R1).call(Lt,void 0,je[0])}for(wt.position={start:Ba(mt.length>0?mt[0][1].start:{line:1,column:1,offset:0}),end:Ba(mt.length>0?mt[mt.length-2][1].end:{line:1,column:1,offset:0})},ce=-1;++ce<t.transforms.length;)wt=t.transforms[ce](wt)||wt;return wt}function s(mt,wt,Lt){let Bt=wt-1,ce=-1,je=!1,Vn,_n,Xn,rn;for(;++Bt<=Lt;){const tn=mt[Bt];switch(tn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{tn[0]==="enter"?ce++:ce--,rn=void 0;break}case"lineEndingBlank":{tn[0]==="enter"&&(Vn&&!rn&&!ce&&!Xn&&(Xn=Bt),rn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rn=void 0}if(!ce&&tn[0]==="enter"&&tn[1].type==="listItemPrefix"||ce===-1&&tn[0]==="exit"&&(tn[1].type==="listUnordered"||tn[1].type==="listOrdered")){if(Vn){let vn=Bt;for(_n=void 0;vn--;){const zn=mt[vn];if(zn[1].type==="lineEnding"||zn[1].type==="lineEndingBlank"){if(zn[0]==="exit")continue;_n&&(mt[_n][1].type="lineEndingBlank",je=!0),zn[1].type="lineEnding",_n=vn}else if(!(zn[1].type==="linePrefix"||zn[1].type==="blockQuotePrefix"||zn[1].type==="blockQuotePrefixWhitespace"||zn[1].type==="blockQuoteMarker"||zn[1].type==="listItemIndent"))break}Xn&&(!_n||Xn<_n)&&(Vn._spread=!0),Vn.end=Object.assign({},_n?mt[_n][1].start:tn[1].end),mt.splice(_n||Bt,0,["exit",Vn,tn[2]]),Bt++,Lt++}if(tn[1].type==="listItemPrefix"){const vn={type:"listItem",_spread:!1,start:Object.assign({},tn[1].start),end:void 0};Vn=vn,mt.splice(Bt,0,["enter",vn,tn[2]]),Bt++,Lt++,Xn=void 0,rn=!0}}}return mt[wt][1]._spread=je,Lt}function a(mt,wt){return Lt;function Lt(Bt){f.call(this,mt(Bt),Bt),wt&&wt.call(this,Bt)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(mt,wt,Lt){this.stack[this.stack.length-1].children.push(mt),this.stack.push(mt),this.tokenStack.push([wt,Lt||void 0]),mt.position={start:Ba(wt.start),end:void 0}}function p(mt){return wt;function wt(Lt){mt&&mt.call(this,Lt),m.call(this,Lt)}}function m(mt,wt){const Lt=this.stack.pop(),Bt=this.tokenStack.pop();if(Bt)Bt[0].type!==mt.type&&(wt?wt.call(this,mt,Bt[0]):(Bt[1]||R1).call(this,mt,Bt[0]));else throw new Error("Cannot close `"+mt.type+"` ("+gf({start:mt.start,end:mt.end})+"): its not open");Lt.position.end=Ba(mt.end)}function y(){return a3(this.stack.pop())}function w(){this.data.expectingFirstListItemValue=!0}function T(mt){if(this.data.expectingFirstListItemValue){const wt=this.stack[this.stack.length-2];wt.start=Number.parseInt(this.sliceSerialize(mt),10),this.data.expectingFirstListItemValue=void 0}}function S(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.lang=mt}function D(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.meta=mt}function V(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function F(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.value=mt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.value=mt.replace(/(\r?\n|\r)$/g,"")}function Z(mt){const wt=this.resume(),Lt=this.stack[this.stack.length-1];Lt.label=wt,Lt.identifier=pc(this.sliceSerialize(mt)).toLowerCase()}function q(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.title=mt}function nt(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.url=mt}function X(mt){const wt=this.stack[this.stack.length-1];if(!wt.depth){const Lt=this.sliceSerialize(mt).length;wt.depth=Lt}}function Y(){this.data.setextHeadingSlurpLineEnding=!0}function H(mt){const wt=this.stack[this.stack.length-1];wt.depth=this.sliceSerialize(mt).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function M(mt){const Lt=this.stack[this.stack.length-1].children;let Bt=Lt[Lt.length-1];(!Bt||Bt.type!=="text")&&(Bt=jr(),Bt.position={start:Ba(mt.start),end:void 0},Lt.push(Bt)),this.stack.push(Bt)}function K(mt){const wt=this.stack.pop();wt.value+=this.sliceSerialize(mt),wt.position.end=Ba(mt.end)}function N(mt){const wt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Lt=wt.children[wt.children.length-1];Lt.position.end=Ba(mt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(wt.type)&&(M.call(this,mt),K.call(this,mt))}function k(){this.data.atHardBreak=!0}function O(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.value=mt}function rt(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.value=mt}function $(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.value=mt}function et(){const mt=this.stack[this.stack.length-1];if(this.data.inReference){const wt=this.data.referenceType||"shortcut";mt.type+="Reference",mt.referenceType=wt,delete mt.url,delete mt.title}else delete mt.identifier,delete mt.label;this.data.referenceType=void 0}function it(){const mt=this.stack[this.stack.length-1];if(this.data.inReference){const wt=this.data.referenceType||"shortcut";mt.type+="Reference",mt.referenceType=wt,delete mt.url,delete mt.title}else delete mt.identifier,delete mt.label;this.data.referenceType=void 0}function ot(mt){const wt=this.sliceSerialize(mt),Lt=this.stack[this.stack.length-2];Lt.label=o9(wt),Lt.identifier=pc(wt).toLowerCase()}function Ct(){const mt=this.stack[this.stack.length-1],wt=this.resume(),Lt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Lt.type==="link"){const Bt=mt.children;Lt.children=Bt}else Lt.alt=wt}function R(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.url=mt}function ct(){const mt=this.resume(),wt=this.stack[this.stack.length-1];wt.title=mt}function _t(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function Rt(mt){const wt=this.resume(),Lt=this.stack[this.stack.length-1];Lt.label=wt,Lt.identifier=pc(this.sliceSerialize(mt)).toLowerCase(),this.data.referenceType="full"}function kt(mt){this.data.characterReferenceType=mt.type}function Tt(mt){const wt=this.sliceSerialize(mt),Lt=this.data.characterReferenceType;let Bt;Lt?(Bt=wP(wt,Lt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Bt=g0(wt);const ce=this.stack[this.stack.length-1];ce.value+=Bt}function le(mt){const wt=this.stack.pop();wt.position.end=Ba(mt.end)}function Ft(mt){K.call(this,mt);const wt=this.stack[this.stack.length-1];wt.url=this.sliceSerialize(mt)}function Ce(mt){K.call(this,mt);const wt=this.stack[this.stack.length-1];wt.url="mailto:"+this.sliceSerialize(mt)}function Yt(){return{type:"blockquote",children:[]}}function nn(){return{type:"code",lang:null,meta:null,value:""}}function Ge(){return{type:"inlineCode",value:""}}function Nn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Rn(){return{type:"emphasis",children:[]}}function ri(){return{type:"heading",depth:0,children:[]}}function yi(){return{type:"break"}}function yn(){return{type:"html",value:""}}function mr(){return{type:"image",title:null,url:"",alt:null}}function Qi(){return{type:"link",title:null,url:"",children:[]}}function Cn(mt){return{type:"list",ordered:mt.type==="listOrdered",start:null,spread:mt._spread,children:[]}}function si(mt){return{type:"listItem",spread:mt._spread,checked:null,children:[]}}function gr(){return{type:"paragraph",children:[]}}function Ji(){return{type:"strong",children:[]}}function jr(){return{type:"text",value:""}}function Ls(){return{type:"thematicBreak"}}}function Ba(e){return{line:e.line,column:e.column,offset:e.offset}}function kP(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?kP(e,i):c9(e,i)}}function c9(e,t){let n;for(n in t)if(PP.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function R1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+gf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+gf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+gf({start:t.start,end:t.end})+") is still open")}function h9(e){const t=this;t.parser=n;function n(i){return l9(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function f9(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function d9(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function p9(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function m9(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function g9(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function y9(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),s=zc(i.toLowerCase()),a=e.footnoteOrder.indexOf(i);let u,f=e.footnoteCounts.get(i);f===void 0?(f=0,e.footnoteOrder.push(i),u=e.footnoteOrder.length):u=a+1,f+=1,e.footnoteCounts.set(i,f);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,m),e.applyData(t,m)}function _9(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function v9(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function DP(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const s=e.all(t),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=i:s.push({type:"text",value:i}),s}function w9(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return DP(e,t);const s={src:zc(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)}function b9(e,t){const n={src:zc(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function T9(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function E9(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return DP(e,t);const s={href:zc(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function S9(e,t){const n={href:zc(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function x9(e,t,n){const i=e.all(t),s=n?A9(n):MP(t),a={},u=[];if(typeof t.checked=="boolean"){const y=i[0];let w;y&&y.type==="element"&&y.tagName==="p"?w=y:(w={type:"element",tagName:"p",properties:{},children:[]},i.unshift(w)),w.children.length>0&&w.children.unshift({type:"text",value:" "}),w.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const y=i[f];(s||f!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!s?u.push(...y.children):u.push(y)}const p=i[i.length-1];p&&(s||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:a,children:u};return e.patch(t,m),e.applyData(t,m)}function A9(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=MP(n[i])}return t}function MP(e){const t=e.spread;return t??e.children.length>1}function R9(e,t){const n={},i=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const u=i[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function C9(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function I9(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function P9(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function k9(e,t){const n=e.all(t),i=n.shift(),s=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=f0(t.children[1]),p=dP(t.children[t.children.length-1]);f&&p&&(u.position={start:f,end:p}),s.push(u)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)}function D9(e,t,n){const i=n?n.children:void 0,a=(i?i.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:t.children.length;let p=-1;const m=[];for(;++p<f;){const w=t.children[p],T={},S=u?u[p]:void 0;S&&(T.align=S);let D={type:"element",tagName:a,properties:T,children:[]};w&&(D.children=e.all(w),e.patch(w,D),D=e.applyData(w,D)),m.push(D)}const y={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,y),e.applyData(t,y)}function M9(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const C1=9,I1=32;function O9(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const a=[];for(;i;)a.push(P1(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return a.push(P1(t.slice(s),s>0,!1)),a.join("")}function P1(e,t,n){let i=0,s=e.length;if(t){let a=e.codePointAt(i);for(;a===C1||a===I1;)i++,a=e.codePointAt(i)}if(n){let a=e.codePointAt(s-1);for(;a===C1||a===I1;)s--,a=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function L9(e,t){const n={type:"text",value:O9(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function N9(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const V9={blockquote:f9,break:d9,code:p9,delete:m9,emphasis:g9,footnoteReference:y9,heading:_9,html:v9,imageReference:w9,image:b9,inlineCode:T9,linkReference:E9,link:S9,listItem:x9,list:R9,paragraph:C9,root:I9,strong:P9,table:k9,tableCell:M9,tableRow:D9,text:L9,thematicBreak:N9,toml:Cp,yaml:Cp,definition:Cp,footnoteDefinition:Cp};function Cp(){}const OP=-1,$m=0,_f=1,mm=2,v0=3,w0=4,b0=5,T0=6,LP=7,NP=8,k1=typeof self=="object"?self:globalThis,z9=(e,t)=>{const n=(s,a)=>(e.set(a,s),s),i=s=>{if(e.has(s))return e.get(s);const[a,u]=t[s];switch(a){case $m:case OP:return n(u,s);case _f:{const f=n([],s);for(const p of u)f.push(i(p));return f}case mm:{const f=n({},s);for(const[p,m]of u)f[i(p)]=i(m);return f}case v0:return n(new Date(u),s);case w0:{const{source:f,flags:p}=u;return n(new RegExp(f,p),s)}case b0:{const f=n(new Map,s);for(const[p,m]of u)f.set(i(p),i(m));return f}case T0:{const f=n(new Set,s);for(const p of u)f.add(i(p));return f}case LP:{const{name:f,message:p}=u;return n(new k1[f](p),s)}case NP:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new k1[a](u),s)};return i},D1=e=>z9(new Map,e)(0),Ju="",{toString:U9}={},{keys:B9}=Object,qh=e=>{const t=typeof e;if(t!=="object"||!e)return[$m,t];const n=U9.call(e).slice(8,-1);switch(n){case"Array":return[_f,Ju];case"Object":return[mm,Ju];case"Date":return[v0,Ju];case"RegExp":return[w0,Ju];case"Map":return[b0,Ju];case"Set":return[T0,Ju];case"DataView":return[_f,n]}return n.includes("Array")?[_f,n]:n.includes("Error")?[LP,n]:[mm,n]},Ip=([e,t])=>e===$m&&(t==="function"||t==="symbol"),j9=(e,t,n,i)=>{const s=(u,f)=>{const p=i.push(u)-1;return n.set(f,p),p},a=u=>{if(n.has(u))return n.get(u);let[f,p]=qh(u);switch(f){case $m:{let y=u;switch(p){case"bigint":f=NP,y=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);y=null;break;case"undefined":return s([OP],u)}return s([f,y],u)}case _f:{if(p){let T=u;return p==="DataView"?T=new Uint8Array(u.buffer):p==="ArrayBuffer"&&(T=new Uint8Array(u)),s([p,[...T]],u)}const y=[],w=s([f,y],u);for(const T of u)y.push(a(T));return w}case mm:{if(p)switch(p){case"BigInt":return s([p,u.toString()],u);case"Boolean":case"Number":case"String":return s([p,u.valueOf()],u)}if(t&&"toJSON"in u)return a(u.toJSON());const y=[],w=s([f,y],u);for(const T of B9(u))(e||!Ip(qh(u[T])))&&y.push([a(T),a(u[T])]);return w}case v0:return s([f,u.toISOString()],u);case w0:{const{source:y,flags:w}=u;return s([f,{source:y,flags:w}],u)}case b0:{const y=[],w=s([f,y],u);for(const[T,S]of u)(e||!(Ip(qh(T))||Ip(qh(S))))&&y.push([a(T),a(S)]);return w}case T0:{const y=[],w=s([f,y],u);for(const T of u)(e||!Ip(qh(T)))&&y.push(a(T));return w}}const{message:m}=u;return s([f,{name:p,message:m}],u)};return a},M1=(e,{json:t,lossy:n}={})=>{const i=[];return j9(!(t||n),!!t,new Map,i)(e),i},gm=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?D1(M1(e,t)):structuredClone(e):(e,t)=>D1(M1(e,t));function F9(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function H9(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function q9(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||F9,i=e.options.footnoteBackLabel||H9,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[p]);if(!m)continue;const y=e.all(m),w=String(m.identifier).toUpperCase(),T=zc(w.toLowerCase());let S=0;const D=[],V=e.footnoteCounts.get(w);for(;V!==void 0&&++S<=V;){D.length>0&&D.push({type:"text",value:" "});let Z=typeof n=="string"?n:n(p,S);typeof Z=="string"&&(Z={type:"text",value:Z}),D.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,S),className:["data-footnote-backref"]},children:Array.isArray(Z)?Z:[Z]})}const F=y[y.length-1];if(F&&F.type==="element"&&F.tagName==="p"){const Z=F.children[F.children.length-1];Z&&Z.type==="text"?Z.value+=" ":F.children.push({type:"text",value:" "}),F.children.push(...D)}else y.push(...D);const j={type:"element",tagName:"li",properties:{id:t+"fn-"+T},children:e.wrap(y,!0)};e.patch(m,j),f.push(j)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...gm(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const VP=(function(e){if(e==null)return K9;if(typeof e=="function")return Ym(e);if(typeof e=="object")return Array.isArray(e)?G9(e):W9(e);if(typeof e=="string")return Z9(e);throw new Error("Expected function, string, or object as test")});function G9(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=VP(e[n]);return Ym(i);function i(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function W9(e){const t=e;return Ym(n);function n(i){const s=i;let a;for(a in e)if(s[a]!==t[a])return!1;return!0}}function Z9(e){return Ym(t);function t(n){return n&&n.type===e}}function Ym(e){return t;function t(n,i,s){return!!($9(n)&&e.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function K9(){return!0}function $9(e){return e!==null&&typeof e=="object"&&"type"in e}const zP=[],Y9=!0,O1=!1,X9="skip";function Q9(e,t,n,i){let s;typeof t=="function"&&typeof n!="function"?(i=n,n=t):s=t;const a=VP(s),u=i?-1:1;f(e,void 0,[])();function f(p,m,y){const w=p&&typeof p=="object"?p:{};if(typeof w.type=="string"){const S=typeof w.tagName=="string"?w.tagName:typeof w.name=="string"?w.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(p.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=zP,D,V,F;if((!t||a(p,m,y[y.length-1]||void 0))&&(S=J9(n(p,y)),S[0]===O1))return S;if("children"in p&&p.children){const j=p;if(j.children&&S[0]!==X9)for(V=(i?j.children.length:-1)+u,F=y.concat(j);V>-1&&V<j.children.length;){const Z=j.children[V];if(D=f(Z,V,F)(),D[0]===O1)return D;V=typeof D[1]=="number"?D[1]:V+u}}return S}}}function J9(e){return Array.isArray(e)?e:typeof e=="number"?[Y9,e]:e==null?zP:[e]}function UP(e,t,n,i){let s,a,u;typeof t=="function"&&typeof n!="function"?(a=void 0,u=t,s=n):(a=t,u=n,s=i),Q9(e,a,f,s);function f(p,m){const y=m[m.length-1],w=y?y.children.indexOf(p):void 0;return u(p,w,y)}}const Vv={}.hasOwnProperty,t5={};function e5(e,t){const n=t||t5,i=new Map,s=new Map,a=new Map,u={...V9,...n.handlers},f={all:m,applyData:i5,definitionById:i,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:u,one:p,options:n,patch:n5,wrap:s5};return UP(e,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const w=y.type==="definition"?i:s,T=String(y.identifier).toUpperCase();w.has(T)||w.set(T,y)}}),f;function p(y,w){const T=y.type,S=f.handlers[T];if(Vv.call(f.handlers,T)&&S)return S(f,y,w);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in y){const{children:V,...F}=y,j=gm(F);return j.children=f.all(y),j}return gm(y)}return(f.options.unknownHandler||r5)(f,y,w)}function m(y){const w=[];if("children"in y){const T=y.children;let S=-1;for(;++S<T.length;){const D=f.one(T[S],y);if(D){if(S&&T[S-1].type==="break"&&(!Array.isArray(D)&&D.type==="text"&&(D.value=L1(D.value)),!Array.isArray(D)&&D.type==="element")){const V=D.children[0];V&&V.type==="text"&&(V.value=L1(V.value))}Array.isArray(D)?w.push(...D):w.push(D)}}}return w}}function n5(e,t){e.position&&(t.position=UB(e))}function i5(e,t){let n=t;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,a=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&a&&Object.assign(n.properties,gm(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function r5(e,t){const n=t.data||{},i="value"in t&&!(Vv.call(n,"hProperties")||Vv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function s5(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function L1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function N1(e,t){const n=e5(e,t),i=n.one(e,void 0),s=q9(n),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function o5(e,t){return e&&"run"in e?async function(n,i){const s=N1(n,{file:i,...t});await e.run(s,i)}:function(n,i){return N1(n,{file:i,...e||t})}}function V1(e){if(e)throw e}var I_,z1;function a5(){if(z1)return I_;z1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},a=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var y=e.call(m,"constructor"),w=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!y&&!w)return!1;var T;for(T in m);return typeof T>"u"||e.call(m,T)},u=function(m,y){n&&y.name==="__proto__"?n(m,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):m[y.name]=y.newValue},f=function(m,y){if(y==="__proto__")if(e.call(m,y)){if(i)return i(m,y).value}else return;return m[y]};return I_=function p(){var m,y,w,T,S,D,V=arguments[0],F=1,j=arguments.length,Z=!1;for(typeof V=="boolean"&&(Z=V,V=arguments[1]||{},F=2),(V==null||typeof V!="object"&&typeof V!="function")&&(V={});F<j;++F)if(m=arguments[F],m!=null)for(y in m)w=f(V,y),T=f(m,y),V!==T&&(Z&&T&&(a(T)||(S=s(T)))?(S?(S=!1,D=w&&s(w)?w:[]):D=w&&a(w)?w:{},u(V,{name:y,newValue:p(Z,D,T)})):typeof T<"u"&&u(V,{name:y,newValue:T}));return V},I_}var l5=a5();const P_=Bm(l5);function zv(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function u5(){const e=[],t={run:n,use:i};return t;function n(...s){let a=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...s);function f(p,...m){const y=e[++a];let w=-1;if(p){u(p);return}for(;++w<s.length;)(m[w]===null||m[w]===void 0)&&(m[w]=s[w]);s=m,y?c5(y,f)(...m):u(null,...m)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function c5(e,t){let n;return i;function i(...u){const f=e.length>u.length;let p;f&&u.push(s);try{p=e.apply(this,u)}catch(m){const y=m;if(f&&n)throw y;return s(y)}f||(p&&p.then&&typeof p.then=="function"?p.then(a,s):p instanceof Error?s(p):a(p))}function s(u,...f){n||(n=!0,t(u,...f))}function a(u){s(null,u)}}const Qs={basename:h5,dirname:f5,extname:d5,join:p5,sep:"/"};function h5(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');od(e);let n=0,i=-1,s=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else i<0&&(a=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let u=-1,f=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else u<0&&(a=!0,u=s+1),f>-1&&(e.codePointAt(s)===t.codePointAt(f--)?f<0&&(i=s):(f=-1,i=u));return n===i?i=u:i<0&&(i=e.length),e.slice(n,i)}function f5(e){if(od(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function d5(e){od(e);let t=e.length,n=-1,i=0,s=-1,a=0,u;for(;t--;){const f=e.codePointAt(t);if(f===47){if(u){i=t+1;break}continue}n<0&&(u=!0,n=t+1),f===46?s<0?s=t:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function p5(...e){let t=-1,n;for(;++t<e.length;)od(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":m5(n)}function m5(e){od(e);const t=e.codePointAt(0)===47;let n=g5(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function g5(e,t){let n="",i=0,s=-1,a=0,u=-1,f,p;for(;++u<=e.length;){if(u<e.length)f=e.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(s===u-1||a===1))if(s!==u-1&&a===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),s=u,a=0;continue}}else if(n.length>0){n="",i=0,s=u,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,u):n=e.slice(s+1,u),i=u-s-1;s=u,a=0}else f===46&&a>-1?a++:a=-1}return n}function od(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const y5={cwd:_5};function _5(){return"/"}function Uv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function v5(e){if(typeof e=="string")e=new URL(e);else if(!Uv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return w5(e)}function w5(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const k_=["history","path","basename","stem","extname","dirname"];class BP{constructor(t){let n;t?Uv(t)?n={path:t}:typeof t=="string"||b5(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":y5.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<k_.length;){const a=k_[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)k_.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Qs.basename(this.path):void 0}set basename(t){M_(t,"basename"),D_(t,"basename"),this.path=Qs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qs.dirname(this.path):void 0}set dirname(t){U1(this.basename,"dirname"),this.path=Qs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qs.extname(this.path):void 0}set extname(t){if(D_(t,"extname"),U1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Uv(t)&&(t=v5(t)),M_(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qs.basename(this.path,this.extname):void 0}set stem(t){M_(t,"stem"),D_(t,"stem"),this.path=Qs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=void 0,s}message(t,n,i){const s=new Bi(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function D_(e,t){if(e&&e.includes(Qs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qs.sep+"`")}function M_(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function U1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function b5(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const T5=(function(e){const i=this.constructor.prototype,s=i[e],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,i),a}),E5={}.hasOwnProperty;class E0 extends T5{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=u5()}copy(){const t=new E0;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(P_(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(N_("data",this.frozen),this.namespace[t]=n,this):E5.call(this.namespace,t)&&this.namespace[t]||void 0:t?(N_("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(t,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Pp(t),i=this.parser||this.Parser;return O_("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),O_("process",this.parser||this.Parser),L_("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,u){const f=Pp(t),p=i.parse(f);i.run(p,f,function(y,w,T){if(y||!w||!T)return m(y);const S=w,D=i.stringify(S,T);A5(D)?T.value=D:T.result=D,m(y,T)});function m(y,w){y||!w?u(y):a?a(w):n(void 0,w)}}}processSync(t){let n=!1,i;return this.freeze(),O_("processSync",this.parser||this.Parser),L_("processSync",this.compiler||this.Compiler),this.process(t,s),j1("processSync","process",n),i;function s(a,u){n=!0,V1(a),i=u}}run(t,n,i){B1(t),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(u,f){const p=Pp(n);s.run(t,p,m);function m(y,w,T){const S=w||t;y?f(y):u?u(S):i(void 0,S,T)}}}runSync(t,n){let i=!1,s;return this.run(t,n,a),j1("runSync","run",i),s;function a(u,f){V1(u),s=f,i=!0}}stringify(t,n){this.freeze();const i=Pp(n),s=this.compiler||this.Compiler;return L_("stringify",s),B1(t),s(t,i)}use(t,...n){const i=this.attachers,s=this.namespace;if(N_("use",this.frozen),t!=null)if(typeof t=="function")p(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[y,...w]=m;p(y,w)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(m.plugins),m.settings&&(s.settings=P_(!0,s.settings,m.settings))}function f(m){let y=-1;if(m!=null)if(Array.isArray(m))for(;++y<m.length;){const w=m[y];a(w)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,y){let w=-1,T=-1;for(;++w<i.length;)if(i[w][0]===m){T=w;break}if(T===-1)i.push([m,...y]);else if(y.length>0){let[S,...D]=y;const V=i[T][1];zv(V)&&zv(S)&&(S=P_(!0,V,S)),i[T]=[m,S,...D]}}}}const S5=new E0().freeze();function O_(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function L_(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function N_(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function B1(e){if(!zv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function j1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Pp(e){return x5(e)?e:new BP(e)}function x5(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function A5(e){return typeof e=="string"||R5(e)}function R5(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const C5="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",F1=[],H1={allowDangerousHtml:!0},I5=/^(https?|ircs?|mailto|xmpp)$/i,P5=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function k5(e){const t=D5(e),n=M5(e);return O5(t.runSync(t.parse(n),n),e)}function D5(e){const t=e.rehypePlugins||F1,n=e.remarkPlugins||F1,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...H1}:H1;return S5().use(h9).use(n).use(o5,i).use(t)}function M5(e){const t=e.children||"",n=new BP;return typeof t=="string"&&(n.value=t),n}function O5(e,t){const n=t.allowedElements,i=t.allowElement,s=t.components,a=t.disallowedElements,u=t.skipHtml,f=t.unwrapDisallowed,p=t.urlTransform||L5;for(const y of P5)Object.hasOwn(t,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+C5+y.id,void 0);return UP(e,m),qB(e,{Fragment:tt.Fragment,components:s,ignoreInvalidStyle:!0,jsx:tt.jsx,jsxs:tt.jsxs,passKeys:!0,passNode:!0});function m(y,w,T){if(y.type==="raw"&&T&&typeof w=="number")return u?T.children.splice(w,1):T.children[w]={type:"text",value:y.value},w;if(y.type==="element"){let S;for(S in A_)if(Object.hasOwn(A_,S)&&Object.hasOwn(y.properties,S)){const D=y.properties[S],V=A_[S];(V===null||V.includes(y.tagName))&&(y.properties[S]=p(String(D||""),S,y))}}if(y.type==="element"){let S=n?!n.includes(y.tagName):a?a.includes(y.tagName):!1;if(!S&&i&&typeof w=="number"&&(S=!i(y,w,T)),S&&T&&typeof w=="number")return f&&y.children?T.children.splice(w,1,...y.children):T.children.splice(w,1),w}}}function L5(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||i!==-1&&t>i||I5.test(e.slice(0,t))?e:""}const N5=`Hey du,\r
\r
wenn du das hier liest, bin ich wahrscheinlich gerade irgendwo in Sdfrankreich, in Deutschland oder vielleicht sogar gerade erst losgefahren. Wahrscheinlich sitze ich im Auto mit Papa, gucke aus dem Fenster und vermisse dich jetzt schon ein bisschen zu viel.\r
\r
In Porto zu wohnen  klingt irgendwie traumhaft, oder? Aber ehrlich gesagt fhlt es sich nicht wirklich so an. Noch realisiere ich gar nicht, was das eigentlich bedeutet. Jeden Tag habe ich mehr Angst und vermisse alles immer mehr. Mit meinem phnomenalen Wortschatz von 2 Wrtern Portugiesisch und meinem nicht vorhandenen Englisch (C1, du nicht duh) werde ich bestimmt keine Probleme haben, right?? :)\r
\r
Gerade ist alles stressig, ich versuche Uni-Kram und alles andere irgendwie fertig zu bekommen und habe dabei stndig dich im Kopf (Und natrlich Oscar). Ich werde euch beide sehr vermissen.\r
\r
Ich wei, dass du bald dein Studium anfngst. Ich htte dich so gern dabei begleitet, dich in der Uni herumgefhrt, vielleicht zusammen eine Pizza mit dir essen, aber ich bin dann leider 1863 Kilometer weit weg. Aber ich verspreche dir: Ich denke an dich. Jeden Tag. In den kleinen Momenten. Wenn ich meinen trockenen Toast esse, der niemals an die Crepes von deiner Mama rankommt. Oder wenn ich daran denke, wie wir zusammen bei dir lagen und Oscar versucht hat, uns mit seinem Autismus wegzuignorieren.\r
\r
Ich bin gespannt, wie gut Mara und Bona Deutsch sprechen, wenn ich zurckkomme. Vielleicht knnen wir dann schon richtige Gesprche fhren?\r
\r
Wir sind jetzt, wenn du das liest, wahrscheinlich seit **1 Jahr, 5 Monaten und 8 Tagen** zusammen. **526 Tage**. Und mittlerweile kenne ich dich besser, als jeden Menschen, den ich jemals kannte. Erst so kurz, obwohl wir schon so viel gemacht haben, so viel zusammen erlebt, so viel zusammen gelacht, geweint. Ich glaube, ich habe noch nie jemanden so vermisst, bevor ich berhaupt weg war.\r
\r
Wenn du mal einen schlechten Tag hast, dann denk bitte daran, dass du unfassbar stark bist. Guck doch mal, was du schon alles erlebt hast und trotzdem noch weitermachst. Und denk daran, dass du der liebevollste, schnste, seste Mensch bist, den ich kenne.\r
\r
Wenn du mich brauchst  ruf mich an. Wenn du weinst  schreib mir. Wenn du lachst  erzhl mir warum. Und wenn ich in Porto bin  dann nehme ich dich mit meinem Handy mit. Wir knnen zusammen die Stadt erkunden und zusammen die Sonnenuntergnge anschauen. Ich freu mich schon so sehr darauf, dir das alles zu zeigen, auch wenn du dich da sowieso besser auskennst als ich.\r
\r
Ich liebe dich.\r
\r
Und ich bin sehr, sehr froh, dass du in meinem Leben bist.\r
\r
Bebi'igste Gre, dein Webi.\r
`,V5="",z5="",U5="",B5="",Bv=new Date(2025,7,14,9,0,0),j5=new Date(2025,11,24,12,0,0),q1=new Date(2026,0,31,18,0,0),F5=[{id:1,title:"Loveletter #1 - Die Abreise",unlock:Bv,alwaysOpen:!0,teaser:"Der erste Tag ohne dich. Die Reise hat begonnen...",content:N5},{id:2,title:"Loveletter #2 - Erste Eindrcke",unlock:new Date(2025,8,15,18,0,0),alwaysOpen:!1,teaser:"Die erste Zeit in Porto, die Orientierungswoche ist geschafft...",content:V5},{id:3,title:"Loveletter #3 - Happy Birthday!",unlock:new Date(2025,9,2,0,0,1),alwaysOpen:!1,teaser:"Ein Geburtstagsgru von mir an mich... und an dich.",content:z5},{id:4,title:"Loveletter #4 - Alles Liebe zum Geburtstag!",unlock:new Date(2025,10,10,0,0,1),alwaysOpen:!1,teaser:"Fr dich an deinem wichtigsten Tag.",content:U5},{id:5,title:"Loveletter #5 - Fast Weihnachten",unlock:new Date(2025,11,20,20,0,0),alwaysOpen:!1,teaser:"Ich packe schon fast die Koffer. Bald bin ich bei dir.",content:B5}];function jv(e){if(e<=0)return"Zeit ist um!";const t=Math.floor(e/1e3)%60,n=Math.floor(e/(1e3*60))%60,i=Math.floor(e/(1e3*60*60))%24;return`${Math.floor(e/(1e3*60*60*24))}d ${i}h ${n}m ${t}s`}function H5({letter:e,now:t,onOpen:n}){const i=e.alwaysOpen||t>=e.unlock.getTime(),s=e.unlock.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});return tt.jsxs(Yi.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative bg-white rounded-lg shadow-lg border border-subtle p-6 flex flex-col font-serif",children:[tt.jsx("div",{className:"absolute top-4 right-4 w-12 h-12 bg-amber-100/50 border-2 border-dashed border-amber-200 flex items-center justify-center transform -rotate-12",children:tt.jsx(cN,{className:"text-accent",size:24})}),tt.jsx("h3",{className:`text-xl font-bold text-text transition-all duration-500 ${i?"":"blur-sm select-none"}`,children:e.title}),tt.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-dashed border-subtle grid grid-cols-2 gap-4 text-sm",children:[tt.jsxs("div",{children:[tt.jsx("p",{className:"font-bold text-text/60",children:"DATUM"}),tt.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[tt.jsx(cf,{size:16,className:"text-text/60"}),tt.jsx("span",{className:"text-text",children:s})]})]}),tt.jsxs("div",{children:[tt.jsx("p",{className:"font-bold text-text/60",children:"TIMER"}),tt.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[tt.jsx(SC,{size:16,className:"text-text/60"}),tt.jsx("span",{className:`font-semibold ${i?"text-green-600":"text-red-700"}`,children:i?"Freigeschaltet":jv(e.unlock-t)})]})]})]}),tt.jsx("div",{className:"mt-6 flex justify-center",children:tt.jsx(t0,{mode:"wait",children:i?tt.jsxs(Yi.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},onClick:()=>n(e),className:"flex items-center gap-2 px-6 py-2 bg-primary text-white font-bold rounded-full shadow-md hover:bg-primary/90 transition-transform transform active:scale-95",children:[tt.jsx(SN,{size:18})," ffnen"]},"open"):tt.jsxs(Yi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-6 py-2 bg-red-800/10 text-red-800 font-bold rounded-full border border-red-800/20",children:[tt.jsx(vN,{size:16})," Versiegelt"]},"sealed")})})]})}function q5(){const[e,t]=U.useState(Date.now()),[n,i]=U.useState(null);U.useEffect(()=>{const u=setInterval(()=>t(Date.now()),1e3);return()=>clearInterval(u)},[]);const s=u=>{(u.alwaysOpen||e>=u.unlock.getTime())&&i(u)},a=Math.max(0,Math.min(100,Math.round((e-Bv.getTime())/(q1.getTime()-Bv.getTime())*100)));return tt.jsxs("div",{className:"w-full max-w-xl font-sans",children:[tt.jsxs("header",{className:"w-full mb-8",children:[tt.jsxs(Yi.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-between items-center mb-4",children:[tt.jsxs("div",{className:"flex gap-3 items-center",children:[tt.jsx(AN,{className:"text-primary",size:28}),tt.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-text",children:"Loveletter Portal "})]}),tt.jsx("div",{className:"text-xs text-text/70 font-medium",children:new Date(e).toLocaleDateString()})]}),tt.jsx(Yi.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"bg-white/80 rounded-2xl p-4 shadow-lg border border-subtle",children:tt.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center text-sm",children:[tt.jsxs("div",{children:[tt.jsx(cf,{className:"mx-auto text-primary/70"}),tt.jsx("p",{children:"Start"}),tt.jsx("p",{className:"font-bold",children:"14.08.25"})]}),tt.jsxs("div",{children:[tt.jsx(cf,{className:"mx-auto text-green-500"}),tt.jsx("p",{children:"Weihnachten"}),tt.jsx("p",{className:"font-bold",children:"24.12.25"}),tt.jsx("p",{className:"text-xs text-text/80",children:jv(j5-e)})]}),tt.jsxs("div",{children:[tt.jsx(cf,{className:"mx-auto text-accent"}),tt.jsx("p",{children:"Rckkehr"}),tt.jsx("p",{className:"font-bold",children:"31.01.26"}),tt.jsx("p",{className:"text-xs text-text/80",children:jv(q1-e)})]})]})}),tt.jsxs(Yi.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"mt-4 bg-white/80 p-3 rounded-xl shadow-lg flex justify-between items-center border border-subtle",children:[tt.jsx("span",{className:"text-sm font-medium",children:"Fortschritt"}),tt.jsx("div",{className:"w-2/3 bg-subtle rounded-full h-2.5 overflow-hidden",children:tt.jsx(Yi.div,{className:"h-full bg-gradient-to-r from-primary to-accent rounded-full",initial:{width:0},animate:{width:`${a}%`},transition:{duration:1.5,ease:"easeInOut"}})}),tt.jsxs("span",{className:"text-sm font-bold",children:[a,"%"]})]})]}),tt.jsx("main",{className:"w-full grid gap-6",children:F5.map(u=>tt.jsx(H5,{letter:u,now:e,onOpen:s},u.id))}),tt.jsx(t0,{children:n&&tt.jsx(Yi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50",onClick:()=>i(null),children:tt.jsxs(Yi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-background rounded-lg shadow-2xl w-full max-w-2xl flex flex-col max-h-[90vh] border border-subtle",onClick:u=>u.stopPropagation(),children:[tt.jsxs("div",{className:"flex-shrink-0 p-6 border-b border-subtle flex justify-between items-start",children:[tt.jsx("h2",{className:"font-handwriting font-bold text-4xl text-text",children:n.title}),tt.jsx("button",{onClick:()=>i(null),className:"text-primary font-sans font-semibold text-lg hover:text-accent transition",children:"Schlieen"})]}),tt.jsx("div",{className:"flex-grow p-6 sm:p-8 overflow-y-auto",children:tt.jsx("div",{className:"prose prose-xl prose-p:text-text/90 prose-p:leading-relaxed font-handwriting",children:tt.jsx(k5,{children:n.content})})})]})})})]})}const G5="modulepreload",W5=function(e){return"/loveletter/"+e},G1={},V_=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let m=function(y){return Promise.all(y.map(w=>Promise.resolve(w).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};var u=m;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");s=m(n.map(y=>{if(y=W5(y),y in G1)return;G1[y]=!0;const w=y.endsWith(".css"),T=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${T}`))return;const S=document.createElement("link");if(S.rel=w?"stylesheet":G5,w||(S.as="script"),S.crossOrigin="",S.href=y,p&&S.setAttribute("nonce",p),document.head.appendChild(S),w)return new Promise((D,V)=>{S.addEventListener("load",D),S.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${y}`)))})}))}function a(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return s.then(f=>{for(const p of f||[])p.status==="rejected"&&a(p.reason);return t().catch(a)})};function jP(e,t){const n=U.useRef(t);U.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Z5=1;function K5(e){return Object.freeze({__version:Z5,map:e})}function $5(e,t){return Object.freeze({...e,...t})}const S0=U.createContext(null);function x0(){const e=U.use(S0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Y5(e){function t(n,i){const{instance:s,context:a}=e(n).current;U.useImperativeHandle(i,()=>s);const{children:u}=n;return u==null?null:gi.createElement(S0,{value:a},u)}return U.forwardRef(t)}function X5(e){function t(n,i){const[s,a]=U.useState(!1),{instance:u}=e(n,a).current;U.useImperativeHandle(i,()=>u),U.useEffect(function(){s&&u.update()},[u,s,n.children]);const f=u._contentNode;return f?rc.createPortal(n.children,f):null}return U.forwardRef(t)}function Q5(e){function t(n,i){const{instance:s}=e(n).current;return U.useImperativeHandle(i,()=>s),null}return U.forwardRef(t)}function FP(e,t){const n=U.useRef(void 0);U.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function A0(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function J5(e,t){return function(i,s){const a=x0(),u=e(A0(i,a),a);return jP(a.map,i.attribution),FP(u.current,i.eventHandlers),t(u.current,a,i,s),u}}var nf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var tj=nf.exports,W1;function ej(){return W1||(W1=1,(function(e,t){(function(n,i){i(t)})(tj,(function(n){var i="1.9.4";function s(l){var h,_,E,A;for(_=1,E=arguments.length;_<E;_++){A=arguments[_];for(h in A)l[h]=A[h]}return l}var a=Object.create||(function(){function l(){}return function(h){return l.prototype=h,new l}})();function u(l,h){var _=Array.prototype.slice;if(l.bind)return l.bind.apply(l,_.call(arguments,1));var E=_.call(arguments,2);return function(){return l.apply(h,E.length?E.concat(_.call(arguments)):arguments)}}var f=0;function p(l){return"_leaflet_id"in l||(l._leaflet_id=++f),l._leaflet_id}function m(l,h,_){var E,A,z,Q;return Q=function(){E=!1,A&&(z.apply(_,A),A=!1)},z=function(){E?A=arguments:(l.apply(_,arguments),setTimeout(Q,h),E=!0)},z}function y(l,h,_){var E=h[1],A=h[0],z=E-A;return l===E&&_?l:((l-A)%z+z)%z+A}function w(){return!1}function T(l,h){if(h===!1)return l;var _=Math.pow(10,h===void 0?6:h);return Math.round(l*_)/_}function S(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function D(l){return S(l).split(/\s+/)}function V(l,h){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?a(l.options):{});for(var _ in h)l.options[_]=h[_];return l.options}function F(l,h,_){var E=[];for(var A in l)E.push(encodeURIComponent(_?A.toUpperCase():A)+"="+encodeURIComponent(l[A]));return(!h||h.indexOf("?")===-1?"?":"&")+E.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function Z(l,h){return l.replace(j,function(_,E){var A=h[E];if(A===void 0)throw new Error("No value provided for variable "+_);return typeof A=="function"&&(A=A(h)),A})}var q=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function nt(l,h){for(var _=0;_<l.length;_++)if(l[_]===h)return _;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var H=0;function I(l){var h=+new Date,_=Math.max(0,16-(h-H));return H=h+_,window.setTimeout(l,_)}var M=window.requestAnimationFrame||Y("RequestAnimationFrame")||I,K=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function N(l,h,_){if(_&&M===I)l.call(h);else return M.call(window,u(l,h))}function k(l){l&&K.call(window,l)}var O={__proto__:null,extend:s,create:a,bind:u,get lastId(){return f},stamp:p,throttle:m,wrapNum:y,falseFn:w,formatNum:T,trim:S,splitWords:D,setOptions:V,getParamString:F,template:Z,isArray:q,indexOf:nt,emptyImageUrl:X,requestFn:M,cancelFn:K,requestAnimFrame:N,cancelAnimFrame:k};function rt(){}rt.extend=function(l){var h=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=h.__super__=this.prototype,E=a(_);E.constructor=h,h.prototype=E;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(h[A]=this[A]);return l.statics&&s(h,l.statics),l.includes&&($(l.includes),s.apply(null,[E].concat(l.includes))),s(E,l),delete E.statics,delete E.includes,E.options&&(E.options=_.options?a(_.options):{},s(E.options,l.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var z=0,Q=E._initHooks.length;z<Q;z++)E._initHooks[z].call(this)}},h},rt.include=function(l){var h=this.prototype.options;return s(this.prototype,l),l.options&&(this.prototype.options=h,this.mergeOptions(l.options)),this},rt.mergeOptions=function(l){return s(this.prototype.options,l),this},rt.addInitHook=function(l){var h=Array.prototype.slice.call(arguments,1),_=typeof l=="function"?l:function(){this[l].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function $(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=q(l)?l:[l];for(var h=0;h<l.length;h++)l[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var et={on:function(l,h,_){if(typeof l=="object")for(var E in l)this._on(E,l[E],h);else{l=D(l);for(var A=0,z=l.length;A<z;A++)this._on(l[A],h,_)}return this},off:function(l,h,_){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var E in l)this._off(E,l[E],h);else{l=D(l);for(var A=arguments.length===1,z=0,Q=l.length;z<Q;z++)A?this._off(l[z]):this._off(l[z],h,_)}return this},_on:function(l,h,_,E){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(l,h,_)===!1){_===this&&(_=void 0);var A={fn:h,ctx:_};E&&(A.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(A)}},_off:function(l,h,_){var E,A,z;if(this._events&&(E=this._events[l],!!E)){if(arguments.length===1){if(this._firingCount)for(A=0,z=E.length;A<z;A++)E[A].fn=w;delete this._events[l];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var Q=this._listens(l,h,_);if(Q!==!1){var ut=E[Q];this._firingCount&&(ut.fn=w,this._events[l]=E=E.slice()),E.splice(Q,1)}}},fire:function(l,h,_){if(!this.listens(l,_))return this;var E=s({},h,{type:l,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var A=this._events[l];if(A){this._firingCount=this._firingCount+1||1;for(var z=0,Q=A.length;z<Q;z++){var ut=A[z],gt=ut.fn;ut.once&&this.off(l,gt,ut.ctx),gt.call(ut.ctx||this,E)}this._firingCount--}}return _&&this._propagateEvent(E),this},listens:function(l,h,_,E){typeof l!="string"&&console.warn('"string" type argument expected');var A=h;typeof h!="function"&&(E=!!h,A=void 0,_=void 0);var z=this._events&&this._events[l];if(z&&z.length&&this._listens(l,A,_)!==!1)return!0;if(E){for(var Q in this._eventParents)if(this._eventParents[Q].listens(l,h,_,E))return!0}return!1},_listens:function(l,h,_){if(!this._events)return!1;var E=this._events[l]||[];if(!h)return!!E.length;_===this&&(_=void 0);for(var A=0,z=E.length;A<z;A++)if(E[A].fn===h&&E[A].ctx===_)return A;return!1},once:function(l,h,_){if(typeof l=="object")for(var E in l)this._on(E,l[E],h,!0);else{l=D(l);for(var A=0,z=l.length;A<z;A++)this._on(l[A],h,_,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[p(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[p(l)],this},_propagateEvent:function(l){for(var h in this._eventParents)this._eventParents[h].fire(l.type,s({layer:l.target,propagatedFrom:l.target},l),!0)}};et.addEventListener=et.on,et.removeEventListener=et.clearAllEventListeners=et.off,et.addOneTimeEventListener=et.once,et.fireEvent=et.fire,et.hasEventListeners=et.listens;var it=rt.extend(et);function ot(l,h,_){this.x=_?Math.round(l):l,this.y=_?Math.round(h):h}var Ct=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};ot.prototype={clone:function(){return new ot(this.x,this.y)},add:function(l){return this.clone()._add(R(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(R(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new ot(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new ot(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ct(this.x),this.y=Ct(this.y),this},distanceTo:function(l){l=R(l);var h=l.x-this.x,_=l.y-this.y;return Math.sqrt(h*h+_*_)},equals:function(l){return l=R(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=R(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function R(l,h,_){return l instanceof ot?l:q(l)?new ot(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new ot(l.x,l.y):new ot(l,h,_)}function ct(l,h){if(l)for(var _=h?[l,h]:l,E=0,A=_.length;E<A;E++)this.extend(_[E])}ct.prototype={extend:function(l){var h,_;if(!l)return this;if(l instanceof ot||typeof l[0]=="number"||"x"in l)h=_=R(l);else if(l=_t(l),h=l.min,_=l.max,!h||!_)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=_.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(l){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var h,_;return typeof l[0]=="number"||l instanceof ot?l=R(l):l=_t(l),l instanceof ct?(h=l.min,_=l.max):h=_=l,h.x>=this.min.x&&_.x<=this.max.x&&h.y>=this.min.y&&_.y<=this.max.y},intersects:function(l){l=_t(l);var h=this.min,_=this.max,E=l.min,A=l.max,z=A.x>=h.x&&E.x<=_.x,Q=A.y>=h.y&&E.y<=_.y;return z&&Q},overlaps:function(l){l=_t(l);var h=this.min,_=this.max,E=l.min,A=l.max,z=A.x>h.x&&E.x<_.x,Q=A.y>h.y&&E.y<_.y;return z&&Q},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var h=this.min,_=this.max,E=Math.abs(h.x-_.x)*l,A=Math.abs(h.y-_.y)*l;return _t(R(h.x-E,h.y-A),R(_.x+E,_.y+A))},equals:function(l){return l?(l=_t(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function _t(l,h){return!l||l instanceof ct?l:new ct(l,h)}function G(l,h){if(l)for(var _=h?[l,h]:l,E=0,A=_.length;E<A;E++)this.extend(_[E])}G.prototype={extend:function(l){var h=this._southWest,_=this._northEast,E,A;if(l instanceof kt)E=l,A=l;else if(l instanceof G){if(E=l._southWest,A=l._northEast,!E||!A)return this}else return l?this.extend(Tt(l)||Rt(l)):this;return!h&&!_?(this._southWest=new kt(E.lat,E.lng),this._northEast=new kt(A.lat,A.lng)):(h.lat=Math.min(E.lat,h.lat),h.lng=Math.min(E.lng,h.lng),_.lat=Math.max(A.lat,_.lat),_.lng=Math.max(A.lng,_.lng)),this},pad:function(l){var h=this._southWest,_=this._northEast,E=Math.abs(h.lat-_.lat)*l,A=Math.abs(h.lng-_.lng)*l;return new G(new kt(h.lat-E,h.lng-A),new kt(_.lat+E,_.lng+A))},getCenter:function(){return new kt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new kt(this.getNorth(),this.getWest())},getSouthEast:function(){return new kt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof kt||"lat"in l?l=Tt(l):l=Rt(l);var h=this._southWest,_=this._northEast,E,A;return l instanceof G?(E=l.getSouthWest(),A=l.getNorthEast()):E=A=l,E.lat>=h.lat&&A.lat<=_.lat&&E.lng>=h.lng&&A.lng<=_.lng},intersects:function(l){l=Rt(l);var h=this._southWest,_=this._northEast,E=l.getSouthWest(),A=l.getNorthEast(),z=A.lat>=h.lat&&E.lat<=_.lat,Q=A.lng>=h.lng&&E.lng<=_.lng;return z&&Q},overlaps:function(l){l=Rt(l);var h=this._southWest,_=this._northEast,E=l.getSouthWest(),A=l.getNorthEast(),z=A.lat>h.lat&&E.lat<_.lat,Q=A.lng>h.lng&&E.lng<_.lng;return z&&Q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,h){return l?(l=Rt(l),this._southWest.equals(l.getSouthWest(),h)&&this._northEast.equals(l.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Rt(l,h){return l instanceof G?l:new G(l,h)}function kt(l,h,_){if(isNaN(l)||isNaN(h))throw new Error("Invalid LatLng object: ("+l+", "+h+")");this.lat=+l,this.lng=+h,_!==void 0&&(this.alt=+_)}kt.prototype={equals:function(l,h){if(!l)return!1;l=Tt(l);var _=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return _<=(h===void 0?1e-9:h)},toString:function(l){return"LatLng("+T(this.lat,l)+", "+T(this.lng,l)+")"},distanceTo:function(l){return Ft.distance(this,Tt(l))},wrap:function(){return Ft.wrapLatLng(this)},toBounds:function(l){var h=180*l/40075017,_=h/Math.cos(Math.PI/180*this.lat);return Rt([this.lat-h,this.lng-_],[this.lat+h,this.lng+_])},clone:function(){return new kt(this.lat,this.lng,this.alt)}};function Tt(l,h,_){return l instanceof kt?l:q(l)&&typeof l[0]!="object"?l.length===3?new kt(l[0],l[1],l[2]):l.length===2?new kt(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new kt(l.lat,"lng"in l?l.lng:l.lon,l.alt):h===void 0?null:new kt(l,h,_)}var le={latLngToPoint:function(l,h){var _=this.projection.project(l),E=this.scale(h);return this.transformation._transform(_,E)},pointToLatLng:function(l,h){var _=this.scale(h),E=this.transformation.untransform(l,_);return this.projection.unproject(E)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var h=this.projection.bounds,_=this.scale(l),E=this.transformation.transform(h.min,_),A=this.transformation.transform(h.max,_);return new ct(E,A)},infinite:!1,wrapLatLng:function(l){var h=this.wrapLng?y(l.lng,this.wrapLng,!0):l.lng,_=this.wrapLat?y(l.lat,this.wrapLat,!0):l.lat,E=l.alt;return new kt(_,h,E)},wrapLatLngBounds:function(l){var h=l.getCenter(),_=this.wrapLatLng(h),E=h.lat-_.lat,A=h.lng-_.lng;if(E===0&&A===0)return l;var z=l.getSouthWest(),Q=l.getNorthEast(),ut=new kt(z.lat-E,z.lng-A),gt=new kt(Q.lat-E,Q.lng-A);return new G(ut,gt)}},Ft=s({},le,{wrapLng:[-180,180],R:6371e3,distance:function(l,h){var _=Math.PI/180,E=l.lat*_,A=h.lat*_,z=Math.sin((h.lat-l.lat)*_/2),Q=Math.sin((h.lng-l.lng)*_/2),ut=z*z+Math.cos(E)*Math.cos(A)*Q*Q,gt=2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut));return this.R*gt}}),Ce=6378137,Yt={R:Ce,MAX_LATITUDE:85.0511287798,project:function(l){var h=Math.PI/180,_=this.MAX_LATITUDE,E=Math.max(Math.min(_,l.lat),-_),A=Math.sin(E*h);return new ot(this.R*l.lng*h,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(l){var h=180/Math.PI;return new kt((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*h,l.x*h/this.R)},bounds:(function(){var l=Ce*Math.PI;return new ct([-l,-l],[l,l])})()};function nn(l,h,_,E){if(q(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=h,this._c=_,this._d=E}nn.prototype={transform:function(l,h){return this._transform(l.clone(),h)},_transform:function(l,h){return h=h||1,l.x=h*(this._a*l.x+this._b),l.y=h*(this._c*l.y+this._d),l},untransform:function(l,h){return h=h||1,new ot((l.x/h-this._b)/this._a,(l.y/h-this._d)/this._c)}};function Ge(l,h,_,E){return new nn(l,h,_,E)}var Nn=s({},Ft,{code:"EPSG:3857",projection:Yt,transformation:(function(){var l=.5/(Math.PI*Yt.R);return Ge(l,.5,-l,.5)})()}),Rn=s({},Nn,{code:"EPSG:900913"});function ri(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function yi(l,h){var _="",E,A,z,Q,ut,gt;for(E=0,z=l.length;E<z;E++){for(ut=l[E],A=0,Q=ut.length;A<Q;A++)gt=ut[A],_+=(A?"L":"M")+gt.x+" "+gt.y;_+=h?Nt.svg?"z":"x":""}return _||"M0 0"}var yn=document.documentElement.style,mr="ActiveXObject"in window,Qi=mr&&!document.addEventListener,Cn="msLaunchUri"in navigator&&!("documentMode"in document),si=bn("webkit"),gr=bn("android"),Ji=bn("android 2")||bn("android 3"),jr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ls=gr&&bn("Google")&&jr<537&&!("AudioNode"in window),mt=!!window.opera,wt=!Cn&&bn("chrome"),Lt=bn("gecko")&&!si&&!mt&&!mr,Bt=!wt&&bn("safari"),ce=bn("phantom"),je="OTransition"in yn,Vn=navigator.platform.indexOf("Win")===0,_n=mr&&"transition"in yn,Xn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ji,rn="MozPerspective"in yn,tn=!window.L_DISABLE_3D&&(_n||Xn||rn)&&!je&&!ce,vn=typeof orientation<"u"||bn("mobile"),zn=vn&&si,_o=vn&&Xn,Ns=!window.PointerEvent&&window.MSPointerEvent,tr=!!(window.PointerEvent||Ns),Me="ontouchstart"in window||!!window.TouchEvent,In=!window.L_NO_TOUCH&&(Me||tr),We=vn&&mt,Ci=vn&&Lt,hn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wn=(function(){var l=!1;try{var h=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",w,h),window.removeEventListener("testPassiveEventSupport",w,h)}catch{}return l})(),Pn=(function(){return!!document.createElement("canvas").getContext})(),ji=!!(document.createElementNS&&ri("svg").createSVGRect),ie=!!ji&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ie=!ji&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var h=l.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),Se=navigator.platform.indexOf("Mac")===0,sn=navigator.platform.indexOf("Linux")===0;function bn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Nt={ie:mr,ielt9:Qi,edge:Cn,webkit:si,android:gr,android23:Ji,androidStock:Ls,opera:mt,chrome:wt,gecko:Lt,safari:Bt,phantom:ce,opera12:je,win:Vn,ie3d:_n,webkit3d:Xn,gecko3d:rn,any3d:tn,mobile:vn,mobileWebkit:zn,mobileWebkit3d:_o,msPointer:Ns,pointer:tr,touch:In,touchNative:Me,mobileOpera:We,mobileGecko:Ci,retina:hn,passiveEvents:wn,canvas:Pn,svg:ji,vml:Ie,inlineSvg:ie,mac:Se,linux:sn},Un=Nt.msPointer?"MSPointerDown":"pointerdown",yr=Nt.msPointer?"MSPointerMove":"pointermove",er=Nt.msPointer?"MSPointerUp":"pointerup",hs=Nt.msPointer?"MSPointerCancel":"pointercancel",_r={touchstart:Un,touchmove:yr,touchend:er,touchcancel:hs},vr={touchstart:wo,touchmove:vo,touchend:vo,touchcancel:vo},_i={},oi=!1;function fn(l,h,_){return h==="touchstart"&&mu(),vr[h]?(_=vr[h].bind(this,_),l.addEventListener(_r[h],_,!1),_):(console.warn("wrong event specified:",h),w)}function vl(l,h,_){if(!_r[h]){console.warn("wrong event specified:",h);return}l.removeEventListener(_r[h],_,!1)}function Qo(l){_i[l.pointerId]=l}function wr(l){_i[l.pointerId]&&(_i[l.pointerId]=l)}function Fr(l){delete _i[l.pointerId]}function mu(){oi||(document.addEventListener(Un,Qo,!0),document.addEventListener(yr,wr,!0),document.addEventListener(er,Fr,!0),document.addEventListener(hs,Fr,!0),oi=!0)}function vo(l,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var _ in _i)h.touches.push(_i[_]);h.changedTouches=[h],l(h)}}function wo(l,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ve(h),vo(l,h)}function gu(l){var h={},_,E;for(E in l)_=l[E],h[E]=_&&_.bind?_.bind(l):_;return l=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Vs=200;function Hr(l,h){l.addEventListener("dblclick",h);var _=0,E;function A(z){if(z.detail!==1){E=z.detail;return}if(!(z.pointerType==="mouse"||z.sourceCapabilities&&!z.sourceCapabilities.firesTouchEvents)){var Q=ea(z);if(!(Q.some(function(gt){return gt instanceof HTMLLabelElement&&gt.attributes.for})&&!Q.some(function(gt){return gt instanceof HTMLInputElement||gt instanceof HTMLSelectElement}))){var ut=Date.now();ut-_<=Vs?(E++,E===2&&h(gu(z))):E=1,_=ut}}}return l.addEventListener("click",A),{dblclick:h,simDblclick:A}}function Qn(l,h){l.removeEventListener("dblclick",h.dblclick),l.removeEventListener("click",h.simDblclick)}var fs=br(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zs=br(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qr=zs==="webkitTransition"||zs==="OTransition"?zs+"End":"transitionend";function bo(l){return typeof l=="string"?document.getElementById(l):l}function Gr(l,h){var _=l.style[h]||l.currentStyle&&l.currentStyle[h];if((!_||_==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(l,null);_=E?E[h]:null}return _==="auto"?null:_}function he(l,h,_){var E=document.createElement(l);return E.className=h||"",_&&_.appendChild(E),E}function Pe(l){var h=l.parentNode;h&&h.removeChild(l)}function Bn(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function Wr(l){var h=l.parentNode;h&&h.lastChild!==l&&h.appendChild(l)}function Us(l){var h=l.parentNode;h&&h.firstChild!==l&&h.insertBefore(l,h.firstChild)}function Bs(l,h){if(l.classList!==void 0)return l.classList.contains(h);var _=en(l);return _.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(_)}function ee(l,h){if(l.classList!==void 0)for(var _=D(h),E=0,A=_.length;E<A;E++)l.classList.add(_[E]);else if(!Bs(l,h)){var z=en(l);wl(l,(z?z+" ":"")+h)}}function Oe(l,h){l.classList!==void 0?l.classList.remove(h):wl(l,S((" "+en(l)+" ").replace(" "+h+" "," ")))}function wl(l,h){l.className.baseVal===void 0?l.className=h:l.className.baseVal=h}function en(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Ze(l,h){"opacity"in l.style?l.style.opacity=h:"filter"in l.style&&To(l,h)}function To(l,h){var _=!1,E="DXImageTransform.Microsoft.Alpha";try{_=l.filters.item(E)}catch{if(h===1)return}h=Math.round(h*100),_?(_.Enabled=h!==100,_.Opacity=h):l.style.filter+=" progid:"+E+"(opacity="+h+")"}function br(l){for(var h=document.documentElement.style,_=0;_<l.length;_++)if(l[_]in h)return l[_];return!1}function vi(l,h,_){var E=h||new ot(0,0);l.style[fs]=(Nt.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(_?" scale("+_+")":"")}function Zt(l,h){l._leaflet_pos=h,Nt.any3d?vi(l,h):(l.style.left=h.x+"px",l.style.top=h.y+"px")}function Fi(l){return l._leaflet_pos||new ot(0,0)}var ai,Tr,Jo;if("onselectstart"in document)ai=function(){qt(window,"selectstart",Ve)},Tr=function(){be(window,"selectstart",Ve)};else{var ds=br(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ai=function(){if(ds){var l=document.documentElement.style;Jo=l[ds],l[ds]="none"}},Tr=function(){ds&&(document.documentElement.style[ds]=Jo,Jo=void 0)}}function Eo(){qt(window,"dragstart",Ve)}function bl(){be(window,"dragstart",Ve)}var ta,js;function Er(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(wi(),ta=l,js=l.style.outlineStyle,l.style.outlineStyle="none",qt(window,"keydown",wi))}function wi(){ta&&(ta.style.outlineStyle=js,ta=void 0,js=void 0,be(window,"keydown",wi))}function Zr(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function Sr(l){var h=l.getBoundingClientRect();return{x:h.width/l.offsetWidth||1,y:h.height/l.offsetHeight||1,boundingClientRect:h}}var Tl={__proto__:null,TRANSFORM:fs,TRANSITION:zs,TRANSITION_END:qr,get:bo,getStyle:Gr,create:he,remove:Pe,empty:Bn,toFront:Wr,toBack:Us,hasClass:Bs,addClass:ee,removeClass:Oe,setClass:wl,getClass:en,setOpacity:Ze,testProp:br,setTransform:vi,setPosition:Zt,getPosition:Fi,get disableTextSelection(){return ai},get enableTextSelection(){return Tr},disableImageDrag:Eo,enableImageDrag:bl,preventOutline:Er,restoreOutline:wi,getSizedParentNode:Zr,getScale:Sr};function qt(l,h,_,E){if(h&&typeof h=="object")for(var A in h)ps(l,A,h[A],_);else{h=D(h);for(var z=0,Q=h.length;z<Q;z++)ps(l,h[z],_,E)}return this}var Hi="_leaflet_events";function be(l,h,_,E){if(arguments.length===1)nr(l),delete l[Hi];else if(h&&typeof h=="object")for(var A in h)ir(l,A,h[A],_);else if(h=D(h),arguments.length===2)nr(l,function(ut){return nt(h,ut)!==-1});else for(var z=0,Q=h.length;z<Q;z++)ir(l,h[z],_,E);return this}function nr(l,h){for(var _ in l[Hi]){var E=_.split(/\d/)[0];(!h||h(E))&&ir(l,E,null,null,_)}}var Ii={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ps(l,h,_,E){var A=h+p(_)+(E?"_"+p(E):"");if(l[Hi]&&l[Hi][A])return this;var z=function(ut){return _.call(E||l,ut||window.event)},Q=z;!Nt.touchNative&&Nt.pointer&&h.indexOf("touch")===0?z=fn(l,h,z):Nt.touch&&h==="dblclick"?z=Hr(l,z):"addEventListener"in l?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?l.addEventListener(Ii[h]||h,z,Nt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(z=function(ut){ut=ut||window.event,gs(l,ut)&&Q(ut)},l.addEventListener(Ii[h],z,!1)):l.addEventListener(h,Q,!1):l.attachEvent("on"+h,z),l[Hi]=l[Hi]||{},l[Hi][A]=z}function ir(l,h,_,E,A){A=A||h+p(_)+(E?"_"+p(E):"");var z=l[Hi]&&l[Hi][A];if(!z)return this;!Nt.touchNative&&Nt.pointer&&h.indexOf("touch")===0?vl(l,h,z):Nt.touch&&h==="dblclick"?Qn(l,z):"removeEventListener"in l?l.removeEventListener(Ii[h]||h,z,!1):l.detachEvent("on"+h,z),l[Hi][A]=null}function Pi(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function xr(l){return ps(l,"wheel",Pi),this}function ms(l){return qt(l,"mousedown touchstart dblclick contextmenu",Pi),l._leaflet_disable_click=!0,this}function Ve(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function li(l){return Ve(l),Pi(l),this}function ea(l){if(l.composedPath)return l.composedPath();for(var h=[],_=l.target;_;)h.push(_),_=_.parentNode;return h}function kn(l,h){if(!h)return new ot(l.clientX,l.clientY);var _=Sr(h),E=_.boundingClientRect;return new ot((l.clientX-E.left)/_.x-h.clientLeft,(l.clientY-E.top)/_.y-h.clientTop)}var xe=Nt.linux&&Nt.chrome?window.devicePixelRatio:Nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function So(l){return Nt.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/xe:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function gs(l,h){var _=h.relatedTarget;if(!_)return!0;try{for(;_&&_!==l;)_=_.parentNode}catch{return!1}return _!==l}var yu={__proto__:null,on:qt,off:be,stopPropagation:Pi,disableScrollPropagation:xr,disableClickPropagation:ms,preventDefault:Ve,stop:li,getPropagationPath:ea,getMousePosition:kn,getWheelDelta:So,isExternalTarget:gs,addListener:qt,removeListener:be},xo=it.extend({run:function(l,h,_,E){this.stop(),this._el=l,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=Fi(l),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(l){var h=+new Date-this._startTime,_=this._duration*1e3;h<_?this._runFrame(this._easeOut(h/_),l):(this._runFrame(1),this._complete())},_runFrame:function(l,h){var _=this._startPos.add(this._offset.multiplyBy(l));h&&_._round(),Zt(this._el,_),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),se=it.extend({options:{crs:Nn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,h){h=V(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Tt(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zs&&Nt.any3d&&!Nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),qt(this._proxy,qr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,h,_){if(h=h===void 0?this._zoom:this._limitZoom(h),l=this._limitCenter(Tt(l),h,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=s({animate:_.animate},_.zoom),_.pan=s({animate:_.animate,duration:_.duration},_.pan));var E=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,h,_.zoom):this._tryAnimatedPan(l,_.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(l,h,_.pan&&_.pan.noMoveStart),this},setZoom:function(l,h){return this._loaded?this.setView(this.getCenter(),l,{zoom:h}):(this._zoom=l,this)},zoomIn:function(l,h){return l=l||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,h)},zoomOut:function(l,h){return l=l||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,h)},setZoomAround:function(l,h,_){var E=this.getZoomScale(h),A=this.getSize().divideBy(2),z=l instanceof ot?l:this.latLngToContainerPoint(l),Q=z.subtract(A).multiplyBy(1-1/E),ut=this.containerPointToLatLng(A.add(Q));return this.setView(ut,h,{zoom:_})},_getBoundsCenterZoom:function(l,h){h=h||{},l=l.getBounds?l.getBounds():Rt(l);var _=R(h.paddingTopLeft||h.padding||[0,0]),E=R(h.paddingBottomRight||h.padding||[0,0]),A=this.getBoundsZoom(l,!1,_.add(E));if(A=typeof h.maxZoom=="number"?Math.min(h.maxZoom,A):A,A===1/0)return{center:l.getCenter(),zoom:A};var z=E.subtract(_).divideBy(2),Q=this.project(l.getSouthWest(),A),ut=this.project(l.getNorthEast(),A),gt=this.unproject(Q.add(ut).divideBy(2).add(z),A);return{center:gt,zoom:A}},fitBounds:function(l,h){if(l=Rt(l),!l.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(l,h);return this.setView(_.center,_.zoom,h)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,h){return this.setView(l,this._zoom,{pan:h})},panBy:function(l,h){if(l=R(l).round(),h=h||{},!l.x&&!l.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new xo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){ee(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,_,h.duration||.25,h.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,h,_){if(_=_||{},_.animate===!1||!Nt.any3d)return this.setView(l,h,_);this._stop();var E=this.project(this.getCenter()),A=this.project(l),z=this.getSize(),Q=this._zoom;l=Tt(l),h=h===void 0?Q:h;var ut=Math.max(z.x,z.y),gt=ut*this.getZoomScale(Q,h),At=A.distanceTo(E)||1,Dt=1.42,Vt=Dt*Dt;function Ut(on){var ts=on?-1:1,Ts=on?gt:ut,Zs=gt*gt-ut*ut+ts*Vt*Vt*At*At,Es=2*Ts*Vt*At,Vl=Zs/Es,Pu=Math.sqrt(Vl*Vl+1)-Vl,zl=Pu<1e-9?-18:Math.log(Pu);return zl}function Jt(on){return(Math.exp(on)-Math.exp(-on))/2}function $e(on){return(Math.exp(on)+Math.exp(-on))/2}function dn(on){return Jt(on)/$e(on)}var ci=Ut(0);function rr(on){return ut*($e(ci)/$e(ci+Dt*on))}function Rd(on){return ut*($e(ci)*dn(ci+Dt*on)-Jt(ci))/Vt}function Cd(on){return 1-Math.pow(1-on,1.5)}var Nl=Date.now(),_a=(Ut(1)-ci)/Dt,Id=_.duration?1e3*_.duration:1e3*_a*.8;function va(){var on=(Date.now()-Nl)/Id,ts=Cd(on)*_a;on<=1?(this._flyToFrame=N(va,this),this._move(this.unproject(E.add(A.subtract(E).multiplyBy(Rd(ts)/At)),Q),this.getScaleZoom(ut/rr(ts),Q),{flyTo:!0})):this._move(l,h)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),va.call(this),this},flyToBounds:function(l,h){var _=this._getBoundsCenterZoom(l,h);return this.flyTo(_.center,_.zoom,h)},setMaxBounds:function(l){return l=Rt(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var h=this.options.minZoom;return this.options.minZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var h=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,h){this._enforcingBounds=!0;var _=this.getCenter(),E=this._limitCenter(_,this._zoom,Rt(l));return _.equals(E)||this.panTo(E,h),this._enforcingBounds=!1,this},panInside:function(l,h){h=h||{};var _=R(h.paddingTopLeft||h.padding||[0,0]),E=R(h.paddingBottomRight||h.padding||[0,0]),A=this.project(this.getCenter()),z=this.project(l),Q=this.getPixelBounds(),ut=_t([Q.min.add(_),Q.max.subtract(E)]),gt=ut.getSize();if(!ut.contains(z)){this._enforcingBounds=!0;var At=z.subtract(ut.getCenter()),Dt=ut.extend(z).getSize().subtract(gt);A.x+=At.x<0?-Dt.x:Dt.x,A.y+=At.y<0?-Dt.y:Dt.y,this.panTo(this.unproject(A),h),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=s({animate:!1,pan:!0},l===!0?{animate:!0}:l);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),E=h.divideBy(2).round(),A=_.divideBy(2).round(),z=E.subtract(A);return!z.x&&!z.y?this:(l.animate&&l.pan?this.panBy(z):(l.pan&&this._rawPanBy(z),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=s({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=u(this._handleGeolocationResponse,this),_=u(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,_,l):navigator.geolocation.getCurrentPosition(h,_,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var h=l.code,_=l.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var h=l.coords.latitude,_=l.coords.longitude,E=new kt(h,_),A=E.toBounds(l.coords.accuracy*2),z=this._locateOptions;if(z.setView){var Q=this.getBoundsZoom(A);this.setView(E,z.maxZoom?Math.min(Q,z.maxZoom):Q)}var ut={latlng:E,bounds:A,timestamp:l.timestamp};for(var gt in l.coords)typeof l.coords[gt]=="number"&&(ut[gt]=l.coords[gt]);this.fire("locationfound",ut)}},addHandler:function(l,h){if(!h)return this;var _=this[l]=new h(this);return this._handlers.push(_),this.options[l]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)Pe(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,h){var _="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),E=he("div",_,h||this._mapPane);return l&&(this._panes[l]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),h=this.unproject(l.getBottomLeft()),_=this.unproject(l.getTopRight());return new G(h,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,h,_){l=Rt(l),_=R(_||[0,0]);var E=this.getZoom()||0,A=this.getMinZoom(),z=this.getMaxZoom(),Q=l.getNorthWest(),ut=l.getSouthEast(),gt=this.getSize().subtract(_),At=_t(this.project(ut,E),this.project(Q,E)).getSize(),Dt=Nt.any3d?this.options.zoomSnap:1,Vt=gt.x/At.x,Ut=gt.y/At.y,Jt=h?Math.max(Vt,Ut):Math.min(Vt,Ut);return E=this.getScaleZoom(Jt,E),Dt&&(E=Math.round(E/(Dt/100))*(Dt/100),E=h?Math.ceil(E/Dt)*Dt:Math.floor(E/Dt)*Dt),Math.max(A,Math.min(z,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ot(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,h){var _=this._getTopLeftPoint(l,h);return new ct(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,h){var _=this.options.crs;return h=h===void 0?this._zoom:h,_.scale(l)/_.scale(h)},getScaleZoom:function(l,h){var _=this.options.crs;h=h===void 0?this._zoom:h;var E=_.zoom(l*_.scale(h));return isNaN(E)?1/0:E},project:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Tt(l),h)},unproject:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(R(l),h)},layerPointToLatLng:function(l){var h=R(l).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(l){var h=this.project(Tt(l))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(Tt(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(Rt(l))},distance:function(l,h){return this.options.crs.distance(Tt(l),Tt(h))},containerPointToLayerPoint:function(l){return R(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return R(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var h=this.containerPointToLayerPoint(R(l));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(l)))},mouseEventToContainerPoint:function(l){return kn(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var h=this._container=bo(l);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");qt(h,"scroll",this._onScroll,this),this._containerId=p(h)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Nt.any3d,ee(l,"leaflet-container"+(Nt.touch?" leaflet-touch":"")+(Nt.retina?" leaflet-retina":"")+(Nt.ielt9?" leaflet-oldie":"")+(Nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Gr(l,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Zt(this._mapPane,new ot(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ee(l.markerPane,"leaflet-zoom-hide"),ee(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,h,_){Zt(this._mapPane,new ot(0,0));var E=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var A=this._zoom!==h;this._moveStart(A,_)._move(l,h)._moveEnd(A),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(l,h){return l&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(l,h,_,E){h===void 0&&(h=this._zoom);var A=this._zoom!==h;return this._zoom=h,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),E?_&&_.pinch&&this.fire("zoom",_):((A||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Zt(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[p(this._container)]=this;var h=l?be:qt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Nt.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,h){for(var _=[],E,A=h==="mouseout"||h==="mouseover",z=l.target||l.srcElement,Q=!1;z;){if(E=this._targets[p(z)],E&&(h==="click"||h==="preclick")&&this._draggableMoved(E)){Q=!0;break}if(E&&E.listens(h,!0)&&(A&&!gs(z,l)||(_.push(E),A))||z===this._container)break;z=z.parentNode}return!_.length&&!Q&&!A&&this.listens(h,!0)&&(_=[this]),_},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var h=l.target||l.srcElement;if(!(!this._loaded||h._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(h))){var _=l.type;_==="mousedown"&&Er(h),this._fireDOMEvent(l,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,h,_){if(l.type==="click"){var E=s({},l);E.type="preclick",this._fireDOMEvent(E,E.type,_)}var A=this._findEventTargets(l,h);if(_){for(var z=[],Q=0;Q<_.length;Q++)_[Q].listens(h,!0)&&z.push(_[Q]);A=z.concat(A)}if(A.length){h==="contextmenu"&&Ve(l);var ut=A[0],gt={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var At=ut.getLatLng&&(!ut._radius||ut._radius<=10);gt.containerPoint=At?this.latLngToContainerPoint(ut.getLatLng()):this.mouseEventToContainerPoint(l),gt.layerPoint=this.containerPointToLayerPoint(gt.containerPoint),gt.latlng=At?ut.getLatLng():this.layerPointToLatLng(gt.layerPoint)}for(Q=0;Q<A.length;Q++)if(A[Q].fire(h,gt,!0),gt.originalEvent._stopped||A[Q].options.bubblingMouseEvents===!1&&nt(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,h=this._handlers.length;l<h;l++)this._handlers[l].disable()},whenReady:function(l,h){return this._loaded?l.call(h||this,{target:this}):this.on("load",l,h),this},_getMapPanePos:function(){return Fi(this._mapPane)||new ot(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,h){var _=l&&h!==void 0?this._getNewPixelOrigin(l,h):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,h){var _=this.getSize()._divideBy(2);return this.project(l,h)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,h,_){var E=this._getNewPixelOrigin(_,h);return this.project(l,h)._subtract(E)},_latLngBoundsToNewLayerBounds:function(l,h,_){var E=this._getNewPixelOrigin(_,h);return _t([this.project(l.getSouthWest(),h)._subtract(E),this.project(l.getNorthWest(),h)._subtract(E),this.project(l.getSouthEast(),h)._subtract(E),this.project(l.getNorthEast(),h)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,h,_){if(!_)return l;var E=this.project(l,h),A=this.getSize().divideBy(2),z=new ct(E.subtract(A),E.add(A)),Q=this._getBoundsOffset(z,_,h);return Math.abs(Q.x)<=1&&Math.abs(Q.y)<=1?l:this.unproject(E.add(Q),h)},_limitOffset:function(l,h){if(!h)return l;var _=this.getPixelBounds(),E=new ct(_.min.add(l),_.max.add(l));return l.add(this._getBoundsOffset(E,h))},_getBoundsOffset:function(l,h,_){var E=_t(this.project(h.getNorthEast(),_),this.project(h.getSouthWest(),_)),A=E.min.subtract(l.min),z=E.max.subtract(l.max),Q=this._rebound(A.x,-z.x),ut=this._rebound(A.y,-z.y);return new ot(Q,ut)},_rebound:function(l,h){return l+h>0?Math.round(l-h)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(h))},_limitZoom:function(l){var h=this.getMinZoom(),_=this.getMaxZoom(),E=Nt.any3d?this.options.zoomSnap:1;return E&&(l=Math.round(l/E)*E),Math.max(h,Math.min(_,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,h){var _=this._getCenterOffset(l)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,h),!0)},_createAnimProxy:function(){var l=this._proxy=he("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(h){var _=fs,E=this._proxy.style[_];vi(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),E===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),h=this.getZoom();vi(this._proxy,this.project(l,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,h,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(h),A=this._getCenterOffset(l)._divideBy(1-1/E);return _.animate!==!0&&!this.getSize().contains(A)?!1:(N(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(l,h,!0)},this),!0)},_animateZoom:function(l,h,_,E){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=h,ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:h,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Kr(l,h){return new se(l,h)}var Jn=rt.extend({options:{position:"topright"},initialize:function(l){V(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var h=this._map;return h&&h.removeControl(this),this.options.position=l,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var h=this._container=this.onAdd(l),_=this.getPosition(),E=l._controlCorners[_];return ee(h,"leaflet-control"),_.indexOf("bottom")!==-1?E.insertBefore(h,E.firstChild):E.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),ui=function(l){return new Jn(l)};se.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},h="leaflet-",_=this._controlContainer=he("div",h+"control-container",this._container);function E(A,z){var Q=h+A+" "+h+z;l[A+z]=he("div",Q,_)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)Pe(this._controlCorners[l]);Pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var El=Jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,h,_,E){return _<E?-1:E<_?1:0}},initialize:function(l,h,_){V(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in l)this._addLayer(l[E],E);for(E in h)this._addLayer(h[E],E,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return Jn.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,h){return this._addLayer(l,h),this._map?this._update():this},addOverlay:function(l,h){return this._addLayer(l,h,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var h=this._getLayer(p(l));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",h=this._container=he("div",l),_=this.options.collapsed;h.setAttribute("aria-haspopup",!0),ms(h),xr(h);var E=this._section=he("section",l+"-list");_&&(this._map.on("click",this.collapse,this),qt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=he("a",l+"-toggle",h);A.href="#",A.title="Layers",A.setAttribute("role","button"),qt(A,{keydown:function(z){z.keyCode===13&&this._expandSafely()},click:function(z){Ve(z),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=he("div",l+"-base",E),this._separator=he("div",l+"-separator",E),this._overlaysList=he("div",l+"-overlays",E),h.appendChild(E)},_getLayer:function(l){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&p(this._layers[h].layer)===l)return this._layers[h]},_addLayer:function(l,h,_){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:h,overlay:_}),this.options.sortLayers&&this._layers.sort(u(function(E,A){return this.options.sortFunction(E.layer,A.layer,E.name,A.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bn(this._baseLayersList),Bn(this._overlaysList),this._layerControlInputs=[];var l,h,_,E,A=0;for(_=0;_<this._layers.length;_++)E=this._layers[_],this._addItem(E),h=h||E.overlay,l=l||!E.overlay,A+=E.overlay?0:1;return this.options.hideSingleBase&&(l=l&&A>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=h&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var h=this._getLayer(p(l.target)),_=h.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;_&&this._map.fire(_,h)},_createRadioElement:function(l,h){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(h?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=_,E.firstChild},_addItem:function(l){var h=document.createElement("label"),_=this._map.hasLayer(l.layer),E;l.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=_):E=this._createRadioElement("leaflet-base-layers_"+p(this),_),this._layerControlInputs.push(E),E.layerId=p(l.layer),qt(E,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+l.name;var z=document.createElement("span");h.appendChild(z),z.appendChild(E),z.appendChild(A);var Q=l.overlay?this._overlaysList:this._baseLayersList;return Q.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,h,_,E=[],A=[];this._handlingClick=!0;for(var z=l.length-1;z>=0;z--)h=l[z],_=this._getLayer(h.layerId).layer,h.checked?E.push(_):h.checked||A.push(_);for(z=0;z<A.length;z++)this._map.hasLayer(A[z])&&this._map.removeLayer(A[z]);for(z=0;z<E.length;z++)this._map.hasLayer(E[z])||this._map.addLayer(E[z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,h,_,E=this._map.getZoom(),A=l.length-1;A>=0;A--)h=l[A],_=this._getLayer(h.layerId).layer,h.disabled=_.options.minZoom!==void 0&&E<_.options.minZoom||_.options.maxZoom!==void 0&&E>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,qt(l,"click",Ve),this.expand();var h=this;setTimeout(function(){be(l,"click",Ve),h._preventClick=!1})}}),$c=function(l,h,_){return new El(l,h,_)},ys=Jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var h="leaflet-control-zoom",_=he("div",h+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,h+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,h+"-out",_,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,h,_,E,A){var z=he("a",_,E);return z.innerHTML=l,z.href="#",z.title=h,z.setAttribute("role","button"),z.setAttribute("aria-label",h),ms(z),qt(z,"click",li),qt(z,"click",A,this),qt(z,"click",this._refocusOnMap,this),z},_updateDisabled:function(){var l=this._map,h="leaflet-disabled";Oe(this._zoomInButton,h),Oe(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(ee(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(ee(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});se.mergeOptions({zoomControl:!0}),se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ys,this.addControl(this.zoomControl))});var na=function(l){return new ys(l)},ia=Jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var h="leaflet-control-scale",_=he("div",h),E=this.options;return this._addScales(E,h+"-line",_),l.on(E.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),_},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,h,_){l.metric&&(this._mScale=he("div",h,_)),l.imperial&&(this._iScale=he("div",h,_))},_update:function(){var l=this._map,h=l.getSize().y/2,_=l.distance(l.containerPointToLatLng([0,h]),l.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(_)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var h=this._getRoundNum(l),_=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,_,h/l)},_updateImperial:function(l){var h=l*3.2808399,_,E,A;h>5280?(_=h/5280,E=this._getRoundNum(_),this._updateScale(this._iScale,E+" mi",E/_)):(A=this._getRoundNum(h),this._updateScale(this._iScale,A+" ft",A/h))},_updateScale:function(l,h,_){l.style.width=Math.round(this.options.maxWidth*_)+"px",l.innerHTML=h},_getRoundNum:function(l){var h=Math.pow(10,(Math.floor(l)+"").length-1),_=l/h;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,h*_}}),ra=function(l){return new ia(l)},_u='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Fs=Jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Nt.inlineSvg?_u+" ":"")+"Leaflet</a>"},initialize:function(l){V(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=he("div","leaflet-control-attribution"),ms(this._container);for(var h in l._layers)l._layers[h].getAttribution&&this.addAttribution(l._layers[h].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var h in this._attributions)this._attributions[h]&&l.push(h);var _=[];this.options.prefix&&_.push(this.options.prefix),l.length&&_.push(l.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});se.mergeOptions({attributionControl:!0}),se.addInitHook(function(){this.options.attributionControl&&new Fs().addTo(this)});var Yc=function(l){return new Fs(l)};Jn.Layers=El,Jn.Zoom=ys,Jn.Scale=ia,Jn.Attribution=Fs,ui.layers=$c,ui.zoom=na,ui.scale=ra,ui.attribution=Yc;var ki=rt.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ki.addTo=function(l,h){return l.addHandler(h,this),this};var Ao={Events:et},Sl=Nt.touch?"touchstart mousedown":"mousedown",Ar=it.extend({options:{clickTolerance:3},initialize:function(l,h,_,E){V(this,E),this._element=l,this._dragStartTarget=h||l,this._preventOutline=_},enable:function(){this._enabled||(qt(this._dragStartTarget,Sl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ar._dragging===this&&this.finishDrag(!0),be(this._dragStartTarget,Sl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Bs(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){Ar._dragging===this&&this.finishDrag();return}if(!(Ar._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(Ar._dragging=this,this._preventOutline&&Er(this._element),Eo(),ai(),!this._moving)){this.fire("down");var h=l.touches?l.touches[0]:l,_=Zr(this._element);this._startPoint=new ot(h.clientX,h.clientY),this._startPos=Fi(this._element),this._parentScale=Sr(_);var E=l.type==="mousedown";qt(document,E?"mousemove":"touchmove",this._onMove,this),qt(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var h=l.touches&&l.touches.length===1?l.touches[0]:l,_=new ot(h.clientX,h.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Ve(l),this._moved||(this.fire("dragstart"),this._moved=!0,ee(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Zt(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),be(document,"mousemove touchmove",this._onMove,this),be(document,"mouseup touchend touchcancel",this._onUp,this),bl(),Tr();var h=this._moved&&this._moving;this._moving=!1,Ar._dragging=!1,h&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function sa(l,h,_){var E,A=[1,4,2,8],z,Q,ut,gt,At,Dt,Vt,Ut;for(z=0,Dt=l.length;z<Dt;z++)l[z]._code=$r(l[z],h);for(ut=0;ut<4;ut++){for(Vt=A[ut],E=[],z=0,Dt=l.length,Q=Dt-1;z<Dt;Q=z++)gt=l[z],At=l[Q],gt._code&Vt?At._code&Vt||(Ut=jn(At,gt,Vt,h,_),Ut._code=$r(Ut,h),E.push(Ut)):(At._code&Vt&&(Ut=jn(At,gt,Vt,h,_),Ut._code=$r(Ut,h),E.push(Ut)),E.push(gt));l=E}return l}function Hs(l,h){var _,E,A,z,Q,ut,gt,At,Dt;if(!l||l.length===0)throw new Error("latlngs not passed");g(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Vt=Tt([0,0]),Ut=Rt(l),Jt=Ut.getNorthWest().distanceTo(Ut.getSouthWest())*Ut.getNorthEast().distanceTo(Ut.getNorthWest());Jt<1700&&(Vt=oa(l));var $e=l.length,dn=[];for(_=0;_<$e;_++){var ci=Tt(l[_]);dn.push(h.project(Tt([ci.lat-Vt.lat,ci.lng-Vt.lng])))}for(ut=gt=At=0,_=0,E=$e-1;_<$e;E=_++)A=dn[_],z=dn[E],Q=A.y*z.x-z.y*A.x,gt+=(A.x+z.x)*Q,At+=(A.y+z.y)*Q,ut+=Q*3;ut===0?Dt=dn[0]:Dt=[gt/ut,At/ut];var rr=h.unproject(R(Dt));return Tt([rr.lat+Vt.lat,rr.lng+Vt.lng])}function oa(l){for(var h=0,_=0,E=0,A=0;A<l.length;A++){var z=Tt(l[A]);h+=z.lat,_+=z.lng,E++}return Tt([h/E,_/E])}var aa={__proto__:null,clipPolygon:sa,polygonCenter:Hs,centroid:oa};function xl(l,h){if(!h||!l.length)return l.slice();var _=h*h;return l=wu(l,_),l=vu(l,_),l}function la(l,h,_){return Math.sqrt(Di(l,h,_,!0))}function _s(l,h,_){return Di(l,h,_)}function vu(l,h){var _=l.length,E=typeof Uint8Array<"u"?Uint8Array:Array,A=new E(_);A[0]=A[_-1]=1,ua(l,A,h,0,_-1);var z,Q=[];for(z=0;z<_;z++)A[z]&&Q.push(l[z]);return Q}function ua(l,h,_,E,A){var z=0,Q,ut,gt;for(ut=E+1;ut<=A-1;ut++)gt=Di(l[ut],l[E],l[A],!0),gt>z&&(Q=ut,z=gt);z>_&&(h[Q]=1,ua(l,h,_,E,Q),ua(l,h,_,Q,A))}function wu(l,h){for(var _=[l[0]],E=1,A=0,z=l.length;E<z;E++)bu(l[E],l[A])>h&&(_.push(l[E]),A=E);return A<z-1&&_.push(l[z-1]),_}var Al;function Ro(l,h,_,E,A){var z=E?Al:$r(l,_),Q=$r(h,_),ut,gt,At;for(Al=Q;;){if(!(z|Q))return[l,h];if(z&Q)return!1;ut=z||Q,gt=jn(l,h,ut,_,A),At=$r(gt,_),ut===z?(l=gt,z=At):(h=gt,Q=At)}}function jn(l,h,_,E,A){var z=h.x-l.x,Q=h.y-l.y,ut=E.min,gt=E.max,At,Dt;return _&8?(At=l.x+z*(gt.y-l.y)/Q,Dt=gt.y):_&4?(At=l.x+z*(ut.y-l.y)/Q,Dt=ut.y):_&2?(At=gt.x,Dt=l.y+Q*(gt.x-l.x)/z):_&1&&(At=ut.x,Dt=l.y+Q*(ut.x-l.x)/z),new ot(At,Dt,A)}function $r(l,h){var _=0;return l.x<h.min.x?_|=1:l.x>h.max.x&&(_|=2),l.y<h.min.y?_|=4:l.y>h.max.y&&(_|=8),_}function bu(l,h){var _=h.x-l.x,E=h.y-l.y;return _*_+E*E}function Di(l,h,_,E){var A=h.x,z=h.y,Q=_.x-A,ut=_.y-z,gt=Q*Q+ut*ut,At;return gt>0&&(At=((l.x-A)*Q+(l.y-z)*ut)/gt,At>1?(A=_.x,z=_.y):At>0&&(A+=Q*At,z+=ut*At)),Q=l.x-A,ut=l.y-z,E?Q*Q+ut*ut:new ot(A,z)}function g(l){return!q(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function x(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),g(l)}function C(l,h){var _,E,A,z,Q,ut,gt,At;if(!l||l.length===0)throw new Error("latlngs not passed");g(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Dt=Tt([0,0]),Vt=Rt(l),Ut=Vt.getNorthWest().distanceTo(Vt.getSouthWest())*Vt.getNorthEast().distanceTo(Vt.getNorthWest());Ut<1700&&(Dt=oa(l));var Jt=l.length,$e=[];for(_=0;_<Jt;_++){var dn=Tt(l[_]);$e.push(h.project(Tt([dn.lat-Dt.lat,dn.lng-Dt.lng])))}for(_=0,E=0;_<Jt-1;_++)E+=$e[_].distanceTo($e[_+1])/2;if(E===0)At=$e[0];else for(_=0,z=0;_<Jt-1;_++)if(Q=$e[_],ut=$e[_+1],A=Q.distanceTo(ut),z+=A,z>E){gt=(z-E)/A,At=[ut.x-gt*(ut.x-Q.x),ut.y-gt*(ut.y-Q.y)];break}var ci=h.unproject(R(At));return Tt([ci.lat+Dt.lat,ci.lng+Dt.lng])}var W={__proto__:null,simplify:xl,pointToSegmentDistance:la,closestPointOnSegment:_s,clipSegment:Ro,_getEdgeIntersection:jn,_getBitCode:$r,_sqClosestPointOnSegment:Di,isFlat:g,_flat:x,polylineCenter:C},lt={project:function(l){return new ot(l.lng,l.lat)},unproject:function(l){return new kt(l.y,l.x)},bounds:new ct([-180,-90],[180,90])},yt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ct([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var h=Math.PI/180,_=this.R,E=l.lat*h,A=this.R_MINOR/_,z=Math.sqrt(1-A*A),Q=z*Math.sin(E),ut=Math.tan(Math.PI/4-E/2)/Math.pow((1-Q)/(1+Q),z/2);return E=-_*Math.log(Math.max(ut,1e-10)),new ot(l.lng*h*_,E)},unproject:function(l){for(var h=180/Math.PI,_=this.R,E=this.R_MINOR/_,A=Math.sqrt(1-E*E),z=Math.exp(-l.y/_),Q=Math.PI/2-2*Math.atan(z),ut=0,gt=.1,At;ut<15&&Math.abs(gt)>1e-7;ut++)At=A*Math.sin(Q),At=Math.pow((1-At)/(1+At),A/2),gt=Math.PI/2-2*Math.atan(z*At)-Q,Q+=gt;return new kt(Q*h,l.x*h/_)}},Pt={__proto__:null,LonLat:lt,Mercator:yt,SphericalMercator:Yt},me=s({},Ft,{code:"EPSG:3395",projection:yt,transformation:(function(){var l=.5/(Math.PI*yt.R);return Ge(l,.5,-l,.5)})()}),Tn=s({},Ft,{code:"EPSG:4326",projection:lt,transformation:Ge(1/180,1,-1/180,.5)}),ge=s({},le,{projection:lt,transformation:Ge(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,h){var _=h.lng-l.lng,E=h.lat-l.lat;return Math.sqrt(_*_+E*E)},infinite:!0});le.Earth=Ft,le.EPSG3395=me,le.EPSG3857=Nn,le.EPSG900913=Rn,le.EPSG4326=Tn,le.Simple=ge;var ke=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[p(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[p(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var h=l.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var _=this.getEvents();h.on(_,this),this.once("remove",function(){h.off(_,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});se.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var h=p(l);return this._layers[h]?this:(this._layers[h]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var h=p(l);return this._layers[h]?(this._loaded&&l.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return p(l)in this._layers},eachLayer:function(l,h){for(var _ in this._layers)l.call(h,this._layers[_]);return this},_addLayers:function(l){l=l?q(l)?l:[l]:[];for(var h=0,_=l.length;h<_;h++)this.addLayer(l[h])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[p(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var h=p(l);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,h=-1/0,_=this._getZoomSpan();for(var E in this._zoomBoundLayers){var A=this._zoomBoundLayers[E].options;l=A.minZoom===void 0?l:Math.min(l,A.minZoom),h=A.maxZoom===void 0?h:Math.max(h,A.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=l===1/0?void 0:l,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ke=ke.extend({initialize:function(l,h){V(this,h),this._layers={};var _,E;if(l)for(_=0,E=l.length;_<E;_++)this.addLayer(l[_])},addLayer:function(l){var h=this.getLayerId(l);return this._layers[h]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var h=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(l){var h=typeof l=="number"?l:this.getLayerId(l);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var h=Array.prototype.slice.call(arguments,1),_,E;for(_ in this._layers)E=this._layers[_],E[l]&&E[l].apply(E,h);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,h){for(var _ in this._layers)l.call(h,this._layers[_]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return p(l)}}),vs=function(l,h){return new Ke(l,h)},Fe=Ke.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Ke.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Ke.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new G;for(var h in this._layers){var _=this._layers[h];l.extend(_.getBounds?_.getBounds():_.getLatLng())}return l}}),Yr=function(l,h){return new Fe(l,h)},Xr=rt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){V(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,h){var _=this._getIconUrl(l);if(!_){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(_,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(E,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(l,h){var _=this.options,E=_[h+"Size"];typeof E=="number"&&(E=[E,E]);var A=R(E),z=R(h==="shadow"&&_.shadowAnchor||_.iconAnchor||A&&A.divideBy(2,!0));l.className="leaflet-marker-"+h+" "+(_.className||""),z&&(l.style.marginLeft=-z.x+"px",l.style.marginTop=-z.y+"px"),A&&(l.style.width=A.x+"px",l.style.height=A.y+"px")},_createImg:function(l,h){return h=h||document.createElement("img"),h.src=l,h},_getIconUrl:function(l){return Nt.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function Tu(l){return new Xr(l)}var ca=Xr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof ca.imagePath!="string"&&(ca.imagePath=this._detectIconPath()),(this.options.imagePath||ca.imagePath)+Xr.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var h=function(_,E,A){var z=E.exec(_);return z&&z[A]};return l=h(l,/^url\((['"])?(.+)\1\)$/,2),l&&h(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=he("div","leaflet-default-icon-path",document.body),h=Gr(l,"background-image")||Gr(l,"backgroundImage");if(document.body.removeChild(l),h=this._stripUrl(h),h)return h;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Xc=ki.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new Ar(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ee(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var h=this._marker,_=h._map,E=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,z=Fi(h._icon),Q=_.getPixelBounds(),ut=_.getPixelOrigin(),gt=_t(Q.min._subtract(ut).add(A),Q.max._subtract(ut).subtract(A));if(!gt.contains(z)){var At=R((Math.max(gt.max.x,z.x)-gt.max.x)/(Q.max.x-gt.max.x)-(Math.min(gt.min.x,z.x)-gt.min.x)/(Q.min.x-gt.min.x),(Math.max(gt.max.y,z.y)-gt.max.y)/(Q.max.y-gt.max.y)-(Math.min(gt.min.y,z.y)-gt.min.y)/(Q.min.y-gt.min.y)).multiplyBy(E);_.panBy(At,{animate:!1}),this._draggable._newPos._add(At),this._draggable._startPos._add(At),Zt(h._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=N(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,l)))},_onDrag:function(l){var h=this._marker,_=h._shadow,E=Fi(h._icon),A=h._map.layerPointToLatLng(E);_&&Zt(_,E),h._latlng=A,l.latlng=A,l.oldLatLng=this._oldLatLng,h.fire("move",l).fire("drag",l)},_onDragEnd:function(l){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),ha=ke.extend({options:{icon:new ca,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,h){V(this,h),this._latlng=Tt(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var h=this._latlng;return this._latlng=Tt(l),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=l.icon.createIcon(this._icon),E=!1;_!==this._icon&&(this._icon&&this._removeIcon(),E=!0,l.title&&(_.title=l.title),_.tagName==="IMG"&&(_.alt=l.alt||"")),ee(_,h),l.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qt(_,"focus",this._panOnFocus,this);var A=l.icon.createShadow(this._shadow),z=!1;A!==this._shadow&&(this._removeShadow(),z=!0),A&&(ee(A,h),A.alt=""),this._shadow=A,l.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&z&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&be(this._icon,"focus",this._panOnFocus,this),Pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pe(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Zt(this._icon,l),this._shadow&&Zt(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xc)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xc(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Ze(this._icon,l),this._shadow&&Ze(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var h=this.options.icon.options,_=h.iconSize?R(h.iconSize):R(0,0),E=h.iconAnchor?R(h.iconAnchor):R(0,0);l.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:_.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qc(l,h){return new ha(l,h)}var ws=ke.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return V(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rl=ws.extend({options:{fill:!0,radius:10},initialize:function(l,h){V(this,h),this._latlng=Tt(l),this._radius=this.options.radius},setLatLng:function(l){var h=this._latlng;return this._latlng=Tt(l),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var h=l&&l.radius||this._radius;return ws.prototype.setStyle.call(this,l),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,h=this._radiusY||l,_=this._clickTolerance(),E=[l+_,h+_];this._pxBounds=new ct(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bd(l,h){return new Rl(l,h)}var Jc=Rl.extend({initialize:function(l,h,_){if(typeof h=="number"&&(h=s({},_,{radius:h})),V(this,h),this._latlng=Tt(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:ws.prototype.setStyle,_project:function(){var l=this._latlng.lng,h=this._latlng.lat,_=this._map,E=_.options.crs;if(E.distance===Ft.distance){var A=Math.PI/180,z=this._mRadius/Ft.R/A,Q=_.project([h+z,l]),ut=_.project([h-z,l]),gt=Q.add(ut).divideBy(2),At=_.unproject(gt).lat,Dt=Math.acos((Math.cos(z*A)-Math.sin(h*A)*Math.sin(At*A))/(Math.cos(h*A)*Math.cos(At*A)))/A;(isNaN(Dt)||Dt===0)&&(Dt=z/Math.cos(Math.PI/180*h)),this._point=gt.subtract(_.getPixelOrigin()),this._radius=isNaN(Dt)?0:gt.x-_.project([At,l-Dt]).x,this._radiusY=gt.y-Q.y}else{var Vt=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Vt).x}this._updateBounds()}});function xg(l,h,_){return new Jc(l,h,_)}var bs=ws.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,h){V(this,h),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var h=1/0,_=null,E=Di,A,z,Q=0,ut=this._parts.length;Q<ut;Q++)for(var gt=this._parts[Q],At=1,Dt=gt.length;At<Dt;At++){A=gt[At-1],z=gt[At];var Vt=E(l,A,z,!0);Vt<h&&(h=Vt,_=E(l,A,z))}return _&&(_.distance=Math.sqrt(h)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return C(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,h){return h=h||this._defaultShape(),l=Tt(l),h.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new G,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return g(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var h=[],_=g(l),E=0,A=l.length;E<A;E++)_?(h[E]=Tt(l[E]),this._bounds.extend(h[E])):h[E]=this._convertLatLngs(l[E]);return h},_project:function(){var l=new ct;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),h=new ot(l,l);this._rawPxBounds&&(this._pxBounds=new ct([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(l,h,_){var E=l[0]instanceof kt,A=l.length,z,Q;if(E){for(Q=[],z=0;z<A;z++)Q[z]=this._map.latLngToLayerPoint(l[z]),_.extend(Q[z]);h.push(Q)}else for(z=0;z<A;z++)this._projectLatlngs(l[z],h,_)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,_,E,A,z,Q,ut,gt;for(_=0,A=0,z=this._rings.length;_<z;_++)for(gt=this._rings[_],E=0,Q=gt.length;E<Q-1;E++)ut=Ro(gt[E],gt[E+1],l,E,!0),ut&&(h[A]=h[A]||[],h[A].push(ut[0]),(ut[1]!==gt[E+1]||E===Q-2)&&(h[A].push(ut[1]),A++))}},_simplifyPoints:function(){for(var l=this._parts,h=this.options.smoothFactor,_=0,E=l.length;_<E;_++)l[_]=xl(l[_],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,h){var _,E,A,z,Q,ut,gt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(_=0,z=this._parts.length;_<z;_++)for(ut=this._parts[_],E=0,Q=ut.length,A=Q-1;E<Q;A=E++)if(!(!h&&E===0)&&la(l,ut[A],ut[E])<=gt)return!0;return!1}});function Ag(l,h){return new bs(l,h)}bs._flat=x;var fa=bs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var h=bs.prototype._convertLatLngs.call(this,l),_=h.length;return _>=2&&h[0]instanceof kt&&h[0].equals(h[_-1])&&h.pop(),h},_setLatLngs:function(l){bs.prototype._setLatLngs.call(this,l),g(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return g(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,h=this.options.weight,_=new ot(h,h);if(l=new ct(l.min.subtract(_),l.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,A=this._rings.length,z;E<A;E++)z=sa(this._rings[E],l,!0),z.length&&this._parts.push(z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var h=!1,_,E,A,z,Q,ut,gt,At;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(z=0,gt=this._parts.length;z<gt;z++)for(_=this._parts[z],Q=0,At=_.length,ut=At-1;Q<At;ut=Q++)E=_[Q],A=_[ut],E.y>l.y!=A.y>l.y&&l.x<(A.x-E.x)*(l.y-E.y)/(A.y-E.y)+E.x&&(h=!h);return h||bs.prototype._containsPoint.call(this,l,!0)}});function qi(l,h){return new fa(l,h)}var Gi=Fe.extend({initialize:function(l,h){V(this,h),this._layers={},l&&this.addData(l)},addData:function(l){var h=q(l)?l:l.features,_,E,A;if(h){for(_=0,E=h.length;_<E;_++)A=h[_],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var z=this.options;if(z.filter&&!z.filter(l))return this;var Q=Cl(l,z);return Q?(Q.feature=da(l),Q.defaultOptions=Q.options,this.resetStyle(Q),z.onEachFeature&&z.onEachFeature(l,Q),this.addLayer(Q)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=s({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(h){this._setLayerStyle(h,l)},this)},_setLayerStyle:function(l,h){l.setStyle&&(typeof h=="function"&&(h=h(l.feature)),l.setStyle(h))}});function Cl(l,h){var _=l.type==="Feature"?l.geometry:l,E=_?_.coordinates:null,A=[],z=h&&h.pointToLayer,Q=h&&h.coordsToLatLng||Eu,ut,gt,At,Dt;if(!E&&!_)return null;switch(_.type){case"Point":return ut=Q(E),th(z,l,ut,h);case"MultiPoint":for(At=0,Dt=E.length;At<Dt;At++)ut=Q(E[At]),A.push(th(z,l,ut,h));return new Fe(A);case"LineString":case"MultiLineString":return gt=Il(E,_.type==="LineString"?0:1,Q),new bs(gt,h);case"Polygon":case"MultiPolygon":return gt=Il(E,_.type==="Polygon"?1:2,Q),new fa(gt,h);case"GeometryCollection":for(At=0,Dt=_.geometries.length;At<Dt;At++){var Vt=Cl({geometry:_.geometries[At],type:"Feature",properties:l.properties},h);Vt&&A.push(Vt)}return new Fe(A);case"FeatureCollection":for(At=0,Dt=_.features.length;At<Dt;At++){var Ut=Cl(_.features[At],h);Ut&&A.push(Ut)}return new Fe(A);default:throw new Error("Invalid GeoJSON object.")}}function th(l,h,_,E){return l?l(h,_):new ha(_,E&&E.markersInheritOptions&&E)}function Eu(l){return new kt(l[1],l[0],l[2])}function Il(l,h,_){for(var E=[],A=0,z=l.length,Q;A<z;A++)Q=h?Il(l[A],h-1,_):(_||Eu)(l[A]),E.push(Q);return E}function Pl(l,h){return l=Tt(l),l.alt!==void 0?[T(l.lng,h),T(l.lat,h),T(l.alt,h)]:[T(l.lng,h),T(l.lat,h)]}function Su(l,h,_,E){for(var A=[],z=0,Q=l.length;z<Q;z++)A.push(h?Su(l[z],g(l[z])?0:h-1,_,E):Pl(l[z],E));return!h&&_&&A.length>0&&A.push(A[0].slice()),A}function Rr(l,h){return l.feature?s({},l.feature,{geometry:h}):da(h)}function da(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var Co={toGeoJSON:function(l){return Rr(this,{type:"Point",coordinates:Pl(this.getLatLng(),l)})}};ha.include(Co),Jc.include(Co),Rl.include(Co),bs.include({toGeoJSON:function(l){var h=!g(this._latlngs),_=Su(this._latlngs,h?1:0,!1,l);return Rr(this,{type:(h?"Multi":"")+"LineString",coordinates:_})}}),fa.include({toGeoJSON:function(l){var h=!g(this._latlngs),_=h&&!g(this._latlngs[0]),E=Su(this._latlngs,_?2:h?1:0,!0,l);return h||(E=[E]),Rr(this,{type:(_?"Multi":"")+"Polygon",coordinates:E})}}),Ke.include({toMultiPoint:function(l){var h=[];return this.eachLayer(function(_){h.push(_.toGeoJSON(l).geometry.coordinates)}),Rr(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(l){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(l);var _=h==="GeometryCollection",E=[];return this.eachLayer(function(A){if(A.toGeoJSON){var z=A.toGeoJSON(l);if(_)E.push(z.geometry);else{var Q=da(z);Q.type==="FeatureCollection"?E.push.apply(E,Q.features):E.push(Q)}}}),_?Rr(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function xu(l,h){return new Gi(l,h)}var Td=xu,Qr=ke.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,h,_){this._url=l,this._bounds=Rt(h),V(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&Wr(this._image),this},bringToBack:function(){return this._map&&Us(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=Rt(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",h=this._image=l?this._url:he("img");if(ee(h,"leaflet-image-layer"),this._zoomAnimated&&ee(h,"leaflet-zoom-animated"),this.options.className&&ee(h,this.options.className),h.onselectstart=w,h.onmousemove=w,h.onload=u(this.fire,this,"load"),h.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(l){var h=this._map.getZoomScale(l.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;vi(this._image,_,h)},_reset:function(){var l=this._image,h=new ct(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=h.getSize();Zt(l,h.min),l.style.width=_.x+"px",l.style.height=_.y+"px"},_updateOpacity:function(){Ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),pa=function(l,h,_){return new Qr(l,h,_)},Au=Qr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",h=this._image=l?this._url:he("video");if(ee(h,"leaflet-image-layer"),this._zoomAnimated&&ee(h,"leaflet-zoom-animated"),this.options.className&&ee(h,this.options.className),h.onselectstart=w,h.onmousemove=w,h.onloadeddata=u(this.fire,this,"load"),l){for(var _=h.getElementsByTagName("source"),E=[],A=0;A<_.length;A++)E.push(_[A].src);this._url=_.length>0?E:[h.src];return}q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var z=0;z<this._url.length;z++){var Q=he("source");Q.src=this._url[z],h.appendChild(Q)}}});function Ed(l,h,_){return new Au(l,h,_)}var qs=Qr.extend({_initImage:function(){var l=this._image=this._url;ee(l,"leaflet-image-layer"),this._zoomAnimated&&ee(l,"leaflet-zoom-animated"),this.options.className&&ee(l,this.options.className),l.onselectstart=w,l.onmousemove=w}});function Sd(l,h,_){return new qs(l,h,_)}var Cr=ke.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,h){l&&(l instanceof kt||q(l))?(this._latlng=Tt(l),V(this,h)):(V(this,l),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Ze(this._container,1),this.bringToFront(),this.options.interactive&&(ee(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Ze(this._container,0),this._removeTimeout=setTimeout(u(Pe,void 0,this._container),200)):Pe(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=Tt(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wr(this._container),this},bringToBack:function(){return this._map&&Us(this._container),this},_prepareOpen:function(l){var h=this._source;if(!h._map)return!1;if(h instanceof Fe){h=null;var _=this._source._layers;for(var E in _)if(_[E]._map){h=_[E];break}if(!h)return!1;this._source=h}if(!l)if(h.getCenter)l=h.getCenter();else if(h.getLatLng)l=h.getLatLng();else if(h.getBounds)l=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")l.innerHTML=h;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),h=R(this.options.offset),_=this._getAnchor();this._zoomAnimated?Zt(this._container,l.add(_)):h=h.add(l).add(_);var E=this._containerBottom=-h.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=E+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});se.include({_initOverlay:function(l,h,_,E){var A=h;return A instanceof l||(A=new l(E).setContent(h)),_&&A.setLatLng(_),A}}),ke.include({_initOverlay:function(l,h,_,E){var A=_;return A instanceof l?(V(A,E),A._source=this):(A=h&&!E?h:new l(E,this),A.setContent(_)),A}});var kl=Cr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Cr.prototype.openOn.call(this,l)},onAdd:function(l){Cr.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ws||this._source.on("preclick",Pi))},onRemove:function(l){Cr.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ws||this._source.off("preclick",Pi))},getEvents:function(){var l=Cr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",h=this._container=he("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=he("div",l+"-content-wrapper",h);if(this._contentNode=he("div",l+"-content",_),ms(h),xr(this._contentNode),qt(h,"contextmenu",Pi),this._tipContainer=he("div",l+"-tip-container",h),this._tip=he("div",l+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=he("a",l+"-close-button",h);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',qt(E,"click",function(A){Ve(A),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,h=l.style;h.width="",h.whiteSpace="nowrap";var _=l.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),h.width=_+1+"px",h.whiteSpace="",h.height="";var E=l.offsetHeight,A=this.options.maxHeight,z="leaflet-popup-scrolled";A&&E>A?(h.height=A+"px",ee(l,z)):Oe(l,z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),_=this._getAnchor();Zt(this._container,h.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,h=parseInt(Gr(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+h,E=this._containerWidth,A=new ot(this._containerLeft,-_-this._containerBottom);A._add(Fi(this._container));var z=l.layerPointToContainerPoint(A),Q=R(this.options.autoPanPadding),ut=R(this.options.autoPanPaddingTopLeft||Q),gt=R(this.options.autoPanPaddingBottomRight||Q),At=l.getSize(),Dt=0,Vt=0;z.x+E+gt.x>At.x&&(Dt=z.x+E-At.x+gt.x),z.x-Dt-ut.x<0&&(Dt=z.x-ut.x),z.y+_+gt.y>At.y&&(Vt=z.y+_-At.y+gt.y),z.y-Vt-ut.y<0&&(Vt=z.y-ut.y),(Dt||Vt)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Dt,Vt]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rg=function(l,h){return new kl(l,h)};se.mergeOptions({closePopupOnClick:!0}),se.include({openPopup:function(l,h,_){return this._initOverlay(kl,l,h,_).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),ke.include({bindPopup:function(l,h){return this._popup=this._initOverlay(kl,this._popup,l,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Fe||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){li(l);var h=l.layer||l.target;if(this._popup._source===h&&!(h instanceof ws)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=h,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Ru=Cr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Cr.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Cr.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Cr.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",h=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=he("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var h,_,E=this._map,A=this._container,z=E.latLngToContainerPoint(E.getCenter()),Q=E.layerPointToContainerPoint(l),ut=this.options.direction,gt=A.offsetWidth,At=A.offsetHeight,Dt=R(this.options.offset),Vt=this._getAnchor();ut==="top"?(h=gt/2,_=At):ut==="bottom"?(h=gt/2,_=0):ut==="center"?(h=gt/2,_=At/2):ut==="right"?(h=0,_=At/2):ut==="left"?(h=gt,_=At/2):Q.x<z.x?(ut="right",h=0,_=At/2):(ut="left",h=gt+(Dt.x+Vt.x)*2,_=At/2),l=l.subtract(R(h,_,!0)).add(Dt).add(Vt),Oe(A,"leaflet-tooltip-right"),Oe(A,"leaflet-tooltip-left"),Oe(A,"leaflet-tooltip-top"),Oe(A,"leaflet-tooltip-bottom"),ee(A,"leaflet-tooltip-"+ut),Zt(A,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Ze(this._container,l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(h)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Cg=function(l,h){return new Ru(l,h)};se.include({openTooltip:function(l,h,_){return this._initOverlay(Ru,l,h,_).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),ke.include({bindTooltip:function(l,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ru,this._tooltip,l,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var h=l?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[h](_),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Fe||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&(qt(h,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),qt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var h=l.latlng,_,E;this._tooltip.options.sticky&&l.originalEvent&&(_=this._map.mouseEventToContainerPoint(l.originalEvent),E=this._map.containerPointToLayerPoint(_),h=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(h)}});var eh=Xr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var h=l&&l.tagName==="DIV"?l:document.createElement("div"),_=this.options;if(_.html instanceof Element?(Bn(h),h.appendChild(_.html)):h.innerHTML=_.html!==!1?_.html:"",_.bgPos){var E=R(_.bgPos);h.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function xd(l){return new eh(l)}Xr.Default=ca;var Io=ke.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){V(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),Pe(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Us(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof ot?l:new ot(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var h=this.getPane().children,_=-l(-1/0,1/0),E=0,A=h.length,z;E<A;E++)z=h[E].style.zIndex,h[E]!==this._container&&z&&(_=l(_,+z));isFinite(_)&&(this.options.zIndex=_+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Nt.ielt9){Ze(this._container,this.options.opacity);var l=+new Date,h=!1,_=!1;for(var E in this._tiles){var A=this._tiles[E];if(!(!A.current||!A.loaded)){var z=Math.min(1,(l-A.loaded)/200);Ze(A.el,z),z<1?h=!0:(A.active?_=!0:this._onOpaqueTile(A),A.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),h&&(k(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=he("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,h=this.options.maxZoom;if(l!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===l?(this._levels[_].el.style.zIndex=h-Math.abs(l-_),this._onUpdateLevel(_)):(Pe(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var E=this._levels[l],A=this._map;return E||(E=this._levels[l]={},E.el=he("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=h,E.origin=A.project(A.unproject(A.getPixelOrigin()),l).round(),E.zoom=l,this._setZoomTransform(E,A.getCenter(),A.getZoom()),w(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var l,h,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)h=this._tiles[l],h.retain=h.current;for(l in this._tiles)if(h=this._tiles[l],h.current&&!h.active){var E=h.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var h in this._tiles)this._tiles[h].coords.z===l&&this._removeTile(h)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)Pe(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,h,_,E){var A=Math.floor(l/2),z=Math.floor(h/2),Q=_-1,ut=new ot(+A,+z);ut.z=+Q;var gt=this._tileCoordsToKey(ut),At=this._tiles[gt];return At&&At.active?(At.retain=!0,!0):(At&&At.loaded&&(At.retain=!0),Q>E?this._retainParent(A,z,Q,E):!1)},_retainChildren:function(l,h,_,E){for(var A=2*l;A<2*l+2;A++)for(var z=2*h;z<2*h+2;z++){var Q=new ot(A,z);Q.z=_+1;var ut=this._tileCoordsToKey(Q),gt=this._tiles[ut];if(gt&&gt.active){gt.retain=!0;continue}else gt&&gt.loaded&&(gt.retain=!0);_+1<E&&this._retainChildren(A,z,_+1,E)}},_resetView:function(l){var h=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var h=this.options;return h.minNativeZoom!==void 0&&l<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<l?h.maxNativeZoom:l},_setView:function(l,h,_,E){var A=Math.round(h);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var z=this.options.updateWhenZooming&&A!==this._tileZoom;(!E||z)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(l),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(l,h)},_setZoomTransforms:function(l,h){for(var _ in this._levels)this._setZoomTransform(this._levels[_],l,h)},_setZoomTransform:function(l,h,_){var E=this._map.getZoomScale(_,l.zoom),A=l.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(h,_)).round();Nt.any3d?vi(l.el,A,E):Zt(l.el,A)},_resetGrid:function(){var l=this._map,h=l.options.crs,_=this._tileSize=this.getTileSize(),E=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,h.wrapLng[0]],E).x/_.x),Math.ceil(l.project([0,h.wrapLng[1]],E).x/_.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([h.wrapLat[0],0],E).y/_.x),Math.ceil(l.project([h.wrapLat[1],0],E).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var h=this._map,_=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),E=h.getZoomScale(_,this._tileZoom),A=h.project(l,this._tileZoom).floor(),z=h.getSize().divideBy(E*2);return new ct(A.subtract(z),A.add(z))},_update:function(l){var h=this._map;if(h){var _=this._clampZoom(h.getZoom());if(l===void 0&&(l=h.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(l),A=this._pxBoundsToTileRange(E),z=A.getCenter(),Q=[],ut=this.options.keepBuffer,gt=new ct(A.getBottomLeft().subtract([ut,-ut]),A.getTopRight().add([ut,-ut]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var At in this._tiles){var Dt=this._tiles[At].coords;(Dt.z!==this._tileZoom||!gt.contains(new ot(Dt.x,Dt.y)))&&(this._tiles[At].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(l,_);return}for(var Vt=A.min.y;Vt<=A.max.y;Vt++)for(var Ut=A.min.x;Ut<=A.max.x;Ut++){var Jt=new ot(Ut,Vt);if(Jt.z=this._tileZoom,!!this._isValidTile(Jt)){var $e=this._tiles[this._tileCoordsToKey(Jt)];$e?$e.current=!0:Q.push(Jt)}}if(Q.sort(function(ci,rr){return ci.distanceTo(z)-rr.distanceTo(z)}),Q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var dn=document.createDocumentFragment();for(Ut=0;Ut<Q.length;Ut++)this._addTile(Q[Ut],dn);this._level.el.appendChild(dn)}}}},_isValidTile:function(l){var h=this._map.options.crs;if(!h.infinite){var _=this._globalTileRange;if(!h.wrapLng&&(l.x<_.min.x||l.x>_.max.x)||!h.wrapLat&&(l.y<_.min.y||l.y>_.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(l);return Rt(this.options.bounds).overlaps(E)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var h=this._map,_=this.getTileSize(),E=l.scaleBy(_),A=E.add(_),z=h.unproject(E,l.z),Q=h.unproject(A,l.z);return[z,Q]},_tileCoordsToBounds:function(l){var h=this._tileCoordsToNwSe(l),_=new G(h[0],h[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var h=l.split(":"),_=new ot(+h[0],+h[1]);return _.z=+h[2],_},_removeTile:function(l){var h=this._tiles[l];h&&(Pe(h.el),delete this._tiles[l],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){ee(l,"leaflet-tile");var h=this.getTileSize();l.style.width=h.x+"px",l.style.height=h.y+"px",l.onselectstart=w,l.onmousemove=w,Nt.ielt9&&this.options.opacity<1&&Ze(l,this.options.opacity)},_addTile:function(l,h){var _=this._getTilePos(l),E=this._tileCoordsToKey(l),A=this.createTile(this._wrapCoords(l),u(this._tileReady,this,l));this._initTile(A),this.createTile.length<2&&N(u(this._tileReady,this,l,null,A)),Zt(A,_),this._tiles[E]={el:A,coords:l,current:!0},h.appendChild(A),this.fire("tileloadstart",{tile:A,coords:l})},_tileReady:function(l,h,_){h&&this.fire("tileerror",{error:h,tile:_,coords:l});var E=this._tileCoordsToKey(l);_=this._tiles[E],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Ze(_.el,0),k(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),h||(ee(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Nt.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var h=new ot(this._wrapX?y(l.x,this._wrapX):l.x,this._wrapY?y(l.y,this._wrapY):l.y);return h.z=l.z,h},_pxBoundsToTileRange:function(l){var h=this.getTileSize();return new ct(l.min.unscaleBy(h).floor(),l.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Ir(l){return new Io(l)}var Po=Io.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,h){this._url=l,h=V(this,h),h.detectRetina&&Nt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,h){return this._url===l&&h===void 0&&(h=!0),this._url=l,h||this.redraw(),this},createTile:function(l,h){var _=document.createElement("img");return qt(_,"load",u(this._tileOnLoad,this,h,_)),qt(_,"error",u(this._tileOnError,this,h,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(l),_},getTileUrl:function(l){var h={r:Nt.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-l.y;this.options.tms&&(h.y=_),h["-y"]=_}return Z(this._url,s(h,this.options))},_tileOnLoad:function(l,h){Nt.ielt9?setTimeout(u(l,this,null,h),0):l(null,h)},_tileOnError:function(l,h,_){var E=this.options.errorTileUrl;E&&h.getAttribute("src")!==E&&(h.src=E),l(_,h)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,h=this.options.maxZoom,_=this.options.zoomReverse,E=this.options.zoomOffset;return _&&(l=h-l),l+E},_getSubdomain:function(l){var h=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var l,h;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(h=this._tiles[l].el,h.onload=w,h.onerror=w,!h.complete)){h.src=X;var _=this._tiles[l].coords;Pe(h),delete this._tiles[l],this.fire("tileabort",{tile:h,coords:_})}},_removeTile:function(l){var h=this._tiles[l];if(h)return h.el.setAttribute("src",X),Io.prototype._removeTile.call(this,l)},_tileReady:function(l,h,_){if(!(!this._map||_&&_.getAttribute("src")===X))return Io.prototype._tileReady.call(this,l,h,_)}});function Wi(l,h){return new Po(l,h)}var Zi=Po.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,h){this._url=l;var _=s({},this.defaultWmsParams);for(var E in h)E in this.options||(_[E]=h[E]);h=V(this,h);var A=h.detectRetina&&Nt.retina?2:1,z=this.getTileSize();_.width=z.x*A,_.height=z.y*A,this.wmsParams=_},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Po.prototype.onAdd.call(this,l)},getTileUrl:function(l){var h=this._tileCoordsToNwSe(l),_=this._crs,E=_t(_.project(h[0]),_.project(h[1])),A=E.min,z=E.max,Q=(this._wmsVersion>=1.3&&this._crs===Tn?[A.y,A.x,z.y,z.x]:[A.x,A.y,z.x,z.y]).join(","),ut=Po.prototype.getTileUrl.call(this,l);return ut+F(this.wmsParams,ut,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Q},setParams:function(l,h){return s(this.wmsParams,l),h||this.redraw(),this}});function ma(l,h){return new Zi(l,h)}Po.WMS=Zi,Wi.wms=ma;var Pr=ke.extend({options:{padding:.1},initialize:function(l){V(this,l),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,h){var _=this._map.getZoomScale(h,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,h),z=E.multiplyBy(-_).add(A).subtract(this._map._getNewPixelOrigin(l,h));Nt.any3d?vi(this._container,z,_):Zt(this._container,z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,h=this._map.getSize(),_=this._map.containerPointToLayerPoint(h.multiplyBy(-l)).round();this._bounds=new ct(_,_.add(h.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Dl=Pr.extend({options:{tolerance:0},getEvents:function(){var l=Pr.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");qt(l,"mousemove",this._onMouseMove,this),qt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),qt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,Pe(this._container),be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var h in this._layers)l=this._layers[h],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pr.prototype._update.call(this);var l=this._bounds,h=this._container,_=l.getSize(),E=Nt.retina?2:1;Zt(h,l.min),h.width=E*_.x,h.height=E*_.y,h.style.width=_.x+"px",h.style.height=_.y+"px",Nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Pr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[p(l)]=l;var h=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var h=l._order,_=h.next,E=h.prev;_?_.prev=E:this._drawLast=E,E?E.next=_:this._drawFirst=_,delete l._order,delete this._layers[p(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var h=l.options.dashArray.split(/[, ]+/),_=[],E,A;for(A=0;A<h.length;A++){if(E=Number(h[A]),isNaN(E))return;_.push(E)}l.options._dashArray=_}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var h=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ct,this._redrawBounds.extend(l._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(l._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var h=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,h=this._redrawBounds;if(this._ctx.save(),h){var _=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)l=E.layer,(!h||l._pxBounds&&l._pxBounds.intersects(h))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,h){if(this._drawing){var _,E,A,z,Q=l._parts,ut=Q.length,gt=this._ctx;if(ut){for(gt.beginPath(),_=0;_<ut;_++){for(E=0,A=Q[_].length;E<A;E++)z=Q[_][E],gt[E?"lineTo":"moveTo"](z.x,z.y);h&&gt.closePath()}this._fillStroke(gt,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var h=l._point,_=this._ctx,E=Math.max(Math.round(l._radius),1),A=(Math.max(Math.round(l._radiusY),1)||E)/E;A!==1&&(_.save(),_.scale(1,A)),_.beginPath(),_.arc(h.x,h.y/A,E,0,Math.PI*2,!1),A!==1&&_.restore(),this._fillStroke(_,l)}},_fillStroke:function(l,h){var _=h.options;_.fill&&(l.globalAlpha=_.fillOpacity,l.fillStyle=_.fillColor||_.color,l.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(l.setLineDash&&l.setLineDash(h.options&&h.options._dashArray||[]),l.globalAlpha=_.opacity,l.lineWidth=_.weight,l.strokeStyle=_.color,l.lineCap=_.lineCap,l.lineJoin=_.lineJoin,l.stroke())},_onClick:function(l){for(var h=this._map.mouseEventToLayerPoint(l),_,E,A=this._drawFirst;A;A=A.next)_=A.layer,_.options.interactive&&_._containsPoint(h)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(_))&&(E=_);this._fireEvent(E?[E]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,h)}},_handleMouseOut:function(l){var h=this._hoveredLayer;h&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([h],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,h){if(!this._mouseHoverThrottled){for(var _,E,A=this._drawFirst;A;A=A.next)_=A.layer,_.options.interactive&&_._containsPoint(h)&&(E=_);E!==this._hoveredLayer&&(this._handleMouseOut(l),E&&(ee(this._container,"leaflet-interactive"),this._fireEvent([E],l,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,h,_){this._map._fireDOMEvent(h,_||h.type,l)},_bringToFront:function(l){var h=l._order;if(h){var _=h.next,E=h.prev;if(_)_.prev=E;else return;E?E.next=_:_&&(this._drawFirst=_),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(l)}},_bringToBack:function(l){var h=l._order;if(h){var _=h.next,E=h.prev;if(E)E.next=_;else return;_?_.prev=E:E&&(this._drawLast=E),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(l)}}});function Ml(l){return Nt.canvas?new Dl(l):null}var ko=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ga={_initContainer:function(){this._container=he("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pr.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var h=l._container=ko("shape");ee(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",l._path=ko("path"),h.appendChild(l._path),this._updateStyle(l),this._layers[p(l)]=l},_addPath:function(l){var h=l._container;this._container.appendChild(h),l.options.interactive&&l.addInteractiveTarget(h)},_removePath:function(l){var h=l._container;Pe(h),l.removeInteractiveTarget(h),delete this._layers[p(l)]},_updateStyle:function(l){var h=l._stroke,_=l._fill,E=l.options,A=l._container;A.stroked=!!E.stroke,A.filled=!!E.fill,E.stroke?(h||(h=l._stroke=ko("stroke")),A.appendChild(h),h.weight=E.weight+"px",h.color=E.color,h.opacity=E.opacity,E.dashArray?h.dashStyle=q(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=E.lineCap.replace("butt","flat"),h.joinstyle=E.lineJoin):h&&(A.removeChild(h),l._stroke=null),E.fill?(_||(_=l._fill=ko("fill")),A.appendChild(_),_.color=E.fillColor||E.color,_.opacity=E.fillOpacity):_&&(A.removeChild(_),l._fill=null)},_updateCircle:function(l){var h=l._point.round(),_=Math.round(l._radius),E=Math.round(l._radiusY||_);this._setPath(l,l._empty()?"M0 0":"AL "+h.x+","+h.y+" "+_+","+E+" 0,"+65535*360)},_setPath:function(l,h){l._path.v=h},_bringToFront:function(l){Wr(l._container)},_bringToBack:function(l){Us(l._container)}},Ol=Nt.vml?ko:ri,Gs=Pr.extend({_initContainer:function(){this._container=Ol("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ol("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pe(this._container),be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pr.prototype._update.call(this);var l=this._bounds,h=l.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,_.setAttribute("width",h.x),_.setAttribute("height",h.y)),Zt(_,l.min),_.setAttribute("viewBox",[l.min.x,l.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(l){var h=l._path=Ol("path");l.options.className&&ee(h,l.options.className),l.options.interactive&&ee(h,"leaflet-interactive"),this._updateStyle(l),this._layers[p(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){Pe(l._path),l.removeInteractiveTarget(l._path),delete this._layers[p(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var h=l._path,_=l.options;h&&(_.stroke?(h.setAttribute("stroke",_.color),h.setAttribute("stroke-opacity",_.opacity),h.setAttribute("stroke-width",_.weight),h.setAttribute("stroke-linecap",_.lineCap),h.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?h.setAttribute("stroke-dasharray",_.dashArray):h.removeAttribute("stroke-dasharray"),_.dashOffset?h.setAttribute("stroke-dashoffset",_.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),_.fill?(h.setAttribute("fill",_.fillColor||_.color),h.setAttribute("fill-opacity",_.fillOpacity),h.setAttribute("fill-rule",_.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(l,h){this._setPath(l,yi(l._parts,h))},_updateCircle:function(l){var h=l._point,_=Math.max(Math.round(l._radius),1),E=Math.max(Math.round(l._radiusY),1)||_,A="a"+_+","+E+" 0 1,0 ",z=l._empty()?"M0 0":"M"+(h.x-_)+","+h.y+A+_*2+",0 "+A+-_*2+",0 ";this._setPath(l,z)},_setPath:function(l,h){l._path.setAttribute("d",h)},_bringToFront:function(l){Wr(l._path)},_bringToBack:function(l){Us(l._path)}});Nt.vml&&Gs.include(ga);function Do(l){return Nt.svg||Nt.vml?new Gs(l):null}se.include({getRenderer:function(l){var h=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var h=this._paneRenderers[l];return h===void 0&&(h=this._createRenderer({pane:l}),this._paneRenderers[l]=h),h},_createRenderer:function(l){return this.options.preferCanvas&&Ml(l)||Do(l)}});var Ad=fa.extend({initialize:function(l,h){fa.prototype.initialize.call(this,this._boundsToLatLngs(l),h)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=Rt(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Ki(l,h){return new Ad(l,h)}Gs.create=Ol,Gs.pointsToPath=yi,Gi.geometryToLayer=Cl,Gi.coordsToLatLng=Eu,Gi.coordsToLatLngs=Il,Gi.latLngToCoords=Pl,Gi.latLngsToCoords=Su,Gi.getFeature=Rr,Gi.asFeature=da,se.mergeOptions({boxZoom:!0});var Cu=ki.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ai(),Eo(),this._startPoint=this._map.mouseEventToContainerPoint(l),qt(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=he("div","leaflet-zoom-box",this._container),ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var h=new ct(this._point,this._startPoint),_=h.getSize();Zt(this._box,h.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Pe(this._box),Oe(this._container,"leaflet-crosshair")),Tr(),bl(),be(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var h=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});se.addInitHook("addHandler","boxZoom",Cu),se.mergeOptions({doubleClickZoom:!0});var Jr=ki.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var h=this._map,_=h.getZoom(),E=h.options.zoomDelta,A=l.originalEvent.shiftKey?_-E:_+E;h.options.doubleClickZoom==="center"?h.setZoom(A):h.setZoomAround(l.containerPoint,A)}});se.addInitHook("addHandler","doubleClickZoom",Jr),se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nh=ki.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new Ar(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Rt(this._map.options.maxBounds);this._offsetLimit=_t(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var h=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(h),this._prunePositions(h)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,h){return l-(l-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;l.x<h.min.x&&(l.x=this._viscousLimit(l.x,h.min.x)),l.y<h.min.y&&(l.y=this._viscousLimit(l.y,h.min.y)),l.x>h.max.x&&(l.x=this._viscousLimit(l.x,h.max.x)),l.y>h.max.y&&(l.y=this._viscousLimit(l.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,h=Math.round(l/2),_=this._initialWorldOffset,E=this._draggable._newPos.x,A=(E-h+_)%l+h-_,z=(E+h+_)%l-h-_,Q=Math.abs(A+_)<Math.abs(z+_)?A:z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Q},_onDragEnd:function(l){var h=this._map,_=h.options,E=!_.inertia||l.noInertia||this._times.length<2;if(h.fire("dragend",l),E)h.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),z=(this._lastTime-this._times[0])/1e3,Q=_.easeLinearity,ut=A.multiplyBy(Q/z),gt=ut.distanceTo([0,0]),At=Math.min(_.inertiaMaxSpeed,gt),Dt=ut.multiplyBy(At/gt),Vt=At/(_.inertiaDeceleration*Q),Ut=Dt.multiplyBy(-Vt/2).round();!Ut.x&&!Ut.y?h.fire("moveend"):(Ut=h._limitOffset(Ut,h.options.maxBounds),N(function(){h.panBy(Ut,{duration:Vt,easeLinearity:Q,noMoveStart:!0,animate:!0})}))}}});se.addInitHook("addHandler","dragging",nh),se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ll=ki.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),qt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,h=document.documentElement,_=l.scrollTop||h.scrollTop,E=l.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(E,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var h=this._panKeys={},_=this.keyCodes,E,A;for(E=0,A=_.left.length;E<A;E++)h[_.left[E]]=[-1*l,0];for(E=0,A=_.right.length;E<A;E++)h[_.right[E]]=[l,0];for(E=0,A=_.down.length;E<A;E++)h[_.down[E]]=[0,l];for(E=0,A=_.up.length;E<A;E++)h[_.up[E]]=[0,-1*l]},_setZoomDelta:function(l){var h=this._zoomKeys={},_=this.keyCodes,E,A;for(E=0,A=_.zoomIn.length;E<A;E++)h[_.zoomIn[E]]=l;for(E=0,A=_.zoomOut.length;E<A;E++)h[_.zoomOut[E]]=-l},_addHooks:function(){qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var h=l.keyCode,_=this._map,E;if(h in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(E=this._panKeys[h],l.shiftKey&&(E=R(E).multiplyBy(3)),_.options.maxBounds&&(E=_._limitOffset(R(E),_.options.maxBounds)),_.options.worldCopyJump){var A=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(E)));_.panTo(A)}else _.panBy(E)}else if(h in this._zoomKeys)_.setZoom(_.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;li(l)}}});se.addInitHook("addHandler","keyboard",Ll),se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ws=ki.extend({addHooks:function(){qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var h=So(l),_=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var E=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),E),li(l)},_performZoom:function(){var l=this._map,h=l.getZoom(),_=this._map.options.zoomSnap||0;l._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,z=_?Math.ceil(A/_)*_:A,Q=l._limitZoom(h+(this._delta>0?z:-z))-h;this._delta=0,this._startTime=null,Q&&(l.options.scrollWheelZoom==="center"?l.setZoom(h+Q):l.setZoomAround(this._lastMousePos,h+Q))}});se.addInitHook("addHandler","scrollWheelZoom",Ws);var ih=600;se.mergeOptions({tapHold:Nt.touchNative&&Nt.safari&&Nt.mobile,tapTolerance:15});var Iu=ki.extend({addHooks:function(){qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var h=l.touches[0];this._startPos=this._newPos=new ot(h.clientX,h.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(qt(document,"touchend",Ve),qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),ih),qt(document,"touchend touchcancel contextmenu",this._cancel,this),qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){be(document,"touchend",Ve),be(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),be(document,"touchend touchcancel contextmenu",this._cancel,this),be(document,"touchmove",this._onMove,this)},_onMove:function(l){var h=l.touches[0];this._newPos=new ot(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,h){var _=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});_._simulated=!0,h.target.dispatchEvent(_)}});se.addInitHook("addHandler","tapHold",Iu),se.mergeOptions({touchZoom:Nt.touch,bounceAtZoomLimits:!0});var Mo=ki.extend({addHooks:function(){ee(this._map._container,"leaflet-touch-zoom"),qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var h=this._map;if(!(!l.touches||l.touches.length!==2||h._animatingZoom||this._zooming)){var _=h.mouseEventToContainerPoint(l.touches[0]),E=h.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(_.add(E)._divideBy(2))),this._startDist=_.distanceTo(E),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),qt(document,"touchmove",this._onTouchMove,this),qt(document,"touchend touchcancel",this._onTouchEnd,this),Ve(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var h=this._map,_=h.mouseEventToContainerPoint(l.touches[0]),E=h.mouseEventToContainerPoint(l.touches[1]),A=_.distanceTo(E)/this._startDist;if(this._zoom=h.getScaleZoom(A,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&A<1||this._zoom>h.getMaxZoom()&&A>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var z=_._add(E)._divideBy(2)._subtract(this._centerPoint);if(A===1&&z.x===0&&z.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(z),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var Q=u(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(Q,this,!0),Ve(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,k(this._animRequest),be(document,"touchmove",this._onTouchMove,this),be(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});se.addInitHook("addHandler","touchZoom",Mo),se.BoxZoom=Cu,se.DoubleClickZoom=Jr,se.Drag=nh,se.Keyboard=Ll,se.ScrollWheelZoom=Ws,se.TapHold=Iu,se.TouchZoom=Mo,n.Bounds=ct,n.Browser=Nt,n.CRS=le,n.Canvas=Dl,n.Circle=Jc,n.CircleMarker=Rl,n.Class=rt,n.Control=Jn,n.DivIcon=eh,n.DivOverlay=Cr,n.DomEvent=yu,n.DomUtil=Tl,n.Draggable=Ar,n.Evented=it,n.FeatureGroup=Fe,n.GeoJSON=Gi,n.GridLayer=Io,n.Handler=ki,n.Icon=Xr,n.ImageOverlay=Qr,n.LatLng=kt,n.LatLngBounds=G,n.Layer=ke,n.LayerGroup=Ke,n.LineUtil=W,n.Map=se,n.Marker=ha,n.Mixin=Ao,n.Path=ws,n.Point=ot,n.PolyUtil=aa,n.Polygon=fa,n.Polyline=bs,n.Popup=kl,n.PosAnimation=xo,n.Projection=Pt,n.Rectangle=Ad,n.Renderer=Pr,n.SVG=Gs,n.SVGOverlay=qs,n.TileLayer=Po,n.Tooltip=Ru,n.Transformation=nn,n.Util=O,n.VideoOverlay=Au,n.bind=u,n.bounds=_t,n.canvas=Ml,n.circle=xg,n.circleMarker=bd,n.control=ui,n.divIcon=xd,n.extend=s,n.featureGroup=Yr,n.geoJSON=xu,n.geoJson=Td,n.gridLayer=Ir,n.icon=Tu,n.imageOverlay=pa,n.latLng=Tt,n.latLngBounds=Rt,n.layerGroup=vs,n.map=Kr,n.marker=Qc,n.point=R,n.polygon=qi,n.polyline=Ag,n.popup=Rg,n.rectangle=Ki,n.setOptions=V,n.stamp=p,n.svg=Do,n.svgOverlay=Sd,n.tileLayer=Wi,n.tooltip=Cg,n.transformation=Ge,n.version=i,n.videoOverlay=Ed;var ya=window.L;n.noConflict=function(){return window.L=ya,this},window.L=n}))})(nf,nf.exports)),nf.exports}var Xm=ej();function R0(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function C0(e,t){return t==null?function(i,s){const a=U.useRef(void 0);return a.current||(a.current=e(i,s)),a}:function(i,s){const a=U.useRef(void 0);a.current||(a.current=e(i,s));const u=U.useRef(i),{instance:f}=a.current;return U.useEffect(function(){u.current!==i&&(t(f,i,u.current),u.current=i)},[f,i,t]),a}}function nj(e,t){U.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function HP(e){return function(n){const i=x0(),s=e(A0(n,i),i);return jP(i.map,n.attribution),FP(s.current,n.eventHandlers),nj(s.current,i),s}}function ij(e,t){const n=C0(e,t),i=HP(n);return Y5(i)}function rj(e,t){const n=C0(e),i=J5(n,t);return X5(i)}function sj(e,t){const n=C0(e,t),i=HP(n);return Q5(i)}function oj(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function qP(){return x0().map}function aj(e){const t=qP();return U.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function lj({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:a,placeholder:u,style:f,whenReady:p,zoom:m,...y},w){const[T]=U.useState({className:s,id:a,style:f}),[S,D]=U.useState(null),V=U.useRef(void 0);U.useImperativeHandle(w,()=>S?.map??null,[S]);const F=U.useCallback(Z=>{if(Z!==null&&!V.current){const q=new Xm.Map(Z,y);V.current=q,n!=null&&m!=null?q.setView(n,m):e!=null&&q.fitBounds(e,t),p!=null&&q.whenReady(p),D(K5(q))}},[]);U.useEffect(()=>()=>{S?.map.remove()},[S]);const j=S?gi.createElement(S0,{value:S},i):u??null;return gi.createElement("div",{...T,ref:F},j)}const GP=U.forwardRef(lj),WP=ij(function({position:t,...n},i){const s=new Xm.Marker(t,n);return R0(s,$5(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),uj=rj(function(t,n){const i=new Xm.Popup(t,n.overlayContainer);return R0(i,n)},function(t,n,{position:i},s){U.useEffect(function(){const{instance:u}=t;function f(m){m.popup===u&&(u.update(),s(!0))}function p(m){m.popup===u&&s(!1)}return n.map.on({popupopen:f,popupclose:p}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:f,popupclose:p}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[t,n,s,i])}),ZP=sj(function({url:t,...n},i){const s=new Xm.TileLayer(t,A0(n,i));return R0(s,i)},function(t,n,i){oj(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)});var z_={},Gh={},kp={},Dp={},U_={exports:{}},B_,Z1;function cj(){if(Z1)return B_;Z1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return B_=e,B_}var j_,K1;function hj(){if(K1)return j_;K1=1;var e=cj();function t(){}function n(){}return n.resetWarningCache=t,j_=function(){function i(u,f,p,m,y,w){if(w!==e){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},j_}var $1;function fj(){return $1||($1=1,U_.exports=hj()()),U_.exports}var Y1;function dj(){return Y1||(Y1=1,(function(e){(function(t,n){n(e,hl(),fj())})(Dp,function(t,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=D;var s=u(n),a=u(i);function u(Z){return Z&&Z.__esModule?Z:{default:Z}}var f=Object.assign||function(Z){for(var q=1;q<arguments.length;q++){var nt=arguments[q];for(var X in nt)Object.prototype.hasOwnProperty.call(nt,X)&&(Z[X]=nt[X])}return Z};function p(Z,q){var nt={};for(var X in Z)q.indexOf(X)>=0||Object.prototype.hasOwnProperty.call(Z,X)&&(nt[X]=Z[X]);return nt}function m(Z,q){if(!(Z instanceof q))throw new TypeError("Cannot call a class as a function")}var y=(function(){function Z(q,nt){for(var X=0;X<nt.length;X++){var Y=nt[X];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(q,Y.key,Y)}}return function(q,nt,X){return nt&&Z(q.prototype,nt),X&&Z(q,X),q}})();function w(Z,q){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:Z}function T(Z,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);Z.prototype=Object.create(q&&q.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,q):Z.__proto__=q)}var S=!1;function D(Z){S=Z}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){D(!0)}}))}catch{}function V(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return S?Z:Z.capture}function F(Z){if("touches"in Z){var q=Z.touches[0],nt=q.pageX,X=q.pageY;return{x:nt,y:X}}var Y=Z.screenX,H=Z.screenY;return{x:Y,y:H}}var j=(function(Z){T(q,Z);function q(){var nt;m(this,q);for(var X=arguments.length,Y=Array(X),H=0;H<X;H++)Y[H]=arguments[H];var I=w(this,(nt=q.__proto__||Object.getPrototypeOf(q)).call.apply(nt,[this].concat(Y)));return I._handleSwipeStart=I._handleSwipeStart.bind(I),I._handleSwipeMove=I._handleSwipeMove.bind(I),I._handleSwipeEnd=I._handleSwipeEnd.bind(I),I._onMouseDown=I._onMouseDown.bind(I),I._onMouseMove=I._onMouseMove.bind(I),I._onMouseUp=I._onMouseUp.bind(I),I._setSwiperRef=I._setSwiperRef.bind(I),I}return y(q,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,V({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,V({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(X){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(X))}},{key:"_onMouseMove",value:function(X){this.mouseDown&&this._handleSwipeMove(X)}},{key:"_onMouseUp",value:function(X){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(X)}},{key:"_handleSwipeStart",value:function(X){var Y=F(X),H=Y.x,I=Y.y;this.moveStart={x:H,y:I},this.props.onSwipeStart(X)}},{key:"_handleSwipeMove",value:function(X){if(this.moveStart){var Y=F(X),H=Y.x,I=Y.y,M=H-this.moveStart.x,K=I-this.moveStart.y;this.moving=!0;var N=this.props.onSwipeMove({x:M,y:K},X);N&&X.cancelable&&X.preventDefault(),this.movePosition={deltaX:M,deltaY:K}}}},{key:"_handleSwipeEnd",value:function(X){this.props.onSwipeEnd(X);var Y=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-Y?this.props.onSwipeLeft(1,X):this.movePosition.deltaX>Y&&this.props.onSwipeRight(1,X),this.movePosition.deltaY<-Y?this.props.onSwipeUp(1,X):this.movePosition.deltaY>Y&&this.props.onSwipeDown(1,X)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(X){this.swiper=X,this.props.innerRef(X)}},{key:"render",value:function(){var X=this.props;X.tagName;var Y=X.className,H=X.style,I=X.children;X.allowMouseEvents,X.onSwipeUp,X.onSwipeDown,X.onSwipeLeft,X.onSwipeRight,X.onSwipeStart,X.onSwipeMove,X.onSwipeEnd,X.innerRef,X.tolerance;var M=p(X,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return s.default.createElement(this.props.tagName,f({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:Y,style:H},M),I)}}]),q})(n.Component);j.displayName="ReactSwipe",j.propTypes={tagName:a.default.string,className:a.default.string,style:a.default.object,children:a.default.node,allowMouseEvents:a.default.bool,onSwipeUp:a.default.func,onSwipeDown:a.default.func,onSwipeLeft:a.default.func,onSwipeRight:a.default.func,onSwipeStart:a.default.func,onSwipeMove:a.default.func,onSwipeEnd:a.default.func,innerRef:a.default.func,tolerance:a.default.number.isRequired},j.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=j})})(Dp)),Dp}var X1;function KP(){return X1||(X1=1,(function(e){(function(t,n){n(e,dj())})(kp,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=s(n);function s(a){return a&&a.__esModule?a:{default:a}}t.default=i.default})})(kp)),kp}var Wh={},F_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Q1;function pj(){return Q1||(Q1=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=s(a,i(f)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)t.call(a,f)&&a[f]&&(u=s(u,f));return u}function s(a,u){return u?a?a+" "+u:a+u:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(F_)),F_.exports}var J1;function $P(){if(J1)return Wh;J1=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.default=void 0;var e=t(pj());function t(s){return s&&s.__esModule?s:{default:s}}function n(s,a,u){return a in s?Object.defineProperty(s,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[a]=u,s}var i={ROOT:function(a){return(0,e.default)(n({"carousel-root":!0},a||"",!!a))},CAROUSEL:function(a){return(0,e.default)({carousel:!0,"carousel-slider":a})},WRAPPER:function(a,u){return(0,e.default)({"thumbs-wrapper":!a,"slider-wrapper":a,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(a,u){return(0,e.default)({thumbs:!a,slider:a,animated:!u})},ITEM:function(a,u,f){return(0,e.default)({thumb:!a,slide:a,selected:u,previous:f})},ARROW_PREV:function(a){return(0,e.default)({"control-arrow control-prev":!0,"control-disabled":a})},ARROW_NEXT:function(a){return(0,e.default)({"control-arrow control-next":!0,"control-disabled":a})},DOT:function(a){return(0,e.default)({dot:!0,selected:a})}};return Wh.default=i,Wh}var Zh={},Kh={},tA;function mj(){if(tA)return Kh;tA=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.outerWidth=void 0;var e=function(n){var i=n.offsetWidth,s=getComputedStyle(n);return i+=parseInt(s.marginLeft)+parseInt(s.marginRight),i};return Kh.outerWidth=e,Kh}var $h={},eA;function I0(){if(eA)return $h;eA=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.default=void 0;var e=function(n,i,s){var a=n===0?n:n+i,u=s==="horizontal"?[a,0,0]:[0,a,0],f="translate3d",p="("+u.join(",")+")";return f+p};return $h.default=e,$h}var Yh={},nA;function YP(){if(nA)return Yh;nA=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.default=void 0;var e=function(){return window};return Yh.default=e,Yh}var iA;function XP(){if(iA)return Zh;iA=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.default=void 0;var e=p(hl()),t=u($P()),n=mj(),i=u(I0()),s=u(KP()),a=u(YP());function u(I){return I&&I.__esModule?I:{default:I}}function f(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return f=function(){return I},I}function p(I){if(I&&I.__esModule)return I;if(I===null||m(I)!=="object"&&typeof I!="function")return{default:I};var M=f();if(M&&M.has(I))return M.get(I);var K={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in I)if(Object.prototype.hasOwnProperty.call(I,k)){var O=N?Object.getOwnPropertyDescriptor(I,k):null;O&&(O.get||O.set)?Object.defineProperty(K,k,O):K[k]=I[k]}return K.default=I,M&&M.set(I,K),K}function m(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(K){return typeof K}:m=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},m(I)}function y(){return y=Object.assign||function(I){for(var M=1;M<arguments.length;M++){var K=arguments[M];for(var N in K)Object.prototype.hasOwnProperty.call(K,N)&&(I[N]=K[N])}return I},y.apply(this,arguments)}function w(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function T(I,M){for(var K=0;K<M.length;K++){var N=M[K];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}}function S(I,M,K){return M&&T(I.prototype,M),I}function D(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),M&&V(I,M)}function V(I,M){return V=Object.setPrototypeOf||function(N,k){return N.__proto__=k,N},V(I,M)}function F(I){var M=q();return function(){var N=nt(I),k;if(M){var O=nt(this).constructor;k=Reflect.construct(N,arguments,O)}else k=N.apply(this,arguments);return j(this,k)}}function j(I,M){return M&&(m(M)==="object"||typeof M=="function")?M:Z(I)}function Z(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function nt(I){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)},nt(I)}function X(I,M,K){return M in I?Object.defineProperty(I,M,{value:K,enumerable:!0,configurable:!0,writable:!0}):I[M]=K,I}var Y=function(M){return M.hasOwnProperty("key")},H=(function(I){D(K,I);var M=F(K);function K(N){var k;return w(this,K),k=M.call(this,N),X(Z(k),"itemsWrapperRef",void 0),X(Z(k),"itemsListRef",void 0),X(Z(k),"thumbsRef",void 0),X(Z(k),"setItemsWrapperRef",function(O){k.itemsWrapperRef=O}),X(Z(k),"setItemsListRef",function(O){k.itemsListRef=O}),X(Z(k),"setThumbsRef",function(O,rt){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[rt]=O}),X(Z(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var O=e.Children.count(k.props.children),rt=k.itemsWrapperRef.clientWidth,$=k.props.thumbWidth?k.props.thumbWidth:(0,n.outerWidth)(k.thumbsRef[0]),et=Math.floor(rt/$),it=et<O,ot=it?O-et:0;k.setState(function(Ct,R){return{itemSize:$,visibleItems:et,firstItem:it?k.getFirstItem(R.selectedItem):0,lastPosition:ot,showArrows:it}})}}),X(Z(k),"handleClickItem",function(O,rt,$){if(!Y($)||$.key==="Enter"){var et=k.props.onSelectItem;typeof et=="function"&&et(O,rt)}}),X(Z(k),"onSwipeStart",function(){k.setState({swiping:!0})}),X(Z(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),X(Z(k),"onSwipeMove",function(O){var rt=O.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var $=0,et=e.Children.count(k.props.children),it=-(k.state.firstItem*100)/k.state.visibleItems,ot=Math.max(et-k.state.visibleItems,0),Ct=-ot*100/k.state.visibleItems;it===$&&rt>0&&(rt=0),it===Ct&&rt<0&&(rt=0);var R=k.itemsWrapperRef.clientWidth,ct=it+100/(R/rt);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_t){k.itemsListRef.style[_t]=(0,i.default)(ct,"%",k.props.axis)}),!0}),X(Z(k),"slideRight",function(O){k.moveTo(k.state.firstItem-(typeof O=="number"?O:1))}),X(Z(k),"slideLeft",function(O){k.moveTo(k.state.firstItem+(typeof O=="number"?O:1))}),X(Z(k),"moveTo",function(O){O=O<0?0:O,O=O>=k.state.lastPosition?k.state.lastPosition:O,k.setState({firstItem:O})}),k.state={selectedItem:N.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return S(K,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,a.default)().addEventListener("resize",this.updateSizes),(0,a.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,a.default)().removeEventListener("resize",this.updateSizes),(0,a.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var O=k;return k>=this.state.lastPosition&&(O=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(O=this.state.firstItem),k<this.state.firstItem&&(O=k),O}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(O,rt){var $=t.default.ITEM(!1,rt===k.state.selectedItem),et={key:rt,ref:function(ot){return k.setThumbsRef(ot,rt)},className:$,onClick:k.handleClickItem.bind(k,rt,k.props.children[rt]),onKeyDown:k.handleClickItem.bind(k,rt,k.props.children[rt]),"aria-label":"".concat(k.props.labels.item," ").concat(rt+1),style:{width:k.props.thumbWidth}};return e.default.createElement("li",y({},et,{role:"button",tabIndex:0}),O)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var O=e.Children.count(this.props.children)>1,rt=this.state.showArrows&&this.state.firstItem>0,$=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,et={},it=-this.state.firstItem*(this.state.itemSize||0),ot=(0,i.default)(it,"px",this.props.axis),Ct=this.props.transitionTime+"ms";return et={WebkitTransform:ot,MozTransform:ot,MsTransform:ot,OTransform:ot,transform:ot,msTransform:ot,WebkitTransitionDuration:Ct,MozTransitionDuration:Ct,MsTransitionDuration:Ct,OTransitionDuration:Ct,transitionDuration:Ct,msTransitionDuration:Ct},e.default.createElement("div",{className:t.default.CAROUSEL(!1)},e.default.createElement("div",{className:t.default.WRAPPER(!1),ref:this.setItemsWrapperRef},e.default.createElement("button",{type:"button",className:t.default.ARROW_PREV(!rt),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),O?e.default.createElement(s.default,{tagName:"ul",className:t.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:et,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):e.default.createElement("ul",{className:t.default.SLIDER(!1,this.state.swiping),ref:function(ct){return k.setItemsListRef(ct)},style:et},this.renderItems()),e.default.createElement("button",{type:"button",className:t.default.ARROW_NEXT(!$),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),K})(e.Component);return Zh.default=H,X(H,"displayName","Thumbs"),X(H,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Zh}var Xh={},rA;function gj(){if(rA)return Xh;rA=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.default=void 0;var e=function(){return document};return Xh.default=e,Xh}var Nr={},sA;function QP(){if(sA)return Nr;sA=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.setPosition=Nr.getPosition=Nr.isKeyboardEvent=Nr.defaultStatusFormatter=Nr.noop=void 0;var e=hl(),t=n(I0());function n(p){return p&&p.__esModule?p:{default:p}}var i=function(){};Nr.noop=i;var s=function(m,y){return"".concat(m," of ").concat(y)};Nr.defaultStatusFormatter=s;var a=function(m){return m?m.hasOwnProperty("key"):!1};Nr.isKeyboardEvent=a;var u=function(m,y){if(y.infiniteLoop&&++m,m===0)return 0;var w=e.Children.count(y.children);if(y.centerMode&&y.axis==="horizontal"){var T=-m*y.centerSlidePercentage,S=w-1;return m&&(m!==S||y.infiniteLoop)?T+=(100-y.centerSlidePercentage)/2:m===S&&(T+=100-y.centerSlidePercentage),T}return-m*100};Nr.getPosition=u;var f=function(m,y){var w={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(T){w[T]=(0,t.default)(m,"%",y)}),w};return Nr.setPosition=f,Nr}var As={},oA;function yj(){if(oA)return As;oA=1,Object.defineProperty(As,"__esModule",{value:!0}),As.fadeAnimationHandler=As.slideStopSwipingHandler=As.slideSwipeAnimationHandler=As.slideAnimationHandler=void 0;var e=hl(),t=i(I0()),n=QP();function i(w){return w&&w.__esModule?w:{default:w}}function s(w,T){var S=Object.keys(w);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(w);T&&(D=D.filter(function(V){return Object.getOwnPropertyDescriptor(w,V).enumerable})),S.push.apply(S,D)}return S}function a(w){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?s(Object(S),!0).forEach(function(D){u(w,D,S[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(S)):s(Object(S)).forEach(function(D){Object.defineProperty(w,D,Object.getOwnPropertyDescriptor(S,D))})}return w}function u(w,T,S){return T in w?Object.defineProperty(w,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[T]=S,w}var f=function(T,S){var D={},V=S.selectedItem,F=V,j=e.Children.count(T.children)-1,Z=T.infiniteLoop&&(V<0||V>j);if(Z)return F<0?T.centerMode&&T.centerSlidePercentage&&T.axis==="horizontal"?D.itemListStyle=(0,n.setPosition)(-(j+2)*T.centerSlidePercentage-(100-T.centerSlidePercentage)/2,T.axis):D.itemListStyle=(0,n.setPosition)(-(j+2)*100,T.axis):F>j&&(D.itemListStyle=(0,n.setPosition)(0,T.axis)),D;var q=(0,n.getPosition)(V,T),nt=(0,t.default)(q,"%",T.axis),X=T.transitionTime+"ms";return D.itemListStyle={WebkitTransform:nt,msTransform:nt,OTransform:nt,transform:nt},S.swiping||(D.itemListStyle=a(a({},D.itemListStyle),{},{WebkitTransitionDuration:X,MozTransitionDuration:X,OTransitionDuration:X,transitionDuration:X,msTransitionDuration:X})),D};As.slideAnimationHandler=f;var p=function(T,S,D,V){var F={},j=S.axis==="horizontal",Z=e.Children.count(S.children),q=0,nt=(0,n.getPosition)(D.selectedItem,S),X=S.infiniteLoop?(0,n.getPosition)(Z-1,S)-100:(0,n.getPosition)(Z-1,S),Y=j?T.x:T.y,H=Y;nt===q&&Y>0&&(H=0),nt===X&&Y<0&&(H=0);var I=nt+100/(D.itemSize/H),M=Math.abs(Y)>S.swipeScrollTolerance;return S.infiniteLoop&&M&&(D.selectedItem===0&&I>-100?I-=Z*100:D.selectedItem===Z-1&&I<-Z*100&&(I+=Z*100)),(!S.preventMovementUntilSwipeScrollTolerance||M||D.swipeMovementStarted)&&(D.swipeMovementStarted||V({swipeMovementStarted:!0}),F.itemListStyle=(0,n.setPosition)(I,S.axis)),M&&!D.cancelClick&&V({cancelClick:!0}),F};As.slideSwipeAnimationHandler=p;var m=function(T,S){var D=(0,n.getPosition)(S.selectedItem,T),V=(0,n.setPosition)(D,T.axis);return{itemListStyle:V}};As.slideStopSwipingHandler=m;var y=function(T,S){var D=T.transitionTime+"ms",V="ease-in-out",F={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:V,msTransitionTimingFunction:V,MozTransitionTimingFunction:V,WebkitTransitionTimingFunction:V,OTransitionTimingFunction:V};return S.swiping||(F=a(a({},F),{},{WebkitTransitionDuration:D,MozTransitionDuration:D,OTransitionDuration:D,transitionDuration:D,msTransitionDuration:D})),{slideStyle:F,selectedStyle:a(a({},F),{},{opacity:1,position:"relative"}),prevStyle:a({},F)}};return As.fadeAnimationHandler=y,As}var aA;function _j(){if(aA)return Gh;aA=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.default=void 0;var e=y(hl()),t=p(KP()),n=p($P()),i=p(XP()),s=p(gj()),a=p(YP()),u=QP(),f=yj();function p(N){return N&&N.__esModule?N:{default:N}}function m(){if(typeof WeakMap!="function")return null;var N=new WeakMap;return m=function(){return N},N}function y(N){if(N&&N.__esModule)return N;if(N===null||w(N)!=="object"&&typeof N!="function")return{default:N};var k=m();if(k&&k.has(N))return k.get(N);var O={},rt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in N)if(Object.prototype.hasOwnProperty.call(N,$)){var et=rt?Object.getOwnPropertyDescriptor(N,$):null;et&&(et.get||et.set)?Object.defineProperty(O,$,et):O[$]=N[$]}return O.default=N,k&&k.set(N,O),O}function w(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(O){return typeof O}:w=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},w(N)}function T(){return T=Object.assign||function(N){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var rt in O)Object.prototype.hasOwnProperty.call(O,rt)&&(N[rt]=O[rt])}return N},T.apply(this,arguments)}function S(N,k){var O=Object.keys(N);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(N);k&&(rt=rt.filter(function($){return Object.getOwnPropertyDescriptor(N,$).enumerable})),O.push.apply(O,rt)}return O}function D(N){for(var k=1;k<arguments.length;k++){var O=arguments[k]!=null?arguments[k]:{};k%2?S(Object(O),!0).forEach(function(rt){M(N,rt,O[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(O)):S(Object(O)).forEach(function(rt){Object.defineProperty(N,rt,Object.getOwnPropertyDescriptor(O,rt))})}return N}function V(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}function F(N,k){for(var O=0;O<k.length;O++){var rt=k[O];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(N,rt.key,rt)}}function j(N,k,O){return k&&F(N.prototype,k),N}function Z(N,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(k&&k.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),k&&q(N,k)}function q(N,k){return q=Object.setPrototypeOf||function(rt,$){return rt.__proto__=$,rt},q(N,k)}function nt(N){var k=H();return function(){var rt=I(N),$;if(k){var et=I(this).constructor;$=Reflect.construct(rt,arguments,et)}else $=rt.apply(this,arguments);return X(this,$)}}function X(N,k){return k&&(w(k)==="object"||typeof k=="function")?k:Y(N)}function Y(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function H(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function I(N){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},I(N)}function M(N,k,O){return k in N?Object.defineProperty(N,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):N[k]=O,N}var K=(function(N){Z(O,N);var k=nt(O);function O(rt){var $;V(this,O),$=k.call(this,rt),M(Y($),"thumbsRef",void 0),M(Y($),"carouselWrapperRef",void 0),M(Y($),"listRef",void 0),M(Y($),"itemsRef",void 0),M(Y($),"timer",void 0),M(Y($),"animationHandler",void 0),M(Y($),"setThumbsRef",function(it){$.thumbsRef=it}),M(Y($),"setCarouselWrapperRef",function(it){$.carouselWrapperRef=it}),M(Y($),"setListRef",function(it){$.listRef=it}),M(Y($),"setItemsRef",function(it,ot){$.itemsRef||($.itemsRef=[]),$.itemsRef[ot]=it}),M(Y($),"autoPlay",function(){e.Children.count($.props.children)<=1||($.clearAutoPlay(),$.props.autoPlay&&($.timer=setTimeout(function(){$.increment()},$.props.interval)))}),M(Y($),"clearAutoPlay",function(){$.timer&&clearTimeout($.timer)}),M(Y($),"resetAutoPlay",function(){$.clearAutoPlay(),$.autoPlay()}),M(Y($),"stopOnHover",function(){$.setState({isMouseEntered:!0},$.clearAutoPlay)}),M(Y($),"startOnLeave",function(){$.setState({isMouseEntered:!1},$.autoPlay)}),M(Y($),"isFocusWithinTheCarousel",function(){return $.carouselWrapperRef?!!((0,s.default)().activeElement===$.carouselWrapperRef||$.carouselWrapperRef.contains((0,s.default)().activeElement)):!1}),M(Y($),"navigateWithKeyboard",function(it){if($.isFocusWithinTheCarousel()){var ot=$.props.axis,Ct=ot==="horizontal",R={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ct=Ct?R.ArrowRight:R.ArrowDown,_t=Ct?R.ArrowLeft:R.ArrowUp;ct===it.keyCode?$.increment():_t===it.keyCode&&$.decrement()}}),M(Y($),"updateSizes",function(){if(!(!$.state.initialized||!$.itemsRef||$.itemsRef.length===0)){var it=$.props.axis==="horizontal",ot=$.itemsRef[0];if(ot){var Ct=it?ot.clientWidth:ot.clientHeight;$.setState({itemSize:Ct}),$.thumbsRef&&$.thumbsRef.updateSizes()}}}),M(Y($),"setMountState",function(){$.setState({hasMount:!0}),$.updateSizes()}),M(Y($),"handleClickItem",function(it,ot){if(e.Children.count($.props.children)!==0){if($.state.cancelClick){$.setState({cancelClick:!1});return}$.props.onClickItem(it,ot),it!==$.state.selectedItem&&$.setState({selectedItem:it})}}),M(Y($),"handleOnChange",function(it,ot){e.Children.count($.props.children)<=1||$.props.onChange(it,ot)}),M(Y($),"handleClickThumb",function(it,ot){$.props.onClickThumb(it,ot),$.moveTo(it)}),M(Y($),"onSwipeStart",function(it){$.setState({swiping:!0}),$.props.onSwipeStart(it)}),M(Y($),"onSwipeEnd",function(it){$.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),$.props.onSwipeEnd(it),$.clearAutoPlay(),$.state.autoPlay&&$.autoPlay()}),M(Y($),"onSwipeMove",function(it,ot){$.props.onSwipeMove(ot);var Ct=$.props.swipeAnimationHandler(it,$.props,$.state,$.setState.bind(Y($)));return $.setState(D({},Ct)),!!Object.keys(Ct).length}),M(Y($),"decrement",function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;$.moveTo($.state.selectedItem-(typeof it=="number"?it:1))}),M(Y($),"increment",function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;$.moveTo($.state.selectedItem+(typeof it=="number"?it:1))}),M(Y($),"moveTo",function(it){if(typeof it=="number"){var ot=e.Children.count($.props.children)-1;it<0&&(it=$.props.infiniteLoop?ot:0),it>ot&&(it=$.props.infiniteLoop?0:ot),$.selectItem({selectedItem:it}),$.state.autoPlay&&$.state.isMouseEntered===!1&&$.resetAutoPlay()}}),M(Y($),"onClickNext",function(){$.increment(1)}),M(Y($),"onClickPrev",function(){$.decrement(1)}),M(Y($),"onSwipeForward",function(){$.increment(1),$.props.emulateTouch&&$.setState({cancelClick:!0})}),M(Y($),"onSwipeBackwards",function(){$.decrement(1),$.props.emulateTouch&&$.setState({cancelClick:!0})}),M(Y($),"changeItem",function(it){return function(ot){(!(0,u.isKeyboardEvent)(ot)||ot.key==="Enter")&&$.moveTo(it)}}),M(Y($),"selectItem",function(it){$.setState(D({previousItem:$.state.selectedItem},it),function(){$.setState($.animationHandler($.props,$.state))}),$.handleOnChange(it.selectedItem,e.Children.toArray($.props.children)[it.selectedItem])}),M(Y($),"getInitialImage",function(){var it=$.props.selectedItem,ot=$.itemsRef&&$.itemsRef[it],Ct=ot&&ot.getElementsByTagName("img")||[];return Ct[0]}),M(Y($),"getVariableItemHeight",function(it){var ot=$.itemsRef&&$.itemsRef[it];if($.state.hasMount&&ot&&ot.children.length){var Ct=ot.children[0].getElementsByTagName("img")||[];if(Ct.length>0){var R=Ct[0];if(!R.complete){var ct=function Rt(){$.forceUpdate(),R.removeEventListener("load",Rt)};R.addEventListener("load",ct)}}var _t=Ct[0]||ot.children[0],G=_t.clientHeight;return G>0?G:null}return null});var et={initialized:!1,previousItem:rt.selectedItem,selectedItem:rt.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:rt.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return $.animationHandler=typeof rt.animationHandler=="function"&&rt.animationHandler||rt.animationHandler==="fade"&&f.fadeAnimationHandler||f.slideAnimationHandler,$.state=D(D({},et),$.animationHandler(rt,et)),$}return j(O,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function($,et){!$.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!$.autoFocus&&this.props.autoFocus&&this.forceFocus(),et.swiping&&!this.state.swiping&&this.setState(D({},this.props.stopSwipingHandler(this.props,this.state))),($.selectedItem!==this.props.selectedItem||$.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),$.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var $=this;this.bindEvents(),this.state.autoPlay&&e.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var et=$.getInitialImage();et&&!et.complete?et.addEventListener("load",$.setMountState):$.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var $=this.carouselWrapperRef;this.props.stopOnHover&&$&&($.addEventListener("mouseenter",this.stopOnHover),$.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var $=this.carouselWrapperRef;this.props.stopOnHover&&$&&($.removeEventListener("mouseenter",this.stopOnHover),$.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,a.default)().addEventListener("resize",this.updateSizes),(0,a.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,s.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,a.default)().removeEventListener("resize",this.updateSizes),(0,a.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var $=this.getInitialImage();$&&$.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,s.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var $;($=this.carouselWrapperRef)===null||$===void 0||$.focus()}},{key:"renderItems",value:function($){var et=this;return this.props.children?e.Children.map(this.props.children,function(it,ot){var Ct=ot===et.state.selectedItem,R=ot===et.state.previousItem,ct=Ct&&et.state.selectedStyle||R&&et.state.prevStyle||et.state.slideStyle||{};et.props.centerMode&&et.props.axis==="horizontal"&&(ct=D(D({},ct),{},{minWidth:et.props.centerSlidePercentage+"%"})),et.state.swiping&&et.state.swipeMovementStarted&&(ct=D(D({},ct),{},{pointerEvents:"none"}));var _t={ref:function(Rt){return et.setItemsRef(Rt,ot)},key:"itemKey"+ot+($?"clone":""),className:n.default.ITEM(!0,ot===et.state.selectedItem,ot===et.state.previousItem),onClick:et.handleClickItem.bind(et,ot,it),style:ct};return e.default.createElement("li",_t,et.props.renderItem(it,{isSelected:ot===et.state.selectedItem,isPrevious:ot===et.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var $=this,et=this.props,it=et.showIndicators,ot=et.labels,Ct=et.renderIndicator,R=et.children;return it?e.default.createElement("ul",{className:"control-dots"},e.Children.map(R,function(ct,_t){return Ct&&Ct($.changeItem(_t),_t===$.state.selectedItem,_t,ot.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?e.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,e.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||e.Children.count(this.props.children)===0?null:e.default.createElement(i.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var $=this;if(!this.props.children||e.Children.count(this.props.children)===0)return null;var et=this.props.swipeable&&e.Children.count(this.props.children)>1,it=this.props.axis==="horizontal",ot=this.props.showArrows&&e.Children.count(this.props.children)>1,Ct=ot&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,R=ot&&(this.state.selectedItem<e.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ct=this.renderItems(!0),_t=ct.shift(),G=ct.pop(),Rt={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},kt={};if(it){if(Rt.onSwipeLeft=this.onSwipeForward,Rt.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Tt=this.getVariableItemHeight(this.state.selectedItem);kt.height=Tt||"auto"}}else Rt.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Rt.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Rt.style=D(D({},Rt.style),{},{height:this.state.itemSize}),kt.height=this.state.itemSize;return e.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},e.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Ct,this.props.labels.leftArrow),e.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:kt},et?e.default.createElement(t.default,T({tagName:"ul",innerRef:this.setListRef},Rt,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&G,this.renderItems(),this.props.infiniteLoop&&_t):e.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(Ft){return $.setListRef(Ft)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&G,this.renderItems(),this.props.infiniteLoop&&_t)),this.props.renderArrowNext(this.onClickNext,R,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),O})(e.default.Component);return Gh.default=K,M(K,"displayName","Carousel"),M(K,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,O,rt){return e.default.createElement("button",{type:"button","aria-label":rt,className:n.default.ARROW_PREV(!O),onClick:k})},renderArrowNext:function(k,O,rt){return e.default.createElement("button",{type:"button","aria-label":rt,className:n.default.ARROW_NEXT(!O),onClick:k})},renderIndicator:function(k,O,rt,$){return e.default.createElement("li",{className:n.default.DOT(O),onClick:k,onKeyDown:k,value:rt,key:rt,role:"button",tabIndex:0,"aria-label":"".concat($," ").concat(rt+1)})},renderItem:function(k){return k},renderThumbs:function(k){var O=e.Children.map(k,function(rt){var $=rt;if(rt.type!=="img"&&($=e.Children.toArray(rt.props.children).find(function(et){return et.type==="img"})),!!$)return $});return O.filter(function(rt){return rt}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):O},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:f.slideSwipeAnimationHandler,stopSwipingHandler:f.slideStopSwipingHandler}),Gh}var lA={},uA;function vj(){return uA||(uA=1),lA}var cA;function wj(){return cA||(cA=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return i.default}});var t=s(_j()),n=vj(),i=s(XP());function s(a){return a&&a.__esModule?a:{default:a}}})(z_)),z_}var bj=wj();function Tj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U.useMemo(()=>i=>{t.forEach(s=>s(i))},t)}const Qm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Uc(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function P0(e){return"nodeType"in e}function pr(e){var t,n;return e?Uc(e)?e:P0(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function k0(e){const{Document:t}=pr(e);return e instanceof t}function ad(e){return Uc(e)?!1:e instanceof pr(e).HTMLElement}function JP(e){return e instanceof pr(e).SVGElement}function Bc(e){return e?Uc(e)?e.document:P0(e)?k0(e)?e:ad(e)||JP(e)?e.ownerDocument:document:document:document}const po=Qm?U.useLayoutEffect:U.useEffect;function D0(e){const t=U.useRef(e);return po(()=>{t.current=e}),U.useCallback(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.current==null?void 0:t.current(...i)},[])}function Ej(){const e=U.useRef(null),t=U.useCallback((i,s)=>{e.current=setInterval(i,s)},[]),n=U.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Vf(e,t){t===void 0&&(t=[e]);const n=U.useRef(e);return po(()=>{n.current!==e&&(n.current=e)},t),n}function ld(e,t){const n=U.useRef();return U.useMemo(()=>{const i=e(n.current);return n.current=i,i},[...t])}function ym(e){const t=D0(e),n=U.useRef(null),i=U.useCallback(s=>{s!==n.current&&t?.(s,n.current),n.current=s},[]);return[n,i]}function Fv(e){const t=U.useRef();return U.useEffect(()=>{t.current=e},[e]),t.current}let H_={};function ud(e,t){return U.useMemo(()=>{if(t)return t;const n=H_[e]==null?0:H_[e]+1;return H_[e]=n,e+"-"+n},[e,t])}function tk(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((a,u)=>{const f=Object.entries(u);for(const[p,m]of f){const y=a[p];y!=null&&(a[p]=y+e*m)}return a},{...t})}}const mc=tk(1),zf=tk(-1);function Sj(e){return"clientX"in e&&"clientY"in e}function M0(e){if(!e)return!1;const{KeyboardEvent:t}=pr(e.target);return t&&e instanceof t}function xj(e){if(!e)return!1;const{TouchEvent:t}=pr(e.target);return t&&e instanceof t}function Hv(e){if(xj(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Sj(e)?{x:e.clientX,y:e.clientY}:null}const Uf=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Uf.Translate.toString(e),Uf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:i}=e;return t+" "+n+"ms "+i}}}),hA="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Aj(e){return e.matches(hA)?e:e.querySelector(hA)}const Rj={display:"none"};function Cj(e){let{id:t,value:n}=e;return gi.createElement("div",{id:t,style:Rj},n)}function Ij(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return gi.createElement("div",{id:t,style:s,role:"status","aria-live":i,"aria-atomic":!0},n)}function Pj(){const[e,t]=U.useState("");return{announce:U.useCallback(i=>{i!=null&&t(i)},[]),announcement:e}}const ek=U.createContext(null);function kj(e){const t=U.useContext(ek);U.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Dj(){const[e]=U.useState(()=>new Set),t=U.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[U.useCallback(i=>{let{type:s,event:a}=i;e.forEach(u=>{var f;return(f=u[s])==null?void 0:f.call(u,a)})},[e]),t]}const Mj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Oj={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Lj(e){let{announcements:t=Oj,container:n,hiddenTextDescribedById:i,screenReaderInstructions:s=Mj}=e;const{announce:a,announcement:u}=Pj(),f=ud("DndLiveRegion"),[p,m]=U.useState(!1);if(U.useEffect(()=>{m(!0)},[]),kj(U.useMemo(()=>({onDragStart(w){let{active:T}=w;a(t.onDragStart({active:T}))},onDragMove(w){let{active:T,over:S}=w;t.onDragMove&&a(t.onDragMove({active:T,over:S}))},onDragOver(w){let{active:T,over:S}=w;a(t.onDragOver({active:T,over:S}))},onDragEnd(w){let{active:T,over:S}=w;a(t.onDragEnd({active:T,over:S}))},onDragCancel(w){let{active:T,over:S}=w;a(t.onDragCancel({active:T,over:S}))}}),[a,t])),!p)return null;const y=gi.createElement(gi.Fragment,null,gi.createElement(Cj,{id:i,value:s.draggable}),gi.createElement(Ij,{id:f,announcement:u}));return n?rc.createPortal(y,n):y}var ni;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ni||(ni={}));function _m(){}function fA(e,t){return U.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Nj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const ks=Object.freeze({x:0,y:0});function nk(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ik(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return n-i}function Vj(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return i-n}function dA(e){let{left:t,top:n,height:i,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+i},{x:t+s,y:n+i}]}function rk(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function pA(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const zj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=pA(t,t.left,t.top),a=[];for(const u of i){const{id:f}=u,p=n.get(f);if(p){const m=nk(pA(p),s);a.push({id:f,data:{droppableContainer:u,value:m}})}}return a.sort(ik)},Uj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=dA(t),a=[];for(const u of i){const{id:f}=u,p=n.get(f);if(p){const m=dA(p),y=s.reduce((T,S,D)=>T+nk(m[D],S),0),w=Number((y/4).toFixed(4));a.push({id:f,data:{droppableContainer:u,value:w}})}}return a.sort(ik)};function Bj(e,t){const n=Math.max(t.top,e.top),i=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),u=s-i,f=a-n;if(i<s&&n<a){const p=t.width*t.height,m=e.width*e.height,y=u*f,w=y/(p+m-y);return Number(w.toFixed(4))}return 0}const jj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=[];for(const a of i){const{id:u}=a,f=n.get(u);if(f){const p=Bj(f,t);p>0&&s.push({id:u,data:{droppableContainer:a,value:p}})}}return s.sort(Vj)};function Fj(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function sk(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ks}function Hj(e){return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return s.reduce((u,f)=>({...u,top:u.top+e*f.y,bottom:u.bottom+e*f.y,left:u.left+e*f.x,right:u.right+e*f.x}),{...n})}}const qj=Hj(1);function Gj(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Wj(e,t,n){const i=Gj(t);if(!i)return e;const{scaleX:s,scaleY:a,x:u,y:f}=i,p=e.left-u-(1-s)*parseFloat(n),m=e.top-f-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),y=s?e.width/s:e.width,w=a?e.height/a:e.height;return{width:y,height:w,top:m,right:p+y,bottom:m+w,left:p}}const Zj={ignoreTransform:!1};function jc(e,t){t===void 0&&(t=Zj);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:y}=pr(e).getComputedStyle(e);m&&(n=Wj(n,m,y))}const{top:i,left:s,width:a,height:u,bottom:f,right:p}=n;return{top:i,left:s,width:a,height:u,bottom:f,right:p}}function mA(e){return jc(e,{ignoreTransform:!0})}function Kj(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function $j(e,t){return t===void 0&&(t=pr(e).getComputedStyle(e)),t.position==="fixed"}function Yj(e,t){t===void 0&&(t=pr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=t[s];return typeof a=="string"?n.test(a):!1})}function Jm(e,t){const n=[];function i(s){if(t!=null&&n.length>=t||!s)return n;if(k0(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!ad(s)||JP(s)||n.includes(s))return n;const a=pr(e).getComputedStyle(s);return s!==e&&Yj(s,a)&&n.push(s),$j(s,a)?n:i(s.parentNode)}return e?i(e):n}function ok(e){const[t]=Jm(e,1);return t??null}function q_(e){return!Qm||!e?null:Uc(e)?e:P0(e)?k0(e)||e===Bc(e).scrollingElement?window:ad(e)?e:null:null}function ak(e){return Uc(e)?e.scrollX:e.scrollLeft}function lk(e){return Uc(e)?e.scrollY:e.scrollTop}function qv(e){return{x:ak(e),y:lk(e)}}var mi;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(mi||(mi={}));function uk(e){return!Qm||!e?!1:e===document.scrollingElement}function ck(e){const t={x:0,y:0},n=uk(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,u=e.scrollTop>=i.y,f=e.scrollLeft>=i.x;return{isTop:s,isLeft:a,isBottom:u,isRight:f,maxScroll:i,minScroll:t}}const Xj={x:.2,y:.2};function Qj(e,t,n,i,s){let{top:a,left:u,right:f,bottom:p}=n;i===void 0&&(i=10),s===void 0&&(s=Xj);const{isTop:m,isBottom:y,isLeft:w,isRight:T}=ck(e),S={x:0,y:0},D={x:0,y:0},V={height:t.height*s.y,width:t.width*s.x};return!m&&a<=t.top+V.height?(S.y=mi.Backward,D.y=i*Math.abs((t.top+V.height-a)/V.height)):!y&&p>=t.bottom-V.height&&(S.y=mi.Forward,D.y=i*Math.abs((t.bottom-V.height-p)/V.height)),!T&&f>=t.right-V.width?(S.x=mi.Forward,D.x=i*Math.abs((t.right-V.width-f)/V.width)):!w&&u<=t.left+V.width&&(S.x=mi.Backward,D.x=i*Math.abs((t.left+V.width-u)/V.width)),{direction:S,speed:D}}function Jj(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:u}=window;return{top:0,left:0,right:a,bottom:u,width:a,height:u}}const{top:t,left:n,right:i,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:s,width:e.clientWidth,height:e.clientHeight}}function hk(e){return e.reduce((t,n)=>mc(t,qv(n)),ks)}function tF(e){return e.reduce((t,n)=>t+ak(n),0)}function eF(e){return e.reduce((t,n)=>t+lk(n),0)}function nF(e,t){if(t===void 0&&(t=jc),!e)return;const{top:n,left:i,bottom:s,right:a}=t(e);ok(e)&&(s<=0||a<=0||n>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const iF=[["x",["left","right"],tF],["y",["top","bottom"],eF]];class O0{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Jm(n),s=hk(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,u,f]of iF)for(const p of u)Object.defineProperty(this,p,{get:()=>{const m=f(i),y=s[a]-m;return this.rect[p]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=t}add(t,n,i){var s;(s=this.target)==null||s.addEventListener(t,n,i),this.listeners.push([t,n,i])}}function rF(e){const{EventTarget:t}=pr(e);return e instanceof t?e:Bc(e)}function G_(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t?i>t.y:!1}var os;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(os||(os={}));function gA(e){e.preventDefault()}function sF(e){e.stopPropagation()}var we;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(we||(we={}));const fk={start:[we.Space,we.Enter],cancel:[we.Esc],end:[we.Space,we.Enter,we.Tab]},oF=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case we.Right:return{...n,x:n.x+25};case we.Left:return{...n,x:n.x-25};case we.Down:return{...n,y:n.y+25};case we.Up:return{...n,y:n.y-25}}};class L0{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new vf(Bc(n)),this.windowListeners=new vf(pr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(os.Resize,this.handleCancel),this.windowListeners.add(os.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(os.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,i=t.node.current;i&&nF(i),n(ks)}handleKeyDown(t){if(M0(t)){const{active:n,context:i,options:s}=this.props,{keyboardCodes:a=fk,coordinateGetter:u=oF,scrollBehavior:f="smooth"}=s,{code:p}=t;if(a.end.includes(p)){this.handleEnd(t);return}if(a.cancel.includes(p)){this.handleCancel(t);return}const{collisionRect:m}=i.current,y=m?{x:m.left,y:m.top}:ks;this.referenceCoordinates||(this.referenceCoordinates=y);const w=u(t,{active:n,context:i.current,currentCoordinates:y});if(w){const T=zf(w,y),S={x:0,y:0},{scrollableAncestors:D}=i.current;for(const V of D){const F=t.code,{isTop:j,isRight:Z,isLeft:q,isBottom:nt,maxScroll:X,minScroll:Y}=ck(V),H=Jj(V),I={x:Math.min(F===we.Right?H.right-H.width/2:H.right,Math.max(F===we.Right?H.left:H.left+H.width/2,w.x)),y:Math.min(F===we.Down?H.bottom-H.height/2:H.bottom,Math.max(F===we.Down?H.top:H.top+H.height/2,w.y))},M=F===we.Right&&!Z||F===we.Left&&!q,K=F===we.Down&&!nt||F===we.Up&&!j;if(M&&I.x!==w.x){const N=V.scrollLeft+T.x,k=F===we.Right&&N<=X.x||F===we.Left&&N>=Y.x;if(k&&!T.y){V.scrollTo({left:N,behavior:f});return}k?S.x=V.scrollLeft-N:S.x=F===we.Right?V.scrollLeft-X.x:V.scrollLeft-Y.x,S.x&&V.scrollBy({left:-S.x,behavior:f});break}else if(K&&I.y!==w.y){const N=V.scrollTop+T.y,k=F===we.Down&&N<=X.y||F===we.Up&&N>=Y.y;if(k&&!T.x){V.scrollTo({top:N,behavior:f});return}k?S.y=V.scrollTop-N:S.y=F===we.Down?V.scrollTop-X.y:V.scrollTop-Y.y,S.y&&V.scrollBy({top:-S.y,behavior:f});break}}this.handleMove(t,mc(zf(w,this.referenceCoordinates),S))}}}handleMove(t,n){const{onMove:i}=this.props;t.preventDefault(),i(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}L0.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:i=fk,onActivation:s}=t,{active:a}=n;const{code:u}=e.nativeEvent;if(i.start.includes(u)){const f=a.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function yA(e){return!!(e&&"distance"in e)}function _A(e){return!!(e&&"delay"in e)}class N0{constructor(t,n,i){var s;i===void 0&&(i=rF(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:u}=a;this.props=t,this.events=n,this.document=Bc(u),this.documentListeners=new vf(this.document),this.listeners=new vf(i),this.windowListeners=new vf(pr(u)),this.initialCoordinates=(s=Hv(a))!=null?s:ks,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(os.Resize,this.handleCancel),this.windowListeners.add(os.DragStart,gA),this.windowListeners.add(os.VisibilityChange,this.handleCancel),this.windowListeners.add(os.ContextMenu,gA),this.documentListeners.add(os.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_A(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(yA(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:i,onPending:s}=this.props;s(i,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(os.Click,sF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(os.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:i,initialCoordinates:s,props:a}=this,{onMove:u,options:{activationConstraint:f}}=a;if(!s)return;const p=(n=Hv(t))!=null?n:ks,m=zf(s,p);if(!i&&f){if(yA(f)){if(f.tolerance!=null&&G_(m,f.tolerance))return this.handleCancel();if(G_(m,f.distance))return this.handleStart()}if(_A(f)&&G_(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}t.cancelable&&t.preventDefault(),u(p)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===we.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const aF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class V0 extends N0{constructor(t){const{event:n}=t,i=Bc(n.target);super(t,aF,i)}}V0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const lF={move:{name:"mousemove"},end:{name:"mouseup"}};var Gv;(function(e){e[e.RightClick=2]="RightClick"})(Gv||(Gv={}));class uF extends N0{constructor(t){super(t,lF,Bc(t.event.target))}}uF.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return n.button===Gv.RightClick?!1:(i?.({event:n}),!0)}}];const W_={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class cF extends N0{constructor(t){super(t,W_)}static setup(){return window.addEventListener(W_.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(W_.move.name,t)};function t(){}}}cF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;const{touches:s}=n;return s.length>1?!1:(i?.({event:n}),!0)}}];var wf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(wf||(wf={}));var vm;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(vm||(vm={}));function hF(e){let{acceleration:t,activator:n=wf.Pointer,canScroll:i,draggingRect:s,enabled:a,interval:u=5,order:f=vm.TreeOrder,pointerCoordinates:p,scrollableAncestors:m,scrollableAncestorRects:y,delta:w,threshold:T}=e;const S=dF({delta:w,disabled:!a}),[D,V]=Ej(),F=U.useRef({x:0,y:0}),j=U.useRef({x:0,y:0}),Z=U.useMemo(()=>{switch(n){case wf.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case wf.DraggableRect:return s}},[n,s,p]),q=U.useRef(null),nt=U.useCallback(()=>{const Y=q.current;if(!Y)return;const H=F.current.x*j.current.x,I=F.current.y*j.current.y;Y.scrollBy(H,I)},[]),X=U.useMemo(()=>f===vm.TreeOrder?[...m].reverse():m,[f,m]);U.useEffect(()=>{if(!a||!m.length||!Z){V();return}for(const Y of X){if(i?.(Y)===!1)continue;const H=m.indexOf(Y),I=y[H];if(!I)continue;const{direction:M,speed:K}=Qj(Y,I,Z,t,T);for(const N of["x","y"])S[N][M[N]]||(K[N]=0,M[N]=0);if(K.x>0||K.y>0){V(),q.current=Y,D(nt,u),F.current=K,j.current=M;return}}F.current={x:0,y:0},j.current={x:0,y:0},V()},[t,nt,i,V,a,u,JSON.stringify(Z),JSON.stringify(S),D,m,X,y,JSON.stringify(T)])}const fF={x:{[mi.Backward]:!1,[mi.Forward]:!1},y:{[mi.Backward]:!1,[mi.Forward]:!1}};function dF(e){let{delta:t,disabled:n}=e;const i=Fv(t);return ld(s=>{if(n||!i||!s)return fF;const a={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[mi.Backward]:s.x[mi.Backward]||a.x===-1,[mi.Forward]:s.x[mi.Forward]||a.x===1},y:{[mi.Backward]:s.y[mi.Backward]||a.y===-1,[mi.Forward]:s.y[mi.Forward]||a.y===1}}},[n,t,i])}function pF(e,t){const n=t!=null?e.get(t):void 0,i=n?n.node.current:null;return ld(s=>{var a;return t==null?null:(a=i??s)!=null?a:null},[i,t])}function mF(e,t){return U.useMemo(()=>e.reduce((n,i)=>{const{sensor:s}=i,a=s.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,i)}));return[...n,...a]},[]),[e,t])}var Bf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Bf||(Bf={}));var Wv;(function(e){e.Optimized="optimized"})(Wv||(Wv={}));const vA=new Map;function gF(e,t){let{dragging:n,dependencies:i,config:s}=t;const[a,u]=U.useState(null),{frequency:f,measure:p,strategy:m}=s,y=U.useRef(e),w=F(),T=Vf(w),S=U.useCallback(function(j){j===void 0&&(j=[]),!T.current&&u(Z=>Z===null?j:Z.concat(j.filter(q=>!Z.includes(q))))},[T]),D=U.useRef(null),V=ld(j=>{if(w&&!n)return vA;if(!j||j===vA||y.current!==e||a!=null){const Z=new Map;for(let q of e){if(!q)continue;if(a&&a.length>0&&!a.includes(q.id)&&q.rect.current){Z.set(q.id,q.rect.current);continue}const nt=q.node.current,X=nt?new O0(p(nt),nt):null;q.rect.current=X,X&&Z.set(q.id,X)}return Z}return j},[e,a,n,w,p]);return U.useEffect(()=>{y.current=e},[e]),U.useEffect(()=>{w||S()},[n,w]),U.useEffect(()=>{a&&a.length>0&&u(null)},[JSON.stringify(a)]),U.useEffect(()=>{w||typeof f!="number"||D.current!==null||(D.current=setTimeout(()=>{S(),D.current=null},f))},[f,w,S,...i]),{droppableRects:V,measureDroppableContainers:S,measuringScheduled:a!=null};function F(){switch(m){case Bf.Always:return!1;case Bf.BeforeDragging:return n;default:return!n}}}function dk(e,t){return ld(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function yF(e,t){return dk(e,t)}function _F(e){let{callback:t,disabled:n}=e;const i=D0(t),s=U.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(i)},[i,n]);return U.useEffect(()=>()=>s?.disconnect(),[s]),s}function tg(e){let{callback:t,disabled:n}=e;const i=D0(t),s=U.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(i)},[n]);return U.useEffect(()=>()=>s?.disconnect(),[s]),s}function vF(e){return new O0(jc(e),e)}function wA(e,t,n){t===void 0&&(t=vF);const[i,s]=U.useState(null);function a(){s(p=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=p??n)!=null?m:null}const y=t(e);return JSON.stringify(p)===JSON.stringify(y)?p:y})}const u=_F({callback(p){if(e)for(const m of p){const{type:y,target:w}=m;if(y==="childList"&&w instanceof HTMLElement&&w.contains(e)){a();break}}}}),f=tg({callback:a});return po(()=>{a(),e?(f?.observe(e),u?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),u?.disconnect())},[e]),i}function wF(e){const t=dk(e);return sk(e,t)}const bA=[];function bF(e){const t=U.useRef(e),n=ld(i=>e?i&&i!==bA&&e&&t.current&&e.parentNode===t.current.parentNode?i:Jm(e):bA,[e]);return U.useEffect(()=>{t.current=e},[e]),n}function TF(e){const[t,n]=U.useState(null),i=U.useRef(e),s=U.useCallback(a=>{const u=q_(a.target);u&&n(f=>f?(f.set(u,qv(u)),new Map(f)):null)},[]);return U.useEffect(()=>{const a=i.current;if(e!==a){u(a);const f=e.map(p=>{const m=q_(p);return m?(m.addEventListener("scroll",s,{passive:!0}),[m,qv(m)]):null}).filter(p=>p!=null);n(f.length?new Map(f):null),i.current=e}return()=>{u(e),u(a)};function u(f){f.forEach(p=>{const m=q_(p);m?.removeEventListener("scroll",s)})}},[s,e]),U.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,u)=>mc(a,u),ks):hk(e):ks,[e,t])}function TA(e,t){t===void 0&&(t=[]);const n=U.useRef(null);return U.useEffect(()=>{n.current=null},t),U.useEffect(()=>{const i=e!==ks;i&&!n.current&&(n.current=e),!i&&n.current&&(n.current=null)},[e]),n.current?zf(e,n.current):ks}function EF(e){U.useEffect(()=>{if(!Qm)return;const t=e.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function SF(e,t){return U.useMemo(()=>e.reduce((n,i)=>{let{eventName:s,handler:a}=i;return n[s]=u=>{a(u,t)},n},{}),[e,t])}function pk(e){return U.useMemo(()=>e?Kj(e):null,[e])}const EA=[];function xF(e,t){t===void 0&&(t=jc);const[n]=e,i=pk(n?pr(n):null),[s,a]=U.useState(EA);function u(){a(()=>e.length?e.map(p=>uk(p)?i:new O0(t(p),p)):EA)}const f=tg({callback:u});return po(()=>{f?.disconnect(),u(),e.forEach(p=>f?.observe(p))},[e]),s}function AF(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ad(t)?t:e}function RF(e){let{measure:t}=e;const[n,i]=U.useState(null),s=U.useCallback(m=>{for(const{target:y}of m)if(ad(y)){i(w=>{const T=t(y);return w?{...w,width:T.width,height:T.height}:T});break}},[t]),a=tg({callback:s}),u=U.useCallback(m=>{const y=AF(m);a?.disconnect(),y&&a?.observe(y),i(y?t(y):null)},[t,a]),[f,p]=ym(u);return U.useMemo(()=>({nodeRef:f,rect:n,setRef:p}),[n,f,p])}const CF=[{sensor:V0,options:{}},{sensor:L0,options:{}}],IF={current:{}},$p={draggable:{measure:mA},droppable:{measure:mA,strategy:Bf.WhileDragging,frequency:Wv.Optimized},dragOverlay:{measure:jc}};class bf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,i;return(n=(i=this.get(t))==null?void 0:i.node.current)!=null?n:void 0}}const PF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:_m},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$p,measureDroppableContainers:_m,windowRect:null,measuringScheduled:!1},kF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:_m,draggableNodes:new Map,over:null,measureDroppableContainers:_m},eg=U.createContext(kF),mk=U.createContext(PF);function DF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bf}}}function MF(e,t){switch(t.type){case ni.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ni.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ni.DragEnd:case ni.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ni.RegisterDroppable:{const{element:n}=t,{id:i}=n,s=new bf(e.droppable.containers);return s.set(i,n),{...e,droppable:{...e.droppable,containers:s}}}case ni.SetDroppableDisabled:{const{id:n,key:i,disabled:s}=t,a=e.droppable.containers.get(n);if(!a||i!==a.key)return e;const u=new bf(e.droppable.containers);return u.set(n,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:u}}}case ni.UnregisterDroppable:{const{id:n,key:i}=t,s=e.droppable.containers.get(n);if(!s||i!==s.key)return e;const a=new bf(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function OF(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:s}=U.useContext(eg),a=Fv(i),u=Fv(n?.id);return U.useEffect(()=>{if(!t&&!i&&a&&u!=null){if(!M0(a)||document.activeElement===a.target)return;const f=s.get(u);if(!f)return;const{activatorNode:p,node:m}=f;if(!p.current&&!m.current)return;requestAnimationFrame(()=>{for(const y of[p.current,m.current]){if(!y)continue;const w=Aj(y);if(w){w.focus();break}}})}},[i,t,s,u,a]),null}function LF(e,t){let{transform:n,...i}=t;return e!=null&&e.length?e.reduce((s,a)=>a({transform:s,...i}),n):n}function NF(e){return U.useMemo(()=>({draggable:{...$p.draggable,...e?.draggable},droppable:{...$p.droppable,...e?.droppable},dragOverlay:{...$p.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function VF(e){let{activeNode:t,measure:n,initialRect:i,config:s=!0}=e;const a=U.useRef(!1),{x:u,y:f}=typeof s=="boolean"?{x:s,y:s}:s;po(()=>{if(!u&&!f||!t){a.current=!1;return}if(a.current||!i)return;const m=t?.node.current;if(!m||m.isConnected===!1)return;const y=n(m),w=sk(y,i);if(u||(w.x=0),f||(w.y=0),a.current=!0,Math.abs(w.x)>0||Math.abs(w.y)>0){const T=ok(m);T&&T.scrollBy({top:w.y,left:w.x})}},[t,u,f,i,n])}const gk=U.createContext({...ks,scaleX:1,scaleY:1});var Ha;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ha||(Ha={}));const zF=U.memo(function(t){var n,i,s,a;let{id:u,accessibility:f,autoScroll:p=!0,children:m,sensors:y=CF,collisionDetection:w=jj,measuring:T,modifiers:S,...D}=t;const V=U.useReducer(MF,void 0,DF),[F,j]=V,[Z,q]=Dj(),[nt,X]=U.useState(Ha.Uninitialized),Y=nt===Ha.Initialized,{draggable:{active:H,nodes:I,translate:M},droppable:{containers:K}}=F,N=H!=null?I.get(H):null,k=U.useRef({initial:null,translated:null}),O=U.useMemo(()=>{var Me;return H!=null?{id:H,data:(Me=N?.data)!=null?Me:IF,rect:k}:null},[H,N]),rt=U.useRef(null),[$,et]=U.useState(null),[it,ot]=U.useState(null),Ct=Vf(D,Object.values(D)),R=ud("DndDescribedBy",u),ct=U.useMemo(()=>K.getEnabled(),[K]),_t=NF(T),{droppableRects:G,measureDroppableContainers:Rt,measuringScheduled:kt}=gF(ct,{dragging:Y,dependencies:[M.x,M.y],config:_t.droppable}),Tt=pF(I,H),le=U.useMemo(()=>it?Hv(it):null,[it]),Ft=tr(),Ce=yF(Tt,_t.draggable.measure);VF({activeNode:H!=null?I.get(H):null,config:Ft.layoutShiftCompensation,initialRect:Ce,measure:_t.draggable.measure});const Yt=wA(Tt,_t.draggable.measure,Ce),nn=wA(Tt?Tt.parentElement:null),Ge=U.useRef({activatorEvent:null,active:null,activeNode:Tt,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Nn=K.getNodeFor((n=Ge.current.over)==null?void 0:n.id),Rn=RF({measure:_t.dragOverlay.measure}),ri=(i=Rn.nodeRef.current)!=null?i:Tt,yi=Y?(s=Rn.rect)!=null?s:Yt:null,yn=!!(Rn.nodeRef.current&&Rn.rect),mr=wF(yn?null:Yt),Qi=pk(ri?pr(ri):null),Cn=bF(Y?Nn??Tt:null),si=xF(Cn),gr=LF(S,{transform:{x:M.x-mr.x,y:M.y-mr.y,scaleX:1,scaleY:1},activatorEvent:it,active:O,activeNodeRect:Yt,containerNodeRect:nn,draggingNodeRect:yi,over:Ge.current.over,overlayNodeRect:Rn.rect,scrollableAncestors:Cn,scrollableAncestorRects:si,windowRect:Qi}),Ji=le?mc(le,M):null,jr=TF(Cn),Ls=TA(jr),mt=TA(jr,[Yt]),wt=mc(gr,Ls),Lt=yi?qj(yi,gr):null,Bt=O&&Lt?w({active:O,collisionRect:Lt,droppableRects:G,droppableContainers:ct,pointerCoordinates:Ji}):null,ce=rk(Bt,"id"),[je,Vn]=U.useState(null),_n=yn?gr:mc(gr,mt),Xn=Fj(_n,(a=je?.rect)!=null?a:null,Yt),rn=U.useRef(null),tn=U.useCallback((Me,In)=>{let{sensor:We,options:Ci}=In;if(rt.current==null)return;const hn=I.get(rt.current);if(!hn)return;const wn=Me.nativeEvent,Pn=new We({active:rt.current,activeNode:hn,event:wn,options:Ci,context:Ge,onAbort(ie){if(!I.get(ie))return;const{onDragAbort:Se}=Ct.current,sn={id:ie};Se?.(sn),Z({type:"onDragAbort",event:sn})},onPending(ie,Ie,Se,sn){if(!I.get(ie))return;const{onDragPending:Nt}=Ct.current,Un={id:ie,constraint:Ie,initialCoordinates:Se,offset:sn};Nt?.(Un),Z({type:"onDragPending",event:Un})},onStart(ie){const Ie=rt.current;if(Ie==null)return;const Se=I.get(Ie);if(!Se)return;const{onDragStart:sn}=Ct.current,bn={activatorEvent:wn,active:{id:Ie,data:Se.data,rect:k}};rc.unstable_batchedUpdates(()=>{sn?.(bn),X(Ha.Initializing),j({type:ni.DragStart,initialCoordinates:ie,active:Ie}),Z({type:"onDragStart",event:bn}),et(rn.current),ot(wn)})},onMove(ie){j({type:ni.DragMove,coordinates:ie})},onEnd:ji(ni.DragEnd),onCancel:ji(ni.DragCancel)});rn.current=Pn;function ji(ie){return async function(){const{active:Se,collisions:sn,over:bn,scrollAdjustedTranslate:Nt}=Ge.current;let Un=null;if(Se&&Nt){const{cancelDrop:yr}=Ct.current;Un={activatorEvent:wn,active:Se,collisions:sn,delta:Nt,over:bn},ie===ni.DragEnd&&typeof yr=="function"&&await Promise.resolve(yr(Un))&&(ie=ni.DragCancel)}rt.current=null,rc.unstable_batchedUpdates(()=>{j({type:ie}),X(Ha.Uninitialized),Vn(null),et(null),ot(null),rn.current=null;const yr=ie===ni.DragEnd?"onDragEnd":"onDragCancel";if(Un){const er=Ct.current[yr];er?.(Un),Z({type:yr,event:Un})}})}}},[I]),vn=U.useCallback((Me,In)=>(We,Ci)=>{const hn=We.nativeEvent,wn=I.get(Ci);if(rt.current!==null||!wn||hn.dndKit||hn.defaultPrevented)return;const Pn={active:wn};Me(We,In.options,Pn)===!0&&(hn.dndKit={capturedBy:In.sensor},rt.current=Ci,tn(We,In))},[I,tn]),zn=mF(y,vn);EF(y),po(()=>{Yt&&nt===Ha.Initializing&&X(Ha.Initialized)},[Yt,nt]),U.useEffect(()=>{const{onDragMove:Me}=Ct.current,{active:In,activatorEvent:We,collisions:Ci,over:hn}=Ge.current;if(!In||!We)return;const wn={active:In,activatorEvent:We,collisions:Ci,delta:{x:wt.x,y:wt.y},over:hn};rc.unstable_batchedUpdates(()=>{Me?.(wn),Z({type:"onDragMove",event:wn})})},[wt.x,wt.y]),U.useEffect(()=>{const{active:Me,activatorEvent:In,collisions:We,droppableContainers:Ci,scrollAdjustedTranslate:hn}=Ge.current;if(!Me||rt.current==null||!In||!hn)return;const{onDragOver:wn}=Ct.current,Pn=Ci.get(ce),ji=Pn&&Pn.rect.current?{id:Pn.id,rect:Pn.rect.current,data:Pn.data,disabled:Pn.disabled}:null,ie={active:Me,activatorEvent:In,collisions:We,delta:{x:hn.x,y:hn.y},over:ji};rc.unstable_batchedUpdates(()=>{Vn(ji),wn?.(ie),Z({type:"onDragOver",event:ie})})},[ce]),po(()=>{Ge.current={activatorEvent:it,active:O,activeNode:Tt,collisionRect:Lt,collisions:Bt,droppableRects:G,draggableNodes:I,draggingNode:ri,draggingNodeRect:yi,droppableContainers:K,over:je,scrollableAncestors:Cn,scrollAdjustedTranslate:wt},k.current={initial:yi,translated:Lt}},[O,Tt,Bt,Lt,I,ri,yi,G,K,je,Cn,wt]),hF({...Ft,delta:M,draggingRect:Lt,pointerCoordinates:Ji,scrollableAncestors:Cn,scrollableAncestorRects:si});const _o=U.useMemo(()=>({active:O,activeNode:Tt,activeNodeRect:Yt,activatorEvent:it,collisions:Bt,containerNodeRect:nn,dragOverlay:Rn,draggableNodes:I,droppableContainers:K,droppableRects:G,over:je,measureDroppableContainers:Rt,scrollableAncestors:Cn,scrollableAncestorRects:si,measuringConfiguration:_t,measuringScheduled:kt,windowRect:Qi}),[O,Tt,Yt,it,Bt,nn,Rn,I,K,G,je,Rt,Cn,si,_t,kt,Qi]),Ns=U.useMemo(()=>({activatorEvent:it,activators:zn,active:O,activeNodeRect:Yt,ariaDescribedById:{draggable:R},dispatch:j,draggableNodes:I,over:je,measureDroppableContainers:Rt}),[it,zn,O,Yt,j,R,I,je,Rt]);return gi.createElement(ek.Provider,{value:q},gi.createElement(eg.Provider,{value:Ns},gi.createElement(mk.Provider,{value:_o},gi.createElement(gk.Provider,{value:Xn},m)),gi.createElement(OF,{disabled:f?.restoreFocus===!1})),gi.createElement(Lj,{...f,hiddenTextDescribedById:R}));function tr(){const Me=$?.autoScrollEnabled===!1,In=typeof p=="object"?p.enabled===!1:p===!1,We=Y&&!Me&&!In;return typeof p=="object"?{...p,enabled:We}:{enabled:We}}}),UF=U.createContext(null),SA="button",BF="Draggable";function jF(e){let{id:t,data:n,disabled:i=!1,attributes:s}=e;const a=ud(BF),{activators:u,activatorEvent:f,active:p,activeNodeRect:m,ariaDescribedById:y,draggableNodes:w,over:T}=U.useContext(eg),{role:S=SA,roleDescription:D="draggable",tabIndex:V=0}=s??{},F=p?.id===t,j=U.useContext(F?gk:UF),[Z,q]=ym(),[nt,X]=ym(),Y=SF(u,t),H=Vf(n);po(()=>(w.set(t,{id:t,key:a,node:Z,activatorNode:nt,data:H}),()=>{const M=w.get(t);M&&M.key===a&&w.delete(t)}),[w,t]);const I=U.useMemo(()=>({role:S,tabIndex:V,"aria-disabled":i,"aria-pressed":F&&S===SA?!0:void 0,"aria-roledescription":D,"aria-describedby":y.draggable}),[i,S,V,F,D,y.draggable]);return{active:p,activatorEvent:f,activeNodeRect:m,attributes:I,isDragging:F,listeners:i?void 0:Y,node:Z,over:T,setNodeRef:q,setActivatorNodeRef:X,transform:j}}function FF(){return U.useContext(mk)}const HF="Droppable",qF={timeout:25};function GF(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:s}=e;const a=ud(HF),{active:u,dispatch:f,over:p,measureDroppableContainers:m}=U.useContext(eg),y=U.useRef({disabled:n}),w=U.useRef(!1),T=U.useRef(null),S=U.useRef(null),{disabled:D,updateMeasurementsFor:V,timeout:F}={...qF,...s},j=Vf(V??i),Z=U.useCallback(()=>{if(!w.current){w.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{m(Array.isArray(j.current)?j.current:[j.current]),S.current=null},F)},[F]),q=tg({callback:Z,disabled:D||!u}),nt=U.useCallback((I,M)=>{q&&(M&&(q.unobserve(M),w.current=!1),I&&q.observe(I))},[q]),[X,Y]=ym(nt),H=Vf(t);return U.useEffect(()=>{!q||!X.current||(q.disconnect(),w.current=!1,q.observe(X.current))},[X,q]),U.useEffect(()=>(f({type:ni.RegisterDroppable,element:{id:i,key:a,disabled:n,node:X,rect:T,data:H}}),()=>f({type:ni.UnregisterDroppable,key:a,id:i})),[i]),U.useEffect(()=>{n!==y.current.disabled&&(f({type:ni.SetDroppableDisabled,id:i,key:a,disabled:n}),y.current.disabled=n)},[i,a,n,f]),{active:u,rect:T,isOver:p?.id===i,node:X,over:p,setNodeRef:Y}}function z0(e,t,n){const i=e.slice();return i.splice(n<0?i.length+n:n,0,i.splice(t,1)[0]),i}function WF(e,t){return e.reduce((n,i,s)=>{const a=t.get(i);return a&&(n[s]=a),n},Array(e.length))}function Mp(e){return e!==null&&e>=0}function ZF(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function KF(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const U0=e=>{let{rects:t,activeIndex:n,overIndex:i,index:s}=e;const a=z0(t,i,n),u=t[s],f=a[s];return!f||!u?null:{x:f.left-u.left,y:f.top-u.top,scaleX:f.width/u.width,scaleY:f.height/u.height}},yk="Sortable",_k=gi.createContext({activeIndex:-1,containerId:yk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:U0,disabled:{draggable:!1,droppable:!1}});function $F(e){let{children:t,id:n,items:i,strategy:s=U0,disabled:a=!1}=e;const{active:u,dragOverlay:f,droppableRects:p,over:m,measureDroppableContainers:y}=FF(),w=ud(yk,n),T=f.rect!==null,S=U.useMemo(()=>i.map(Y=>typeof Y=="object"&&"id"in Y?Y.id:Y),[i]),D=u!=null,V=u?S.indexOf(u.id):-1,F=m?S.indexOf(m.id):-1,j=U.useRef(S),Z=!ZF(S,j.current),q=F!==-1&&V===-1||Z,nt=KF(a);po(()=>{Z&&D&&y(S)},[Z,S,D,y]),U.useEffect(()=>{j.current=S},[S]);const X=U.useMemo(()=>({activeIndex:V,containerId:w,disabled:nt,disableTransforms:q,items:S,overIndex:F,useDragOverlay:T,sortedRects:WF(S,p),strategy:s}),[V,w,nt.draggable,nt.droppable,q,S,F,p,T,s]);return gi.createElement(_k.Provider,{value:X},t)}const YF=e=>{let{id:t,items:n,activeIndex:i,overIndex:s}=e;return z0(n,i,s).indexOf(t)},XF=e=>{let{containerId:t,isSorting:n,wasDragging:i,index:s,items:a,newIndex:u,previousItems:f,previousContainerId:p,transition:m}=e;return!m||!i||f!==a&&s===u?!1:n?!0:u!==s&&t===p},QF={duration:200,easing:"ease"},vk="transform",JF=Uf.Transition.toString({property:vk,duration:0,easing:"linear"}),tH={roleDescription:"sortable"};function eH(e){let{disabled:t,index:n,node:i,rect:s}=e;const[a,u]=U.useState(null),f=U.useRef(n);return po(()=>{if(!t&&n!==f.current&&i.current){const p=s.current;if(p){const m=jc(i.current,{ignoreTransform:!0}),y={x:p.left-m.left,y:p.top-m.top,scaleX:p.width/m.width,scaleY:p.height/m.height};(y.x||y.y)&&u(y)}}n!==f.current&&(f.current=n)},[t,n,i,s]),U.useEffect(()=>{a&&u(null)},[a]),a}function nH(e){let{animateLayoutChanges:t=XF,attributes:n,disabled:i,data:s,getNewIndex:a=YF,id:u,strategy:f,resizeObserverConfig:p,transition:m=QF}=e;const{items:y,containerId:w,activeIndex:T,disabled:S,disableTransforms:D,sortedRects:V,overIndex:F,useDragOverlay:j,strategy:Z}=U.useContext(_k),q=iH(i,S),nt=y.indexOf(u),X=U.useMemo(()=>({sortable:{containerId:w,index:nt,items:y},...s}),[w,s,nt,y]),Y=U.useMemo(()=>y.slice(y.indexOf(u)),[y,u]),{rect:H,node:I,isOver:M,setNodeRef:K}=GF({id:u,data:X,disabled:q.droppable,resizeObserverConfig:{updateMeasurementsFor:Y,...p}}),{active:N,activatorEvent:k,activeNodeRect:O,attributes:rt,setNodeRef:$,listeners:et,isDragging:it,over:ot,setActivatorNodeRef:Ct,transform:R}=jF({id:u,data:X,attributes:{...tH,...n},disabled:q.draggable}),ct=Tj(K,$),_t=!!N,G=_t&&!D&&Mp(T)&&Mp(F),Rt=!j&&it,kt=Rt&&G?R:null,le=G?kt??(f??Z)({rects:V,activeNodeRect:O,activeIndex:T,overIndex:F,index:nt}):null,Ft=Mp(T)&&Mp(F)?a({id:u,items:y,activeIndex:T,overIndex:F}):nt,Ce=N?.id,Yt=U.useRef({activeId:Ce,items:y,newIndex:Ft,containerId:w}),nn=y!==Yt.current.items,Ge=t({active:N,containerId:w,isDragging:it,isSorting:_t,id:u,index:nt,items:y,newIndex:Yt.current.newIndex,previousItems:Yt.current.items,previousContainerId:Yt.current.containerId,transition:m,wasDragging:Yt.current.activeId!=null}),Nn=eH({disabled:!Ge,index:nt,node:I,rect:H});return U.useEffect(()=>{_t&&Yt.current.newIndex!==Ft&&(Yt.current.newIndex=Ft),w!==Yt.current.containerId&&(Yt.current.containerId=w),y!==Yt.current.items&&(Yt.current.items=y)},[_t,Ft,w,y]),U.useEffect(()=>{if(Ce===Yt.current.activeId)return;if(Ce!=null&&Yt.current.activeId==null){Yt.current.activeId=Ce;return}const ri=setTimeout(()=>{Yt.current.activeId=Ce},50);return()=>clearTimeout(ri)},[Ce]),{active:N,activeIndex:T,attributes:rt,data:X,rect:H,index:nt,newIndex:Ft,items:y,isOver:M,isSorting:_t,isDragging:it,listeners:et,node:I,overIndex:F,over:ot,setNodeRef:ct,setActivatorNodeRef:Ct,setDroppableNodeRef:K,setDraggableNodeRef:$,transform:Nn??le,transition:Rn()};function Rn(){if(Nn||nn&&Yt.current.newIndex===nt)return JF;if(!(Rt&&!M0(k)||!m)&&(_t||Ge))return Uf.Transition.toString({...m,property:vk})}}function iH(e,t){var n,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(i=e?.droppable)!=null?i:t.droppable}}function wm(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const rH=[we.Down,we.Right,we.Up,we.Left],sH=(e,t)=>{let{context:{active:n,collisionRect:i,droppableRects:s,droppableContainers:a,over:u,scrollableAncestors:f}}=t;if(rH.includes(e.code)){if(e.preventDefault(),!n||!i)return;const p=[];a.getEnabled().forEach(w=>{if(!w||w!=null&&w.disabled)return;const T=s.get(w.id);if(T)switch(e.code){case we.Down:i.top<T.top&&p.push(w);break;case we.Up:i.top>T.top&&p.push(w);break;case we.Left:i.left>T.left&&p.push(w);break;case we.Right:i.left<T.left&&p.push(w);break}});const m=Uj({collisionRect:i,droppableRects:s,droppableContainers:p});let y=rk(m,"id");if(y===u?.id&&m.length>1&&(y=m[1].id),y!=null){const w=a.get(n.id),T=a.get(y),S=T?s.get(T.id):null,D=T?.node.current;if(D&&S&&w&&T){const F=Jm(D).some((Y,H)=>f[H]!==Y),j=wk(w,T),Z=oH(w,T),q=F||!j?{x:0,y:0}:{x:Z?i.width-S.width:0,y:Z?i.height-S.height:0},nt={x:S.left,y:S.top};return q.x&&q.y?nt:zf(nt,q)}}}};function wk(e,t){return!wm(e)||!wm(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function oH(e,t){return!wm(e)||!wm(t)||!wk(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const aH=()=>{};var xA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},lH=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],u=e[n++],f=e[n++],p=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const a=e[n++],u=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return t.join("")},Tk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const a=e[s],u=s+1<e.length,f=u?e[s+1]:0,p=s+2<e.length,m=p?e[s+2]:0,y=a>>2,w=(a&3)<<4|f>>4;let T=(f&15)<<2|m>>6,S=m&63;p||(S=64,u||(T=64)),i.push(n[y],n[w],n[T],n[S])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bk(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):lH(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],f=s<e.length?n[e.charAt(s)]:0;++s;const m=s<e.length?n[e.charAt(s)]:64;++s;const w=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||f==null||m==null||w==null)throw new uH;const T=a<<2|f>>4;if(i.push(T),m!==64){const S=f<<4&240|m>>2;if(i.push(S),w!==64){const D=m<<6&192|w;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cH=function(e){const t=bk(e);return Tk.encodeByteArray(t,!0)},bm=function(e){return cH(e).replace(/\./g,"")},Ek=function(e){try{return Tk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=()=>hH().__FIREBASE_DEFAULTS__,dH=()=>{if(typeof process>"u"||typeof xA>"u")return;const e=xA.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},pH=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ek(e[1]);return t&&JSON.parse(t)},ng=()=>{try{return aH()||fH()||dH()||pH()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Sk=e=>ng()?.emulatorHosts?.[e],xk=e=>{const t=Sk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Ak=()=>ng()?.config,Rk=e=>ng()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[bm(JSON.stringify(n)),bm(JSON.stringify(u)),""].join(".")}const Tf={};function gH(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tf))Tf[t]?e.emulator.push(t):e.prod.push(t);return e}function yH(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let AA=!1;function j0(e,t){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||Tf[e]===t||Tf[e]||AA)return;Tf[e]=t;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",a=gH().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{AA=!0,u()},T}function y(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=yH(i),S=n("text"),D=document.getElementById(S)||document.createElement("span"),V=n("learnmore"),F=document.getElementById(V)||document.createElement("a"),j=n("preprendIcon"),Z=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const q=T.element;f(q),y(F,V);const nt=m();p(Z,j),q.append(Z,D,F,nt),document.body.appendChild(q)}a?(D.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _H(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ui())}function vH(){const e=ng()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bH(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function TH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EH(){const e=Ui();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function SH(){return!vH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xH(){try{return typeof indexedDB=="object"}catch{return!1}}function AH(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH="FirebaseError";class yo extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=RH,Object.setPrototypeOf(this,yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cd.prototype.create)}}class cd{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],u=a?CH(a,i):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new yo(s,f,i)}}function CH(e,t){return e.replace(IH,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const IH=/\{\$([^}]+)}/g;function PH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function iu(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const a=e[s],u=t[s];if(RA(a)&&RA(u)){if(!iu(a,u))return!1}else if(a!==u)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function RA(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function rf(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function sf(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function kH(e,t){const n=new DH(e,t);return n.subscribe.bind(n)}class DH{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");MH(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Z_),s.error===void 0&&(s.error=Z_),s.complete===void 0&&(s.complete=Z_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MH(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Z_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(e){return e&&e._delegate?e._delegate:e}class rl{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new mH;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NH(t))try{this.getOrInitializeService({instanceIdentifier:Kl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=Kl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kl){return this.instances.has(t)}getOptions(t=Kl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LH(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Kl){return this.component?this.component.multipleInstances?t:Kl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LH(e){return e===Kl?void 0:e}function NH(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new OH(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ye||(ye={}));const zH={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},UH=ye.INFO,BH={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},jH=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=BH[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class F0{constructor(t){this.name=t,this._logLevel=UH,this._logHandler=jH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zH[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...t),this._logHandler(this,ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...t),this._logHandler(this,ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...t),this._logHandler(this,ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...t),this._logHandler(this,ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...t),this._logHandler(this,ye.ERROR,...t)}}const FH=(e,t)=>t.some(n=>e instanceof n);let CA,IA;function HH(){return CA||(CA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qH(){return IA||(IA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ik=new WeakMap,Zv=new WeakMap,Pk=new WeakMap,K_=new WeakMap,H0=new WeakMap;function GH(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",u)},a=()=>{n(Ya(e.result)),s()},u=()=>{i(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&Ik.set(n,e)}).catch(()=>{}),H0.set(t,e),t}function WH(e){if(Zv.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",u),e.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",u),e.addEventListener("abort",u)});Zv.set(e,t)}let Kv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Zv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Pk.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ya(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ZH(e){Kv=e(Kv)}function KH(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call($_(this),t,...n);return Pk.set(i,t.sort?t.sort():[t]),Ya(i)}:qH().includes(e)?function(...t){return e.apply($_(this),t),Ya(Ik.get(this))}:function(...t){return Ya(e.apply($_(this),t))}}function $H(e){return typeof e=="function"?KH(e):(e instanceof IDBTransaction&&WH(e),FH(e,HH())?new Proxy(e,Kv):e)}function Ya(e){if(e instanceof IDBRequest)return GH(e);if(K_.has(e))return K_.get(e);const t=$H(e);return t!==e&&(K_.set(e,t),H0.set(t,e)),t}const $_=e=>H0.get(e);function YH(e,t,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const u=indexedDB.open(e,t),f=Ya(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Ya(u.result),p.oldVersion,p.newVersion,Ya(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),s&&p.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const XH=["get","getKey","getAll","getAllKeys","count"],QH=["put","add","delete","clear"],Y_=new Map;function PA(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Y_.get(t))return Y_.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=QH.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||XH.includes(n)))return;const a=async function(u,...f){const p=this.transaction(u,s?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),s&&p.done]))[0]};return Y_.set(t,a),a}ZH(e=>({...e,get:(t,n,i)=>PA(t,n)||e.get(t,n,i),has:(t,n)=>!!PA(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t8(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function t8(e){return e.getComponent()?.type==="VERSION"}const $v="@firebase/app",kA="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new F0("@firebase/app"),e8="@firebase/app-compat",n8="@firebase/analytics-compat",i8="@firebase/analytics",r8="@firebase/app-check-compat",s8="@firebase/app-check",o8="@firebase/auth",a8="@firebase/auth-compat",l8="@firebase/database",u8="@firebase/data-connect",c8="@firebase/database-compat",h8="@firebase/functions",f8="@firebase/functions-compat",d8="@firebase/installations",p8="@firebase/installations-compat",m8="@firebase/messaging",g8="@firebase/messaging-compat",y8="@firebase/performance",_8="@firebase/performance-compat",v8="@firebase/remote-config",w8="@firebase/remote-config-compat",b8="@firebase/storage",T8="@firebase/storage-compat",E8="@firebase/firestore",S8="@firebase/ai",x8="@firebase/firestore-compat",A8="firebase",R8="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="[DEFAULT]",C8={[$v]:"fire-core",[e8]:"fire-core-compat",[i8]:"fire-analytics",[n8]:"fire-analytics-compat",[s8]:"fire-app-check",[r8]:"fire-app-check-compat",[o8]:"fire-auth",[a8]:"fire-auth-compat",[l8]:"fire-rtdb",[u8]:"fire-data-connect",[c8]:"fire-rtdb-compat",[h8]:"fire-fn",[f8]:"fire-fn-compat",[d8]:"fire-iid",[p8]:"fire-iid-compat",[m8]:"fire-fcm",[g8]:"fire-fcm-compat",[y8]:"fire-perf",[_8]:"fire-perf-compat",[v8]:"fire-rc",[w8]:"fire-rc-compat",[b8]:"fire-gcs",[T8]:"fire-gcs-compat",[E8]:"fire-fst",[x8]:"fire-fst-compat",[S8]:"fire-vertex","fire-js":"fire-js",[A8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=new Map,I8=new Map,Xv=new Map;function DA(e,t){try{e.container.addComponent(t)}catch(n){Ko.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ru(e){const t=e.name;if(Xv.has(t))return Ko.debug(`There were multiple attempts to register component ${t}.`),!1;Xv.set(t,e);for(const n of Tm.values())DA(n,e);for(const n of I8.values())DA(n,e);return!0}function ig(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ls(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new cd("app","Firebase",P8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=R8;function kk(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Yv,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Xa.create("bad-app-name",{appName:String(s)});if(n||(n=Ak()),!n)throw Xa.create("no-options");const a=Tm.get(s);if(a){if(iu(n,a.options)&&iu(i,a.config))return a;throw Xa.create("duplicate-app",{appName:s})}const u=new VH(s);for(const p of Xv.values())u.addComponent(p);const f=new k8(n,i,u);return Tm.set(s,f),f}function q0(e=Yv){const t=Tm.get(e);if(!t&&e===Yv&&Ak())return kk();if(!t)throw Xa.create("no-app",{appName:e});return t}function so(e,t,n){let i=C8[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${t}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ko.warn(u.join(" "));return}ru(new rl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="firebase-heartbeat-database",M8=1,jf="firebase-heartbeat-store";let X_=null;function Dk(){return X_||(X_=YH(D8,M8,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(jf)}catch(n){console.warn(n)}}}}).catch(e=>{throw Xa.create("idb-open",{originalErrorMessage:e.message})})),X_}async function O8(e){try{const n=(await Dk()).transaction(jf),i=await n.objectStore(jf).get(Mk(e));return await n.done,i}catch(t){if(t instanceof yo)Ko.warn(t.message);else{const n=Xa.create("idb-get",{originalErrorMessage:t?.message});Ko.warn(n.message)}}}async function MA(e,t){try{const i=(await Dk()).transaction(jf,"readwrite");await i.objectStore(jf).put(t,Mk(e)),await i.done}catch(n){if(n instanceof yo)Ko.warn(n.message);else{const i=Xa.create("idb-set",{originalErrorMessage:n?.message});Ko.warn(i.message)}}}function Mk(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=1024,N8=30;class V8{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U8(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=OA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>N8){const s=B8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ko.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=OA(),{heartbeatsToSend:n,unsentEntries:i}=z8(this._heartbeatsCache.heartbeats),s=bm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ko.warn(t),""}}}function OA(){return new Date().toISOString().substring(0,10)}function z8(e,t=L8){const n=[];let i=e.slice();for(const s of e){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),LA(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),LA(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class U8{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xH()?AH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return MA(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return MA(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function LA(e){return bm(JSON.stringify({version:2,heartbeats:e})).length}function B8(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(e){ru(new rl("platform-logger",t=>new JH(t),"PRIVATE")),ru(new rl("heartbeat",t=>new V8(t),"PRIVATE")),so($v,kA,e),so($v,kA,"esm2020"),so("fire-js","")}j8("");var F8="firebase",H8="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */so(F8,H8,"app");var NA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qa,Ok;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(H,I){function M(){}M.prototype=I.prototype,H.D=I.prototype,H.prototype=new M,H.prototype.constructor=H,H.C=function(K,N,k){for(var O=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)O[rt-2]=arguments[rt];return I.prototype[N].apply(K,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(H,I,M){M||(M=0);var K=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)K[N]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(N=0;16>N;++N)K[N]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=H.g[0],M=H.g[1],N=H.g[2];var k=H.g[3],O=I+(k^M&(N^k))+K[0]+3614090360&4294967295;I=M+(O<<7&4294967295|O>>>25),O=k+(N^I&(M^N))+K[1]+3905402710&4294967295,k=I+(O<<12&4294967295|O>>>20),O=N+(M^k&(I^M))+K[2]+606105819&4294967295,N=k+(O<<17&4294967295|O>>>15),O=M+(I^N&(k^I))+K[3]+3250441966&4294967295,M=N+(O<<22&4294967295|O>>>10),O=I+(k^M&(N^k))+K[4]+4118548399&4294967295,I=M+(O<<7&4294967295|O>>>25),O=k+(N^I&(M^N))+K[5]+1200080426&4294967295,k=I+(O<<12&4294967295|O>>>20),O=N+(M^k&(I^M))+K[6]+2821735955&4294967295,N=k+(O<<17&4294967295|O>>>15),O=M+(I^N&(k^I))+K[7]+4249261313&4294967295,M=N+(O<<22&4294967295|O>>>10),O=I+(k^M&(N^k))+K[8]+1770035416&4294967295,I=M+(O<<7&4294967295|O>>>25),O=k+(N^I&(M^N))+K[9]+2336552879&4294967295,k=I+(O<<12&4294967295|O>>>20),O=N+(M^k&(I^M))+K[10]+4294925233&4294967295,N=k+(O<<17&4294967295|O>>>15),O=M+(I^N&(k^I))+K[11]+2304563134&4294967295,M=N+(O<<22&4294967295|O>>>10),O=I+(k^M&(N^k))+K[12]+1804603682&4294967295,I=M+(O<<7&4294967295|O>>>25),O=k+(N^I&(M^N))+K[13]+4254626195&4294967295,k=I+(O<<12&4294967295|O>>>20),O=N+(M^k&(I^M))+K[14]+2792965006&4294967295,N=k+(O<<17&4294967295|O>>>15),O=M+(I^N&(k^I))+K[15]+1236535329&4294967295,M=N+(O<<22&4294967295|O>>>10),O=I+(N^k&(M^N))+K[1]+4129170786&4294967295,I=M+(O<<5&4294967295|O>>>27),O=k+(M^N&(I^M))+K[6]+3225465664&4294967295,k=I+(O<<9&4294967295|O>>>23),O=N+(I^M&(k^I))+K[11]+643717713&4294967295,N=k+(O<<14&4294967295|O>>>18),O=M+(k^I&(N^k))+K[0]+3921069994&4294967295,M=N+(O<<20&4294967295|O>>>12),O=I+(N^k&(M^N))+K[5]+3593408605&4294967295,I=M+(O<<5&4294967295|O>>>27),O=k+(M^N&(I^M))+K[10]+38016083&4294967295,k=I+(O<<9&4294967295|O>>>23),O=N+(I^M&(k^I))+K[15]+3634488961&4294967295,N=k+(O<<14&4294967295|O>>>18),O=M+(k^I&(N^k))+K[4]+3889429448&4294967295,M=N+(O<<20&4294967295|O>>>12),O=I+(N^k&(M^N))+K[9]+568446438&4294967295,I=M+(O<<5&4294967295|O>>>27),O=k+(M^N&(I^M))+K[14]+3275163606&4294967295,k=I+(O<<9&4294967295|O>>>23),O=N+(I^M&(k^I))+K[3]+4107603335&4294967295,N=k+(O<<14&4294967295|O>>>18),O=M+(k^I&(N^k))+K[8]+1163531501&4294967295,M=N+(O<<20&4294967295|O>>>12),O=I+(N^k&(M^N))+K[13]+2850285829&4294967295,I=M+(O<<5&4294967295|O>>>27),O=k+(M^N&(I^M))+K[2]+4243563512&4294967295,k=I+(O<<9&4294967295|O>>>23),O=N+(I^M&(k^I))+K[7]+1735328473&4294967295,N=k+(O<<14&4294967295|O>>>18),O=M+(k^I&(N^k))+K[12]+2368359562&4294967295,M=N+(O<<20&4294967295|O>>>12),O=I+(M^N^k)+K[5]+4294588738&4294967295,I=M+(O<<4&4294967295|O>>>28),O=k+(I^M^N)+K[8]+2272392833&4294967295,k=I+(O<<11&4294967295|O>>>21),O=N+(k^I^M)+K[11]+1839030562&4294967295,N=k+(O<<16&4294967295|O>>>16),O=M+(N^k^I)+K[14]+4259657740&4294967295,M=N+(O<<23&4294967295|O>>>9),O=I+(M^N^k)+K[1]+2763975236&4294967295,I=M+(O<<4&4294967295|O>>>28),O=k+(I^M^N)+K[4]+1272893353&4294967295,k=I+(O<<11&4294967295|O>>>21),O=N+(k^I^M)+K[7]+4139469664&4294967295,N=k+(O<<16&4294967295|O>>>16),O=M+(N^k^I)+K[10]+3200236656&4294967295,M=N+(O<<23&4294967295|O>>>9),O=I+(M^N^k)+K[13]+681279174&4294967295,I=M+(O<<4&4294967295|O>>>28),O=k+(I^M^N)+K[0]+3936430074&4294967295,k=I+(O<<11&4294967295|O>>>21),O=N+(k^I^M)+K[3]+3572445317&4294967295,N=k+(O<<16&4294967295|O>>>16),O=M+(N^k^I)+K[6]+76029189&4294967295,M=N+(O<<23&4294967295|O>>>9),O=I+(M^N^k)+K[9]+3654602809&4294967295,I=M+(O<<4&4294967295|O>>>28),O=k+(I^M^N)+K[12]+3873151461&4294967295,k=I+(O<<11&4294967295|O>>>21),O=N+(k^I^M)+K[15]+530742520&4294967295,N=k+(O<<16&4294967295|O>>>16),O=M+(N^k^I)+K[2]+3299628645&4294967295,M=N+(O<<23&4294967295|O>>>9),O=I+(N^(M|~k))+K[0]+4096336452&4294967295,I=M+(O<<6&4294967295|O>>>26),O=k+(M^(I|~N))+K[7]+1126891415&4294967295,k=I+(O<<10&4294967295|O>>>22),O=N+(I^(k|~M))+K[14]+2878612391&4294967295,N=k+(O<<15&4294967295|O>>>17),O=M+(k^(N|~I))+K[5]+4237533241&4294967295,M=N+(O<<21&4294967295|O>>>11),O=I+(N^(M|~k))+K[12]+1700485571&4294967295,I=M+(O<<6&4294967295|O>>>26),O=k+(M^(I|~N))+K[3]+2399980690&4294967295,k=I+(O<<10&4294967295|O>>>22),O=N+(I^(k|~M))+K[10]+4293915773&4294967295,N=k+(O<<15&4294967295|O>>>17),O=M+(k^(N|~I))+K[1]+2240044497&4294967295,M=N+(O<<21&4294967295|O>>>11),O=I+(N^(M|~k))+K[8]+1873313359&4294967295,I=M+(O<<6&4294967295|O>>>26),O=k+(M^(I|~N))+K[15]+4264355552&4294967295,k=I+(O<<10&4294967295|O>>>22),O=N+(I^(k|~M))+K[6]+2734768916&4294967295,N=k+(O<<15&4294967295|O>>>17),O=M+(k^(N|~I))+K[13]+1309151649&4294967295,M=N+(O<<21&4294967295|O>>>11),O=I+(N^(M|~k))+K[4]+4149444226&4294967295,I=M+(O<<6&4294967295|O>>>26),O=k+(M^(I|~N))+K[11]+3174756917&4294967295,k=I+(O<<10&4294967295|O>>>22),O=N+(I^(k|~M))+K[2]+718787259&4294967295,N=k+(O<<15&4294967295|O>>>17),O=M+(k^(N|~I))+K[9]+3951481745&4294967295,H.g[0]=H.g[0]+I&4294967295,H.g[1]=H.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,H.g[2]=H.g[2]+N&4294967295,H.g[3]=H.g[3]+k&4294967295}i.prototype.u=function(H,I){I===void 0&&(I=H.length);for(var M=I-this.blockSize,K=this.B,N=this.h,k=0;k<I;){if(N==0)for(;k<=M;)s(this,H,k),k+=this.blockSize;if(typeof H=="string"){for(;k<I;)if(K[N++]=H.charCodeAt(k++),N==this.blockSize){s(this,K),N=0;break}}else for(;k<I;)if(K[N++]=H[k++],N==this.blockSize){s(this,K),N=0;break}}this.h=N,this.o+=I},i.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var I=1;I<H.length-8;++I)H[I]=0;var M=8*this.o;for(I=H.length-8;I<H.length;++I)H[I]=M&255,M/=256;for(this.u(H),H=Array(16),I=M=0;4>I;++I)for(var K=0;32>K;K+=8)H[M++]=this.g[I]>>>K&255;return H};function a(H,I){var M=f;return Object.prototype.hasOwnProperty.call(M,H)?M[H]:M[H]=I(H)}function u(H,I){this.h=I;for(var M=[],K=!0,N=H.length-1;0<=N;N--){var k=H[N]|0;K&&k==I||(M[N]=k,K=!1)}this.g=M}var f={};function p(H){return-128<=H&&128>H?a(H,function(I){return new u([I|0],0>I?-1:0)}):new u([H|0],0>H?-1:0)}function m(H){if(isNaN(H)||!isFinite(H))return w;if(0>H)return F(m(-H));for(var I=[],M=1,K=0;H>=M;K++)I[K]=H/M|0,M*=4294967296;return new u(I,0)}function y(H,I){if(H.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(H.charAt(0)=="-")return F(y(H.substring(1),I));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=m(Math.pow(I,8)),K=w,N=0;N<H.length;N+=8){var k=Math.min(8,H.length-N),O=parseInt(H.substring(N,N+k),I);8>k?(k=m(Math.pow(I,k)),K=K.j(k).add(m(O))):(K=K.j(M),K=K.add(m(O)))}return K}var w=p(0),T=p(1),S=p(16777216);e=u.prototype,e.m=function(){if(V(this))return-F(this).m();for(var H=0,I=1,M=0;M<this.g.length;M++){var K=this.i(M);H+=(0<=K?K:4294967296+K)*I,I*=4294967296}return H},e.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(D(this))return"0";if(V(this))return"-"+F(this).toString(H);for(var I=m(Math.pow(H,6)),M=this,K="";;){var N=nt(M,I).g;M=j(M,N.j(I));var k=((0<M.g.length?M.g[0]:M.h)>>>0).toString(H);if(M=N,D(M))return k+K;for(;6>k.length;)k="0"+k;K=k+K}},e.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function D(H){if(H.h!=0)return!1;for(var I=0;I<H.g.length;I++)if(H.g[I]!=0)return!1;return!0}function V(H){return H.h==-1}e.l=function(H){return H=j(this,H),V(H)?-1:D(H)?0:1};function F(H){for(var I=H.g.length,M=[],K=0;K<I;K++)M[K]=~H.g[K];return new u(M,~H.h).add(T)}e.abs=function(){return V(this)?F(this):this},e.add=function(H){for(var I=Math.max(this.g.length,H.g.length),M=[],K=0,N=0;N<=I;N++){var k=K+(this.i(N)&65535)+(H.i(N)&65535),O=(k>>>16)+(this.i(N)>>>16)+(H.i(N)>>>16);K=O>>>16,k&=65535,O&=65535,M[N]=O<<16|k}return new u(M,M[M.length-1]&-2147483648?-1:0)};function j(H,I){return H.add(F(I))}e.j=function(H){if(D(this)||D(H))return w;if(V(this))return V(H)?F(this).j(F(H)):F(F(this).j(H));if(V(H))return F(this.j(F(H)));if(0>this.l(S)&&0>H.l(S))return m(this.m()*H.m());for(var I=this.g.length+H.g.length,M=[],K=0;K<2*I;K++)M[K]=0;for(K=0;K<this.g.length;K++)for(var N=0;N<H.g.length;N++){var k=this.i(K)>>>16,O=this.i(K)&65535,rt=H.i(N)>>>16,$=H.i(N)&65535;M[2*K+2*N]+=O*$,Z(M,2*K+2*N),M[2*K+2*N+1]+=k*$,Z(M,2*K+2*N+1),M[2*K+2*N+1]+=O*rt,Z(M,2*K+2*N+1),M[2*K+2*N+2]+=k*rt,Z(M,2*K+2*N+2)}for(K=0;K<I;K++)M[K]=M[2*K+1]<<16|M[2*K];for(K=I;K<2*I;K++)M[K]=0;return new u(M,0)};function Z(H,I){for(;(H[I]&65535)!=H[I];)H[I+1]+=H[I]>>>16,H[I]&=65535,I++}function q(H,I){this.g=H,this.h=I}function nt(H,I){if(D(I))throw Error("division by zero");if(D(H))return new q(w,w);if(V(H))return I=nt(F(H),I),new q(F(I.g),F(I.h));if(V(I))return I=nt(H,F(I)),new q(F(I.g),I.h);if(30<H.g.length){if(V(H)||V(I))throw Error("slowDivide_ only works with positive integers.");for(var M=T,K=I;0>=K.l(H);)M=X(M),K=X(K);var N=Y(M,1),k=Y(K,1);for(K=Y(K,2),M=Y(M,2);!D(K);){var O=k.add(K);0>=O.l(H)&&(N=N.add(M),k=O),K=Y(K,1),M=Y(M,1)}return I=j(H,N.j(I)),new q(N,I)}for(N=w;0<=H.l(I);){for(M=Math.max(1,Math.floor(H.m()/I.m())),K=Math.ceil(Math.log(M)/Math.LN2),K=48>=K?1:Math.pow(2,K-48),k=m(M),O=k.j(I);V(O)||0<O.l(H);)M-=K,k=m(M),O=k.j(I);D(k)&&(k=T),N=N.add(k),H=j(H,O)}return new q(N,H)}e.A=function(H){return nt(this,H).h},e.and=function(H){for(var I=Math.max(this.g.length,H.g.length),M=[],K=0;K<I;K++)M[K]=this.i(K)&H.i(K);return new u(M,this.h&H.h)},e.or=function(H){for(var I=Math.max(this.g.length,H.g.length),M=[],K=0;K<I;K++)M[K]=this.i(K)|H.i(K);return new u(M,this.h|H.h)},e.xor=function(H){for(var I=Math.max(this.g.length,H.g.length),M=[],K=0;K<I;K++)M[K]=this.i(K)^H.i(K);return new u(M,this.h^H.h)};function X(H){for(var I=H.g.length+1,M=[],K=0;K<I;K++)M[K]=H.i(K)<<1|H.i(K-1)>>>31;return new u(M,H.h)}function Y(H,I){var M=I>>5;I%=32;for(var K=H.g.length-M,N=[],k=0;k<K;k++)N[k]=0<I?H.i(k+M)>>>I|H.i(k+M+1)<<32-I:H.i(k+M);return new u(N,H.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ok=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Qa=u}).apply(typeof NA<"u"?NA:typeof self<"u"?self:typeof window<"u"?window:{});var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lk,of,Nk,Yp,Qv,Vk,zk,Uk;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,x,C){return g==Array.prototype||g==Object.prototype||(g[x]=C.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Op=="object"&&Op];for(var x=0;x<g.length;++x){var C=g[x];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=n(this);function s(g,x){if(x)t:{var C=i;g=g.split(".");for(var W=0;W<g.length-1;W++){var lt=g[W];if(!(lt in C))break t;C=C[lt]}g=g[g.length-1],W=C[g],x=x(W),x!=W&&x!=null&&t(C,g,{configurable:!0,writable:!0,value:x})}}function a(g,x){g instanceof String&&(g+="");var C=0,W=!1,lt={next:function(){if(!W&&C<g.length){var yt=C++;return{value:x(yt,g[yt]),done:!1}}return W=!0,{done:!0,value:void 0}}};return lt[Symbol.iterator]=function(){return lt},lt}s("Array.prototype.values",function(g){return g||function(){return a(this,function(x,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(g){var x=typeof g;return x=x!="object"?x:g?Array.isArray(g)?"array":x:"null",x=="array"||x=="object"&&typeof g.length=="number"}function m(g){var x=typeof g;return x=="object"&&g!=null||x=="function"}function y(g,x,C){return g.call.apply(g.bind,arguments)}function w(g,x,C){if(!g)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var lt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(lt,W),g.apply(x,lt)}}return function(){return g.apply(x,arguments)}}function T(g,x,C){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,T.apply(null,arguments)}function S(g,x){var C=Array.prototype.slice.call(arguments,1);return function(){var W=C.slice();return W.push.apply(W,arguments),g.apply(this,W)}}function D(g,x){function C(){}C.prototype=x.prototype,g.aa=x.prototype,g.prototype=new C,g.prototype.constructor=g,g.Qb=function(W,lt,yt){for(var Pt=Array(arguments.length-2),me=2;me<arguments.length;me++)Pt[me-2]=arguments[me];return x.prototype[lt].apply(W,Pt)}}function V(g){const x=g.length;if(0<x){const C=Array(x);for(let W=0;W<x;W++)C[W]=g[W];return C}return[]}function F(g,x){for(let C=1;C<arguments.length;C++){const W=arguments[C];if(p(W)){const lt=g.length||0,yt=W.length||0;g.length=lt+yt;for(let Pt=0;Pt<yt;Pt++)g[lt+Pt]=W[Pt]}else g.push(W)}}class j{constructor(x,C){this.i=x,this.j=C,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function Z(g){return/^[\s\xa0]*$/.test(g)}function q(){var g=f.navigator;return g&&(g=g.userAgent)?g:""}function nt(g){return nt[" "](g),g}nt[" "]=function(){};var X=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Y(g,x,C){for(const W in g)x.call(C,g[W],W,g)}function H(g,x){for(const C in g)x.call(void 0,g[C],C,g)}function I(g){const x={};for(const C in g)x[C]=g[C];return x}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(g,x){let C,W;for(let lt=1;lt<arguments.length;lt++){W=arguments[lt];for(C in W)g[C]=W[C];for(let yt=0;yt<M.length;yt++)C=M[yt],Object.prototype.hasOwnProperty.call(W,C)&&(g[C]=W[C])}}function N(g){var x=1;g=g.split(":");const C=[];for(;0<x&&g.length;)C.push(g.shift()),x--;return g.length&&C.push(g.join(":")),C}function k(g){f.setTimeout(()=>{throw g},0)}function O(){var g=Ct;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}class rt{constructor(){this.h=this.g=null}add(x,C){const W=$.get();W.set(x,C),this.h?this.h.next=W:this.g=W,this.h=W}}var $=new j(()=>new et,g=>g.reset());class et{constructor(){this.next=this.g=this.h=null}set(x,C){this.h=x,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ot=!1,Ct=new rt,R=()=>{const g=f.Promise.resolve(void 0);it=()=>{g.then(ct)}};var ct=()=>{for(var g;g=O();){try{g.h.call(g.g)}catch(C){k(C)}var x=$;x.j(g),100>x.h&&(x.h++,g.next=x.g,x.g=g)}ot=!1};function _t(){this.s=this.s,this.C=this.C}_t.prototype.s=!1,_t.prototype.ma=function(){this.s||(this.s=!0,this.N())},_t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Rt=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};f.addEventListener("test",C,x),f.removeEventListener("test",C,x)}catch{}return g})();function kt(g,x){if(G.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var C=this.type=g.type,W=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget){if(X){t:{try{nt(x.nodeName);var lt=!0;break t}catch{}lt=!1}lt||(x=null)}}else C=="mouseover"?x=g.fromElement:C=="mouseout"&&(x=g.toElement);this.relatedTarget=x,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Tt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&kt.aa.h.call(this)}}D(kt,G);var Tt={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function Ce(g,x,C,W,lt){this.listener=g,this.proxy=null,this.src=x,this.type=C,this.capture=!!W,this.ha=lt,this.key=++Ft,this.da=this.fa=!1}function Yt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function nn(g){this.src=g,this.g={},this.h=0}nn.prototype.add=function(g,x,C,W,lt){var yt=g.toString();g=this.g[yt],g||(g=this.g[yt]=[],this.h++);var Pt=Nn(g,x,W,lt);return-1<Pt?(x=g[Pt],C||(x.fa=!1)):(x=new Ce(x,this.src,yt,!!W,lt),x.fa=C,g.push(x)),x};function Ge(g,x){var C=x.type;if(C in g.g){var W=g.g[C],lt=Array.prototype.indexOf.call(W,x,void 0),yt;(yt=0<=lt)&&Array.prototype.splice.call(W,lt,1),yt&&(Yt(x),g.g[C].length==0&&(delete g.g[C],g.h--))}}function Nn(g,x,C,W){for(var lt=0;lt<g.length;++lt){var yt=g[lt];if(!yt.da&&yt.listener==x&&yt.capture==!!C&&yt.ha==W)return lt}return-1}var Rn="closure_lm_"+(1e6*Math.random()|0),ri={};function yi(g,x,C,W,lt){if(Array.isArray(x)){for(var yt=0;yt<x.length;yt++)yi(g,x[yt],C,W,lt);return null}return C=Ls(C),g&&g[le]?g.K(x,C,m(W)?!!W.capture:!1,lt):yn(g,x,C,!1,W,lt)}function yn(g,x,C,W,lt,yt){if(!x)throw Error("Invalid event type");var Pt=m(lt)?!!lt.capture:!!lt,me=Ji(g);if(me||(g[Rn]=me=new nn(g)),C=me.add(x,C,W,Pt,yt),C.proxy)return C;if(W=mr(),C.proxy=W,W.src=g,W.listener=C,g.addEventListener)Rt||(lt=Pt),lt===void 0&&(lt=!1),g.addEventListener(x.toString(),W,lt);else if(g.attachEvent)g.attachEvent(si(x.toString()),W);else if(g.addListener&&g.removeListener)g.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return C}function mr(){function g(C){return x.call(g.src,g.listener,C)}const x=gr;return g}function Qi(g,x,C,W,lt){if(Array.isArray(x))for(var yt=0;yt<x.length;yt++)Qi(g,x[yt],C,W,lt);else W=m(W)?!!W.capture:!!W,C=Ls(C),g&&g[le]?(g=g.i,x=String(x).toString(),x in g.g&&(yt=g.g[x],C=Nn(yt,C,W,lt),-1<C&&(Yt(yt[C]),Array.prototype.splice.call(yt,C,1),yt.length==0&&(delete g.g[x],g.h--)))):g&&(g=Ji(g))&&(x=g.g[x.toString()],g=-1,x&&(g=Nn(x,C,W,lt)),(C=-1<g?x[g]:null)&&Cn(C))}function Cn(g){if(typeof g!="number"&&g&&!g.da){var x=g.src;if(x&&x[le])Ge(x.i,g);else{var C=g.type,W=g.proxy;x.removeEventListener?x.removeEventListener(C,W,g.capture):x.detachEvent?x.detachEvent(si(C),W):x.addListener&&x.removeListener&&x.removeListener(W),(C=Ji(x))?(Ge(C,g),C.h==0&&(C.src=null,x[Rn]=null)):Yt(g)}}}function si(g){return g in ri?ri[g]:ri[g]="on"+g}function gr(g,x){if(g.da)g=!0;else{x=new kt(x,this);var C=g.listener,W=g.ha||g.src;g.fa&&Cn(g),g=C.call(W,x)}return g}function Ji(g){return g=g[Rn],g instanceof nn?g:null}var jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ls(g){return typeof g=="function"?g:(g[jr]||(g[jr]=function(x){return g.handleEvent(x)}),g[jr])}function mt(){_t.call(this),this.i=new nn(this),this.M=this,this.F=null}D(mt,_t),mt.prototype[le]=!0,mt.prototype.removeEventListener=function(g,x,C,W){Qi(this,g,x,C,W)};function wt(g,x){var C,W=g.F;if(W)for(C=[];W;W=W.F)C.push(W);if(g=g.M,W=x.type||x,typeof x=="string")x=new G(x,g);else if(x instanceof G)x.target=x.target||g;else{var lt=x;x=new G(W,g),K(x,lt)}if(lt=!0,C)for(var yt=C.length-1;0<=yt;yt--){var Pt=x.g=C[yt];lt=Lt(Pt,W,!0,x)&&lt}if(Pt=x.g=g,lt=Lt(Pt,W,!0,x)&&lt,lt=Lt(Pt,W,!1,x)&&lt,C)for(yt=0;yt<C.length;yt++)Pt=x.g=C[yt],lt=Lt(Pt,W,!1,x)&&lt}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var g=this.i,x;for(x in g.g){for(var C=g.g[x],W=0;W<C.length;W++)Yt(C[W]);delete g.g[x],g.h--}}this.F=null},mt.prototype.K=function(g,x,C,W){return this.i.add(String(g),x,!1,C,W)},mt.prototype.L=function(g,x,C,W){return this.i.add(String(g),x,!0,C,W)};function Lt(g,x,C,W){if(x=g.i.g[String(x)],!x)return!0;x=x.concat();for(var lt=!0,yt=0;yt<x.length;++yt){var Pt=x[yt];if(Pt&&!Pt.da&&Pt.capture==C){var me=Pt.listener,Tn=Pt.ha||Pt.src;Pt.fa&&Ge(g.i,Pt),lt=me.call(Tn,W)!==!1&&lt}}return lt&&!W.defaultPrevented}function Bt(g,x,C){if(typeof g=="function")C&&(g=T(g,C));else if(g&&typeof g.handleEvent=="function")g=T(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:f.setTimeout(g,x||0)}function ce(g){g.g=Bt(()=>{g.g=null,g.i&&(g.i=!1,ce(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}class je extends _t{constructor(x,C){super(),this.m=x,this.l=C,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vn(g){_t.call(this),this.h=g,this.g={}}D(Vn,_t);var _n=[];function Xn(g){Y(g.g,function(x,C){this.g.hasOwnProperty(C)&&Cn(x)},g),g.g={}}Vn.prototype.N=function(){Vn.aa.N.call(this),Xn(this)},Vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rn=f.JSON.stringify,tn=f.JSON.parse,vn=class{stringify(g){return f.JSON.stringify(g,void 0)}parse(g){return f.JSON.parse(g,void 0)}};function zn(){}zn.prototype.h=null;function _o(g){return g.h||(g.h=g.i())}function Ns(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Me(){G.call(this,"d")}D(Me,G);function In(){G.call(this,"c")}D(In,G);var We={},Ci=null;function hn(){return Ci=Ci||new mt}We.La="serverreachability";function wn(g){G.call(this,We.La,g)}D(wn,G);function Pn(g){const x=hn();wt(x,new wn(x))}We.STAT_EVENT="statevent";function ji(g,x){G.call(this,We.STAT_EVENT,g),this.stat=x}D(ji,G);function ie(g){const x=hn();wt(x,new ji(x,g))}We.Ma="timingevent";function Ie(g,x){G.call(this,We.Ma,g),this.size=x}D(Ie,G);function Se(g,x){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){g()},x)}function sn(){this.g=!0}sn.prototype.xa=function(){this.g=!1};function bn(g,x,C,W,lt,yt){g.info(function(){if(g.g)if(yt)for(var Pt="",me=yt.split("&"),Tn=0;Tn<me.length;Tn++){var ge=me[Tn].split("=");if(1<ge.length){var ke=ge[0];ge=ge[1];var Ke=ke.split("_");Pt=2<=Ke.length&&Ke[1]=="type"?Pt+(ke+"="+ge+"&"):Pt+(ke+"=redacted&")}}else Pt=null;else Pt=yt;return"XMLHTTP REQ ("+W+") [attempt "+lt+"]: "+x+`
`+C+`
`+Pt})}function Nt(g,x,C,W,lt,yt,Pt){g.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+lt+"]: "+x+`
`+C+`
`+yt+" "+Pt})}function Un(g,x,C,W){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+er(g,C)+(W?" "+W:"")})}function yr(g,x){g.info(function(){return"TIMEOUT: "+x})}sn.prototype.info=function(){};function er(g,x){if(!g.g)return x;if(!x)return null;try{var C=JSON.parse(x);if(C){for(g=0;g<C.length;g++)if(Array.isArray(C[g])){var W=C[g];if(!(2>W.length)){var lt=W[1];if(Array.isArray(lt)&&!(1>lt.length)){var yt=lt[0];if(yt!="noop"&&yt!="stop"&&yt!="close")for(var Pt=1;Pt<lt.length;Pt++)lt[Pt]=""}}}}return rn(C)}catch{return x}}var hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vr;function _i(){}D(_i,zn),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},vr=new _i;function oi(g,x,C,W){this.j=g,this.i=x,this.l=C,this.R=W||1,this.U=new Vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fn}function fn(){this.i=null,this.g="",this.h=!1}var vl={},Qo={};function wr(g,x,C){g.L=1,g.v=Fi(Ze(x)),g.m=C,g.P=!0,Fr(g,null)}function Fr(g,x){g.F=Date.now(),wo(g),g.A=Ze(g.v);var C=g.A,W=g.R;Array.isArray(W)||(W=[String(W)]),Tl(C.i,"t",W),g.C=0,C=g.j.J,g.h=new fn,g.g=wu(g.j,C?x:null,!g.m),0<g.O&&(g.M=new je(T(g.Y,g,g.g),g.O)),x=g.U,C=g.g,W=g.ca;var lt="readystatechange";Array.isArray(lt)||(lt&&(_n[0]=lt.toString()),lt=_n);for(var yt=0;yt<lt.length;yt++){var Pt=yi(C,lt[yt],W||x.handleEvent,!1,x.h||x);if(!Pt)break;x.g[Pt.key]=Pt}x=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,x)):(g.u="GET",g.g.ea(g.A,g.u,null,x)),Pn(),bn(g.i,g.u,g.A,g.l,g.R,g.m)}oi.prototype.ca=function(g){g=g.target;const x=this.M;x&&ui(g)==3?x.j():this.Y(g)},oi.prototype.Y=function(g){try{if(g==this.g)t:{const Ke=ui(this.g);var x=this.g.Ba();const vs=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||El(this.g)))){this.J||Ke!=4||x==7||(x==8||0>=vs?Pn(3):Pn(2)),Vs(this);var C=this.g.Z();this.X=C;e:if(mu(this)){var W=El(this.g);g="";var lt=W.length,yt=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Hr(this);var Pt="";break e}this.h.i=new f.TextDecoder}for(x=0;x<lt;x++)this.h.h=!0,g+=this.h.i.decode(W[x],{stream:!(yt&&x==lt-1)});W.length=0,this.h.g+=g,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=C==200,Nt(this.i,this.u,this.A,this.l,this.R,Ke,C),this.o){if(this.T&&!this.K){e:{if(this.g){var me,Tn=this.g;if((me=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(me)){var ge=me;break e}}ge=null}if(C=ge)Un(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,C);else{this.o=!1,this.s=3,ie(12),Qn(this),Hr(this);break t}}if(this.P){C=!0;let Fe;for(;!this.J&&this.C<Pt.length;)if(Fe=vo(this,Pt),Fe==Qo){Ke==4&&(this.s=4,ie(14),C=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==vl){this.s=4,ie(15),Un(this.i,this.l,Pt,"[Invalid Chunk]"),C=!1;break}else Un(this.i,this.l,Fe,null),fs(this,Fe);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||Pt.length!=0||this.h.h||(this.s=1,ie(16),C=!1),this.o=this.o&&C,!C)Un(this.i,this.l,Pt,"[Invalid Chunked Response]"),Qn(this),Hr(this);else if(0<Pt.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),Hs(ke),ke.M=!0,ie(11))}}else Un(this.i,this.l,Pt,null),fs(this,Pt);Ke==4&&Qn(this),this.o&&!this.J&&(Ke==4?xl(this.j,this):(this.o=!1,wo(this)))}else $c(this.g),C==400&&0<Pt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Qn(this),Hr(this)}}}catch{}finally{}};function mu(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function vo(g,x){var C=g.C,W=x.indexOf(`
`,C);return W==-1?Qo:(C=Number(x.substring(C,W)),isNaN(C)?vl:(W+=1,W+C>x.length?Qo:(x=x.slice(W,W+C),g.C=W+C,x)))}oi.prototype.cancel=function(){this.J=!0,Qn(this)};function wo(g){g.S=Date.now()+g.I,gu(g,g.I)}function gu(g,x){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Se(T(g.ba,g),x)}function Vs(g){g.B&&(f.clearTimeout(g.B),g.B=null)}oi.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(yr(this.i,this.A),this.L!=2&&(Pn(),ie(17)),Qn(this),this.s=2,Hr(this)):gu(this,this.S-g)};function Hr(g){g.j.G==0||g.J||xl(g.j,g)}function Qn(g){Vs(g);var x=g.M;x&&typeof x.ma=="function"&&x.ma(),g.M=null,Xn(g.U),g.g&&(x=g.g,g.g=null,x.abort(),x.ma())}function fs(g,x){try{var C=g.j;if(C.G!=0&&(C.g==g||he(C.h,g))){if(!g.K&&he(C.h,g)&&C.G==3){try{var W=C.Da.g.parse(x)}catch{W=null}if(Array.isArray(W)&&W.length==3){var lt=W;if(lt[0]==0){t:if(!C.u){if(C.g)if(C.g.F+3e3<g.F)aa(C),ra(C);else break t;sa(C),ie(18)}}else C.za=lt[1],0<C.za-C.T&&37500>lt[2]&&C.F&&C.v==0&&!C.C&&(C.C=Se(T(C.Za,C),6e3));if(1>=Gr(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else _s(C,11)}else if((g.K||C.g==g)&&aa(C),!Z(x))for(lt=C.Da.g.parse(x),x=0;x<lt.length;x++){let ge=lt[x];if(C.T=ge[0],ge=ge[1],C.G==2)if(ge[0]=="c"){C.K=ge[1],C.ia=ge[2];const ke=ge[3];ke!=null&&(C.la=ke,C.j.info("VER="+C.la));const Ke=ge[4];Ke!=null&&(C.Aa=Ke,C.j.info("SVER="+C.Aa));const vs=ge[5];vs!=null&&typeof vs=="number"&&0<vs&&(W=1.5*vs,C.L=W,C.j.info("backChannelRequestTimeoutMs_="+W)),W=C;const Fe=g.g;if(Fe){const Yr=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var yt=W.h;yt.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(yt.j=yt.l,yt.g=new Set,yt.h&&(Pe(yt,yt.h),yt.h=null))}if(W.D){const Xr=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;Xr&&(W.ya=Xr,Zt(W.I,W.D,Xr))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-g.F,C.j.info("Handshake RTT: "+C.R+"ms")),W=C;var Pt=g;if(W.qa=ua(W,W.J?W.ia:null,W.W),Pt.K){Bn(W.h,Pt);var me=Pt,Tn=W.L;Tn&&(me.I=Tn),me.B&&(Vs(me),wo(me)),W.g=Pt}else Ar(W);0<C.i.length&&Fs(C)}else ge[0]!="stop"&&ge[0]!="close"||_s(C,7);else C.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?_s(C,7):ia(C):ge[0]!="noop"&&C.l&&C.l.ta(ge),C.v=0)}}Pn(4)}catch{}}var zs=class{constructor(g,x){this.g=g,this.map=x}};function qr(g){this.l=g||10,f.PerformanceNavigationTiming?(g=f.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Gr(g){return g.h?1:g.g?g.g.size:0}function he(g,x){return g.h?g.h==x:g.g?g.g.has(x):!1}function Pe(g,x){g.g?g.g.add(x):g.h=x}function Bn(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}qr.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Wr(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let x=g.i;for(const C of g.g.values())x=x.concat(C.D);return x}return V(g.i)}function Us(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(p(g)){for(var x=[],C=g.length,W=0;W<C;W++)x.push(g[W]);return x}x=[],C=0;for(W in g)x[C++]=g[W];return x}function Bs(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(p(g)||typeof g=="string"){var x=[];g=g.length;for(var C=0;C<g;C++)x.push(C);return x}x=[],C=0;for(const W in g)x[C++]=W;return x}}}function ee(g,x){if(g.forEach&&typeof g.forEach=="function")g.forEach(x,void 0);else if(p(g)||typeof g=="string")Array.prototype.forEach.call(g,x,void 0);else for(var C=Bs(g),W=Us(g),lt=W.length,yt=0;yt<lt;yt++)x.call(void 0,W[yt],C&&C[yt],g)}var Oe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wl(g,x){if(g){g=g.split("&");for(var C=0;C<g.length;C++){var W=g[C].indexOf("="),lt=null;if(0<=W){var yt=g[C].substring(0,W);lt=g[C].substring(W+1)}else yt=g[C];x(yt,lt?decodeURIComponent(lt.replace(/\+/g," ")):"")}}}function en(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof en){this.h=g.h,To(this,g.j),this.o=g.o,this.g=g.g,br(this,g.s),this.l=g.l;var x=g.i,C=new Er;C.i=x.i,x.g&&(C.g=new Map(x.g),C.h=x.h),vi(this,C),this.m=g.m}else g&&(x=String(g).match(Oe))?(this.h=!1,To(this,x[1]||"",!0),this.o=ai(x[2]||""),this.g=ai(x[3]||"",!0),br(this,x[4]),this.l=ai(x[5]||"",!0),vi(this,x[6]||"",!0),this.m=ai(x[7]||"")):(this.h=!1,this.i=new Er(null,this.h))}en.prototype.toString=function(){var g=[],x=this.j;x&&g.push(Tr(x,ds,!0),":");var C=this.g;return(C||x=="file")&&(g.push("//"),(x=this.o)&&g.push(Tr(x,ds,!0),"@"),g.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&g.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(Tr(C,C.charAt(0)=="/"?bl:Eo,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",Tr(C,js)),g.join("")};function Ze(g){return new en(g)}function To(g,x,C){g.j=C?ai(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function br(g,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);g.s=x}else g.s=null}function vi(g,x,C){x instanceof Er?(g.i=x,Hi(g.i,g.h)):(C||(x=Tr(x,ta)),g.i=new Er(x,g.h))}function Zt(g,x,C){g.i.set(x,C)}function Fi(g){return Zt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ai(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Tr(g,x,C){return typeof g=="string"?(g=encodeURI(g).replace(x,Jo),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Jo(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var ds=/[#\/\?@]/g,Eo=/[#\?:]/g,bl=/[#\?]/g,ta=/[#\?@]/g,js=/#/g;function Er(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function wi(g){g.g||(g.g=new Map,g.h=0,g.i&&wl(g.i,function(x,C){g.add(decodeURIComponent(x.replace(/\+/g," ")),C)}))}e=Er.prototype,e.add=function(g,x){wi(this),this.i=null,g=qt(this,g);var C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(x),this.h+=1,this};function Zr(g,x){wi(g),x=qt(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function Sr(g,x){return wi(g),x=qt(g,x),g.g.has(x)}e.forEach=function(g,x){wi(this),this.g.forEach(function(C,W){C.forEach(function(lt){g.call(x,lt,W,this)},this)},this)},e.na=function(){wi(this);const g=Array.from(this.g.values()),x=Array.from(this.g.keys()),C=[];for(let W=0;W<x.length;W++){const lt=g[W];for(let yt=0;yt<lt.length;yt++)C.push(x[W])}return C},e.V=function(g){wi(this);let x=[];if(typeof g=="string")Sr(this,g)&&(x=x.concat(this.g.get(qt(this,g))));else{g=Array.from(this.g.values());for(let C=0;C<g.length;C++)x=x.concat(g[C])}return x},e.set=function(g,x){return wi(this),this.i=null,g=qt(this,g),Sr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},e.get=function(g,x){return g?(g=this.V(g),0<g.length?String(g[0]):x):x};function Tl(g,x,C){Zr(g,x),0<C.length&&(g.i=null,g.g.set(qt(g,x),V(C)),g.h+=C.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(var C=0;C<x.length;C++){var W=x[C];const yt=encodeURIComponent(String(W)),Pt=this.V(W);for(W=0;W<Pt.length;W++){var lt=yt;Pt[W]!==""&&(lt+="="+encodeURIComponent(String(Pt[W]))),g.push(lt)}}return this.i=g.join("&")};function qt(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function Hi(g,x){x&&!g.j&&(wi(g),g.i=null,g.g.forEach(function(C,W){var lt=W.toLowerCase();W!=lt&&(Zr(this,W),Tl(this,lt,C))},g)),g.j=x}function be(g,x){const C=new sn;if(f.Image){const W=new Image;W.onload=S(Ii,C,"TestLoadImage: loaded",!0,x,W),W.onerror=S(Ii,C,"TestLoadImage: error",!1,x,W),W.onabort=S(Ii,C,"TestLoadImage: abort",!1,x,W),W.ontimeout=S(Ii,C,"TestLoadImage: timeout",!1,x,W),f.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=g}else x(!1)}function nr(g,x){const C=new sn,W=new AbortController,lt=setTimeout(()=>{W.abort(),Ii(C,"TestPingServer: timeout",!1,x)},1e4);fetch(g,{signal:W.signal}).then(yt=>{clearTimeout(lt),yt.ok?Ii(C,"TestPingServer: ok",!0,x):Ii(C,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(lt),Ii(C,"TestPingServer: error",!1,x)})}function Ii(g,x,C,W,lt){try{lt&&(lt.onload=null,lt.onerror=null,lt.onabort=null,lt.ontimeout=null),W(C)}catch{}}function ps(){this.g=new vn}function ir(g,x,C){const W=C||"";try{ee(g,function(lt,yt){let Pt=lt;m(lt)&&(Pt=rn(lt)),x.push(W+yt+"="+encodeURIComponent(Pt))})}catch(lt){throw x.push(W+"type="+encodeURIComponent("_badmap")),lt}}function Pi(g){this.l=g.Ub||null,this.j=g.eb||!1}D(Pi,zn),Pi.prototype.g=function(){return new xr(this.l,this.j)},Pi.prototype.i=(function(g){return function(){return g}})({});function xr(g,x){mt.call(this),this.D=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(xr,mt),e=xr.prototype,e.open=function(g,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=x,this.readyState=1,li(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(x.body=g),(this.D||f).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ve(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ms(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function ms(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?Ve(this):li(this),this.readyState==3&&ms(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Ve(this))},e.Qa=function(g){this.g&&(this.response=g,Ve(this))},e.ga=function(){this.g&&Ve(this)};function Ve(g){g.readyState=4,g.l=null,g.j=null,g.v=null,li(g)}e.setRequestHeader=function(g,x){this.u.append(g,x)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var C=x.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=x.next();return g.join(`\r
`)};function li(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ea(g){let x="";return Y(g,function(C,W){x+=W,x+=":",x+=C,x+=`\r
`}),x}function kn(g,x,C){t:{for(W in C){var W=!1;break t}W=!0}W||(C=ea(C),typeof g=="string"?C!=null&&encodeURIComponent(String(C)):Zt(g,x,C))}function xe(g){mt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(xe,mt);var So=/^https?$/i,gs=["POST","PUT"];e=xe.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,x,C,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vr.g(),this.v=this.o?_o(this.o):_o(vr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(yt){yu(this,yt);return}if(g=C||"",C=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var lt in W)C.set(lt,W[lt]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const yt of W.keys())C.set(yt,W.get(yt));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(C.keys()).find(yt=>yt.toLowerCase()=="content-type"),lt=f.FormData&&g instanceof f.FormData,!(0<=Array.prototype.indexOf.call(gs,x,void 0))||W||lt||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[yt,Pt]of C)this.g.setRequestHeader(yt,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jn(this),this.u=!0,this.g.send(g),this.u=!1}catch(yt){yu(this,yt)}};function yu(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.m=5,xo(g),Kr(g)}function xo(g){g.A||(g.A=!0,wt(g,"complete"),wt(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,wt(this,"complete"),wt(this,"abort"),Kr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),xe.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?se(this):this.bb())},e.bb=function(){se(this)};function se(g){if(g.h&&typeof u<"u"&&(!g.v[1]||ui(g)!=4||g.Z()!=2)){if(g.u&&ui(g)==4)Bt(g.Ea,0,g);else if(wt(g,"readystatechange"),ui(g)==4){g.h=!1;try{const Pt=g.Z();t:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var C;if(!(C=x)){var W;if(W=Pt===0){var lt=String(g.D).match(Oe)[1]||null;!lt&&f.self&&f.self.location&&(lt=f.self.location.protocol.slice(0,-1)),W=!So.test(lt?lt.toLowerCase():"")}C=W}if(C)wt(g,"complete"),wt(g,"success");else{g.m=6;try{var yt=2<ui(g)?g.g.statusText:""}catch{yt=""}g.l=yt+" ["+g.Z()+"]",xo(g)}}finally{Kr(g)}}}}function Kr(g,x){if(g.g){Jn(g);const C=g.g,W=g.v[0]?()=>{}:null;g.g=null,g.v=null,x||wt(g,"ready");try{C.onreadystatechange=W}catch{}}}function Jn(g){g.I&&(f.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function ui(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var x=this.g.responseText;return g&&x.indexOf(g)==0&&(x=x.substring(g.length)),tn(x)}};function El(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(g){const x={};g=(g.g&&2<=ui(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<g.length;W++){if(Z(g[W]))continue;var C=N(g[W]);const lt=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const yt=x[lt]||[];x[lt]=yt,yt.push(C)}H(x,function(W){return W.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(g,x,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||x}function na(g){this.Aa=0,this.i=[],this.j=new sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,g),this.cb=ys("retryDelaySeedMs",1e4,g),this.Wa=ys("forwardChannelMaxRetries",2,g),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new qr(g&&g.concurrentRequestLimit),this.Da=new ps,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=na.prototype,e.la=8,e.G=1,e.connect=function(g,x,C,W){ie(0),this.W=g,this.H=x||{},C&&W!==void 0&&(this.H.OSID=C,this.H.OAID=W),this.F=this.X,this.I=ua(this,null,this.W),Fs(this)};function ia(g){if(_u(g),g.G==3){var x=g.U++,C=Ze(g.I);if(Zt(C,"SID",g.K),Zt(C,"RID",x),Zt(C,"TYPE","terminate"),Ao(g,C),x=new oi(g,g.j,x),x.L=2,x.v=Fi(Ze(C)),C=!1,f.navigator&&f.navigator.sendBeacon)try{C=f.navigator.sendBeacon(x.v.toString(),"")}catch{}!C&&f.Image&&(new Image().src=x.v,C=!0),C||(x.g=wu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),wo(x)}vu(g)}function ra(g){g.g&&(Hs(g),g.g.cancel(),g.g=null)}function _u(g){ra(g),g.u&&(f.clearTimeout(g.u),g.u=null),aa(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&f.clearTimeout(g.s),g.s=null)}function Fs(g){if(!bo(g.h)&&!g.s){g.s=!0;var x=g.Ga;it||R(),ot||(it(),ot=!0),Ct.add(x,g),g.B=0}}function Yc(g,x){return Gr(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=x.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Se(T(g.Ga,g,x),la(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const lt=new oi(this,this.j,g);let yt=this.o;if(this.S&&(yt?(yt=I(yt),K(yt,this.S)):yt=this.S),this.m!==null||this.O||(lt.H=yt,yt=null),this.P)t:{for(var x=0,C=0;C<this.i.length;C++){e:{var W=this.i[C];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break e}W=void 0}if(W===void 0)break;if(x+=W,4096<x){x=C;break t}if(x===4096||C===this.i.length-1){x=C+1;break t}}x=1e3}else x=1e3;x=Sl(this,lt,x),C=Ze(this.I),Zt(C,"RID",g),Zt(C,"CVER",22),this.D&&Zt(C,"X-HTTP-Session-Id",this.D),Ao(this,C),yt&&(this.O?x="headers="+encodeURIComponent(String(ea(yt)))+"&"+x:this.m&&kn(C,this.m,yt)),Pe(this.h,lt),this.Ua&&Zt(C,"TYPE","init"),this.P?(Zt(C,"$req",x),Zt(C,"SID","null"),lt.T=!0,wr(lt,C,null)):wr(lt,C,x),this.G=2}}else this.G==3&&(g?ki(this,g):this.i.length==0||bo(this.h)||ki(this))};function ki(g,x){var C;x?C=x.l:C=g.U++;const W=Ze(g.I);Zt(W,"SID",g.K),Zt(W,"RID",C),Zt(W,"AID",g.T),Ao(g,W),g.m&&g.o&&kn(W,g.m,g.o),C=new oi(g,g.j,C,g.B+1),g.m===null&&(C.H=g.o),x&&(g.i=x.D.concat(g.i)),x=Sl(g,C,1e3),C.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Pe(g.h,C),wr(C,W,x)}function Ao(g,x){g.H&&Y(g.H,function(C,W){Zt(x,W,C)}),g.l&&ee({},function(C,W){Zt(x,W,C)})}function Sl(g,x,C){C=Math.min(g.i.length,C);var W=g.l?T(g.l.Na,g.l,g):null;t:{var lt=g.i;let yt=-1;for(;;){const Pt=["count="+C];yt==-1?0<C?(yt=lt[0].g,Pt.push("ofs="+yt)):yt=0:Pt.push("ofs="+yt);let me=!0;for(let Tn=0;Tn<C;Tn++){let ge=lt[Tn].g;const ke=lt[Tn].map;if(ge-=yt,0>ge)yt=Math.max(0,lt[Tn].g-100),me=!1;else try{ir(ke,Pt,"req"+ge+"_")}catch{W&&W(ke)}}if(me){W=Pt.join("&");break t}}}return g=g.i.splice(0,C),x.D=g,W}function Ar(g){if(!g.g&&!g.u){g.Y=1;var x=g.Fa;it||R(),ot||(it(),ot=!0),Ct.add(x,g),g.v=0}}function sa(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Se(T(g.Fa,g),la(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,oa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Se(T(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),ra(this),oa(this))};function Hs(g){g.A!=null&&(f.clearTimeout(g.A),g.A=null)}function oa(g){g.g=new oi(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var x=Ze(g.qa);Zt(x,"RID","rpc"),Zt(x,"SID",g.K),Zt(x,"AID",g.T),Zt(x,"CI",g.F?"0":"1"),!g.F&&g.ja&&Zt(x,"TO",g.ja),Zt(x,"TYPE","xmlhttp"),Ao(g,x),g.m&&g.o&&kn(x,g.m,g.o),g.L&&(g.g.I=g.L);var C=g.g;g=g.ia,C.L=1,C.v=Fi(Ze(x)),C.m=null,C.P=!0,Fr(C,g)}e.Za=function(){this.C!=null&&(this.C=null,ra(this),sa(this),ie(19))};function aa(g){g.C!=null&&(f.clearTimeout(g.C),g.C=null)}function xl(g,x){var C=null;if(g.g==x){aa(g),Hs(g),g.g=null;var W=2}else if(he(g.h,x))C=x.D,Bn(g.h,x),W=1;else return;if(g.G!=0){if(x.o)if(W==1){C=x.m?x.m.length:0,x=Date.now()-x.F;var lt=g.B;W=hn(),wt(W,new Ie(W,C)),Fs(g)}else Ar(g);else if(lt=x.s,lt==3||lt==0&&0<x.X||!(W==1&&Yc(g,x)||W==2&&sa(g)))switch(C&&0<C.length&&(x=g.h,x.i=x.i.concat(C)),lt){case 1:_s(g,5);break;case 4:_s(g,10);break;case 3:_s(g,6);break;default:_s(g,2)}}}function la(g,x){let C=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(C*=2),C*x}function _s(g,x){if(g.j.info("Error code "+x),x==2){var C=T(g.fb,g),W=g.Xa;const lt=!W;W=new en(W||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||To(W,"https"),Fi(W),lt?be(W.toString(),C):nr(W.toString(),C)}else ie(2);g.G=0,g.l&&g.l.sa(x),vu(g),_u(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function vu(g){if(g.G=0,g.ka=[],g.l){const x=Wr(g.h);(x.length!=0||g.i.length!=0)&&(F(g.ka,x),F(g.ka,g.i),g.h.i.length=0,V(g.i),g.i.length=0),g.l.ra()}}function ua(g,x,C){var W=C instanceof en?Ze(C):new en(C);if(W.g!="")x&&(W.g=x+"."+W.g),br(W,W.s);else{var lt=f.location;W=lt.protocol,x=x?x+"."+lt.hostname:lt.hostname,lt=+lt.port;var yt=new en(null);W&&To(yt,W),x&&(yt.g=x),lt&&br(yt,lt),C&&(yt.l=C),W=yt}return C=g.D,x=g.ya,C&&x&&Zt(W,C,x),Zt(W,"VER",g.la),Ao(g,W),W}function wu(g,x,C){if(x&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=g.Ca&&!g.pa?new xe(new Pi({eb:C})):new xe(g.pa),x.Ha(g.J),x}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Al(){}e=Al.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ro(){}Ro.prototype.g=function(g,x){return new jn(g,x)};function jn(g,x){mt.call(this),this.g=new na(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(g?g["X-WebChannel-Client-Profile"]=x.va:g={"X-WebChannel-Client-Profile":x.va}),this.g.S=g,(g=x&&x.Sb)&&!Z(g)&&(this.g.m=g),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!Z(x)&&(this.g.D=x,g=this.h,g!==null&&x in g&&(g=this.h,x in g&&delete g[x])),this.j=new Di(this)}D(jn,mt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){ia(this.g)},jn.prototype.o=function(g){var x=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.u&&(C={},C.__data__=rn(g),g=C);x.i.push(new zs(x.Ya++,g)),x.G==3&&Fs(x)},jn.prototype.N=function(){this.g.l=null,delete this.j,ia(this.g),delete this.g,jn.aa.N.call(this)};function $r(g){Me.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){t:{for(const C in x){g=C;break t}g=void 0}(this.i=g)&&(g=this.i,x=x!==null&&g in x?x[g]:void 0),this.data=x}else this.data=g}D($r,Me);function bu(){In.call(this),this.status=1}D(bu,In);function Di(g){this.g=g}D(Di,Al),Di.prototype.ua=function(){wt(this.g,"a")},Di.prototype.ta=function(g){wt(this.g,new $r(g))},Di.prototype.sa=function(g){wt(this.g,new bu)},Di.prototype.ra=function(){wt(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,Uk=function(){return new Ro},zk=function(){return hn()},Vk=We,Qv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Yp=hs,_r.COMPLETE="complete",Nk=_r,Ns.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,of=Ns,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Lk=xe}).apply(typeof Op<"u"?Op:typeof self<"u"?self:typeof window<"u"?window:{});const VA="@firebase/firestore",zA="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ni.UNAUTHENTICATED=new Ni(null),Ni.GOOGLE_CREDENTIALS=new Ni("google-credentials-uid"),Ni.FIRST_PARTY=new Ni("first-party-uid"),Ni.MOCK_USER=new Ni("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new F0("@firebase/firestore");function tc(){return su.logLevel}function Ot(e,...t){if(su.logLevel<=ye.DEBUG){const n=t.map(G0);su.debug(`Firestore (${Fc}): ${e}`,...n)}}function $o(e,...t){if(su.logLevel<=ye.ERROR){const n=t.map(G0);su.error(`Firestore (${Fc}): ${e}`,...n)}}function Ec(e,...t){if(su.logLevel<=ye.WARN){const n=t.map(G0);su.warn(`Firestore (${Fc}): ${e}`,...n)}}function G0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,Bk(e,i,n)}function Bk(e,t,n){let i=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw $o(i),new Error(i)}function De(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||Bk(t,s,i)}function re(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends yo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class q8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ni.UNAUTHENTICATED)))}shutdown(){}}class G8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class W8{constructor(t){this.t=t,this.currentUser=Ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){De(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let a=new tu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new tu,t.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const p=a;t.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},f=p=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new tu)}}),0),u()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(De(typeof i.accessToken=="string",31837,{l:i}),new jk(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return De(t===null||typeof t=="string",2055,{h:t}),new Ni(t)}}class Z8{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Ni.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K8{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new Z8(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ni.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $8{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ls(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){De(this.o===void 0,3512);const i=a=>{a.error!=null&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Ot("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable((()=>i(a)))};const s=a=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UA(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(De(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Y8(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=t.charAt(s[a]%62))}return i}}function _e(e,t){return e<t?-1:e>t?1:0}function Jv(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),a=t.charAt(i);if(s!==a)return Q_(s)===Q_(a)?_e(s,a):Q_(s)?1:-1}return _e(e.length,t.length)}const X8=55296,Q8=57343;function Q_(e){const t=e.charCodeAt(0);return t>=X8&&t<=Q8}function Sc(e,t,n){return e.length===t.length&&e.every(((i,s)=>n(i,t[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="__name__";class Js{constructor(t,n,i){n===void 0?n=0:n>t.length&&$t(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&$t(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Js.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Js?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const a=Js.compareSegments(t.get(s),n.get(s));if(a!==0)return a}return _e(t.length,n.length)}static compareSegments(t,n){const i=Js.isNumericId(t),s=Js.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Js.extractNumericId(t).compare(Js.extractNumericId(n)):Jv(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qa.fromString(t.substring(4,t.length-2))}}class Qe extends Js{construct(t,n,i){return new Qe(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Mt(Et.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new Qe(n)}static emptyPath(){return new Qe([])}}const J8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Js{construct(t,n,i){return new Ai(t,n,i)}static isValidIdentifier(t){return J8.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BA}static keyField(){return new Ai([BA])}static fromServerFormat(t){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Mt(Et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;s<t.length;){const f=t[s];if(f==="\\"){if(s+1===t.length)throw new Mt(Et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Mt(Et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(i+=f,s++):(a(),s++)}if(a(),u)throw new Mt(Et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ai(n)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.path=t}static fromPath(t){return new Ht(Qe.fromString(t))}static fromName(t){return new Ht(Qe.fromString(t).popFirst(5))}static empty(){return new Ht(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Qe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ht(new Qe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(e,t,n){if(!n)throw new Mt(Et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function tq(e,t,n,i){if(t===!0&&i===!0)throw new Mt(Et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function jA(e){if(!Ht.isDocumentKey(e))throw new Mt(Et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function FA(e){if(Ht.isDocumentKey(e))throw new Mt(Et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hk(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function rg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":$t(12329,{type:typeof e})}function Ja(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mt(Et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rg(e);throw new Mt(Et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(e,t){const n={typeString:e};return t&&(n.value=t),n}function fd(e,t){if(!Hk(e))throw new Mt(Et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const u=e[i];if(s&&typeof u!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new Mt(Et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=-62135596800,qA=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(t){return qe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*qA);return new qe(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Mt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Mt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<HA)throw new Mt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qA}_compareTo(t){return this.seconds===t.seconds?_e(this.nanoseconds,t.nanoseconds):_e(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fd(t,qe._jsonSchema))return new qe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-HA;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:Kn("string",qe._jsonSchemaVersion),seconds:Kn("number"),nanoseconds:Kn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(t){return new ne(t)}static min(){return new ne(new qe(0,0))}static max(){return new ne(new qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=-1;function eq(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=ne.fromTimestamp(i===1e9?new qe(n+1,0):new qe(n,i));return new sl(s,Ht.empty(),t)}function nq(e){return new sl(e.readTime,e.key,Ff)}class sl{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new sl(ne.min(),Ht.empty(),Ff)}static max(){return new sl(ne.max(),Ht.empty(),Ff)}}function iq(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ht.comparator(e.documentKey,t.documentKey),n!==0?n:_e(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(e){if(e.code!==Et.FAILED_PRECONDITION||e.message!==rq)throw e;Ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&$t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new xt(((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof xt?n:xt.resolve(n)}catch(n){return xt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):xt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):xt.reject(n)}static resolve(t){return new xt(((n,i)=>{n(t)}))}static reject(t){return new xt(((n,i)=>{i(t)}))}static waitFor(t){return new xt(((n,i)=>{let s=0,a=0,u=!1;t.forEach((f=>{++s,f.next((()=>{++a,u&&a===s&&n()}),(p=>i(p)))})),u=!0,a===s&&n()}))}static or(t){let n=xt.resolve(!1);for(const i of t)n=n.next((s=>s?xt.resolve(s):i()));return n}static forEach(t,n){const i=[];return t.forEach(((s,a)=>{i.push(n.call(this,s,a))})),this.waitFor(i)}static mapArray(t,n){return new xt(((i,s)=>{const a=t.length,u=new Array(a);let f=0;for(let p=0;p<a;p++){const m=p;n(t[m]).next((y=>{u[m]=y,++f,f===a&&i(u)}),(y=>s(y)))}}))}static doWhile(t,n){return new xt(((i,s)=>{const a=()=>{t()===!0?n().next((()=>{a()}),s):i()};a()}))}}function oq(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=-1;function og(e){return e==null}function Em(e){return e===0&&1/e==-1/0}function aq(e){return typeof e=="number"&&Number.isInteger(e)&&!Em(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="";function lq(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=GA(t)),t=uq(e.get(n),t);return GA(t)}function uq(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const a=e.charAt(s);switch(a){case"\0":n+="";break;case qk:n+="";break;default:n+=a}}return n}function GA(e){return e+qk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t,n){this.comparator=t,this.root=n||xi.EMPTY}insert(t,n){return new gn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(t){return new gn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,i)=>(t(n,i),!1)))}toString(){const t=[];return this.inorderTraversal(((n,i)=>(t.push(`${n}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lp(this.root,t,this.comparator,!0)}}class Lp{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xi{constructor(t,n,i,s,a){this.key=t,this.value=n,this.color=i??xi.RED,this.left=s??xi.EMPTY,this.right=a??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,a){return new xi(t??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return xi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw $t(27949);return t+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1;xi.EMPTY=new class{constructor(){this.size=0}get key(){throw $t(57766)}get value(){throw $t(16141)}get color(){throw $t(16727)}get left(){throw $t(29726)}get right(){throw $t(36894)}copy(t,n,i,s,a){return this}insert(t,n,i){return new xi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this.comparator=t,this.data=new gn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,i)=>(t(n),!1)))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZA(this.data.getIterator())}getIteratorFrom(t){return new ZA(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((i=>{n=n.add(i)})),n}isEqual(t){if(!(t instanceof ii)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ii(this.comparator);return n.data=t,n}}class ZA{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.fields=t,t.sort(Ai.comparator)}static empty(){return new Ur([])}unionWith(t){let n=new ii(Ai.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Ur(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Sc(this.fields,t.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Wk("Invalid base64 string: "+a):a}})(t);return new Ri(n)}static fromUint8Array(t){const n=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(t);return new Ri(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _e(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const cq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(e){if(De(!!e,39018),typeof e=="string"){let t=0;const n=cq.exec(e);if(De(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ln(e.seconds),nanos:Ln(e.nanos)}}function Ln(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function al(e){return typeof e=="string"?Ri.fromBase64String(e):Ri.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="server_timestamp",Kk="__type__",$k="__previous_value__",Yk="__local_write_time__";function K0(e){return(e?.mapValue?.fields||{})[Kk]?.stringValue===Zk}function ag(e){const t=e.mapValue.fields[$k];return K0(t)?ag(t):t}function Hf(e){const t=ol(e.mapValue.fields[Yk].timestampValue);return new qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(t,n,i,s,a,u,f,p,m,y){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const Sm="(default)";class qf{constructor(t,n){this.projectId=t,this.database=n||Sm}static empty(){return new qf("","")}get isDefaultDatabase(){return this.database===Sm}isEqual(t){return t instanceof qf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="__type__",fq="__max__",Np={mapValue:{}},Qk="__vector__",xm="value";function ll(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?K0(e)?4:pq(e)?9007199254740991:dq(e)?10:11:$t(28295,{value:e})}function mo(e,t){if(e===t)return!0;const n=ll(e);if(n!==ll(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hf(e).isEqual(Hf(t));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=ol(s.timestampValue),f=ol(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(s,a){return al(s.bytesValue).isEqual(al(a.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(s,a){return Ln(s.geoPointValue.latitude)===Ln(a.geoPointValue.latitude)&&Ln(s.geoPointValue.longitude)===Ln(a.geoPointValue.longitude)})(e,t);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Ln(s.integerValue)===Ln(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Ln(s.doubleValue),f=Ln(a.doubleValue);return u===f?Em(u)===Em(f):isNaN(u)&&isNaN(f)}return!1})(e,t);case 9:return Sc(e.arrayValue.values||[],t.arrayValue.values||[],mo);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(WA(u)!==WA(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!mo(u[p],f[p])))return!1;return!0})(e,t);default:return $t(52216,{left:e})}}function Gf(e,t){return(e.values||[]).find((n=>mo(n,t)))!==void 0}function xc(e,t){if(e===t)return 0;const n=ll(e),i=ll(t);if(n!==i)return _e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(e.booleanValue,t.booleanValue);case 2:return(function(a,u){const f=Ln(a.integerValue||a.doubleValue),p=Ln(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(e,t);case 3:return KA(e.timestampValue,t.timestampValue);case 4:return KA(Hf(e),Hf(t));case 5:return Jv(e.stringValue,t.stringValue);case 6:return(function(a,u){const f=al(a),p=al(u);return f.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(a,u){const f=a.split("/"),p=u.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=_e(f[m],p[m]);if(y!==0)return y}return _e(f.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(a,u){const f=_e(Ln(a.latitude),Ln(u.latitude));return f!==0?f:_e(Ln(a.longitude),Ln(u.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return $A(e.arrayValue,t.arrayValue);case 10:return(function(a,u){const f=a.fields||{},p=u.fields||{},m=f[xm]?.arrayValue,y=p[xm]?.arrayValue,w=_e(m?.values?.length||0,y?.values?.length||0);return w!==0?w:$A(m,y)})(e.mapValue,t.mapValue);case 11:return(function(a,u){if(a===Np.mapValue&&u===Np.mapValue)return 0;if(a===Np.mapValue)return 1;if(u===Np.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const T=Jv(p[w],y[w]);if(T!==0)return T;const S=xc(f[p[w]],m[y[w]]);if(S!==0)return S}return _e(p.length,y.length)})(e.mapValue,t.mapValue);default:throw $t(23264,{he:n})}}function KA(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _e(e,t);const n=ol(e),i=ol(t),s=_e(n.seconds,i.seconds);return s!==0?s:_e(n.nanos,i.nanos)}function $A(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=xc(n[s],i[s]);if(a)return a}return _e(n.length,i.length)}function Ac(e){return tw(e)}function tw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const i=ol(n);return`time(${i.seconds},${i.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return al(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Ht.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=tw(a);return i+"]"})(e.arrayValue):"mapValue"in e?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of i)a?a=!1:s+=",",s+=`${u}:${tw(n.fields[u])}`;return s+"}"})(e.mapValue):$t(61005,{value:e})}function Xp(e){switch(ll(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ag(e);return t?16+Xp(t):16;case 5:return 2*e.stringValue.length;case 6:return al(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,a)=>s+Xp(a)),0)})(e.arrayValue);case 10:case 11:return(function(i){let s=0;return gl(i.fields,((a,u)=>{s+=a.length+Xp(u)})),s})(e.mapValue);default:throw $t(13486,{value:e})}}function YA(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ew(e){return!!e&&"integerValue"in e}function $0(e){return!!e&&"arrayValue"in e}function XA(e){return!!e&&"nullValue"in e}function QA(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qp(e){return!!e&&"mapValue"in e}function dq(e){return(e?.mapValue?.fields||{})[Xk]?.stringValue===Qk}function Ef(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return gl(e.mapValue.fields,((n,i)=>t.mapValue.fields[n]=Ef(i))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ef(e.arrayValue.values[n]);return t}return{...e}}function pq(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===fq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t){this.value=t}static empty(){return new cr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Qp(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ef(n)}setAll(t){let n=Ai.emptyPath(),i={},s=[];t.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,s),i={},s=[],n=f.popLast()}u?i[f.lastSegment()]=Ef(u):s.push(f.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(t){const n=this.field(t.popLast());Qp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return mo(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Qp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){gl(n,((s,a)=>t[s]=a));for(const s of i)delete t[s]}clone(){return new cr(Ef(this.value))}}function Jk(e){const t=[];return gl(e.fields,((n,i)=>{const s=new Ai([n]);if(Qp(i)){const a=Jk(i.mapValue).fields;if(a.length===0)t.push(s);else for(const u of a)t.push(s.child(u))}else t.push(s)})),new Ur(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,n,i,s,a,u,f){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(t){return new Vi(t,0,ne.min(),ne.min(),ne.min(),cr.empty(),0)}static newFoundDocument(t,n,i,s){return new Vi(t,1,n,ne.min(),i,s,0)}static newNoDocument(t,n){return new Vi(t,2,n,ne.min(),ne.min(),cr.empty(),0)}static newUnknownDocument(t,n){return new Vi(t,3,n,ne.min(),ne.min(),cr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n){this.position=t,this.inclusive=n}}function JA(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const a=t[s],u=e.position[s];if(a.field.isKeyField()?i=Ht.comparator(Ht.fromName(u.referenceValue),n.key):i=xc(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function tR(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!mo(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,n="asc"){this.field=t,this.dir=n}}function mq(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{}class Zn extends tD{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new yq(t,n,i):n==="array-contains"?new wq(t,i):n==="in"?new bq(t,i):n==="not-in"?new Tq(t,i):n==="array-contains-any"?new Eq(t,i):new Zn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new _q(t,i):new vq(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xc(n,this.value)):n!==null&&ll(this.value)===ll(n)&&this.matchesComparison(xc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return $t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends tD{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ds(t,n)}matches(t){return eD(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eD(e){return e.op==="and"}function nD(e){return gq(e)&&eD(e)}function gq(e){for(const t of e.filters)if(t instanceof Ds)return!1;return!0}function nw(e){if(e instanceof Zn)return e.field.canonicalString()+e.op.toString()+Ac(e.value);if(nD(e))return e.filters.map((t=>nw(t))).join(",");{const t=e.filters.map((n=>nw(n))).join(",");return`${e.op}(${t})`}}function iD(e,t){return e instanceof Zn?(function(i,s){return s instanceof Zn&&i.op===s.op&&i.field.isEqual(s.field)&&mo(i.value,s.value)})(e,t):e instanceof Ds?(function(i,s){return s instanceof Ds&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((a,u,f)=>a&&iD(u,s.filters[f])),!0):!1})(e,t):void $t(19439)}function rD(e){return e instanceof Zn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ac(n.value)}`})(e):e instanceof Ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(rD).join(" ,")+"}"})(e):"Filter"}class yq extends Zn{constructor(t,n,i){super(t,n,i),this.key=Ht.fromName(i.referenceValue)}matches(t){const n=Ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class _q extends Zn{constructor(t,n){super(t,"in",n),this.keys=sD("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class vq extends Zn{constructor(t,n){super(t,"not-in",n),this.keys=sD("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function sD(e,t){return(t.arrayValue?.values||[]).map((n=>Ht.fromName(n.referenceValue)))}class wq extends Zn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return $0(n)&&Gf(n.arrayValue,this.value)}}class bq extends Zn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Gf(this.value.arrayValue,n)}}class Tq extends Zn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gf(this.value.arrayValue,n)}}class Eq extends Zn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!$0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Gf(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(t,n=null,i=[],s=[],a=null,u=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.Te=null}}function eR(e,t=null,n=[],i=[],s=null,a=null,u=null){return new Sq(e,t,n,i,s,a,u)}function Y0(e){const t=re(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((i=>nw(i))).join(","),n+="|ob:",n+=t.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),og(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Ac(i))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Ac(i))).join(",")),t.Te=n}return t.Te}function X0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mq(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!iD(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tR(e.startAt,t.startAt)&&tR(e.endAt,t.endAt)}function iw(e){return Ht.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n=null,i=[],s=[],a=null,u="F",f=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xq(e,t,n,i,s,a,u,f){return new Gc(e,t,n,i,s,a,u,f)}function Q0(e){return new Gc(e)}function nR(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function oD(e){return e.collectionGroup!==null}function Sf(e){const t=re(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new ii(Ai.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(t).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Wf(a,i))})),n.has(Ai.keyField().canonicalString())||t.Ie.push(new Wf(Ai.keyField(),i))}return t.Ie}function oo(e){const t=re(e);return t.Ee||(t.Ee=Aq(t,Sf(e))),t.Ee}function Aq(e,t){if(e.limitType==="F")return eR(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Wf(s.field,a)}));const n=e.endAt?new Am(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Am(e.startAt.position,e.startAt.inclusive):null;return eR(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function rw(e,t){const n=e.filters.concat([t]);return new Gc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function sw(e,t,n){return new Gc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lg(e,t){return X0(oo(e),oo(t))&&e.limitType===t.limitType}function aD(e){return`${Y0(oo(e))}|lt:${e.limitType}`}function ec(e){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>rD(s))).join(", ")}]`),og(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>Ac(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>Ac(s))).join(",")),`Target(${i})`})(oo(e))}; limitType=${e.limitType})`}function ug(e,t){return t.isFoundDocument()&&(function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ht.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(e,t)&&(function(i,s){for(const a of Sf(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(e,t)&&(function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0})(e,t)&&(function(i,s){return!(i.startAt&&!(function(u,f,p){const m=JA(u,f,p);return u.inclusive?m<=0:m<0})(i.startAt,Sf(i),s)||i.endAt&&!(function(u,f,p){const m=JA(u,f,p);return u.inclusive?m>=0:m>0})(i.endAt,Sf(i),s))})(e,t)}function Rq(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lD(e){return(t,n)=>{let i=!1;for(const s of Sf(e)){const a=Cq(s,t,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function Cq(e,t,n){const i=e.field.isKeyField()?Ht.comparator(t.key,n.key):(function(a,u,f){const p=u.data.field(a),m=f.data.field(a);return p!==null&&m!==null?xc(p,m):$t(42886)})(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return $t(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){gl(this.inner,((n,i)=>{for(const[s,a]of i)t(s,a)}))}isEmpty(){return Gk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=new gn(Ht.comparator);function Yo(){return Iq}const uD=new gn(Ht.comparator);function af(...e){let t=uD;for(const n of e)t=t.insert(n.key,n);return t}function cD(e){let t=uD;return e.forEach(((n,i)=>t=t.insert(n,i.overlayedDocument))),t}function Xl(){return xf()}function hD(){return xf()}function xf(){return new hu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Pq=new gn(Ht.comparator),kq=new ii(Ht.comparator);function ve(...e){let t=kq;for(const n of e)t=t.add(n);return t}const Dq=new ii(_e);function Mq(){return Dq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Em(t)?"-0":t}}function fD(e){return{integerValue:""+e}}function Oq(e,t){return aq(t)?fD(t):J0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this._=void 0}}function Lq(e,t,n){return e instanceof Zf?(function(s,a){const u={fields:{[Kk]:{stringValue:Zk},[Yk]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&K0(a)&&(a=ag(a)),a&&(u.fields[$k]=a),{mapValue:u}})(n,t):e instanceof Kf?pD(e,t):e instanceof $f?mD(e,t):(function(s,a){const u=dD(s,a),f=iR(u)+iR(s.Ae);return ew(u)&&ew(s.Ae)?fD(f):J0(s.serializer,f)})(e,t)}function Nq(e,t,n){return e instanceof Kf?pD(e,t):e instanceof $f?mD(e,t):n}function dD(e,t){return e instanceof Rm?(function(i){return ew(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(t)?t:{integerValue:0}:null}class Zf extends cg{}class Kf extends cg{constructor(t){super(),this.elements=t}}function pD(e,t){const n=gD(t);for(const i of e.elements)n.some((s=>mo(s,i)))||n.push(i);return{arrayValue:{values:n}}}class $f extends cg{constructor(t){super(),this.elements=t}}function mD(e,t){let n=gD(t);for(const i of e.elements)n=n.filter((s=>!mo(s,i)));return{arrayValue:{values:n}}}class Rm extends cg{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function iR(e){return Ln(e.integerValue||e.doubleValue)}function gD(e){return $0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(t,n){this.field=t,this.transform=n}}function zq(e,t){return e.field.isEqual(t.field)&&(function(i,s){return i instanceof Kf&&s instanceof Kf||i instanceof $f&&s instanceof $f?Sc(i.elements,s.elements,mo):i instanceof Rm&&s instanceof Rm?mo(i.Ae,s.Ae):i instanceof Zf&&s instanceof Zf})(e.transform,t.transform)}class Uq{constructor(t,n){this.version=t,this.transformResults=n}}class Is{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Is}static exists(t){return new Is(void 0,t)}static updateTime(t){return new Is(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class hg{}function yD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new tb(e.key,Is.none()):new dd(e.key,e.data,Is.none());{const n=e.data,i=cr.empty();let s=new ii(Ai.comparator);for(let a of t.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),s=s.add(a)}return new yl(e.key,i,new Ur(s.toArray()),Is.none())}}function Bq(e,t,n){e instanceof dd?(function(s,a,u){const f=s.value.clone(),p=sR(s.fieldTransforms,a,u.transformResults);f.setAll(p),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(e,t,n):e instanceof yl?(function(s,a,u){if(!Jp(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=sR(s.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(_D(s)),p.setAll(f),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(e,t,n):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,n)}function Af(e,t,n,i){return e instanceof dd?(function(a,u,f,p){if(!Jp(a.precondition,u))return f;const m=a.value.clone(),y=oR(a.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(e,t,n,i):e instanceof yl?(function(a,u,f,p){if(!Jp(a.precondition,u))return f;const m=oR(a.fieldTransforms,p,u),y=u.data;return y.setAll(_D(a)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(e,t,n,i):(function(a,u,f){return Jp(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(e,t,n)}function jq(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),a=dD(i.transform,s||null);a!=null&&(n===null&&(n=cr.empty()),n.set(i.field,a))}return n||null}function rR(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Sc(i,s,((a,u)=>zq(a,u)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dd extends hg{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class yl extends hg{constructor(t,n,i,s,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _D(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function sR(e,t,n){const i=new Map;De(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const a=e[s],u=a.transform,f=t.data.field(a.field);i.set(a.field,Nq(u,f,n[s]))}return i}function oR(e,t,n){const i=new Map;for(const s of e){const a=s.transform,u=n.data.field(s.field);i.set(s.field,Lq(a,u,t))}return i}class tb extends hg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fq extends hg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&Bq(a,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Af(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Af(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=hD();return this.mutations.forEach((s=>{const a=t.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(s.key)?null:f;const p=yD(u,f);p!==null&&i.set(s.key,p),u.isValidDocument()||u.convertToNoDocument(ne.min())})),i}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ve())}isEqual(t){return this.batchId===t.batchId&&Sc(this.mutations,t.mutations,((n,i)=>rR(n,i)))&&Sc(this.baseMutations,t.baseMutations,((n,i)=>rR(n,i)))}}class eb{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){De(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=(function(){return Pq})();const a=t.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,i[u].version);return new eb(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn,Ee;function Wq(e){switch(e){case Et.OK:return $t(64938);case Et.CANCELLED:case Et.UNKNOWN:case Et.DEADLINE_EXCEEDED:case Et.RESOURCE_EXHAUSTED:case Et.INTERNAL:case Et.UNAVAILABLE:case Et.UNAUTHENTICATED:return!1;case Et.INVALID_ARGUMENT:case Et.NOT_FOUND:case Et.ALREADY_EXISTS:case Et.PERMISSION_DENIED:case Et.FAILED_PRECONDITION:case Et.ABORTED:case Et.OUT_OF_RANGE:case Et.UNIMPLEMENTED:case Et.DATA_LOSS:return!0;default:return $t(15467,{code:e})}}function vD(e){if(e===void 0)return $o("GRPC error has no .code"),Et.UNKNOWN;switch(e){case qn.OK:return Et.OK;case qn.CANCELLED:return Et.CANCELLED;case qn.UNKNOWN:return Et.UNKNOWN;case qn.DEADLINE_EXCEEDED:return Et.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return Et.RESOURCE_EXHAUSTED;case qn.INTERNAL:return Et.INTERNAL;case qn.UNAVAILABLE:return Et.UNAVAILABLE;case qn.UNAUTHENTICATED:return Et.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return Et.INVALID_ARGUMENT;case qn.NOT_FOUND:return Et.NOT_FOUND;case qn.ALREADY_EXISTS:return Et.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return Et.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return Et.FAILED_PRECONDITION;case qn.ABORTED:return Et.ABORTED;case qn.OUT_OF_RANGE:return Et.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return Et.UNIMPLEMENTED;case qn.DATA_LOSS:return Et.DATA_LOSS;default:return $t(39323,{code:e})}}(Ee=qn||(qn={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=new Qa([4294967295,4294967295],0);function aR(e){const t=Zq().encode(e),n=new Ok;return n.update(t),new Uint8Array(n.digest())}function lR(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Qa([n,i],0),new Qa([s,a],0)]}class nb{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new lf(`Invalid padding: ${n}`);if(i<0)throw new lf(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new lf(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new lf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Qa.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(Qa.fromNumber(i)));return s.compare(Kq)===1&&(s=new Qa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=aR(t),[i,s]=lR(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,s,a);if(!this.we(u))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),u=new nb(a,s,n);return i.forEach((f=>u.insert(f))),u}insert(t){if(this.ge===0)return;const n=aR(t),[i,s]=lR(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,s,a);this.Se(u)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t,n,i,s,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,pd.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new fg(ne.min(),s,new gn(_e),Yo(),ve())}}class pd{constructor(t,n,i,s,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new pd(i,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class wD{constructor(t,n){this.targetId=t,this.Ce=n}}class bD{constructor(t,n,i=Ri.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class uR{constructor(){this.ve=0,this.Fe=cR(),this.Me=Ri.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ve(),n=ve(),i=ve();return this.Fe.forEach(((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:$t(38017,{changeType:a})}})),new pd(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=cR()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $q{constructor(t){this.Ge=t,this.ze=new Map,this.je=Yo(),this.Je=Vp(),this.He=Vp(),this.Ye=new gn(_e)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:$t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const a=s.target;if(iw(a))if(i===0){const u=new Ht(a.path);this.et(n,u,Vi.newNoDocument(u,ne.min()))}else De(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(t),p=f?this.ct(f,t,u):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let u,f;try{u=al(i).toUint8Array()}catch(p){if(p instanceof Wk)return Ec("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new nb(u,s,a)}catch(p){return Ec(p instanceof lf?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((a=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;t.mightContain(f)||(this.et(n,a,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((a,u)=>{const f=this.ot(u);if(f){if(a.current&&iw(f.target)){const p=new Ht(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Vi.newNoDocument(p,t))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let i=ve();this.He.forEach(((a,u)=>{let f=!0;u.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(t)));const s=new fg(t,n,this.Ye,this.je,i);return this.je=Yo(),this.Je=Vp(),this.He=Vp(),this.Ye=new gn(_e),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new uR,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ii(_e),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ii(_e),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new uR),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Vp(){return new gn(Ht.comparator)}function cR(){return new gn(Ht.comparator)}const Yq={asc:"ASCENDING",desc:"DESCENDING"},Xq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qq={and:"AND",or:"OR"};class Jq{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ow(e,t){return e.useProto3Json||og(t)?t:{value:t}}function Cm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function TD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function t7(e,t){return Cm(e,t.toTimestamp())}function ao(e){return De(!!e,49232),ne.fromTimestamp((function(n){const i=ol(n);return new qe(i.seconds,i.nanos)})(e))}function ib(e,t){return aw(e,t).canonicalString()}function aw(e,t){const n=(function(s){return new Qe(["projects",s.projectId,"databases",s.database])})(e).child("documents");return t===void 0?n:n.child(t)}function ED(e){const t=Qe.fromString(e);return De(CD(t),10190,{key:t.toString()}),t}function lw(e,t){return ib(e.databaseId,t.path)}function J_(e,t){const n=ED(t);if(n.get(1)!==e.databaseId.projectId)throw new Mt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ht(xD(n))}function SD(e,t){return ib(e.databaseId,t)}function e7(e){const t=ED(e);return t.length===4?Qe.emptyPath():xD(t)}function uw(e){return new Qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xD(e){return De(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function hR(e,t,n){return{name:lw(e,t),fields:n.value.mapValue.fields}}function n7(e,t){let n;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:$t(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(De(y===void 0||typeof y=="string",58123),Ri.fromBase64String(y||"")):(De(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ri.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&(function(m){const y=m.code===void 0?Et.UNKNOWN:vD(m.code);return new Mt(y,m.message||"")})(u);n=new bD(i,s,a,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=J_(e,i.document.name),a=ao(i.document.updateTime),u=i.document.createTime?ao(i.document.createTime):ne.min(),f=new cr({mapValue:{fields:i.document.fields}}),p=Vi.newFoundDocument(s,a,u,f),m=i.targetIds||[],y=i.removedTargetIds||[];n=new tm(m,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=J_(e,i.document),a=i.readTime?ao(i.readTime):ne.min(),u=Vi.newNoDocument(s,a),f=i.removedTargetIds||[];n=new tm([],f,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=J_(e,i.document),a=i.removedTargetIds||[];n=new tm([],a,s,null)}else{if(!("filter"in t))return $t(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,u=new Gq(s,a),f=i.targetId;n=new wD(f,u)}}return n}function i7(e,t){let n;if(t instanceof dd)n={update:hR(e,t.key,t.value)};else if(t instanceof tb)n={delete:lw(e,t.key)};else if(t instanceof yl)n={update:hR(e,t.key,t.data),updateMask:f7(t.fieldMask)};else{if(!(t instanceof Fq))return $t(16599,{Vt:t.type});n={verify:lw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((i=>(function(a,u){const f=u.transform;if(f instanceof Zf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Kf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof $f)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Rm)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw $t(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:t7(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:$t(27497)})(e,t.precondition)),n}function r7(e,t){return e&&e.length>0?(De(t!==void 0,14353),e.map((n=>(function(s,a){let u=s.updateTime?ao(s.updateTime):ao(a);return u.isEqual(ne.min())&&(u=ao(a)),new Uq(u,s.transformResults||[])})(n,t)))):[]}function s7(e,t){return{documents:[SD(e,t.path)]}}function o7(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=SD(e,s);const a=(function(m){if(m.length!==0)return RD(Ds.create(m,"and"))})(t.filters);a&&(n.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((y=>(function(T){return{field:nc(T.field),direction:u7(T.dir)}})(y)))})(t.orderBy);u&&(n.structuredQuery.orderBy=u);const f=ow(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:n,parent:s}}function a7(e){let t=e7(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){De(i===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:t=t.child(y.collectionId)}let a=[];n.where&&(a=(function(w){const T=AD(w);return T instanceof Ds&&nD(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(w){return w.map((T=>(function(D){return new Wf(ic(D.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(w){let T;return T=typeof w=="object"?w.value:w,og(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(w){const T=!!w.before,S=w.values||[];return new Am(S,T)})(n.startAt));let m=null;return n.endAt&&(m=(function(w){const T=!w.before,S=w.values||[];return new Am(S,T)})(n.endAt)),xq(t,s,u,a,f,"F",p,m)}function l7(e,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function AD(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ic(n.unaryFilter.field);return Zn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ic(n.unaryFilter.field);return Zn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ic(n.unaryFilter.field);return Zn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ic(n.unaryFilter.field);return Zn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $t(61313);default:return $t(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Zn.create(ic(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $t(58110);default:return $t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ds.create(n.compositeFilter.filters.map((i=>AD(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return $t(1026)}})(n.compositeFilter.op))})(e):$t(30097,{filter:e})}function u7(e){return Yq[e]}function c7(e){return Xq[e]}function h7(e){return Qq[e]}function nc(e){return{fieldPath:e.canonicalString()}}function ic(e){return Ai.fromServerFormat(e.fieldPath)}function RD(e){return e instanceof Zn?(function(n){if(n.op==="=="){if(QA(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NAN"}};if(XA(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QA(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NOT_NAN"}};if(XA(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(n.field),op:c7(n.op),value:n.value}}})(e):e instanceof Ds?(function(n){const i=n.getFilters().map((s=>RD(s)));return i.length===1?i[0]:{compositeFilter:{op:h7(n.op),filters:i}}})(e):$t(54877,{filter:e})}function f7(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function CD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,n,i,s,a=ne.min(),u=ne.min(),f=Ri.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(t){return new $a(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(t){this.yt=t}}function p7(e){const t=a7({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?sw(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(){this.Cn=new g7}addToCollectionParentIndex(t,n){return this.Cn.add(n),xt.resolve()}getCollectionParents(t,n){return xt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return xt.resolve()}deleteFieldIndex(t,n){return xt.resolve()}deleteAllFieldIndexes(t){return xt.resolve()}createTargetIndexes(t,n){return xt.resolve()}getDocumentsMatchingTarget(t,n){return xt.resolve(null)}getIndexType(t,n){return xt.resolve(0)}getFieldIndexes(t,n){return xt.resolve([])}getNextCollectionGroupToUpdate(t){return xt.resolve(null)}getMinOffset(t,n){return xt.resolve(sl.min())}getMinOffsetFromCollectionGroup(t,n){return xt.resolve(sl.min())}updateCollectionGroup(t,n,i){return xt.resolve()}updateIndexEntries(t,n){return xt.resolve()}}class g7{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new ii(Qe.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new ii(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ID=41943040;class ur{static withCacheSize(t){return new ur(t,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(ID,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Rc(0)}static cr(){return new Rc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="LruGarbageCollector",y7=1048576;function pR([e,t],[n,i]){const s=_e(e,n);return s===0?_e(t,i):s}class _7{constructor(t){this.Ir=t,this.buffer=new ii(pR),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();pR(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class v7{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ot(dR,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qc(n)?Ot(dR,"Ignoring IndexedDB error during garbage collection: ",n):await Hc(n)}await this.Vr(3e5)}))}}class w7{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(t,n){if(n===0)return xt.resolve(sg.ce);const i=new _7(n);return this.mr.forEachTarget(t,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),xt.resolve(fR)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fR):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,a,u,f,p,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(t,s)))).next((w=>(i=w,f=Date.now(),this.removeTargets(t,i,n)))).next((w=>(a=w,p=Date.now(),this.removeOrphanedDocuments(t,i)))).next((w=>(m=Date.now(),tc()<=ye.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),xt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w}))))}}function b7(e,t){return new w7(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.changes=new hu((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Vi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?xt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(i!==null&&Af(i.mutation,s,Ur.empty(),qe.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.getLocalViewOfDocuments(t,i,ve()).next((()=>i))))}getLocalViewOfDocuments(t,n,i=ve()){const s=Xl();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,i).next((a=>{let u=af();return a.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(t,n){const i=Xl();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,ve())))}populateOverlays(t,n,i){const s=[];return i.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(t,s).next((a=>{a.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(t,n,i,s){let a=Yo();const u=xf(),f=(function(){return xf()})();return n.forEach(((p,m)=>{const y=i.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof yl)?a=a.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Af(y.mutation,m,y.mutation.getFieldMask(),qe.now())):u.set(m.key,Ur.empty())})),this.recalculateAndSaveOverlays(t,a).next((p=>(p.forEach(((m,y)=>u.set(m,y))),n.forEach(((m,y)=>f.set(m,new E7(y,u.get(m)??null)))),f)))}recalculateAndSaveOverlays(t,n){const i=xf();let s=new gn(((u,f)=>u-f)),a=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let y=i.get(p)||Ur.empty();y=f.applyToLocalView(m,y),i.set(p,y);const w=(s.get(f.batchId)||ve()).add(p);s=s.insert(f.batchId,w)}))})).next((()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,w=hD();y.forEach((T=>{if(!a.has(T)){const S=yD(n.get(T),i.get(T));S!==null&&w.set(T,S),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(t,m,w))}return xt.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,n,i,s){return(function(u){return Ht.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):oD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-a.size):xt.resolve(Xl());let f=Ff,p=a;return u.next((m=>xt.forEach(m,((y,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(y)?xt.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{p=p.insert(y,T)}))))).next((()=>this.populateOverlays(t,m,a))).next((()=>this.computeViews(t,p,m,ve()))).next((y=>({batchId:f,changes:cD(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ht(n)).next((i=>{let s=af();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const a=n.collectionGroup;let u=af();return this.indexManager.getCollectionParents(t,a).next((f=>xt.forEach(f,(p=>{const m=(function(w,T){return new Gc(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(t,m,i,s).next((y=>{y.forEach(((w,T)=>{u=u.insert(w,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,s)))).next((u=>{a.forEach(((p,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,Vi.newInvalidDocument(y)))}));let f=af();return u.forEach(((p,m)=>{const y=a.get(p);y!==void 0&&Af(y.mutation,m,Ur.empty(),qe.now()),ug(n,m)&&(f=f.insert(p,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return xt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:ao(s.createTime)}})(n)),xt.resolve()}getNamedQuery(t,n){return xt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:p7(s.bundledQuery),readTime:ao(s.readTime)}})(n)),xt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this.overlays=new gn(Ht.comparator),this.qr=new Map}getOverlay(t,n){return xt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Xl();return xt.forEach(n,(s=>this.getOverlay(t,s).next((a=>{a!==null&&i.set(s,a)})))).next((()=>i))}saveOverlays(t,n,i){return i.forEach(((s,a)=>{this.St(t,n,a)})),xt.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),xt.resolve()}getOverlaysForCollection(t,n,i){const s=Xl(),a=n.length+1,u=new Ht(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>i&&s.set(p.getKey(),p)}return xt.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let a=new gn(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=a.get(m.largestBatchId);y===null&&(y=Xl(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=Xl(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>f.set(m,y))),!(f.size()>=s)););return xt.resolve(f)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new qq(n,i));let a=this.qr.get(n);a===void 0&&(a=ve(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this.sessionToken=Ri.EMPTY_BYTE_STRING}getSessionToken(t){return xt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,xt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.Qr=new ii(pi.$r),this.Ur=new ii(pi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new pi(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach((i=>this.addReference(i,n)))}removeReference(t,n){this.Gr(new pi(t,n))}zr(t,n){t.forEach((i=>this.removeReference(i,n)))}jr(t){const n=new Ht(new Qe([])),i=new pi(n,t),s=new pi(n,t+1),a=[];return this.Ur.forEachInRange([i,s],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Ht(new Qe([])),i=new pi(n,t),s=new pi(n,t+1);let a=ve();return this.Ur.forEachInRange([i,s],(u=>{a=a.add(u.key)})),a}containsKey(t){const n=new pi(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class pi{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Ht.comparator(t.key,n.key)||_e(t.Yr,n.Yr)}static Kr(t,n){return _e(t.Yr,n.Yr)||Ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ii(pi.$r)}checkEmpty(t){return xt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Hq(a,n,i,s);this.mutationQueue.push(u);for(const f of s)this.Zr=this.Zr.add(new pi(f.key,a)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return xt.resolve(u)}lookupMutationBatch(t,n){return xt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),a=s<0?0:s;return xt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return xt.resolve(this.mutationQueue.length===0?Z0:this.tr-1)}getAllMutationBatches(t){return xt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new pi(n,0),s=new pi(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,s],(u=>{const f=this.Xr(u.Yr);a.push(f)})),xt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ii(_e);return n.forEach((s=>{const a=new pi(s,0),u=new pi(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(f=>{i=i.add(f.Yr)}))})),xt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let a=i;Ht.isDocumentKey(a)||(a=a.child(""));const u=new pi(new Ht(a),0);let f=new ii(_e);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(f=f.add(p.Yr)),!0)}),u),xt.resolve(this.ti(f))}ti(t){const n=[];return t.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){De(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return xt.forEach(n.mutations,(s=>{const a=new pi(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,n){const i=new pi(n,0),s=this.Zr.firstAfterOrEqual(i);return xt.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,xt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(t){this.ri=t,this.docs=(function(){return new gn(Ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return xt.resolve(i?i.document.mutableCopy():Vi.newInvalidDocument(n))}getEntries(t,n){let i=Yo();return n.forEach((s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Vi.newInvalidDocument(s))})),xt.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let a=Yo();const u=n.path,f=new Ht(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||iq(nq(y),i)<=0||(s.has(y.key)||ug(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return xt.resolve(a)}getAllFromCollectionGroup(t,n,i,s){$t(9500)}ii(t,n){return xt.forEach(this.docs,(i=>n(i)))}newChangeBuffer(t){return new P7(this)}getSize(t){return xt.resolve(this.size)}}class P7 extends T7{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)})),xt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(t){this.persistence=t,this.si=new hu((n=>Y0(n)),X0),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new rb,this.targetCount=0,this.ai=Rc.ur()}forEachTarget(t,n){return this.si.forEach(((i,s)=>n(s))),xt.resolve()}getLastRemoteSnapshotVersion(t){return xt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return xt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),xt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),xt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Rc(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,xt.resolve()}updateTargetData(t,n){return this.Pr(n),xt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,xt.resolve()}removeTargets(t,n,i){let s=0;const a=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(t,f.targetId)),s++)})),xt.waitFor(a).next((()=>s))}getTargetCount(t){return xt.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return xt.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),xt.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((u=>{a.push(s.markPotentiallyOrphaned(t,u))})),xt.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),xt.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return xt.resolve(i)}containsKey(t,n){return xt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,n){this.ui={},this.overlays={},this.ci=new sg(0),this.li=!1,this.li=!0,this.hi=new R7,this.referenceDelegate=t(this),this.Pi=new k7(this),this.indexManager=new m7,this.remoteDocumentCache=(function(s){return new I7(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new d7(n),this.Ii=new x7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new A7,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new C7(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){Ot("MemoryPersistence","Starting transaction:",t);const s=new D7(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(t,n){return xt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,n))))}}class D7 extends sq{constructor(t){super(),this.currentSequenceNumber=t}}class sb{constructor(t){this.persistence=t,this.Ri=new rb,this.Vi=null}static mi(t){return new sb(t)}get fi(){if(this.Vi)return this.Vi;throw $t(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),xt.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),xt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),xt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xt.forEach(this.fi,(i=>{const s=Ht.fromPath(i);return this.gi(t,s).next((a=>{a||n.removeEntry(s,ne.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return xt.or([()=>xt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Im{constructor(t,n){this.persistence=t,this.pi=new hu((i=>lq(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=b7(this,n)}static mi(t,n){return new Im(t,n)}Ei(){}di(t){return xt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>n.next((s=>i+s))))}wr(t){let n=0;return this.pr(t,(i=>{n++})).next((()=>n))}pr(t,n){return xt.forEach(this.pi,((i,s)=>this.br(t,i,s).next((a=>a?xt.resolve():n(s)))))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(t,(u=>this.br(t,u,n).next((f=>{f||(i++,a.removeEntry(u,ne.min()))})))).next((()=>a.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),xt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),xt.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),xt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),xt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Xp(t.data.value)),n}br(t,n,i){return xt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return xt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=ve(),s=ve();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ob(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SH()?8:oq(Ui())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const a={result:null};return this.ys(t,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(t,n,s,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new M7;return this.Ss(t,n,u).next((f=>{if(a.result=f,this.Vs)return this.bs(t,n,u,f.size)}))})).next((()=>a.result))}bs(t,n,i,s){return i.documentReadCount<this.fs?(tc()<=ye.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",ec(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xt.resolve()):(tc()<=ye.DEBUG&&Ot("QueryEngine","Query:",ec(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(tc()<=ye.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",ec(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oo(n))):xt.resolve())}ys(t,n){if(nR(n))return xt.resolve(null);let i=oo(n);return this.indexManager.getIndexType(t,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=sw(n,null,"F"),i=oo(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next((a=>{const u=ve(...a);return this.ps.getDocuments(t,u).next((f=>this.indexManager.getMinOffset(t,i).next((p=>{const m=this.Ds(n,f);return this.Cs(n,m,u,p.readTime)?this.ys(t,sw(n,null,"F")):this.vs(t,m,n,p)}))))})))))}ws(t,n,i,s){return nR(n)||s.isEqual(ne.min())?xt.resolve(null):this.ps.getDocuments(t,i).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,i,s)?xt.resolve(null):(tc()<=ye.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ec(n)),this.vs(t,u,n,eq(s,Ff)).next((f=>f)))}))}Ds(t,n){let i=new ii(lD(t));return n.forEach(((s,a)=>{ug(t,a)&&(i=i.add(a))})),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(t,n,i){return tc()<=ye.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",ec(n)),this.ps.getDocumentsMatchingQuery(t,n,sl.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="LocalStore",L7=3e8;class N7{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new gn(_e),this.xs=new hu((a=>Y0(a)),X0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new S7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function V7(e,t,n,i){return new N7(e,t,n,i)}async function kD(e,t){const n=re(e);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((a=>(s=a,n.Bs(t),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],f=[];let p=ve();for(const m of s){u.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of a){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:f})))}))}))}function z7(e,t){const n=re(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=t.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,m,y){const w=m.batch,T=w.keys();let S=xt.resolve();return T.forEach((D=>{S=S.next((()=>y.getEntry(p,D))).next((V=>{const F=m.docVersions.get(D);De(F!==null,48541),V.version.compareTo(F)<0&&(w.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),y.addEntry(V)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(p,w)))})(n,i,t,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=ve();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function DD(e){const t=re(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function U7(e,t){const n=re(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const f=[];t.targetChanges.forEach(((y,w)=>{const T=s.get(w);if(!T)return;f.push(n.Pi.removeMatchingKeys(a,y.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(a,y.addedDocuments,w))));let S=T.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(w)!==null?S=S.withResumeToken(Ri.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),s=s.insert(w,S),(function(V,F,j){return V.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=L7?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,S,y)&&f.push(n.Pi.updateTargetData(a,S))}));let p=Yo(),m=ve();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),f.push(B7(a,u,t.documentUpdates).next((y=>{p=y.ks,m=y.qs}))),!i.isEqual(ne.min())){const y=n.Pi.getLastRemoteSnapshotVersion(a).next((w=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));f.push(y)}return xt.waitFor(f).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,p,m))).next((()=>p))})).then((a=>(n.Ms=s,a)))}function B7(e,t,n){let i=ve(),s=ve();return n.forEach((a=>i=i.add(a))),t.getEntries(e,i).next((a=>{let u=Yo();return n.forEach(((f,p)=>{const m=a.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(f)),p.isNoDocument()&&p.version.isEqual(ne.min())?(t.removeEntry(f,p.readTime),u=u.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),u=u.insert(f,p)):Ot(ab,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)})),{ks:u,qs:s}}))}function j7(e,t){const n=re(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Z0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function F7(e,t){const n=re(e);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,t).next((a=>a?(s=a,xt.resolve(s)):n.Pi.allocateTargetId(i).next((u=>(s=new $a(t,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i}))}async function cw(e,t,n){const i=re(e),s=i.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!qc(u))throw u;Ot(ab,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function mR(e,t,n){const i=re(e);let s=ne.min(),a=ve();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,m,y){const w=re(p),T=w.xs.get(y);return T!==void 0?xt.resolve(w.Ms.get(T)):w.Pi.getTargetData(m,y)})(i,u,oo(t)).next((f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{a=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,t,n?s:ne.min(),n?a:ve()))).next((f=>(H7(i,Rq(t),f),{documents:f,Qs:a})))))}function H7(e,t,n){let i=e.Os.get(t)||ne.min();n.forEach(((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),e.Os.set(t,i)}class gR{constructor(){this.activeTargetIds=Mq()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class q7{constructor(){this.Mo=new gR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gR,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="ConnectivityMonitor";class _R{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ot(yR,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ot(yR,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp=null;function hw(){return zp===null?zp=(function(){return 268435456+Math.round(2147483648*Math.random())})():zp++,"0x"+zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="RestConnection",W7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z7{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Sm?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,a){const u=hw(),f=this.zo(t,n.toUriEncodedString());Ot(tv,`Sending RPC '${t}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,a);const{host:m}=new URL(f),y=ml(m);return this.Jo(t,f,p,i,y).then((w=>(Ot(tv,`Received RPC '${t}' ${u}: `,w),w)),(w=>{throw Ec(tv,`RPC '${t}' ${u} failed with error: `,w,"url: ",f,"request:",i),w}))}Ho(t,n,i,s,a,u){return this.Go(t,n,i,s,a)}jo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>t[a]=s)),i&&i.headers.forEach(((s,a)=>t[a]=s))}zo(t,n){const i=W7[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="WebChannelConnection";class $7 extends Z7{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,a){const u=hw();return new Promise(((f,p)=>{const m=new Lk;m.setWithCredentials(!0),m.listenOnce(Nk.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Yp.NO_ERROR:const w=m.getResponseJson();Ot(Li,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(w)),f(w);break;case Yp.TIMEOUT:Ot(Li,`RPC '${t}' ${u} timed out`),p(new Mt(Et.DEADLINE_EXCEEDED,"Request time out"));break;case Yp.HTTP_ERROR:const T=m.getStatus();if(Ot(Li,`RPC '${t}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S?.error;if(D&&D.status&&D.message){const V=(function(j){const Z=j.toLowerCase().replace(/_/g,"-");return Object.values(Et).indexOf(Z)>=0?Z:Et.UNKNOWN})(D.status);p(new Mt(V,D.message))}else p(new Mt(Et.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Mt(Et.UNAVAILABLE,"Connection failed."));break;default:$t(9055,{l_:t,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ot(Li,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(s);Ot(Li,`RPC '${t}' ${u} sending request:`,s),m.send(n,"POST",y,i,15)}))}T_(t,n,i){const s=hw(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=Uk(),f=zk(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=a.join("");Ot(Li,`Creating RPC '${t}' stream ${s}: ${y}`,p);const w=u.createWebChannel(y,p);this.I_(w);let T=!1,S=!1;const D=new K7({Yo:F=>{S?Ot(Li,`Not sending because RPC '${t}' stream ${s} is closed:`,F):(T||(Ot(Li,`Opening RPC '${t}' stream ${s} transport.`),w.open(),T=!0),Ot(Li,`RPC '${t}' stream ${s} sending:`,F),w.send(F))},Zo:()=>w.close()}),V=(F,j,Z)=>{F.listen(j,(q=>{try{Z(q)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return V(w,of.EventType.OPEN,(()=>{S||(Ot(Li,`RPC '${t}' stream ${s} transport opened.`),D.o_())})),V(w,of.EventType.CLOSE,(()=>{S||(S=!0,Ot(Li,`RPC '${t}' stream ${s} transport closed`),D.a_(),this.E_(w))})),V(w,of.EventType.ERROR,(F=>{S||(S=!0,Ec(Li,`RPC '${t}' stream ${s} transport errored. Name:`,F.name,"Message:",F.message),D.a_(new Mt(Et.UNAVAILABLE,"The operation could not be completed")))})),V(w,of.EventType.MESSAGE,(F=>{if(!S){const j=F.data[0];De(!!j,16349);const Z=j,q=Z?.error||Z[0]?.error;if(q){Ot(Li,`RPC '${t}' stream ${s} received error:`,q);const nt=q.status;let X=(function(I){const M=qn[I];if(M!==void 0)return vD(M)})(nt),Y=q.message;X===void 0&&(X=Et.INTERNAL,Y="Unknown error status: "+nt+" with message "+q.message),S=!0,D.a_(new Mt(X,Y)),w.close()}else Ot(Li,`RPC '${t}' stream ${s} received:`,j),D.u_(j)}})),V(f,Vk.STAT_EVENT,(F=>{F.stat===Qv.PROXY?Ot(Li,`RPC '${t}' stream ${s} detected buffering proxy`):F.stat===Qv.NOPROXY&&Ot(Li,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function ev(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(e){return new Jq(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,n,i=1e3,s=1.5,a=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Ot("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="PersistentStream";class OD{constructor(t,n,i,s,a,u,f,p){this.Mi=t,this.S_=i,this.b_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MD(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Et.RESOURCE_EXHAUSTED?($o(n.toString()),$o("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{t((()=>{const s=new Mt(Et.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Ot(vR,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Ot(vR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y7 extends OD{constructor(t,n,i,s,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,u),this.serializer=a}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=n7(this.serializer,t),i=(function(a){if(!("targetChange"in a))return ne.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ne.min():u.readTime?ao(u.readTime):ne.min()})(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=uw(this.serializer),n.addTarget=(function(a,u){let f;const p=u.target;if(f=iw(p)?{documents:s7(a,p)}:{query:o7(a,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=TD(a,u.resumeToken);const m=ow(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(ne.min())>0){f.readTime=Cm(a,u.snapshotVersion.toTimestamp());const m=ow(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,t);const i=l7(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=uw(this.serializer),n.removeTarget=t,this.q_(n)}}class X7 extends OD{constructor(t,n,i,s,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return De(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,De(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){De(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=r7(t.writeResults,t.commitTime),i=ao(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=uw(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((i=>i7(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{}class J7 extends Q7{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Mt(Et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(t,aw(n,i),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Mt(Et.UNKNOWN,a.toString())}))}Ho(t,n,i,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(t,aw(n,i),s,u,f,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Mt(Et.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tG{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($o(n),this.aa=!1):Ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou="RemoteStore";class eG{constructor(t,n,i,s,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{fu(this)&&(Ot(ou,"Restarting streams for network reachability change."),await(async function(p){const m=re(p);m.Ea.add(4),await md(m),m.Ra.set("Unknown"),m.Ea.delete(4),await pg(m)})(this))}))})),this.Ra=new tG(i,s)}}async function pg(e){if(fu(e))for(const t of e.da)await t(!0)}async function md(e){for(const t of e.da)await t(!1)}function LD(e,t){const n=re(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),hb(n)?cb(n):Wc(n).O_()&&ub(n,t))}function lb(e,t){const n=re(e),i=Wc(n);n.Ia.delete(t),i.O_()&&ND(n,t),n.Ia.size===0&&(i.O_()?i.L_():fu(n)&&n.Ra.set("Unknown"))}function ub(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ne.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wc(e).Y_(t)}function ND(e,t){e.Va.Ue(t),Wc(e).Z_(t)}function cb(e){e.Va=new $q({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Wc(e).start(),e.Ra.ua()}function hb(e){return fu(e)&&!Wc(e).x_()&&e.Ia.size>0}function fu(e){return re(e).Ea.size===0}function VD(e){e.Va=void 0}async function nG(e){e.Ra.set("Online")}async function iG(e){e.Ia.forEach(((t,n)=>{ub(e,t)}))}async function rG(e,t){VD(e),hb(e)?(e.Ra.ha(t),cb(e)):e.Ra.set("Unknown")}async function sG(e,t,n){if(e.Ra.set("Online"),t instanceof bD&&t.state===2&&t.cause)try{await(async function(s,a){const u=a.cause;for(const f of a.targetIds)s.Ia.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Ia.delete(f),s.Va.removeTarget(f))})(e,t)}catch(i){Ot(ou,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Pm(e,i)}else if(t instanceof tm?e.Va.Ze(t):t instanceof wD?e.Va.st(t):e.Va.tt(t),!n.isEqual(ne.min()))try{const i=await DD(e.localStore);n.compareTo(i)>=0&&await(function(a,u){const f=a.Va.Tt(u);return f.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=a.Ia.get(m);y&&a.Ia.set(m,y.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,m)=>{const y=a.Ia.get(p);if(!y)return;a.Ia.set(p,y.withResumeToken(Ri.EMPTY_BYTE_STRING,y.snapshotVersion)),ND(a,p);const w=new $a(y.target,p,m,y.sequenceNumber);ub(a,w)})),a.remoteSyncer.applyRemoteEvent(f)})(e,n)}catch(i){Ot(ou,"Failed to raise snapshot:",i),await Pm(e,i)}}async function Pm(e,t,n){if(!qc(t))throw t;e.Ea.add(1),await md(e),e.Ra.set("Offline"),n||(n=()=>DD(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ot(ou,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await pg(e)}))}function zD(e,t){return t().catch((n=>Pm(e,n,t)))}async function mg(e){const t=re(e),n=ul(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Z0;for(;oG(t);)try{const s=await j7(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,aG(t,s)}catch(s){await Pm(t,s)}UD(t)&&BD(t)}function oG(e){return fu(e)&&e.Ta.length<10}function aG(e,t){e.Ta.push(t);const n=ul(e);n.O_()&&n.X_&&n.ea(t.mutations)}function UD(e){return fu(e)&&!ul(e).x_()&&e.Ta.length>0}function BD(e){ul(e).start()}async function lG(e){ul(e).ra()}async function uG(e){const t=ul(e);for(const n of e.Ta)t.ea(n.mutations)}async function cG(e,t,n){const i=e.Ta.shift(),s=eb.from(i,t,n);await zD(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await mg(e)}async function hG(e,t){t&&ul(e).X_&&await(async function(i,s){if((function(u){return Wq(u)&&u!==Et.ABORTED})(s.code)){const a=i.Ta.shift();ul(i).B_(),await zD(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s))),await mg(i)}})(e,t),UD(e)&&BD(e)}async function wR(e,t){const n=re(e);n.asyncQueue.verifyOperationInProgress(),Ot(ou,"RemoteStore received new credentials");const i=fu(n);n.Ea.add(3),await md(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await pg(n)}async function fG(e,t){const n=re(e);t?(n.Ea.delete(2),await pg(n)):t||(n.Ea.add(2),await md(n),n.Ra.set("Unknown"))}function Wc(e){return e.ma||(e.ma=(function(n,i,s){const a=re(n);return a.sa(),new Y7(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(e.datastore,e.asyncQueue,{Xo:nG.bind(null,e),t_:iG.bind(null,e),r_:rG.bind(null,e),H_:sG.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),hb(e)?cb(e):e.Ra.set("Unknown")):(await e.ma.stop(),VD(e))}))),e.ma}function ul(e){return e.fa||(e.fa=(function(n,i,s){const a=re(n);return a.sa(),new X7(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:lG.bind(null,e),r_:hG.bind(null,e),ta:uG.bind(null,e),na:cG.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await mg(e)):(await e.fa.stop(),e.Ta.length>0&&(Ot(ou,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,n,i,s,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new tu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,a){const u=Date.now()+i,f=new fb(t,n,u,s,a);return f.start(i),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Mt(Et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function db(e,t){if($o("AsyncQueue",`${t}: ${e}`),qc(e))return new Mt(Et.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{static emptySet(t){return new gc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Ht.comparator(n.key,i.key):(n,i)=>Ht.comparator(n.key,i.key),this.keyedMap=af(),this.sortedSet=new gn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,i)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof gc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new gc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.ga=new gn(Ht.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):$t(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,i)=>{t.push(i)})),t}}class Cc{constructor(t,n,i,s,a,u,f,p,m){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,n,i,s,a){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Cc(t,n,gc.emptySet(n),u,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class pG{constructor(){this.queries=TR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=re(n),a=s.queries;s.queries=TR(),a.forEach(((u,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new Mt(Et.ABORTED,"Firestore shutting down"))}}function TR(){return new hu((e=>aD(e)),lg)}async function mG(e,t){const n=re(e);let i=3;const s=t.query;let a=n.queries.get(s);a?!a.ba()&&t.Da()&&(i=2):(a=new dG,i=t.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const f=db(u,`Initialization of query '${ec(t.query)}' failed`);return void t.onError(f)}n.queries.set(s,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&pb(n)}async function gG(e,t){const n=re(e),i=t.query;let s=3;const a=n.queries.get(i);if(a){const u=a.Sa.indexOf(t);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=t.Da()?0:1:!a.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function yG(e,t){const n=re(e);let i=!1;for(const s of t){const a=s.query,u=n.queries.get(a);if(u){for(const f of u.Sa)f.Fa(s)&&(i=!0);u.wa=s}}i&&pb(n)}function _G(e,t,n){const i=re(e),s=i.queries.get(t);if(s)for(const a of s.Sa)a.onError(n);i.queries.delete(t)}function pb(e){e.Ca.forEach((t=>{t.next()}))}var fw,ER;(ER=fw||(fw={})).Ma="default",ER.Cache="cache";class vG{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Cc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Cc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.key=t}}class FD{constructor(t){this.key=t}}class wG{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ve(),this.mutatedKeys=ve(),this.eu=lD(t),this.tu=new gc(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new bR,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,f=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((y,w)=>{const T=s.get(y),S=ug(this.query,w)?w:null,D=!!T&&this.mutatedKeys.has(T.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let F=!1;T&&S?T.data.isEqual(S.data)?D!==V&&(i.track({type:3,doc:S}),F=!0):this.su(T,S)||(i.track({type:2,doc:S}),F=!0,(p&&this.eu(S,p)>0||m&&this.eu(S,m)<0)&&(f=!0)):!T&&S?(i.track({type:0,doc:S}),F=!0):T&&!S&&(i.track({type:1,doc:T}),F=!0,(p||m)&&(f=!0)),F&&(S?(u=u.add(S),a=V?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:f,mutatedKeys:a}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,w)=>(function(S,D){const V=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t(20277,{Rt:F})}};return V(S)-V(D)})(y.type,w.type)||this.eu(y.doc,w.doc))),this.ou(i),s=s??!1;const f=n&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,m=p!==this.Za;return this.Za=p,u.length!==0||m?{snapshot:new Cc(this.query,t.tu,a,u,t.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ve(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return t.forEach((i=>{this.Xa.has(i)||n.push(new FD(i))})),this.Xa.forEach((i=>{t.has(i)||n.push(new jD(i))})),n}cu(t){this.Ya=t.Qs,this.Xa=ve();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Cc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mb="SyncEngine";class bG{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class TG{constructor(t){this.key=t,this.hu=!1}}class EG{constructor(t,n,i,s,a,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new hu((f=>aD(f)),lg),this.Iu=new Map,this.Eu=new Set,this.du=new gn(Ht.comparator),this.Au=new Map,this.Ru=new rb,this.Vu={},this.mu=new Map,this.fu=Rc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SG(e,t,n=!0){const i=KD(e);let s;const a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await HD(i,t,n,!0),s}async function xG(e,t){const n=KD(e);await HD(n,t,!0,!1)}async function HD(e,t,n,i){const s=await F7(e.localStore,oo(t)),a=s.targetId,u=e.sharedClientState.addLocalQueryTarget(a,n);let f;return i&&(f=await AG(e,t,a,u==="current",s.resumeToken)),e.isPrimaryClient&&n&&LD(e.remoteStore,s),f}async function AG(e,t,n,i,s){e.pu=(w,T,S)=>(async function(V,F,j,Z){let q=F.view.ru(j);q.Cs&&(q=await mR(V.localStore,F.query,!1).then((({documents:H})=>F.view.ru(H,q))));const nt=Z&&Z.targetChanges.get(F.targetId),X=Z&&Z.targetMismatches.get(F.targetId)!=null,Y=F.view.applyChanges(q,V.isPrimaryClient,nt,X);return xR(V,F.targetId,Y.au),Y.snapshot})(e,w,T,S);const a=await mR(e.localStore,t,!0),u=new wG(t,a.Qs),f=u.ru(a.documents),p=pd.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),m=u.applyChanges(f,e.isPrimaryClient,p);xR(e,n,m.au);const y=new bG(t,n,u);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),m.snapshot}async function RG(e,t,n){const i=re(e),s=i.Tu.get(t),a=i.Iu.get(s.targetId);if(a.length>1)return i.Iu.set(s.targetId,a.filter((u=>!lg(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await cw(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&lb(i.remoteStore,s.targetId),dw(i,s.targetId)})).catch(Hc)):(dw(i,s.targetId),await cw(i.localStore,s.targetId,!0))}async function CG(e,t){const n=re(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),lb(n.remoteStore,i.targetId))}async function IG(e,t,n){const i=NG(e);try{const s=await(function(u,f){const p=re(u),m=qe.now(),y=f.reduce(((S,D)=>S.add(D.key)),ve());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let D=Yo(),V=ve();return p.Ns.getEntries(S,y).next((F=>{D=F,D.forEach(((j,Z)=>{Z.isValidDocument()||(V=V.add(j))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,D))).next((F=>{w=F;const j=[];for(const Z of f){const q=jq(Z,w.get(Z.key).overlayedDocument);q!=null&&j.push(new yl(Z.key,q,Jk(q.value.mapValue),Is.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,j,f)})).next((F=>{T=F;const j=F.applyToLocalDocumentSet(w,V);return p.documentOverlayCache.saveOverlays(S,F.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:cD(w)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),(function(u,f,p){let m=u.Vu[u.currentUser.toKey()];m||(m=new gn(_e)),m=m.insert(f,p),u.Vu[u.currentUser.toKey()]=m})(i,s.batchId,n),await gd(i,s.changes),await mg(i.remoteStore)}catch(s){const a=db(s,"Failed to persist write");n.reject(a)}}async function qD(e,t){const n=re(e);try{const i=await U7(n.localStore,t);t.targetChanges.forEach(((s,a)=>{const u=n.Au.get(a);u&&(De(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?De(u.hu,14607):s.removedDocuments.size>0&&(De(u.hu,42227),u.hu=!1))})),await gd(n,i,t)}catch(i){await Hc(i)}}function SR(e,t,n){const i=re(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((a,u)=>{const f=u.view.va(t);f.snapshot&&s.push(f.snapshot)})),(function(u,f){const p=re(u);p.onlineState=f;let m=!1;p.queries.forEach(((y,w)=>{for(const T of w.Sa)T.va(f)&&(m=!0)})),m&&pb(p)})(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function PG(e,t,n){const i=re(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),a=s&&s.key;if(a){let u=new gn(Ht.comparator);u=u.insert(a,Vi.newNoDocument(a,ne.min()));const f=ve().add(a),p=new fg(ne.min(),new Map,new gn(_e),u,f);await qD(i,p),i.du=i.du.remove(a),i.Au.delete(t),gb(i)}else await cw(i.localStore,t,!1).then((()=>dw(i,t,n))).catch(Hc)}async function kG(e,t){const n=re(e),i=t.batch.batchId;try{const s=await z7(n.localStore,t);WD(n,i,null),GD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await gd(n,s)}catch(s){await Hc(s)}}async function DG(e,t,n){const i=re(e);try{const s=await(function(u,f){const p=re(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next((w=>(De(w!==null,37113),y=w.keys(),p.mutationQueue.removeMutationBatch(m,w)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(i.localStore,t);WD(i,t,n),GD(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await gd(i,s)}catch(s){await Hc(s)}}function GD(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function WD(e,t,n){const i=re(e);let s=i.Vu[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(n?a.reject(n):a.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function dw(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((i=>{e.Ru.containsKey(i)||ZD(e,i)}))}function ZD(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(lb(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),gb(e))}function xR(e,t,n){for(const i of n)i instanceof jD?(e.Ru.addReference(i.key,t),MG(e,i)):i instanceof FD?(Ot(mb,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||ZD(e,i.key)):$t(19791,{wu:i})}function MG(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(Ot(mb,"New document in limbo: "+n),e.Eu.add(i),gb(e))}function gb(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ht(Qe.fromString(t)),i=e.fu.next();e.Au.set(i,new TG(n)),e.du=e.du.insert(n,i),LD(e.remoteStore,new $a(oo(Q0(n.path)),i,"TargetPurposeLimboResolution",sg.ce))}}async function gd(e,t,n){const i=re(e),s=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{u.push(i.pu(p,t,n).then((m=>{if((m||n)&&i.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){s.push(m);const y=ob.As(p.targetId,m);a.push(y)}})))})),await Promise.all(u),i.Pu.H_(s),await(async function(p,m){const y=re(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>xt.forEach(m,(T=>xt.forEach(T.Es,(S=>y.persistence.referenceDelegate.addReference(w,T.targetId,S))).next((()=>xt.forEach(T.ds,(S=>y.persistence.referenceDelegate.removeReference(w,T.targetId,S)))))))))}catch(w){if(!qc(w))throw w;Ot(ab,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const S=y.Ms.get(T),D=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(T,V)}}})(i.localStore,a))}async function OG(e,t){const n=re(e);if(!n.currentUser.isEqual(t)){Ot(mb,"User change. New user:",t.toKey());const i=await kD(n.localStore,t);n.currentUser=t,(function(a,u){a.mu.forEach((f=>{f.forEach((p=>{p.reject(new Mt(Et.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await gd(n,i.Ls)}}function LG(e,t){const n=re(e),i=n.Au.get(t);if(i&&i.hu)return ve().add(i.key);{let s=ve();const a=n.Iu.get(t);if(!a)return s;for(const u of a){const f=n.Tu.get(u);s=s.unionWith(f.view.nu)}return s}}function KD(e){const t=re(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LG.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PG.bind(null,t),t.Pu.H_=yG.bind(null,t.eventManager),t.Pu.yu=_G.bind(null,t.eventManager),t}function NG(e){const t=re(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kG.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DG.bind(null,t),t}class km{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dg(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return V7(this.persistence,new O7,t.initialUser,this.serializer)}Cu(t){return new PD(sb.mi,this.serializer)}Du(t){return new q7}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}km.provider={build:()=>new km};class VG extends km{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){De(this.persistence.referenceDelegate instanceof Im,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new v7(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new PD((i=>Im.mi(i,n)),this.serializer)}}class pw{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>SR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=OG.bind(null,this.syncEngine),await fG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pG})()}createDatastore(t){const n=dg(t.databaseInfo.databaseId),i=(function(a){return new $7(a)})(t.databaseInfo);return(function(a,u,f,p){return new J7(a,u,f,p)})(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return(function(i,s,a,u,f){return new eG(i,s,a,u,f)})(this.localStore,this.datastore,t.asyncQueue,(n=>SR(this.syncEngine,n,0)),(function(){return _R.v()?new _R:new G7})())}createSyncEngine(t,n){return(function(s,a,u,f,p,m,y){const w=new EG(s,a,u,f,p,m);return y&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=re(n);Ot(ou,"RemoteStore shutting down."),i.Ea.add(5),await md(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pw.provider={build:()=>new pw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$o("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="FirestoreClient";class UG{constructor(t,n,i,s,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Ni.UNAUTHENTICATED,this.clientId=W0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{Ot(cl,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Ot(cl,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=db(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function nv(e,t){e.asyncQueue.verifyOperationInProgress(),Ot(cl,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async s=>{i.isEqual(s)||(await kD(t.localStore,s),i=s)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function AR(e,t){e.asyncQueue.verifyOperationInProgress();const n=await BG(e);Ot(cl,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((i=>wR(t.remoteStore,i))),e.setAppCheckTokenChangeListener(((i,s)=>wR(t.remoteStore,s))),e._onlineComponents=t}async function BG(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ot(cl,"Using user provided OfflineComponentProvider");try{await nv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===Et.FAILED_PRECONDITION||s.code===Et.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Ec("Error using user provided cache. Falling back to memory cache: "+n),await nv(e,new km)}}else Ot(cl,"Using default OfflineComponentProvider"),await nv(e,new VG(void 0));return e._offlineComponents}async function $D(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ot(cl,"Using user provided OnlineComponentProvider"),await AR(e,e._uninitializedComponentsProvider._online)):(Ot(cl,"Using default OnlineComponentProvider"),await AR(e,new pw))),e._onlineComponents}function jG(e){return $D(e).then((t=>t.syncEngine))}async function RR(e){const t=await $D(e),n=t.eventManager;return n.onListen=SG.bind(null,t.syncEngine),n.onUnlisten=RG.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=xG.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=CG.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="firestore.googleapis.com",IR=!0;class PR{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Mt(Et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XD,this.ssl=IR}else this.host=t.host,this.ssl=t.ssl??IR;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ID;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<y7)throw new Mt(Et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YD(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Mt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Mt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Mt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gg{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Mt(Et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Mt(Et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PR(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new q8;switch(i.type){case"firstParty":return new K8(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Mt(Et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=CR.get(n);i&&(Ot("ComponentProvider","Removing Datastore"),CR.delete(n),i.terminate())})(this),Promise.resolve()}}function FG(e,t,n,i={}){e=Ja(e,gg);const s=ml(t),a=e._getSettings(),u={...a,emulatorOptions:e._getEmulatorOptions()},f=`${t}:${n}`;s&&(B0(`https://${f}`),j0("Firestore",!0)),a.host!==XD&&a.host!==f&&Ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:f,ssl:s,emulatorOptions:i};if(!iu(p,u)&&(e._setSettings(p),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=Ni.MOCK_USER;else{m=Ck(i.mockUserToken,e._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Mt(Et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ni(w)}e._authCredentials=new G8(new jk(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new du(this.firestore,t,this._query)}}class $n{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $n(this.firestore,t,this._key)}toJSON(){return{type:$n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(fd(n,$n._jsonSchema))return new $n(t,i||null,new Ht(Qe.fromString(n.referencePath)))}}$n._jsonSchemaVersion="firestore/documentReference/1.0",$n._jsonSchema={type:Kn("string",$n._jsonSchemaVersion),referencePath:Kn("string")};class tl extends du{constructor(t,n,i){super(t,n,Q0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $n(this.firestore,null,new Ht(t))}withConverter(t){return new tl(this.firestore,t,this._path)}}function QD(e,t,...n){if(e=cn(e),Fk("collection","path",t),e instanceof gg){const i=Qe.fromString(t,...n);return FA(i),new tl(e,null,i)}{if(!(e instanceof $n||e instanceof tl))throw new Mt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Qe.fromString(t,...n));return FA(i),new tl(e.firestore,null,i)}}function yb(e,t,...n){if(e=cn(e),arguments.length===1&&(t=W0.newId()),Fk("doc","path",t),e instanceof gg){const i=Qe.fromString(t,...n);return jA(i),new $n(e,null,new Ht(i))}{if(!(e instanceof $n||e instanceof tl))throw new Mt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Qe.fromString(t,...n));return jA(i),new $n(e.firestore,e instanceof tl?e.converter:null,new Ht(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="AsyncQueue";class DR{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MD(this,"async_queue_retry"),this._c=()=>{const i=ev();i&&Ot(kR,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=ev();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ev();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new tu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!qc(t))throw t;Ot(kR,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,$o("INTERNAL UNHANDLED ERROR: ",MR(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=fb.createAndSchedule(this,t,n,i,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&$t(47125,{Pc:MR(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function MR(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(e){return(function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1})(e,["next","error","complete"])}class Ic extends gg{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new DR,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new DR(t),this._firestoreClient=void 0,await t}}}function HG(e,t){const n=typeof e=="object"?e:q0(),i=typeof e=="string"?e:Sm,s=ig(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=xk("firestore");a&&FG(s,...a)}return s}function JD(e){if(e._terminated)throw new Mt(Et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||qG(e),e._firestoreClient}function qG(e){const t=e._freezeSettings(),n=(function(s,a,u,f){return new hq(s,a,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,YD(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new UG(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t){this._byteString=t}static fromBase64String(t){try{return new us(Ri.fromBase64String(t))}catch(n){throw new Mt(Et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new us(Ri.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fd(t,us._jsonSchema))return us.fromBase64String(t.bytes)}}us._jsonSchemaVersion="firestore/bytes/1.0",us._jsonSchema={type:Kn("string",us._jsonSchemaVersion),bytes:Kn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Mt(Et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Mt(Et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Mt(Et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return _e(this._lat,t._lat)||_e(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lo._jsonSchemaVersion}}static fromJSON(t){if(fd(t,lo._jsonSchema))return new lo(t.latitude,t.longitude)}}lo._jsonSchemaVersion="firestore/geoPoint/1.0",lo._jsonSchema={type:Kn("string",lo._jsonSchemaVersion),latitude:Kn("number"),longitude:Kn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0})(this._values,t._values)}toJSON(){return{type:uo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fd(t,uo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new uo(t.vectorValues);throw new Mt(Et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uo._jsonSchemaVersion="firestore/vectorValue/1.0",uo._jsonSchema={type:Kn("string",uo._jsonSchemaVersion),vectorValues:Kn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=/^__.*__$/;class WG{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new yl(t,this.data,this.fieldMask,n,this.fieldTransforms):new dd(t,this.data,n,this.fieldTransforms)}}class tM{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new yl(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function eM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t(40011,{Ac:e})}}class _b{constructor(t,n,i,s,a,u){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new _b({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Dm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(eM(this.Ac)&&GG.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZG{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||dg(t)}Cc(t,n,i,s=!1){return new _b({Ac:t,methodName:n,Dc:i,path:Ai.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vb(e){const t=e._freezeSettings(),n=dg(e._databaseId);return new ZG(e._databaseId,!!t.ignoreUndefinedProperties,n)}function KG(e,t,n,i,s,a={}){const u=e.Cc(a.merge||a.mergeFields?2:0,t,n,s);bb("Data must be an object, but it was:",u,i);const f=nM(i,u);let p,m;if(a.merge)p=new Ur(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const T=mw(t,w,n);if(!u.contains(T))throw new Mt(Et.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);rM(y,T)||y.push(T)}p=new Ur(y),m=u.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,m=u.fieldTransforms;return new WG(new cr(f),p,m)}class vg extends _g{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof vg}}class wb extends _g{_toFieldTransform(t){return new Vq(t.path,new Zf)}isEqual(t){return t instanceof wb}}function $G(e,t,n,i){const s=e.Cc(1,t,n);bb("Data must be an object, but it was:",s,i);const a=[],u=cr.empty();gl(i,((p,m)=>{const y=Tb(t,p,n);m=cn(m);const w=s.yc(y);if(m instanceof vg)a.push(y);else{const T=yd(m,w);T!=null&&(a.push(y),u.set(y,T))}}));const f=new Ur(a);return new tM(u,f,s.fieldTransforms)}function YG(e,t,n,i,s,a){const u=e.Cc(1,t,n),f=[mw(t,i,n)],p=[s];if(a.length%2!=0)throw new Mt(Et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)f.push(mw(t,a[T])),p.push(a[T+1]);const m=[],y=cr.empty();for(let T=f.length-1;T>=0;--T)if(!rM(m,f[T])){const S=f[T];let D=p[T];D=cn(D);const V=u.yc(S);if(D instanceof vg)m.push(S);else{const F=yd(D,V);F!=null&&(m.push(S),y.set(S,F))}}const w=new Ur(m);return new tM(y,w,u.fieldTransforms)}function XG(e,t,n,i=!1){return yd(n,e.Cc(i?4:3,t))}function yd(e,t){if(iM(e=cn(e)))return bb("Unsupported field value:",t,e),nM(e,t);if(e instanceof _g)return(function(i,s){if(!eM(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,s){const a=[];let u=0;for(const f of i){let p=yd(f,s.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}})(e,t)}return(function(i,s){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Oq(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=qe.fromDate(i);return{timestampValue:Cm(s.serializer,a)}}if(i instanceof qe){const a=new qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cm(s.serializer,a)}}if(i instanceof lo)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof us)return{bytesValue:TD(s.serializer,i._byteString)};if(i instanceof $n){const a=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ib(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof uo)return(function(u,f){return{mapValue:{fields:{[Xk]:{stringValue:Qk},[xm]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return J0(f.serializer,m)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${rg(i)}`)})(e,t)}function nM(e,t){const n={};return Gk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gl(e,((i,s)=>{const a=yd(s,t.mc(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function iM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qe||e instanceof lo||e instanceof us||e instanceof $n||e instanceof _g||e instanceof uo)}function bb(e,t,n){if(!iM(n)||!Hk(n)){const i=rg(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function mw(e,t,n){if((t=cn(t))instanceof yg)return t._internalPath;if(typeof t=="string")return Tb(e,t);throw Dm("Field path arguments must be of type string or ",e,!1,void 0,n)}const QG=new RegExp("[~\\*/\\[\\]]");function Tb(e,t,n){if(t.search(QG)>=0)throw Dm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yg(...t.split("."))._internalPath}catch{throw Dm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Dm(e,t,n,i,s){const a=i&&!i.isEmpty(),u=s!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${i}`),u&&(p+=` in document ${s}`),p+=")"),new Mt(Et.INVALID_ARGUMENT,f+e+p)}function rM(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t,n,i,s,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Eb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JG extends sM{data(){return super.data()}}function Eb(e,t){return typeof t=="string"?Tb(e,t):t instanceof yg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Mt(Et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sb{}class oM extends Sb{}function eW(e,t,...n){let i=[];t instanceof Sb&&i.push(t),i=i.concat(n),(function(a){const u=a.filter((p=>p instanceof Ab)).length,f=a.filter((p=>p instanceof xb)).length;if(u>1||u>0&&f>0)throw new Mt(Et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)e=s._apply(e);return e}class xb extends oM{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new xb(t,n,i)}_apply(t){const n=this._parse(t);return aM(t._query,n),new du(t.firestore,t.converter,rw(t._query,n))}_parse(t){const n=vb(t.firestore);return(function(a,u,f,p,m,y,w){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Mt(Et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){NR(w,y);const D=[];for(const V of w)D.push(LR(p,a,V));T={arrayValue:{values:D}}}else T=LR(p,a,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||NR(w,y),T=XG(f,u,w,y==="in"||y==="not-in");return Zn.create(m,y,T)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Ab extends Sb{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ab(t,n)}_parse(t){const n=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ds.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(s,a){let u=s;const f=a.getFlattenedFilters();for(const p of f)aM(u,p),u=rw(u,p)})(t._query,n),new du(t.firestore,t.converter,rw(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rb extends oM{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Rb(t,n)}_apply(t){const n=(function(s,a,u){if(s.startAt!==null)throw new Mt(Et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Mt(Et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wf(a,u)})(t._query,this._field,this._direction);return new du(t.firestore,t.converter,(function(s,a){const u=s.explicitOrderBy.concat([a]);return new Gc(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,n))}}function nW(e,t="asc"){const n=t,i=Eb("orderBy",e);return Rb._create(i,n)}function LR(e,t,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new Mt(Et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oD(t)&&n.indexOf("/")!==-1)throw new Mt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Qe.fromString(n));if(!Ht.isDocumentKey(i))throw new Mt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return YA(e,new Ht(i))}if(n instanceof $n)return YA(e,n._key);throw new Mt(Et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rg(n)}.`)}function NR(e,t){if(!Array.isArray(e)||e.length===0)throw new Mt(Et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aM(e,t){const n=(function(s,a){for(const u of s)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null})(e.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Mt(Et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Mt(Et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class iW{convertValue(t,n="none"){switch(ll(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ln(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(al(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw $t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return gl(t,((s,a)=>{i[s]=this.convertValue(a,n)})),i}convertVectorValue(t){const n=t.fields?.[xm].arrayValue?.values?.map((i=>Ln(i.doubleValue)));return new uo(n)}convertGeoPoint(t){return new lo(Ln(t.latitude),Ln(t.longitude))}convertArray(t,n){return(t.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const i=ag(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Hf(t));default:return null}}convertTimestamp(t){const n=ol(t);return new qe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Qe.fromString(t);De(CD(i),9688,{name:t});const s=new qf(i.get(1),i.get(3)),a=new Ht(i.popFirst(5));return s.isEqual(n)||$o(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class uf{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class eu extends sM{constructor(t,n,i,s,a,u){super(t,n,i,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Eb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Mt(Et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=eu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eu._jsonSchemaVersion="firestore/documentSnapshot/1.0",eu._jsonSchema={type:Kn("string",eu._jsonSchemaVersion),bundleSource:Kn("string","DocumentSnapshot"),bundleName:Kn("string"),bundle:Kn("string")};class em extends eu{data(t={}){return super.data(t)}}class yc{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new uf(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new em(this._firestore,this._userDataWriter,i.key,i,new uf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Mt(Et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((f=>{const p=new em(s._firestore,s._userDataWriter,f.doc.key,f.doc,new uf(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const p=new em(s._firestore,s._userDataWriter,f.doc.key,f.doc,new uf(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:sW(f.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Mt(Et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=yc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=W0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function sW(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t(61501,{type:e})}}yc._jsonSchemaVersion="firestore/querySnapshot/1.0",yc._jsonSchema={type:Kn("string",yc._jsonSchemaVersion),bundleSource:Kn("string","QuerySnapshot"),bundleName:Kn("string"),bundle:Kn("string")};class lM extends iW{constructor(t){super(),this.firestore=t}convertBytes(t){return new us(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function oW(e,t,n,...i){e=Ja(e,$n);const s=Ja(e.firestore,Ic),a=vb(s);let u;return u=typeof(t=cn(t))=="string"||t instanceof yg?YG(a,"updateDoc",e._key,t,n,i):$G(a,"updateDoc",e._key,t),Cb(s,[u.toMutation(e._key,Is.exists(!0))])}function aW(e){return Cb(Ja(e.firestore,Ic),[new tb(e._key,Is.none())])}function lW(e,t){const n=Ja(e.firestore,Ic),i=yb(e),s=rW(e.converter,t);return Cb(n,[KG(vb(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,Is.exists(!1))]).then((()=>i))}function uW(e,...t){e=cn(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||OR(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(OR(t[i])){const p=t[i];t[i]=p.next?.bind(p),t[i+1]=p.error?.bind(p),t[i+2]=p.complete?.bind(p)}let a,u,f;if(e instanceof $n)u=Ja(e.firestore,Ic),f=Q0(e._key.path),a={next:p=>{t[i]&&t[i](cW(u,e,p))},error:t[i+1],complete:t[i+2]};else{const p=Ja(e,du);u=Ja(p.firestore,Ic),f=p._query;const m=new lM(u);a={next:y=>{t[i]&&t[i](new yc(u,m,p,y))},error:t[i+1],complete:t[i+2]},tW(e._query)}return(function(m,y,w,T){const S=new zG(T),D=new vG(y,S,w);return m.asyncQueue.enqueueAndForget((async()=>mG(await RR(m),D))),()=>{S.Nu(),m.asyncQueue.enqueueAndForget((async()=>gG(await RR(m),D)))}})(JD(u),f,s,a)}function Cb(e,t){return(function(i,s){const a=new tu;return i.asyncQueue.enqueueAndForget((async()=>IG(await jG(i),s,a))),a.promise})(JD(e),t)}function cW(e,t,n){const i=n.docs.get(t._key),s=new lM(e);return new eu(e,s,t._key,i,new uf(n.hasPendingWrites,n.fromCache),t.converter)}function hW(){return new wb("serverTimestamp")}(function(t,n=!0){(function(s){Fc=s})(cu),ru(new rl("firestore",((i,{instanceIdentifier:s,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new Ic(new W8(i.getProvider("auth-internal")),new $8(u,i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Mt(Et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qf(m.options.projectId,y)})(u,s),u);return a={useFetchStreams:n,...a},f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),so(VA,zA,t),so(VA,zA,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="firebasestorage.googleapis.com",cM="storageBucket",fW=120*1e3,dW=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An extends yo{constructor(t,n,i=0){super(iv(t),`Firebase Storage: ${n} (${iv(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,An.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return iv(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xn||(xn={}));function iv(e){return"storage/"+e}function Ib(){const e="An unknown error occurred, please check the error payload for server response.";return new An(xn.UNKNOWN,e)}function pW(e){return new An(xn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function mW(e){return new An(xn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gW(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new An(xn.UNAUTHENTICATED,e)}function yW(){return new An(xn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _W(e){return new An(xn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function vW(){return new An(xn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wW(){return new An(xn.CANCELED,"User canceled the upload/download.")}function bW(e){return new An(xn.INVALID_URL,"Invalid URL '"+e+"'.")}function TW(e){return new An(xn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function EW(){return new An(xn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cM+"' property when initializing the app?")}function SW(){return new An(xn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xW(){return new An(xn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AW(e){return new An(xn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gw(e){return new An(xn.INVALID_ARGUMENT,e)}function hM(){return new An(xn.APP_DELETED,"The Firebase app was deleted.")}function RW(e){return new An(xn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rf(e,t){return new An(xn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Qh(e){throw new An(xn.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Br.makeFromUrl(t,n)}catch{return new Br(t,"")}if(i.path==="")return i;throw TW(t)}static makeFromUrl(t,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a(nt){nt.path.charAt(nt.path.length-1)==="/"&&(nt.path_=nt.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+s+u,"i"),p={bucket:1,path:3};function m(nt){nt.path_=decodeURIComponent(nt.path)}const y="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",S=new RegExp(`^https?://${w}/${y}/b/${s}/o${T}`,"i"),D={bucket:1,path:3},V=n===uM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",j=new RegExp(`^https?://${V}/${s}/${F}`,"i"),q=[{regex:f,indices:p,postModify:a},{regex:S,indices:D,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let nt=0;nt<q.length;nt++){const X=q[nt],Y=X.regex.exec(t);if(Y){const H=Y[X.indices.bucket];let I=Y[X.indices.path];I||(I=""),i=new Br(H,I),X.postModify(i);break}}if(i==null)throw bW(t);return i}}class CW{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(e,t,n){let i=1,s=null,a=null,u=!1,f=0;function p(){return f===2}let m=!1;function y(...F){m||(m=!0,t.apply(null,F))}function w(F){s=setTimeout(()=>{s=null,e(S,p())},F)}function T(){a&&clearTimeout(a)}function S(F,...j){if(m){T();return}if(F){T(),y.call(null,F,...j);return}if(p()||u){T(),y.call(null,F,...j);return}i<64&&(i*=2);let q;f===1?(f=2,q=0):q=(i+Math.random())*1e3,w(q)}let D=!1;function V(F){D||(D=!0,T(),!m&&(s!==null?(F||(f=2),clearTimeout(s),w(0)):F||(f=1)))}return w(0),a=setTimeout(()=>{u=!0,V(!0)},n),V}function PW(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(e){return e!==void 0}function DW(e){return typeof e=="object"&&!Array.isArray(e)}function Pb(e){return typeof e=="string"||e instanceof String}function VR(e){return kb()&&e instanceof Blob}function kb(){return typeof Blob<"u"}function zR(e,t,n,i){if(i<t)throw gw(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw gw(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function fM(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const s=t(i)+"="+t(e[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var nu;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(nu||(nu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(t,n,i,s,a,u,f,p,m,y,w,T=!0,S=!1){this.url_=t,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,V)=>{this.resolve_=D,this.reject_=V,this.start_()})}start_(){const t=(i,s)=>{if(s){i(!1,new Up(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===nu.NO_ERROR,p=a.getStatus();if(!f||MW(p,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===nu.ABORT;i(!1,new Up(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new Up(m,a))})},n=(i,s)=>{const a=this.resolve_,u=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());kW(p)?a(p):a()}catch(p){u(p)}else if(f!==null){const p=Ib();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(s.canceled){const p=this.appDelete_?hM():wW();u(p)}else{const p=vW();u(p)}};this.canceled_?n(!1,new Up(!1,null,!0)):this.backoffId_=IW(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&PW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Up{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function LW(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function NW(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function VW(e,t){t&&(e["X-Firebase-GMPID"]=t)}function zW(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function UW(e,t,n,i,s,a,u=!0,f=!1){const p=fM(e.urlParams),m=e.url+p,y=Object.assign({},e.headers);return VW(y,t),LW(y,n),NW(y,a),zW(y,i),new OW(m,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jW(...e){const t=BW();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(kb())return new Blob(e);throw new An(xn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function FW(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(e){if(typeof atob>"u")throw AW("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rv{constructor(t,n){this.data=t,this.contentType=n||null}}function qW(e,t){switch(e){case eo.RAW:return new rv(dM(t));case eo.BASE64:case eo.BASE64URL:return new rv(pM(e,t));case eo.DATA_URL:return new rv(WW(t),ZW(t))}throw Ib()}function dM(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const a=i,u=e.charCodeAt(++n);i=65536|(a&1023)<<10|u&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function GW(e){let t;try{t=decodeURIComponent(e)}catch{throw Rf(eo.DATA_URL,"Malformed data URL.")}return dM(t)}function pM(e,t){switch(e){case eo.BASE64:{const s=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(s||a)throw Rf(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case eo.BASE64URL:{const s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a)throw Rf(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=HW(t)}catch(s){throw s.message.includes("polyfill")?s:Rf(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class mM{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Rf(eo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=KW(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function WW(e){const t=new mM(e);return t.base64?pM(eo.BASE64,t.rest):GW(t.rest)}function ZW(e){return new mM(e).contentType}function KW(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,n){let i=0,s="";VR(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(VR(this.data_)){const i=this.data_,s=FW(i,t,n);return s===null?null:new qa(s)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new qa(i,!0)}}static getBlob(...t){if(kb()){const n=t.map(i=>i instanceof qa?i.data_:i);return new qa(jW.apply(null,n))}else{const n=t.map(u=>Pb(u)?qW(eo.RAW,u).data:u.data_);let i=0;n.forEach(u=>{i+=u.byteLength});const s=new Uint8Array(i);let a=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)s[a++]=u[f]}),new qa(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(e){let t;try{t=JSON.parse(e)}catch{return null}return DW(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function YW(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function yM(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(e,t){return t}class $i{constructor(t,n,i,s){this.server=t,this.local=n||t,this.writable=!!i,this.xform=s||XW}}let Bp=null;function QW(e){return!Pb(e)||e.length<2?e:yM(e)}function _M(){if(Bp)return Bp;const e=[];e.push(new $i("bucket")),e.push(new $i("generation")),e.push(new $i("metageneration")),e.push(new $i("name","fullPath",!0));function t(a,u){return QW(u)}const n=new $i("name");n.xform=t,e.push(n);function i(a,u){return u!==void 0?Number(u):u}const s=new $i("size");return s.xform=i,e.push(s),e.push(new $i("timeCreated")),e.push(new $i("updated")),e.push(new $i("md5Hash",null,!0)),e.push(new $i("cacheControl",null,!0)),e.push(new $i("contentDisposition",null,!0)),e.push(new $i("contentEncoding",null,!0)),e.push(new $i("contentLanguage",null,!0)),e.push(new $i("contentType",null,!0)),e.push(new $i("metadata","customMetadata",!0)),Bp=e,Bp}function JW(e,t){function n(){const i=e.bucket,s=e.fullPath,a=new Br(i,s);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:n})}function tZ(e,t,n){const i={};i.type="file";const s=n.length;for(let a=0;a<s;a++){const u=n[a];i[u.local]=u.xform(i,t[u.server])}return JW(i,e),i}function vM(e,t,n){const i=gM(t);return i===null?null:tZ(e,i,n)}function eZ(e,t,n,i){const s=gM(t);if(s===null||!Pb(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const y=e.bucket,w=e.fullPath,T="/b/"+u(y)+"/o/"+u(w),S=wg(T,n,i),D=fM({alt:"media",token:m});return S+D})[0]}function nZ(e,t){const n={},i=t.length;for(let s=0;s<i;s++){const a=t[s];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}class Db{constructor(t,n,i,s){this.url=t,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(e){if(!e)throw Ib()}function iZ(e,t){function n(i,s){const a=vM(e,s,t);return wM(a!==null),a}return n}function rZ(e,t){function n(i,s){const a=vM(e,s,t);return wM(a!==null),eZ(a,s,e.host,e._protocol)}return n}function bM(e){function t(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=yW():s=gW():n.getStatus()===402?s=mW(e.bucket):n.getStatus()===403?s=_W(e.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return t}function TM(e){const t=bM(e);function n(i,s){let a=t(i,s);return i.getStatus()===404&&(a=pW(e.path)),a.serverResponse=s.serverResponse,a}return n}function sZ(e,t,n){const i=t.fullServerUrl(),s=wg(i,e.host,e._protocol),a="GET",u=e.maxOperationRetryTime,f=new Db(s,a,rZ(e,n),u);return f.errorHandler=TM(t),f}function oZ(e,t){const n=t.fullServerUrl(),i=wg(n,e.host,e._protocol),s="DELETE",a=e.maxOperationRetryTime;function u(p,m){}const f=new Db(i,s,u,a);return f.successCodes=[200,204],f.errorHandler=TM(t),f}function aZ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function lZ(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=aZ(null,t)),i}function uZ(e,t,n,i,s){const a=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let q="";for(let nt=0;nt<2;nt++)q=q+Math.random().toString().slice(2);return q}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const m=lZ(t,i,s),y=nZ(m,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,T=`\r
--`+p+"--",S=qa.getBlob(w,i,T);if(S===null)throw SW();const D={name:m.fullPath},V=wg(a,e.host,e._protocol),F="POST",j=e.maxUploadRetryTime,Z=new Db(V,F,iZ(e,n),j);return Z.urlParams=D,Z.headers=u,Z.body=S.uploadData(),Z.errorHandler=bM(t),Z}class cZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nu.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nu.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nu.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,s,a){if(this.sent_)throw Qh("cannot .send() more than once");if(ml(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class hZ extends cZ{initXhr(){this.xhr_.responseType="text"}}function Mb(){return new hZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,n){this._service=t,n instanceof Br?this._location=n:this._location=Br.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new au(t,n)}get root(){const t=new Br(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yM(this._location.path)}get storage(){return this._service}get parent(){const t=$W(this._location.path);if(t===null)return null;const n=new Br(this._location.bucket,t);return new au(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw RW(t)}}function fZ(e,t,n){e._throwIfRoot("uploadBytes");const i=uZ(e.storage,e._location,_M(),new qa(t,!0),n);return e.storage.makeRequestWithTokens(i,Mb).then(s=>({metadata:s,ref:e}))}function dZ(e){e._throwIfRoot("getDownloadURL");const t=sZ(e.storage,e._location,_M());return e.storage.makeRequestWithTokens(t,Mb).then(n=>{if(n===null)throw xW();return n})}function pZ(e){e._throwIfRoot("deleteObject");const t=oZ(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Mb)}function mZ(e,t){const n=YW(e._location.path,t),i=new Br(e._location.bucket,n);return new au(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gZ(e){return/^[A-Za-z]+:\/\//.test(e)}function yZ(e,t){return new au(e,t)}function EM(e,t){if(e instanceof Ob){const n=e;if(n._bucket==null)throw EW();const i=new au(n,n._bucket);return t!=null?EM(i,t):i}else return t!==void 0?mZ(e,t):e}function _Z(e,t){if(t&&gZ(t)){if(e instanceof Ob)return yZ(e,t);throw gw("To use ref(service, url), the first argument must be a Storage instance.")}else return EM(e,t)}function UR(e,t){const n=t?.[cM];return n==null?null:Br.makeFromBucketSpec(n,e)}function vZ(e,t,n,i={}){e.host=`${t}:${n}`;const s=ml(t);s&&(B0(`https://${e.host}/b`),j0("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:a}=i;a&&(e._overrideAuthToken=typeof a=="string"?a:Ck(a,e.app.options.projectId))}class Ob{constructor(t,n,i,s,a,u=!1){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=uM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fW,this._maxUploadRetryTime=dW,this._requests=new Set,s!=null?this._bucket=Br.makeFromBucketSpec(s,this._host):this._bucket=UR(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Br.makeFromBucketSpec(this._url,t):this._bucket=UR(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zR("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zR("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new au(this,t)}_makeRequest(t,n,i,s,a=!0){if(this._deleted)return new CW(hM());{const u=UW(t,this._appId,i,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,s).getPromise()}}const BR="@firebase/storage",jR="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="storage";function wZ(e,t,n){return e=cn(e),fZ(e,t,n)}function bZ(e){return e=cn(e),dZ(e)}function xM(e){return e=cn(e),pZ(e)}function yw(e,t){return e=cn(e),_Z(e,t)}function TZ(e=q0(),t){e=cn(e);const i=ig(e,SM).getImmediate({identifier:t}),s=xk("storage");return s&&EZ(i,...s),i}function EZ(e,t,n,i={}){vZ(e,t,n,i)}function SZ(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Ob(n,i,s,t,cu)}function xZ(){ru(new rl(SM,SZ,"PUBLIC").setMultipleInstances(!0)),so(BR,jR,""),so(BR,jR,"esm2020")}xZ();function AM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AZ=AM,RM=new cd("auth","Firebase",AM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new F0("@firebase/auth");function RZ(e,...t){Mm.logLevel<=ye.WARN&&Mm.warn(`Auth (${cu}): ${e}`,...t)}function nm(e,...t){Mm.logLevel<=ye.ERROR&&Mm.error(`Auth (${cu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(e,...t){throw Lb(e,...t)}function co(e,...t){return Lb(e,...t)}function CM(e,t,n){const i={...AZ(),[t]:n};return new cd("auth","Firebase",i).create(t,{appName:e.name})}function el(e){return CM(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lb(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return RM.create(e,...t)}function Kt(e,t,...n){if(!e)throw Lb(t,...n)}function Fo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nm(t),new Error(t)}function Xo(e,t){e||Fo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return typeof self<"u"&&self.location?.href||""}function CZ(){return FR()==="http:"||FR()==="https:"}function FR(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CZ()||bH()||"connection"in navigator)?navigator.onLine:!0}function PZ(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xo(n>t,"Short delay should be less than long delay!"),this.isMobile=_H()||TH()}get(){return IZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(e,t){Xo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MZ=new _d(3e4,6e4);function pu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function _l(e,t,n,i,s={}){return PM(e,s,async()=>{let a={},u={};i&&(t==="GET"?u=i:a={body:JSON.stringify(i)});const f=hd({key:e.config.apiKey,...u}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const m={method:t,headers:p,...a};return wH()||(m.referrerPolicy="no-referrer"),e.emulatorConfig&&ml(e.emulatorConfig.host)&&(m.credentials="include"),IM.fetch()(await kM(e,e.config.apiHost,n,f),m)})}async function PM(e,t,n){e._canInitEmulator=!1;const i={...kZ,...t};try{const s=new LZ(e),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw jp(e,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jp(e,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw jp(e,"email-already-in-use",u);if(p==="USER_DISABLED")throw jp(e,"user-disabled",u);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw CM(e,y,m);Ms(e,y)}}catch(s){if(s instanceof yo)throw s;Ms(e,"network-request-failed",{message:String(s)})}}async function bg(e,t,n,i,s={}){const a=await _l(e,t,n,i,s);return"mfaPendingCredential"in a&&Ms(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function kM(e,t,n,i){const s=`${t}${n}?${i}`,a=e,u=a.config.emulator?Nb(e.config,s):`${e.config.apiScheme}://${s}`;return DZ.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function OZ(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(co(this.auth,"network-request-failed")),MZ.get())})}}function jp(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=co(e,t,i);return s.customData._tokenResponse=n,s}function HR(e){return e!==void 0&&e.enterprise!==void 0}class NZ{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return OZ(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VZ(e,t){return _l(e,"GET","/v2/recaptchaConfig",pu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zZ(e,t){return _l(e,"POST","/v1/accounts:delete",t)}async function Om(e,t){return _l(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UZ(e,t=!1){const n=cn(e),i=await n.getIdToken(t),s=Vb(i);Kt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:i,authTime:Cf(sv(s.auth_time)),issuedAtTime:Cf(sv(s.iat)),expirationTime:Cf(sv(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function sv(e){return Number(e)*1e3}function Vb(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return nm("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ek(n);return s?JSON.parse(s):(nm("Failed to decode base64 JWT payload"),null)}catch(s){return nm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function qR(e){const t=Vb(e);return Kt(t,"internal-error"),Kt(typeof t.exp<"u","internal-error"),Kt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof yo&&BZ(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function BZ({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cf(this.lastLoginAt),this.creationTime=Cf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(e){const t=e.auth,n=await e.getIdToken(),i=await Yf(e,Om(t,{idToken:n}));Kt(i?.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=s.providerUserInfo?.length?DM(s.providerUserInfo):[],u=HZ(e.providerData,a),f=e.isAnonymous,p=!(e.email&&s.passwordHash)&&!u?.length,m=f?p:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new vw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(e,y)}async function FZ(e){const t=cn(e);await Lm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HZ(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function DM(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(e,t){const n=await PM(e,{},async()=>{const i=hd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,u=await kM(e,s,"/v1/token",`key=${a}`),f=await e._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return e.emulatorConfig&&ml(e.emulatorConfig.host)&&(p.credentials="include"),IM.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GZ(e,t){return _l(e,"POST","/v2/accounts:revokeToken",pu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Kt(t.idToken,"internal-error"),Kt(typeof t.idToken<"u","internal-error"),Kt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):qR(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Kt(t.length!==0,"internal-error");const n=qR(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Kt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await qZ(t,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,u=new _c;return i&&(Kt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),s&&(Kt(typeof s=="string","internal-error",{appName:t}),u.accessToken=s),a&&(Kt(typeof a=="number","internal-error",{appName:t}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _c,this.toJSON())}_performRefresh(){return Fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e,t){Kt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Cs{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new jZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Yf(this,this.stsTokenManager.getToken(this.auth,t));return Kt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return UZ(this,t)}reload(){return FZ(this)}_assign(t){this!==t&&(Kt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Cs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Lm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ls(this.auth.app))return Promise.reject(el(this.auth));const t=await this.getIdToken();return await Yf(this,zZ(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:S,providerData:D,stsTokenManager:V}=n;Kt(w&&V,t,"internal-error");const F=_c.fromJSON(this.name,V);Kt(typeof w=="string",t,"internal-error"),ja(i,t.name),ja(s,t.name),Kt(typeof T=="boolean",t,"internal-error"),Kt(typeof S=="boolean",t,"internal-error"),ja(a,t.name),ja(u,t.name),ja(f,t.name),ja(p,t.name),ja(m,t.name),ja(y,t.name);const j=new Cs({uid:w,auth:t,email:s,emailVerified:T,displayName:i,isAnonymous:S,photoURL:u,phoneNumber:a,tenantId:f,stsTokenManager:F,createdAt:m,lastLoginAt:y});return D&&Array.isArray(D)&&(j.providerData=D.map(Z=>({...Z}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(t,n,i=!1){const s=new _c;s.updateFromServerResponse(n);const a=new Cs({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Lm(a),a}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Kt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?DM(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,f=new _c;f.updateFromIdToken(i);const p=new Cs({uid:s.localId,auth:t,stsTokenManager:f,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new Map;function Ho(e){Xo(e instanceof Function,"Expected a class definition");let t=GR.get(e);return t?(Xo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,GR.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}MM.type="NONE";const WR=MM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(e,t,n){return`firebase:${e}:${t}:${n}`}class vc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=im(this.userKey,s.apiKey,a),this.fullPersistenceKey=im("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Om(this.auth,{idToken:t}).catch(()=>{});return n?Cs._fromGetAccountInfoResponse(this.auth,n,t):null}return Cs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new vc(Ho(WR),t,i);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||Ho(WR);const u=im(i,t.config.apiKey,t.name);let f=null;for(const m of n)try{const y=await m._get(u);if(y){let w;if(typeof y=="string"){const T=await Om(t,{idToken:y}).catch(()=>{});if(!T)break;w=await Cs._fromGetAccountInfoResponse(t,T,y)}else w=Cs._fromJSON(t,y);m!==a&&(f=w),a=m;break}}catch{}const p=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new vc(a,t,i):(a=p[0],f&&await a._set(u,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new vc(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(OM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UM(t))return"Blackberry";if(BM(t))return"Webos";if(LM(t))return"Safari";if((t.includes("chrome/")||NM(t))&&!t.includes("edge/"))return"Chrome";if(zM(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function OM(e=Ui()){return/firefox\//i.test(e)}function LM(e=Ui()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function NM(e=Ui()){return/crios\//i.test(e)}function VM(e=Ui()){return/iemobile/i.test(e)}function zM(e=Ui()){return/android/i.test(e)}function UM(e=Ui()){return/blackberry/i.test(e)}function BM(e=Ui()){return/webos/i.test(e)}function zb(e=Ui()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function WZ(e=Ui()){return zb(e)&&!!window.navigator?.standalone}function ZZ(){return EH()&&document.documentMode===10}function jM(e=Ui()){return zb(e)||zM(e)||BM(e)||UM(e)||/windows phone/i.test(e)||VM(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(e,t=[]){let n;switch(e){case"Browser":n=ZR(Ui());break;case"Worker":n=`${ZR(Ui())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${cu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KZ{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=a=>new Promise((u,f)=>{try{const p=t(a);u(p)}catch(p){f(p)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Z(e,t={}){return _l(e,"GET","/v2/passwordPolicy",pu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ=6;class XZ{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KR(this),this.idTokenSubscription=new KR(this),this.beforeStateQueue=new KZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ho(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vc.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Om(this,{idToken:t}),i=await Cs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ls(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(t);(!a||a===u)&&f?.user&&(i=f.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lm(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PZ()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ls(this.app))return Promise.reject(el(this));const n=t?cn(t):null;return n&&Kt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Kt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ls(this.app)?Promise.reject(el(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ls(this.app)?Promise.reject(el(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ho(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $Z(this),n=new XZ(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new cd("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await GZ(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ho(t)||this._popupRedirectResolver;Kt(n,this,"argument-error"),this.redirectPersistenceManager=await vc.create(this,[Ho(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Kt(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,i,s);return()=>{u=!0,p()}}else{const p=t.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=FM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&RZ(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zc(e){return cn(e)}class KR{constructor(t){this.auth=t,this.observer=null,this.addObserver=kH(n=>this.observer=n)}get next(){return Kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JZ(e){Tg=e}function HM(e){return Tg.loadJS(e)}function tK(){return Tg.recaptchaEnterpriseScript}function eK(){return Tg.gapiScript}function nK(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class iK{constructor(){this.enterprise=new rK}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class rK{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const sK="recaptcha-enterprise",qM="NO_RECAPTCHA";class oK{constructor(t){this.type=sK,this.auth=Zc(t)}async verify(t="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{VZ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new NZ(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(p=>{f(p)})})}function s(a,u,f){const p=window.grecaptcha;HR(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:t}).then(m=>{u(m)}).catch(()=>{u(qM)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iK().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(f=>{if(!n&&HR(window.grecaptcha))s(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=tK();p.length!==0&&(p+=f),HM(p).then(()=>{s(f,a,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function $R(e,t,n,i=!1,s=!1){const a=new oK(e);let u;if(s)u=qM;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const f={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function YR(e,t,n,i,s){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await $R(e,t,n,n==="getOobCode");return i(e,a)}else return i(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await $R(e,t,n,n==="getOobCode");return i(e,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(e,t){const n=ig(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(iu(a,t??{}))return s;Ms(s,"already-initialized")}return n.initialize({options:t})}function lK(e,t){const n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ho);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function uK(e,t,n){const i=Zc(e);Kt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=GM(t),{host:u,port:f}=cK(t),p=f===null?"":`:${f}`,m={url:`${a}//${u}${p}/`},y=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Kt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Kt(iu(m,i.config.emulator)&&iu(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,ml(u)?(B0(`${a}//${u}${p}`),j0("Auth",!0)):hK()}function GM(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function cK(e){const t=GM(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:XR(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:XR(u)}}}function XR(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function hK(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Fo("not implemented")}_getIdTokenResponse(t){return Fo("not implemented")}_linkToIdToken(t,n){return Fo("not implemented")}_getReauthenticationResolver(t){return Fo("not implemented")}}async function fK(e,t){return _l(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dK(e,t){return bg(e,"POST","/v1/accounts:signInWithPassword",pu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pK(e,t){return bg(e,"POST","/v1/accounts:signInWithEmailLink",pu(e,t))}async function mK(e,t){return bg(e,"POST","/v1/accounts:signInWithEmailLink",pu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends Ub{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Xf(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Xf(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YR(t,n,"signInWithPassword",dK);case"emailLink":return pK(t,{email:this._email,oobCode:this._password});default:Ms(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YR(t,i,"signUpPassword",fK);case"emailLink":return mK(t,{idToken:n,email:this._email,oobCode:this._password});default:Ms(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(e,t){return bg(e,"POST","/v1/accounts:signInWithIdp",pu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK="http://localhost";class lu extends Ub{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new lu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ms("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const u=new lu(i,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(t){const n=this.buildRequest();return wc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,wc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,wc(t,n)}buildRequest(){const t={requestUri:gK,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=hd(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _K(e){const t=rf(sf(e)).link,n=t?rf(sf(t)).deep_link_id:null,i=rf(sf(e)).deep_link_id;return(i?rf(sf(i)).link:null)||i||n||t||e}class Bb{constructor(t){const n=rf(sf(t)),i=n.apiKey??null,s=n.oobCode??null,a=yK(n.mode??null);Kt(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=_K(t);try{return new Bb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.providerId=Kc.PROVIDER_ID}static credential(t,n){return Xf._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Bb.parseLink(n);return Kt(i,"argument-error"),Xf._fromEmailAndCode(t,i.code,i.tenantId)}}Kc.PROVIDER_ID="password";Kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends WM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends vd{constructor(){super("facebook.com")}static credential(t){return lu._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ga.credentialFromTaggedObject(t)}static credentialFromError(t){return Ga.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ga.credential(t.oauthAccessToken)}catch{return null}}}Ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends vd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return lu._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wa.credentialFromTaggedObject(t)}static credentialFromError(t){return Wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Wa.credential(n,i)}catch{return null}}}Wa.GOOGLE_SIGN_IN_METHOD="google.com";Wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends vd{constructor(){super("github.com")}static credential(t){return lu._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Za.credentialFromTaggedObject(t)}static credentialFromError(t){return Za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Za.credential(t.oauthAccessToken)}catch{return null}}}Za.GITHUB_SIGN_IN_METHOD="github.com";Za.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends vd{constructor(){super("twitter.com")}static credential(t,n){return lu._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ka.credentialFromTaggedObject(t)}static credentialFromError(t){return Ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ka.credential(n,i)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const a=await Cs._fromIdTokenResponse(t,i,s),u=QR(i);return new Pc({user:a,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=QR(i);return new Pc({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function QR(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends yo{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Nm.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Nm(t,n,i,s)}}function ZM(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Nm._fromErrorAndOperation(e,a,t,i):a})}async function vK(e,t,n=!1){const i=await Yf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Pc._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wK(e,t,n=!1){const{auth:i}=e;if(ls(i.app))return Promise.reject(el(i));const s="reauthenticate";try{const a=await Yf(e,ZM(i,s,t,e),n);Kt(a.idToken,i,"internal-error");const u=Vb(a.idToken);Kt(u,i,"internal-error");const{sub:f}=u;return Kt(e.uid===f,i,"user-mismatch"),Pc._forOperation(e,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ms(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(e,t,n=!1){if(ls(e.app))return Promise.reject(el(e));const i="signIn",s=await ZM(e,i,t),a=await Pc._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}async function bK(e,t){return KM(Zc(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TK(e){const t=Zc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function EK(e,t,n){return ls(e.app)?Promise.reject(el(e)):bK(cn(e),Kc.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&TK(e),i})}function SK(e,t,n,i){return cn(e).onIdTokenChanged(t,n,i)}function xK(e,t,n){return cn(e).beforeAuthStateChanged(t,n)}function AK(e,t,n,i){return cn(e).onAuthStateChanged(t,n,i)}function RK(e){return cn(e).signOut()}const Vm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vm,"1"),this.storage.removeItem(Vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK=1e3,IK=10;class YM extends $M{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);ZZ()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,IK):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},CK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}YM.type="LOCAL";const PK=YM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM extends $M{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}XM.type="SESSION";const QM=XM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Eg(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const f=Array.from(u).map(async m=>m(n.origin,a)),p=await kK(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((f,p)=>{const m=jb("",20);s.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(T.data.response);break;default:clearTimeout(y),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:m,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(){return window}function MK(e){ho().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(){return typeof ho().WorkerGlobalScope<"u"&&typeof ho().importScripts=="function"}async function OK(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LK(){return navigator?.serviceWorker?.controller||null}function NK(){return JM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firebaseLocalStorageDb",VK=1,zm="firebaseLocalStorage",eO="fbase_key";class wd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sg(e,t){return e.transaction([zm],t?"readwrite":"readonly").objectStore(zm)}function zK(){const e=indexedDB.deleteDatabase(tO);return new wd(e).toPromise()}function ww(){const e=indexedDB.open(tO,VK);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(zm,{keyPath:eO})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(zm)?t(i):(i.close(),await zK(),t(await ww()))})})}async function JR(e,t,n){const i=Sg(e,!0).put({[eO]:t,value:n});return new wd(i).toPromise()}async function UK(e,t){const n=Sg(e,!1).get(t),i=await new wd(n).toPromise();return i===void 0?null:i.value}function tC(e,t){const n=Sg(e,!0).delete(t);return new wd(n).toPromise()}const BK=800,jK=3;class nO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ww(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>jK)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eg._getInstance(NK()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OK(),!this.activeServiceWorker)return;this.sender=new DK(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ww();return await JR(t,Vm,"1"),await tC(t,Vm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>JR(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>UK(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tC(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=Sg(s,!1).getAll();return new wd(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nO.type="LOCAL";const FK=nO;new _d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(e,t){return t?Ho(t):(Kt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends Ub{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return wc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return wc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function qK(e){return KM(e.auth,new Fb(e),e.bypassAuthState)}function GK(e){const{auth:t,user:n}=e;return Kt(n,t,"internal-error"),wK(n,new Fb(e),e.bypassAuthState)}async function WK(e){const{auth:t,user:n}=e;return Kt(n,t,"internal-error"),vK(n,new Fb(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,n,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:u,type:f}=t;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qK;case"linkViaPopup":case"linkViaRedirect":return WK;case"reauthViaPopup":case"reauthViaRedirect":return GK;default:Ms(this.auth,"internal-error")}}resolve(t){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK=new _d(2e3,1e4);class cc extends iO{constructor(t,n,i,s,a){super(t,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,cc.currentPopupAction&&cc.currentPopupAction.cancel(),cc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Kt(t,this.auth,"internal-error"),t}async onExecution(){Xo(this.filter.length===1,"Popup operations only handle one event");const t=jb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(co(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(co(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cc.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(co(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZK.get())};t()}}cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK="pendingRedirect",rm=new Map;class $K extends iO{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=rm.get(this.auth._key());if(!t){try{const i=await YK(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}rm.set(this.auth._key(),t)}return this.bypassAuthState||rm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YK(e,t){const n=JK(t),i=QK(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function XK(e,t){rm.set(e._key(),t)}function QK(e){return Ho(e._redirectPersistence)}function JK(e){return im(KK,e.config.apiKey,e.name)}async function t$(e,t,n=!1){if(ls(e.app))return Promise.reject(el(e));const i=Zc(e),s=HK(i,t),u=await new $K(i,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=600*1e3;class n${constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!i$(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!rO(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";n.onError(co(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=e$&&this.cachedEventUids.clear(),this.cachedEventUids.has(eC(t))}saveEventToCache(t){this.cachedEventUids.add(eC(t)),this.lastProcessedEventTime=Date.now()}}function eC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function rO({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function i$(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rO(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r$(e,t={}){return _l(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o$=/^https?/;async function a$(e){if(e.config.emulator)return;const{authorizedDomains:t}=await r$(e);for(const n of t)try{if(l$(n))return}catch{}Ms(e,"unauthorized-domain")}function l$(e){const t=_w(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const u=new URL(e);return u.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!o$.test(n))return!1;if(s$.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=new _d(3e4,6e4);function nC(){const e=ho().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function c$(e){return new Promise((t,n)=>{function i(){nC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nC(),n(co(e,"network-request-failed"))},timeout:u$.get()})}if(ho().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ho().gapi?.load)i();else{const s=nK("iframefcb");return ho()[s]=()=>{gapi.load?i():n(co(e,"network-request-failed"))},HM(`${eK()}?onload=${s}`).catch(a=>n(a))}}).catch(t=>{throw sm=null,t})}let sm=null;function h$(e){return sm=sm||c$(e),sm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=new _d(5e3,15e3),d$="__/auth/iframe",p$="emulator/auth/iframe",m$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y$(e){const t=e.config;Kt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Nb(t,p$):`https://${e.config.authDomain}/${d$}`,i={apiKey:t.apiKey,appName:e.name,v:cu},s=g$.get(e.config.apiHost);s&&(i.eid=s);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${hd(i).slice(1)}`}async function _$(e){const t=await h$(e),n=ho().gapi;return Kt(n,e,"internal-error"),t.open({where:document.body,url:y$(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m$,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const u=co(e,"network-request-failed"),f=ho().setTimeout(()=>{a(u)},f$.get());function p(){ho().clearTimeout(f),s(i)}i.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w$=500,b$=600,T$="_blank",E$="http://localhost";class iC{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S$(e,t,n,i=w$,s=b$){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...v$,width:i.toString(),height:s.toString(),top:a,left:u},m=Ui().toLowerCase();n&&(f=NM(m)?T$:n),OM(m)&&(t=t||E$,p.scrollbars="yes");const y=Object.entries(p).reduce((T,[S,D])=>`${T}${S}=${D},`,"");if(WZ(m)&&f!=="_self")return x$(t||"",f),new iC(null);const w=window.open(t||"",f,y);Kt(w,e,"popup-blocked");try{w.focus()}catch{}return new iC(w)}function x$(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="__/auth/handler",R$="emulator/auth/handler",C$=encodeURIComponent("fac");async function rC(e,t,n,i,s,a){Kt(e.config.authDomain,e,"auth-domain-config-required"),Kt(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:cu,eventId:s};if(t instanceof WM){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",PH(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(t instanceof vd){const y=t.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}e.tenantId&&(u.tid=e.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await e._getAppCheckToken(),m=p?`#${C$}=${encodeURIComponent(p)}`:"";return`${I$(e)}?${hd(f).slice(1)}${m}`}function I$({config:e}){return e.emulator?Nb(e,R$):`https://${e.authDomain}/${A$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="webStorageSupport";class P${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QM,this._completeRedirectFn=t$,this._overrideRedirectResult=XK}async _openPopup(t,n,i,s){Xo(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const a=await rC(t,n,i,_w(),s);return S$(t,a,jb())}async _openRedirect(t,n,i,s){await this._originValidation(t);const a=await rC(t,n,i,_w(),s);return MK(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Xo(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await _$(t),i=new n$(t);return n.register("authEvent",s=>(Kt(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ov,{type:ov},s=>{const a=s?.[0]?.[ov];a!==void 0&&n(!!a),Ms(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a$(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jM()||LM()||zb()}}const k$=P$;var sC="@firebase/auth",oC="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O$(e){ru(new rl("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Kt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FM(e)},m=new QZ(i,s,a,p);return lK(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),ru(new rl("auth-internal",t=>{const n=Zc(t.getProvider("auth").getImmediate());return(i=>new D$(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),so(sC,oC,M$(e)),so(sC,oC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=300,N$=Rk("authIdTokenMaxAge")||L$;let aC=null;const V$=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>N$)return;const s=n?.token;aC!==s&&(aC=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function z$(e=q0()){const t=ig(e,"auth");if(t.isInitialized())return t.getImmediate();const n=aK(e,{popupRedirectResolver:k$,persistence:[FK,PK,QM]}),i=Rk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=V$(a.toString());xK(n,u,()=>u(n.currentUser)),SK(n,f=>u(f))}}const s=Sk("auth");return s&&uK(n,`http://${s}`),n}function U$(){return document.getElementsByTagName("head")?.[0]??document}JZ({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const a=co("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",U$().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O$("Browser");const B$={apiKey:"AIzaSyDea9j3FwUYCr4MmtUGeN1Dbrd8KXiQEOo",authDomain:"love-letters-portal.firebaseapp.com",projectId:"love-letters-portal",storageBucket:"love-letters-portal.firebasestorage.app",messagingSenderId:"1007931164401",appId:"1:1007931164401:web:da528413d39af4ce024b50",measurementId:"G-V0TZG964T8"},Hb=kk(B$),Um=HG(Hb),bw=TZ(Hb),Qf=z$(Hb);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function j$(e,t,n,i){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function f(y){try{m(i.next(y))}catch(w){u(w)}}function p(y){try{m(i.throw(y))}catch(w){u(w)}}function m(y){y.done?a(y.value):s(y.value).then(f,p)}m((i=i.apply(e,[])).next())})}function F$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(m){return function(y){return p([m,y])}}function p(m){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(y){m=[6,y],s=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hc=function(){return hc=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},hc.apply(this,arguments)},sO=function(e){return{loading:e==null,value:e}},H$=function(){return function(e,t){switch(t.type){case"error":return hc(hc({},e),{error:t.error,loading:!1,value:void 0});case"reset":return sO(t.defaultValue);case"value":return hc(hc({},e),{error:void 0,loading:!1,value:t.value});default:return e}}},q$=(function(e){var t=e?e():void 0,n=U.useReducer(H$(),sO(t)),i=n[0],s=n[1],a=U.useCallback(function(){var p=e?e():void 0;s({type:"reset",defaultValue:p})},[e]),u=U.useCallback(function(p){s({type:"error",error:p})},[]),f=U.useCallback(function(p){s({type:"value",value:p})},[]);return U.useMemo(function(){return{error:i.error,loading:i.loading,reset:a,setError:u,setValue:f,value:i.value}},[i.error,i.loading,a,u,f,i.value])}),qb=(function(e,t){var n=q$(function(){return e.currentUser}),i=n.error,s=n.loading,a=n.setError,u=n.setValue,f=n.value;return U.useEffect(function(){var p=AK(e,function(m){return j$(void 0,void 0,void 0,function(){var y;return F$(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,t.onUserChanged(m)];case 2:return w.sent(),[3,4];case 3:return y=w.sent(),a(y),[3,4];case 4:return u(m),[2]}})})},a);return function(){p()}},[e]),[f,s,i]});function G$({onLocationSelect:e}){return aj({click(t){e(t.latlng)}}),null}function W$({location:e}){const t=qP();return U.useEffect(()=>{e&&t.setView([e.lat,e.lng],15)},[e,t]),null}function Z$({post:e,onEdit:t,onDelete:n,isAdmin:i}){U.useEffect(()=>{(async()=>(delete L.Icon.Default.prototype._getIconUrl,L.Icon.Default.mergeOptions({iconRetinaUrl:(await V_(async()=>{const{default:u}=await import("./marker-icon-2x-D4k_ikNW.js");return{default:u}},[])).default,iconUrl:(await V_(async()=>{const{default:u}=await import("./marker-icon-C2eJqgqv.js");return{default:u}},[])).default,shadowUrl:(await V_(async()=>{const{default:u}=await import("./marker-shadow-DU6CIJ0p.js");return{default:u}},[])).default})))()},[]);const s=new Date(e.createdAt?.toDate()).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),a=e.mediaUrls||(e.mediaUrl?[e.mediaUrl]:[]);return tt.jsxs(Yi.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative bg-white rounded-2xl shadow-lg p-5 border border-subtle flex flex-col gap-4",children:[i&&tt.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 z-20",children:[tt.jsx("button",{onClick:()=>t(e),className:"bg-blue-100 text-blue-600 p-1.5 rounded-full hover:bg-blue-200 transition",children:tt.jsx(kN,{size:14})}),tt.jsx("button",{onClick:()=>n(e),className:"bg-red-100 text-red-600 p-1.5 rounded-full hover:bg-red-200 transition",children:tt.jsx(MN,{size:14})})]}),tt.jsxs("div",{className:"flex items-center gap-2 text-sm text-text/70",children:[tt.jsx(SC,{size:14}),tt.jsxs("span",{children:[s," Uhr"]})]}),a.length>0&&tt.jsx("div",{className:"rounded-lg overflow-hidden border border-subtle",children:tt.jsx(bj.Carousel,{showThumbs:!1,showStatus:!1,infiniteLoop:!0,useKeyboardArrows:!0,autoPlay:!1,dynamicHeight:!0,children:a.map((u,f)=>tt.jsx("div",{children:tt.jsx("img",{src:u,alt:`Blog content ${f+1}`,className:"w-full h-auto object-cover"})},f))})}),e.text&&tt.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-0",children:tt.jsx("p",{className:"text-text/90 whitespace-pre-wrap",children:e.text})}),e.location&&tt.jsxs("div",{children:[tt.jsxs("h4",{className:"font-bold text-sm text-text/70 mb-2 flex items-center gap-2",children:[tt.jsx(AC,{size:16,className:"text-accent"})," Standort"]}),tt.jsx("div",{className:"h-48 rounded-lg overflow-hidden border border-subtle",children:tt.jsxs(GP,{center:[e.location.lat,e.location.lng],zoom:14,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[tt.jsx(ZP,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),tt.jsx(WP,{position:[e.location.lat,e.location.lng],children:tt.jsx(uj,{children:"Hier war ich!"})})]})})]})]})}const K$=({date:e})=>{const t=new Date(e).toLocaleDateString("de-DE",{weekday:"long",day:"2-digit",month:"long",year:"numeric"});return tt.jsxs("div",{className:"flex items-center my-8",children:[tt.jsx("div",{className:"flex-grow border-t border-subtle"}),tt.jsx("span",{className:"flex-shrink-0 mx-4 text-sm font-bold text-text/70 tracking-wider",children:t}),tt.jsx("div",{className:"flex-grow border-t border-subtle"})]})};function $$(){const[e,t]=qb(Qf),[n,i]=U.useState([]),[s,a]=U.useState(!1),[u,f]=U.useState(!0),[p,m]=U.useState(!1),[y,w]=U.useState(null);U.useEffect(()=>{if(t){f(!0);return}e?e.getIdTokenResult(!0).then(F=>{a(F.claims.admin===!0),f(!1)}):(a(!1),f(!1))},[e,t]),U.useEffect(()=>{const F=eW(QD(Um,"blogPosts"),nW("createdAt","desc")),j=uW(F,Z=>{i(Z.docs.map(q=>({...q.data(),id:q.id})))});return()=>j()},[]);const T=[];let S=null;n.forEach(F=>{if(!F.createdAt)return;const j=new Date(F.createdAt.toDate()).toLocaleDateString("de-DE");j!==S&&(T.push({type:"date",date:F.createdAt.toDate(),id:j}),S=j),T.push({type:"post",...F})});const D=F=>{w(F),m(!0)},V=async F=>{if(window.confirm("Soll der Post wirklich gelscht werden?"))try{const j=F.mediaUrls||(F.mediaUrl?[F.mediaUrl]:[]);j.length>0&&await Promise.all(j.map(Z=>xM(yw(bw,Z)))),await aW(yb(Um,"blogPosts",F.id))}catch(j){alert("Fehler beim Lschen des Posts. Grund: "+j.message)}};return t||u?tt.jsx("div",{className:"flex justify-center mt-10",children:tt.jsx(um,{className:"animate-spin text-primary",size:48})}):tt.jsxs("div",{className:`w-full max-w-2xl font-sans ${p?"maps-in-background":""}`,children:[tt.jsxs("header",{className:"mb-12 text-center",children:[tt.jsxs("h2",{className:"text-4xl font-bold text-text flex items-center justify-center gap-3",children:[tt.jsx(lm,{className:"text-primary",size:36}),tt.jsx("span",{children:"Meine Reise"})]}),tt.jsx("p",{className:"text-text/70 mt-2",children:"Kleine und groe Momente aus Porto."})]}),s&&tt.jsx(oO,{formId:"new-post"},"new-post-form"),tt.jsx("main",{className:"flex flex-col gap-6",children:T.length>0?T.map(F=>F.type==="date"?tt.jsx(K$,{date:F.date},F.id):tt.jsx(Z$,{post:F,onEdit:D,onDelete:V,isAdmin:s},F.id)):!s&&tt.jsx("p",{className:"text-center text-text/70 mt-8",children:"Noch keine Blogeintrge vorhanden."})}),tt.jsx(t0,{children:p&&tt.jsx(X$,{post:y,onClose:()=>m(!1)},y.id)})]})}function Y$({image:e,onRemove:t}){const{attributes:n,listeners:i,setNodeRef:s,transform:a,transition:u}=nH({id:e.id}),f={transform:Uf.Transform.toString(a),transition:u};return tt.jsxs("div",{ref:s,style:f,...n,className:"relative group touch-none",children:[tt.jsx("img",{src:e.src,alt:"Vorschau",className:"rounded-md w-full h-24 object-cover"}),tt.jsx("button",{type:"button",...i,className:"absolute top-1 left-1 bg-black/50 text-white rounded-full p-0.5 cursor-grab active:cursor-grabbing",children:tt.jsx(lN,{size:12})}),tt.jsx("button",{type:"button",onClick:t,className:"absolute top-1 right-1 bg-black/50 text-white rounded-full p-0.5 hover:bg-black/80",children:tt.jsx(RC,{size:12})})]})}function oO({postToEdit:e,onFormSubmit:t,formId:n}){const i=k=>k?new Date(k.getTime()-k.getTimezoneOffset()*6e4).toISOString().slice(0,16):"",[s,a]=U.useState(e?.text||""),[u,f]=U.useState((e?.mediaUrls||(e?.mediaUrl?[e.mediaUrl]:[])).map((k,O)=>({id:`existing-${O}-${k}`,src:k,type:"existing"}))),[p,m]=U.useState([]),[y,w]=U.useState(e?.location||null),[T,S]=U.useState(i(e?.createdAt?.toDate())),[D,V]=U.useState(!1),[F,j]=U.useState(""),[Z,q]=U.useState(!1),nt=U.useRef(null),X=Nj(fA(V0),fA(L0,{coordinateGetter:sH})),Y=k=>w({lat:k.lat,lng:k.lng}),H=k=>{const rt=Array.from(k.target.files).map($=>({id:`new-${$.name}-${Math.random()}`,src:URL.createObjectURL($),type:"new",fileObject:$}));f($=>[...$,...rt])},I=k=>{const O=u.find(rt=>rt.id===k);O.type==="existing"&&m(rt=>[...rt,O.src]),f(rt=>rt.filter($=>$.id!==k))},M=()=>{if(!navigator.geolocation){j("Dein Browser untersttzt keine Standortermittlung.");return}q(!0),j(""),navigator.geolocation.getCurrentPosition(k=>{w({lat:k.coords.latitude,lng:k.coords.longitude}),q(!1)},k=>{j(`Standort konnte nicht ermittelt werden: ${k.message}`),q(!1)},{enableHighAccuracy:!0})},K=k=>{const{active:O,over:rt}=k;O.id!==rt.id&&f($=>{const et=$.findIndex(ot=>ot.id===O.id),it=$.findIndex(ot=>ot.id===rt.id);return z0($,et,it)})},N=async k=>{k.preventDefault();const O=u.filter($=>$.type==="new"),rt=u.filter($=>$.type==="existing").map($=>$.src);if(!(!s&&O.length===0&&rt.length===0&&!y)){V(!0),j("");try{p.length>0&&await Promise.all(p.map(ot=>xM(yw(bw,ot))));let $=[];if(O.length>0){const ot=O.map(Ct=>{const R=`blog-media/${Date.now()}-${Ct.fileObject.name}`,ct=yw(bw,R);return wZ(ct,Ct.fileObject).then(()=>bZ(ct))});$=await Promise.all(ot)}const et=[...rt,...$],it={text:s,location:y,mediaUrls:et};e?(it.createdAt=T?qe.fromDate(new Date(T)):e.createdAt,await oW(yb(Um,"blogPosts",e.id),it)):(it.createdAt=T?qe.fromDate(new Date(T)):hW(),await lW(QD(Um,"blogPosts"),it)),e||(a(""),w(null),S(""),f([]),nt.current&&(nt.current.value="")),t&&t()}catch($){j(`Fehler: ${$.message}.`)}finally{V(!1)}}};return tt.jsxs("form",{onSubmit:N,className:"bg-white/90 rounded-2xl shadow-lg p-4 mb-12 flex flex-col gap-4 border border-subtle",children:[tt.jsx("textarea",{value:s,onChange:k=>a(k.target.value),placeholder:"Was ist heute Schnes passiert?",className:"w-full p-3 border border-subtle rounded-lg focus:outline-none focus:ring-2 focus:ring-accent",rows:"4"}),tt.jsxs("div",{children:[tt.jsxs("label",{className:"block text-text/80 text-sm font-bold mb-2 flex items-center gap-2",children:[tt.jsx(cf,{size:16})," Datum & Uhrzeit"]}),tt.jsx("input",{type:"datetime-local",value:T,onChange:k=>S(k.target.value),className:"w-full p-2 border border-subtle rounded-lg focus:outline-none focus:ring-2 focus:ring-accent"})]}),tt.jsxs("div",{children:[tt.jsxs("button",{type:"button",onClick:()=>nt.current&&nt.current.click(),className:"cursor-pointer flex items-center gap-2 p-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm w-fit",children:[tt.jsx(pN,{className:"text-primary"}),tt.jsx("span",{children:"Bilder hinzufgen..."})]}),tt.jsx("input",{ref:nt,onChange:H,type:"file",accept:"image/*",className:"hidden",multiple:!0}),u.length>0&&tt.jsx(zF,{sensors:X,collisionDetection:zj,onDragEnd:K,children:tt.jsx($F,{items:u,strategy:U0,children:tt.jsx("div",{className:"mt-4 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:u.map(k=>tt.jsx(Y$,{image:k,onRemove:()=>I(k.id)},k.id))})})})]}),tt.jsxs("div",{children:[tt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[tt.jsx("label",{className:"block text-text/80 text-sm font-bold",children:"Ort auswhlen"}),tt.jsxs("button",{type:"button",onClick:M,disabled:Z,className:"flex items-center gap-1.5 text-xs font-semibold text-primary hover:text-accent disabled:opacity-50 transition",children:[Z?tt.jsx(um,{size:14,className:"animate-spin"}):tt.jsx(yN,{size:14}),Z?"Suche...":"Meinen Standort verwenden"]})]}),tt.jsx("div",{className:"h-64 rounded-lg overflow-hidden border border-subtle",children:tt.jsxs(GP,{center:y?[y.lat,y.lng]:[41.1579,-8.6291],zoom:13,style:{height:"100%",width:"100%"},children:[tt.jsx(ZP,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),tt.jsx(G$,{onLocationSelect:Y}),tt.jsx(W$,{location:y}),y&&tt.jsx(WP,{position:[y.lat,y.lng]})]})}),y&&tt.jsxs("div",{className:"mt-2 flex items-center gap-1.5 text-sm text-green-600 font-medium",children:[" ",tt.jsx(AC,{size:14})," Standort ausgewhlt!"," "]})]}),F&&tt.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-100 p-3 rounded-lg",children:[" ",tt.jsx(LN,{size:18})," ",tt.jsx("span",{children:F})," "]}),tt.jsx("button",{type:"submit",disabled:D,className:"w-full flex justify-center items-center gap-2 bg-primary hover:bg-primary/90 text-white font-bold py-3 rounded-lg transition-transform transform active:scale-95 disabled:bg-primary/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:D?tt.jsxs(tt.Fragment,{children:[tt.jsx(um,{className:"animate-spin"})," ",tt.jsx("span",{children:"Wird gespeichert..."})]}):tt.jsxs(tt.Fragment,{children:[tt.jsx(IN,{size:18})," ",tt.jsx("span",{children:e?"nderungen speichern":"Posten"})]})})]})}function X$({post:e,onClose:t}){return tt.jsx(Yi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:t,children:tt.jsxs(Yi.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-background rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-subtle",onClick:n=>n.stopPropagation(),children:[tt.jsxs("div",{className:"sticky top-0 bg-background p-4 border-b border-subtle flex justify-between items-center z-10",children:[tt.jsx("h3",{className:"font-bold text-lg text-text",children:"Post bearbeiten"}),tt.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200",children:tt.jsx(RC,{size:20})})]}),tt.jsx("div",{className:"p-4",children:tt.jsx(oO,{postToEdit:e,onFormSubmit:t,formId:e.id})})]})})}function Q$(){const[e,t]=U.useState(""),[n,i]=U.useState(""),[s,a]=U.useState(""),u=Fm(),f=async p=>{p.preventDefault(),a("");try{await EK(Qf,e,n),u("/loveletters")}catch(m){a("Login fehlgeschlagen. Bitte berprfe E-Mail und Passwort."),console.error("Firebase Login Error:",m)}};return tt.jsx("div",{className:"w-full max-w-sm mx-auto mt-10 font-sans",children:tt.jsxs("form",{onSubmit:f,className:"bg-white/90 shadow-lg rounded-2xl px-8 pt-6 pb-8 mb-4 border border-subtle",children:[tt.jsx("h2",{className:"text-2xl font-bold text-center text-text mb-6",children:"Login"}),tt.jsxs("div",{className:"mb-4",children:[tt.jsx("label",{className:"block text-text/80 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),tt.jsx("input",{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),className:"shadow-inner appearance-none border border-subtle rounded-lg w-full py-2 px-3 text-text leading-tight focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),tt.jsxs("div",{className:"mb-6",children:[tt.jsx("label",{className:"block text-text/80 text-sm font-bold mb-2",htmlFor:"password",children:"Passwort"}),tt.jsx("input",{id:"password",type:"password",value:n,onChange:p=>i(p.target.value),className:"shadow-inner appearance-none border border-subtle rounded-lg w-full py-2 px-3 text-text leading-tight focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),s&&tt.jsx("p",{className:"text-red-500 text-xs italic text-center mb-4",children:s}),tt.jsx("div",{children:tt.jsx("button",{type:"submit",className:"bg-primary hover:bg-primary/90 text-white font-bold py-2 px-4 rounded-lg w-full transition-transform transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:"Anmelden"})})]})})}function J$(){const[e]=qb(Qf),t=Fm(),n=()=>{RK(Qf),t("/login")},i={color:"hsl(215, 35%, 45%)",fontWeight:"bold"};return tt.jsx("nav",{className:"w-full max-w-xl bg-white/80 rounded-full shadow-md p-2 sticky top-4 z-50 mb-6",children:tt.jsx("div",{className:"flex justify-around items-center text-text/80",children:e?tt.jsxs(tt.Fragment,{children:[tt.jsxs(tf,{to:"/loveletters",style:({isActive:s})=>s?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[tt.jsx(fN,{size:24}),tt.jsx("span",{className:"text-xs mt-1 font-sans",children:"Loveletters"})]}),tt.jsxs(tf,{to:"/blog",style:({isActive:s})=>s?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[tt.jsx(lm,{size:24}),tt.jsx("span",{className:"text-xs mt-1 font-sans",children:"Blog"})]}),tt.jsxs("button",{onClick:n,className:"flex flex-col items-center hover:text-primary transition-colors",children:[tt.jsx(TN,{size:24}),tt.jsx("span",{className:"text-xs mt-1 font-sans",children:"Logout"})]})]}):tt.jsxs(tt.Fragment,{children:[tt.jsxs(tf,{to:"/blog",style:({isActive:s})=>s?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[tt.jsx(lm,{size:24}),tt.jsx("span",{className:"text-xs mt-1 font-sans",children:"Blog"})]}),tt.jsxs(tf,{to:"/login",style:({isActive:s})=>s?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[tt.jsx(xC,{size:24}),tt.jsx("span",{className:"text-xs mt-1 font-sans",children:"Login"})]})]})})})}function tY({children:e}){const[t,n]=qb(Qf);return n?tt.jsx("div",{className:"flex w-full h-[80vh] justify-center items-center",children:tt.jsx(um,{className:"animate-spin text-primary",size:48})}):t?e:tt.jsx(v2,{to:"/login",replace:!0})}function eY(){return tt.jsxs("div",{className:"min-h-screen bg-background text-text flex flex-col items-center p-4",children:[tt.jsx(J$,{}),tt.jsxs(b2,{children:[tt.jsx(Jh,{path:"/",element:tt.jsx(mB,{})}),tt.jsx(Jh,{path:"/loveletters",element:tt.jsx(tY,{children:tt.jsx(q5,{})})}),tt.jsx(Jh,{path:"/blog",element:tt.jsx($$,{})}),tt.jsx(Jh,{path:"/login",element:tt.jsx(Q$,{})})]})]})}const nY="/loveletter/";PL.createRoot(document.getElementById("root")).render(tt.jsx(gi.StrictMode,{children:tt.jsx(q2,{basename:nY,children:tt.jsx(eY,{})})}));
