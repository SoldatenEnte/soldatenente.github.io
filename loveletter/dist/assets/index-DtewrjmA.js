(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Yp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oy={exports:{}},Th={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function X2(){if(mb)return Th;mb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Th.Fragment=t,Th.jsx=n,Th.jsxs=n,Th}var gb;function Q2(){return gb||(gb=1,oy.exports=X2()),oy.exports}var J=Q2(),ly={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function J2(){if(yb)return re;yb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,N={};function H(R,ht,bt){this.props=R,this.context=ht,this.refs=N,this.updater=bt||x}H.prototype.isReactComponent={},H.prototype.setState=function(R,ht){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,ht,"setState")},H.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function U(){}U.prototype=H.prototype;function X(R,ht,bt){this.props=R,this.context=ht,this.refs=N,this.updater=bt||x}var W=X.prototype=new U;W.constructor=X,D(W,H.prototype),W.isPureReactComponent=!0;var dt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function j(R,ht,bt,V,Ct,It){return bt=It.ref,{$$typeof:e,type:R,key:ht,ref:bt!==void 0?bt:null,props:It}}function M(R,ht){return j(R.type,ht,void 0,void 0,void 0,R.props)}function z(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function G(R){var ht={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(bt){return ht[bt]})}var F=/\/+/g;function q(R,ht){return typeof R=="object"&&R!==null&&R.key!=null?G(""+R.key):ht.toString(36)}function B(){}function At(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(B,B):(R.status="pending",R.then(function(ht){R.status==="pending"&&(R.status="fulfilled",R.value=ht)},function(ht){R.status==="pending"&&(R.status="rejected",R.reason=ht)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function kt(R,ht,bt,V,Ct){var It=typeof R;(It==="undefined"||It==="boolean")&&(R=null);var St=!1;if(R===null)St=!0;else switch(It){case"bigint":case"string":case"number":St=!0;break;case"object":switch(R.$$typeof){case e:case t:St=!0;break;case v:return St=R._init,kt(St(R._payload),ht,bt,V,Ct)}}if(St)return Ct=Ct(R),St=V===""?"."+q(R,0):V,dt(Ct)?(bt="",St!=null&&(bt=St.replace(F,"$&/")+"/"),kt(Ct,ht,bt,"",function(gn){return gn})):Ct!=null&&(z(Ct)&&(Ct=M(Ct,bt+(Ct.key==null||R&&R.key===Ct.key?"":(""+Ct.key).replace(F,"$&/")+"/")+St)),ht.push(Ct)),1;St=0;var ye=V===""?".":V+":";if(dt(R))for(var ee=0;ee<R.length;ee++)V=R[ee],It=ye+q(V,ee),St+=kt(V,ht,bt,It,Ct);else if(ee=b(R),typeof ee=="function")for(R=ee.call(R),ee=0;!(V=R.next()).done;)V=V.value,It=ye+q(V,ee++),St+=kt(V,ht,bt,It,Ct);else if(It==="object"){if(typeof R.then=="function")return kt(At(R),ht,bt,V,Ct);throw ht=String(R),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.")}return St}function st(R,ht,bt){if(R==null)return R;var V=[],Ct=0;return kt(R,V,"","",function(It){return ht.call(bt,It,Ct++)}),V}function gt(R){if(R._status===-1){var ht=R._result;ht=ht(),ht.then(function(bt){(R._status===0||R._status===-1)&&(R._status=1,R._result=bt)},function(bt){(R._status===0||R._status===-1)&&(R._status=2,R._result=bt)}),R._status===-1&&(R._status=0,R._result=ht)}if(R._status===1)return R._result.default;throw R._result}var pt=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ht=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(ht))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Ht(){}return re.Children={map:st,forEach:function(R,ht,bt){st(R,function(){ht.apply(this,arguments)},bt)},count:function(R){var ht=0;return st(R,function(){ht++}),ht},toArray:function(R){return st(R,function(ht){return ht})||[]},only:function(R){if(!z(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},re.Component=H,re.Fragment=n,re.Profiler=s,re.PureComponent=X,re.StrictMode=i,re.Suspense=p,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,re.__COMPILER_RUNTIME={__proto__:null,c:function(R){return ct.H.useMemoCache(R)}},re.cache=function(R){return function(){return R.apply(null,arguments)}},re.cloneElement=function(R,ht,bt){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var V=D({},R.props),Ct=R.key,It=void 0;if(ht!=null)for(St in ht.ref!==void 0&&(It=void 0),ht.key!==void 0&&(Ct=""+ht.key),ht)!Q.call(ht,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&ht.ref===void 0||(V[St]=ht[St]);var St=arguments.length-2;if(St===1)V.children=bt;else if(1<St){for(var ye=Array(St),ee=0;ee<St;ee++)ye[ee]=arguments[ee+2];V.children=ye}return j(R.type,Ct,void 0,void 0,It,V)},re.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},re.createElement=function(R,ht,bt){var V,Ct={},It=null;if(ht!=null)for(V in ht.key!==void 0&&(It=""+ht.key),ht)Q.call(ht,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(Ct[V]=ht[V]);var St=arguments.length-2;if(St===1)Ct.children=bt;else if(1<St){for(var ye=Array(St),ee=0;ee<St;ee++)ye[ee]=arguments[ee+2];Ct.children=ye}if(R&&R.defaultProps)for(V in St=R.defaultProps,St)Ct[V]===void 0&&(Ct[V]=St[V]);return j(R,It,void 0,void 0,null,Ct)},re.createRef=function(){return{current:null}},re.forwardRef=function(R){return{$$typeof:d,render:R}},re.isValidElement=z,re.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:gt}},re.memo=function(R,ht){return{$$typeof:m,type:R,compare:ht===void 0?null:ht}},re.startTransition=function(R){var ht=ct.T,bt={};ct.T=bt;try{var V=R(),Ct=ct.S;Ct!==null&&Ct(bt,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Ht,pt)}catch(It){pt(It)}finally{ct.T=ht}},re.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},re.use=function(R){return ct.H.use(R)},re.useActionState=function(R,ht,bt){return ct.H.useActionState(R,ht,bt)},re.useCallback=function(R,ht){return ct.H.useCallback(R,ht)},re.useContext=function(R){return ct.H.useContext(R)},re.useDebugValue=function(){},re.useDeferredValue=function(R,ht){return ct.H.useDeferredValue(R,ht)},re.useEffect=function(R,ht,bt){var V=ct.H;if(typeof bt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(R,ht)},re.useId=function(){return ct.H.useId()},re.useImperativeHandle=function(R,ht,bt){return ct.H.useImperativeHandle(R,ht,bt)},re.useInsertionEffect=function(R,ht){return ct.H.useInsertionEffect(R,ht)},re.useLayoutEffect=function(R,ht){return ct.H.useLayoutEffect(R,ht)},re.useMemo=function(R,ht){return ct.H.useMemo(R,ht)},re.useOptimistic=function(R,ht){return ct.H.useOptimistic(R,ht)},re.useReducer=function(R,ht,bt){return ct.H.useReducer(R,ht,bt)},re.useRef=function(R){return ct.H.useRef(R)},re.useState=function(R){return ct.H.useState(R)},re.useSyncExternalStore=function(R,ht,bt){return ct.H.useSyncExternalStore(R,ht,bt)},re.useTransition=function(){return ct.H.useTransition()},re.version="19.1.1",re}var _b;function pv(){return _b||(_b=1,ly.exports=J2()),ly.exports}var $=pv();const Ep=Yp($);var uy={exports:{}},wh={},cy={exports:{}},hy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function tD(){return vb||(vb=1,(function(e){function t(st,gt){var pt=st.length;st.push(gt);t:for(;0<pt;){var Ht=pt-1>>>1,R=st[Ht];if(0<s(R,gt))st[Ht]=gt,st[pt]=R,pt=Ht;else break t}}function n(st){return st.length===0?null:st[0]}function i(st){if(st.length===0)return null;var gt=st[0],pt=st.pop();if(pt!==gt){st[0]=pt;t:for(var Ht=0,R=st.length,ht=R>>>1;Ht<ht;){var bt=2*(Ht+1)-1,V=st[bt],Ct=bt+1,It=st[Ct];if(0>s(V,pt))Ct<R&&0>s(It,V)?(st[Ht]=It,st[Ct]=pt,Ht=Ct):(st[Ht]=V,st[bt]=pt,Ht=bt);else if(Ct<R&&0>s(It,pt))st[Ht]=It,st[Ct]=pt,Ht=Ct;else break t}}return gt}function s(st,gt){var pt=st.sortIndex-gt.sortIndex;return pt!==0?pt:st.id-gt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],m=[],v=1,w=null,b=3,x=!1,D=!1,N=!1,H=!1,U=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function dt(st){for(var gt=n(m);gt!==null;){if(gt.callback===null)i(m);else if(gt.startTime<=st)i(m),gt.sortIndex=gt.expirationTime,t(p,gt);else break;gt=n(m)}}function ct(st){if(N=!1,dt(st),!D)if(n(p)!==null)D=!0,Q||(Q=!0,q());else{var gt=n(m);gt!==null&&kt(ct,gt.startTime-st)}}var Q=!1,j=-1,M=5,z=-1;function G(){return H?!0:!(e.unstable_now()-z<M)}function F(){if(H=!1,Q){var st=e.unstable_now();z=st;var gt=!0;try{t:{D=!1,N&&(N=!1,X(j),j=-1),x=!0;var pt=b;try{e:{for(dt(st),w=n(p);w!==null&&!(w.expirationTime>st&&G());){var Ht=w.callback;if(typeof Ht=="function"){w.callback=null,b=w.priorityLevel;var R=Ht(w.expirationTime<=st);if(st=e.unstable_now(),typeof R=="function"){w.callback=R,dt(st),gt=!0;break e}w===n(p)&&i(p),dt(st)}else i(p);w=n(p)}if(w!==null)gt=!0;else{var ht=n(m);ht!==null&&kt(ct,ht.startTime-st),gt=!1}}break t}finally{w=null,b=pt,x=!1}gt=void 0}}finally{gt?q():Q=!1}}}var q;if(typeof W=="function")q=function(){W(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,At=B.port2;B.port1.onmessage=F,q=function(){At.postMessage(null)}}else q=function(){U(F,0)};function kt(st,gt){j=U(function(){st(e.unstable_now())},gt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(st){st.callback=null},e.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<st?Math.floor(1e3/st):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(st){switch(b){case 1:case 2:case 3:var gt=3;break;default:gt=b}var pt=b;b=gt;try{return st()}finally{b=pt}},e.unstable_requestPaint=function(){H=!0},e.unstable_runWithPriority=function(st,gt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var pt=b;b=st;try{return gt()}finally{b=pt}},e.unstable_scheduleCallback=function(st,gt,pt){var Ht=e.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ht+pt:Ht):pt=Ht,st){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=pt+R,st={id:v++,callback:gt,priorityLevel:st,startTime:pt,expirationTime:R,sortIndex:-1},pt>Ht?(st.sortIndex=pt,t(m,st),n(p)===null&&st===n(m)&&(N?(X(j),j=-1):N=!0,kt(ct,pt-Ht))):(st.sortIndex=R,t(p,st),D||x||(D=!0,Q||(Q=!0,q()))),st},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(st){var gt=b;return function(){var pt=b;b=gt;try{return st.apply(this,arguments)}finally{b=pt}}}})(hy)),hy}var Tb;function eD(){return Tb||(Tb=1,cy.exports=tD()),cy.exports}var fy={exports:{}},pi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function nD(){if(wb)return pi;wb=1;var e=pv();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,m,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:p,containerInfo:m,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pi.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,v)},pi.flushSync=function(p){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=v,i.d.f()}},pi.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},pi.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},pi.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,w=d(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:x}):v==="script"&&i.d.X(p,{crossOrigin:w,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pi.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},pi.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,w=d(v,m.crossOrigin);i.d.L(p,v,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pi.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},pi.requestFormReset=function(p){i.d.r(p)},pi.unstable_batchedUpdates=function(p,m){return p(m)},pi.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},pi.useFormStatus=function(){return c.H.useHostTransitionStatus()},pi.version="19.1.1",pi}var Eb;function dA(){if(Eb)return fy.exports;Eb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fy.exports=nD(),fy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function iD(){if(bb)return wh;bb=1;var e=eD(),t=pv(),n=dA();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var u=r,f=a;;){var _=u.return;if(_===null)break;var T=_.alternate;if(T===null){if(f=_.return,f!==null){u=f;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===u)return d(_),r;if(T===f)return d(_),a;T=T.sibling}throw Error(i(188))}if(u.return!==f.return)u=_,f=T;else{for(var I=!1,k=_.child;k;){if(k===u){I=!0,u=_,f=T;break}if(k===f){I=!0,f=_,u=T;break}k=k.sibling}if(!I){for(k=T.child;k;){if(k===u){I=!0,u=T,f=_;break}if(k===f){I=!0,f=T,u=_;break}k=k.sibling}if(!I)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),W=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var B=Symbol.for("react.client.reference");function At(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===B?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case H:return"Profiler";case N:return"StrictMode";case ct:return"Suspense";case Q:return"SuspenseList";case z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case W:return(r.displayName||"Context")+".Provider";case X:return(r._context.displayName||"Context")+".Consumer";case dt:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return a=r.displayName||null,a!==null?a:At(r.type)||"Memo";case M:a=r._payload,r=r._init;try{return At(r(a))}catch{}}return null}var kt=Array.isArray,st=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Ht=[],R=-1;function ht(r){return{current:r}}function bt(r){0>R||(r.current=Ht[R],Ht[R]=null,R--)}function V(r,a){R++,Ht[R]=r.current,r.current=a}var Ct=ht(null),It=ht(null),St=ht(null),ye=ht(null);function ee(r,a){switch(V(St,a),V(It,r),V(Ct,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?HE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=HE(a),r=qE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}bt(Ct),V(Ct,r)}function gn(){bt(Ct),bt(It),bt(St)}function Pn(r){r.memoizedState!==null&&V(ye,r);var a=Ct.current,u=qE(a,r.type);a!==u&&(V(It,r),V(Ct,u))}function zn(r){It.current===r&&(bt(Ct),bt(It)),ye.current===r&&(bt(ye),mh._currentValue=pt)}var wi=Object.prototype.hasOwnProperty,qi=e.unstable_scheduleCallback,jr=e.unstable_cancelCallback,Fr=e.unstable_shouldYield,ds=e.unstable_requestPaint,kn=e.unstable_now,ps=e.unstable_getCurrentPriorityLevel,ms=e.unstable_ImmediatePriority,pr=e.unstable_UserBlockingPriority,Gi=e.unstable_NormalPriority,Ma=e.unstable_LowPriority,Hr=e.unstable_IdlePriority,Qs=e.log,La=e.unstable_setDisableYieldValue,ut=null,vt=null;function Vt(r){if(typeof Qs=="function"&&La(r),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(ut,r)}catch{}}var jt=Math.clz32?Math.clz32:Wn,ge=Math.log,Un=Math.LN2;function Wn(r){return r>>>=0,r===0?32:31-(ge(r)/Un|0)|0}var yn=256,Yn=4194304;function _n(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function nn(r,a,u){var f=r.pendingLanes;if(f===0)return 0;var _=0,T=r.suspendedLanes,I=r.pingedLanes;r=r.warmLanes;var k=f&134217727;return k!==0?(f=k&~T,f!==0?_=_n(f):(I&=k,I!==0?_=_n(I):u||(u=k&~r,u!==0&&(_=_n(u))))):(k=f&~T,k!==0?_=_n(k):I!==0?_=_n(I):u||(u=f&~r,u!==0&&(_=_n(u)))),_===0?0:a!==0&&a!==_&&(a&T)===0&&(T=_&-_,u=a&-a,T>=u||T===32&&(u&4194048)!==0)?a:_}function vn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Xn(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function il(){var r=yn;return yn<<=1,(yn&4194048)===0&&(yn=256),r}function Oa(){var r=Yn;return Yn<<=1,(Yn&62914560)===0&&(Yn=4194304),r}function mr(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function gr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function rl(r,a,u,f,_,T){var I=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var k=r.entanglements,K=r.expirationTimes,rt=r.hiddenUpdates;for(u=I&~u;0<u;){var mt=31-jt(u),Tt=1<<mt;k[mt]=0,K[mt]=-1;var at=rt[mt];if(at!==null)for(rt[mt]=null,mt=0;mt<at.length;mt++){var ot=at[mt];ot!==null&&(ot.lane&=-536870913)}u&=~Tt}f!==0&&yr(r,f,0),T!==0&&_===0&&r.tag!==0&&(r.suspendedLanes|=T&~(I&~a))}function yr(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-jt(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function sl(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var f=31-jt(u),_=1<<f;_&a|r[f]&a&&(r[f]|=a),u&=~_}}function gs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Na(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ys(){var r=gt.p;return r!==0?r:(r=window.event,r===void 0?32:ub(r.type))}function Va(r,a){var u=gt.p;try{return gt.p=r,a()}finally{gt.p=u}}var Ne=Math.random().toString(36).slice(2),cn="__reactFiber$"+Ne,rn="__reactProps$"+Ne,ki="__reactContainer$"+Ne,li="__reactEvents$"+Ne,zt="__reactListeners$"+Ne,qr="__reactHandles$"+Ne,al="__reactResources$"+Ne,_s="__reactMarker$"+Ne;function Gr(r){delete r[cn],delete r[rn],delete r[li],delete r[zt],delete r[qr]}function Zi(r){var a=r[cn];if(a)return a;for(var u=r.parentNode;u;){if(a=u[ki]||u[cn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=$E(r);r!==null;){if(u=r[cn])return u;r=$E(r)}return a}r=u,u=r.parentNode}return null}function Ki(r){if(r=r[cn]||r[ki]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Qn(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Bn(r){var a=r[al];return a||(a=r[al]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Xe(r){r[_s]=!0}var ol=new Set,za={};function $i(r,a){_r(r,a),_r(r+"Capture",a)}function _r(r,a){for(za[r]=a,r=0;r<a.length;r++)ol.add(a[r])}var iu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Js={},ta={};function ru(r){return wi.call(ta,r)?!0:wi.call(Js,r)?!1:iu.test(r)?ta[r]=!0:(Js[r]=!0,!1)}function vs(r,a,u){if(ru(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function vr(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function Dn(r,a,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+f)}}var Zr,Ts;function Tr(r){if(Zr===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Zr=a&&a[1]||"",Ts=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+r+Ts}var ea=!1;function wr(r,a){if(!r||ea)return"";ea=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(ot){var at=ot}Reflect.construct(r,[],Tt)}else{try{Tt.call()}catch(ot){at=ot}r.call(Tt.prototype)}}else{try{throw Error()}catch(ot){at=ot}(Tt=r())&&typeof Tt.catch=="function"&&Tt.catch(function(){})}}catch(ot){if(ot&&at&&typeof ot.stack=="string")return[ot.stack,at.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=f.DetermineComponentFrameRoot(),I=T[0],k=T[1];if(I&&k){var K=I.split(`
`),rt=k.split(`
`);for(_=f=0;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;for(;_<rt.length&&!rt[_].includes("DetermineComponentFrameRoot");)_++;if(f===K.length||_===rt.length)for(f=K.length-1,_=rt.length-1;1<=f&&0<=_&&K[f]!==rt[_];)_--;for(;1<=f&&0<=_;f--,_--)if(K[f]!==rt[_]){if(f!==1||_!==1)do if(f--,_--,0>_||K[f]!==rt[_]){var mt=`
`+K[f].replace(" at new "," at ");return r.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",r.displayName)),mt}while(1<=f&&0<=_);break}}}finally{ea=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?Tr(u):""}function oe(r){switch(r.tag){case 26:case 27:case 5:return Tr(r.type);case 16:return Tr("Lazy");case 13:return Tr("Suspense");case 19:return Tr("SuspenseList");case 0:case 15:return wr(r.type,!1);case 11:return wr(r.type.render,!1);case 1:return wr(r.type,!0);case 31:return Tr("Activity");default:return""}}function Se(r){try{var a="";do a+=oe(r),r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Tn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Er(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ws(r){var a=Er(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),f=""+r[a];if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var _=u.get,T=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return _.call(this)},set:function(I){f=""+I,T.call(this,I)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Es(r){r._valueTracker||(r._valueTracker=ws(r))}function Jt(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return r&&(f=Er(r)?r.checked?"true":"false":r.value),r=f,r!==u?(a.setValue(r),!0):!1}function Ce(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ll=/[\n"\\]/g;function qe(r){return r.replace(ll,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ve(r,a,u,f,_,T,I,k){r.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.type=I:r.removeAttribute("type"),a!=null?I==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Tn(a)):r.value!==""+Tn(a)&&(r.value=""+Tn(a)):I!=="submit"&&I!=="reset"||r.removeAttribute("value"),a!=null?Wi(r,I,Tn(a)):u!=null?Wi(r,I,Tn(u)):f!=null&&r.removeAttribute("value"),_==null&&T!=null&&(r.defaultChecked=!!T),_!=null&&(r.checked=_&&typeof _!="function"&&typeof _!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+Tn(k):r.removeAttribute("name")}function na(r,a,u,f,_,T,I,k){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.type=T),a!=null||u!=null){if(!(T!=="submit"&&T!=="reset"||a!=null))return;u=u!=null?""+Tn(u):"",a=a!=null?""+Tn(a):u,k||a===r.value||(r.value=a),r.defaultValue=a}f=f??_,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=k?r.checked:!!f,r.defaultChecked=!!f,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(r.name=I)}function Wi(r,a,u){a==="number"&&Ce(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Jn(r,a,u,f){if(r=r.options,a){a={};for(var _=0;_<u.length;_++)a["$"+u[_]]=!0;for(u=0;u<r.length;u++)_=a.hasOwnProperty("$"+r[u].value),r[u].selected!==_&&(r[u].selected=_),_&&f&&(r[u].defaultSelected=!0)}else{for(u=""+Tn(u),a=null,_=0;_<r.length;_++){if(r[_].value===u){r[_].selected=!0,f&&(r[_].defaultSelected=!0);return}a!==null||r[_].disabled||(a=r[_])}a!==null&&(a.selected=!0)}}function Zt(r,a,u){if(a!=null&&(a=""+Tn(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+Tn(u):""}function Ei(r,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(i(92));if(kt(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=Tn(a),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function jn(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var Yi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ua(r,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,u):typeof u!="number"||u===0||Yi.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function Kr(r,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var _ in a)f=a[_],a.hasOwnProperty(_)&&u[_]!==f&&Ua(r,_,f)}else for(var T in a)a.hasOwnProperty(T)&&Ua(r,T,a[T])}function ia(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ul=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ba=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bs(r){return Ba.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Xi=null;function ti(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var br=null,Qi=null;function cl(r){var a=Ki(r);if(a&&(r=a.stateNode)){var u=r[rn]||null;t:switch(r=a.stateNode,a.type){case"input":if(Ve(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+qe(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==r&&f.form===r.form){var _=f[rn]||null;if(!_)throw Error(i(90));Ve(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===r.form&&Jt(f)}break t;case"textarea":Zt(r,u.value,u.defaultValue);break t;case"select":a=u.value,a!=null&&Jn(r,!!u.multiple,a,!1)}}}var Ft=!1;function bi(r,a,u){if(Ft)return r(a,u);Ft=!0;try{var f=r(a);return f}finally{if(Ft=!1,(br!==null||Qi!==null)&&(vd(),br&&(a=br,r=Qi,Qi=br=null,cl(a),r)))for(a=0;a<r.length;a++)cl(r[a])}}function _e(r,a){var u=r.stateNode;if(u===null)return null;var f=u[rn]||null;if(f===null)return null;u=f[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Di)try{var $r={};Object.defineProperty($r,"passive",{get:function(){ui=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{ui=!1}var Mi=null,ci=null,Ji=null;function Wr(){if(Ji)return Ji;var r,a=ci,u=a.length,f,_="value"in Mi?Mi.value:Mi.textContent,T=_.length;for(r=0;r<u&&a[r]===_[r];r++);var I=u-r;for(f=1;f<=I&&a[u-f]===_[T-f];f++);return Ji=_.slice(r,1<f?1-f:void 0)}function Pe(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Fn(){return!0}function ja(){return!1}function hn(r){function a(u,f,_,T,I){this._reactName=u,this._targetInst=_,this.type=f,this.nativeEvent=T,this.target=I,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(u=r[k],this[k]=u?u(T):T[k]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Fn:ja,this.isPropagationStopped=ja,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),a}var we={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=hn(we),Yr=v({},we,{view:0,detail:0}),su=hn(Yr),sa,ie,Sr,Mn=v({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Sr&&(Sr&&r.type==="mousemove"?(sa=r.screenX-Sr.screenX,ie=r.screenY-Sr.screenY):ie=sa=0,Sr=r),sa)},movementY:function(r){return"movementY"in r?r.movementY:ie}}),Hn=hn(Mn),hl=v({},Mn,{dataTransfer:0}),Dc=hn(hl),Xr=v({},Yr,{relatedTarget:0}),Fa=hn(Xr),Ha=v({},we,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=hn(Ha),au=v({},we,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ss=hn(au),Mc=v({},we,{data:0}),hi=hn(Mc),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ga(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=tr[r])?!!a[r]:!1}function xs(){return Ga}var Za=v({},Yr,{key:function(r){if(r.key){var a=aa[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Pe(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?fl[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(r){return r.type==="keypress"?Pe(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Pe(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ka=hn(Za),dl=v({},Mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=hn(dl),Qr=v({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),ou=hn(Qr),Wa=v({},we,{propertyName:0,elapsedTime:0,pseudoElement:0}),lu=hn(Wa),pl=v({},Mn,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=hn(pl),wn=v({},we,{newState:0,oldState:0}),xr=hn(wn),uu=[9,13,27,32],fi=Di&&"CompositionEvent"in window,g=null;Di&&"documentMode"in document&&(g=document.documentMode);var S=Di&&"TextEvent"in window&&!g,C=Di&&(!fi||g&&8<g&&11>=g),O=" ",et=!1;function ft(r,a){switch(r){case"keyup":return uu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var he=!1;function sn(r,a){switch(r){case"compositionend":return Rt(a);case"keypress":return a.which!==32?null:(et=!0,O);case"textInput":return r=a.data,r===O&&et?null:r;default:return null}}function fe(r,a){if(he)return r==="compositionend"||!fi&&ft(r,a)?(r=Wr(),Ji=ci=Mi=null,he=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return C&&a.locale!=="ko"?null:a.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ze(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!xe[r.type]:a==="textarea"}function Jr(r,a,u,f){br?Qi?Qi.push(f):Qi=[f]:br=f,a=xd(a,"onChange"),0<a.length&&(u=new ra("onChange","change",null,u,f),r.push({event:u,listeners:a}))}var Le=null,Ar=null;function Cr(r){zE(r,0)}function cu(r){var a=Qn(r);if(Jt(a))return r}function Ya(r,a){if(r==="change")return a}var Lc=!1;if(Di){var Xa;if(Di){var Oc="oninput"in document;if(!Oc){var ts=document.createElement("div");ts.setAttribute("oninput","return;"),Oc=typeof ts.oninput=="function"}Xa=Oc}else Xa=!1;Lc=Xa&&(!document.documentMode||9<document.documentMode)}function ml(){Le&&(Le.detachEvent("onpropertychange",zf),Ar=Le=null)}function zf(r){if(r.propertyName==="value"&&cu(Ar)){var a=[];Jr(a,Ar,r,ti(r)),bi(Cr,a)}}function Nc(r,a,u){r==="focusin"?(ml(),Le=a,Ar=u,Le.attachEvent("onpropertychange",zf)):r==="focusout"&&ml()}function km(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return cu(Ar)}function es(r,a){if(r==="click")return cu(a)}function Dm(r,a){if(r==="input"||r==="change")return cu(a)}function Qa(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Si=typeof Object.is=="function"?Object.is:Qa;function xi(r,a){if(Si(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var _=u[f];if(!wi.call(a,_)||!Si(r[_],a[_]))return!1}return!0}function gl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vc(r,a){var u=gl(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=a&&f>=a)return{node:u,offset:a-r};r=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=gl(u)}}function hu(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?hu(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function yl(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ce(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=Ce(r.document)}return a}function _l(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var fu=Di&&"documentMode"in document&&11>=document.documentMode,er=null,Ja=null,la=null,du=!1;function Uf(r,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;du||er==null||er!==Ce(f)||(f=er,"selectionStart"in f&&_l(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),la&&xi(la,f)||(la=f,f=xd(Ja,"onSelect"),0<f.length&&(a=new ra("onSelect","select",null,a,u),r.push({event:a,listeners:f}),a.target=er)))}function Rr(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var to={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},pu={},Bf={};Di&&(Bf=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function As(r){if(pu[r])return pu[r];if(!to[r])return r;var a=to[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in Bf)return pu[r]=a[u];return r}var jf=As("animationend"),nr=As("animationiteration"),vl=As("animationstart"),Mm=As("transitionrun"),mu=As("transitionstart"),Lm=As("transitioncancel"),zc=As("transitionend"),Ff=new Map,ua="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ua.push("scrollEnd");function ir(r,a){Ff.set(r,a),$i(a,[r])}var ca=new WeakMap;function Ai(r,a){if(typeof r=="object"&&r!==null){var u=ca.get(r);return u!==void 0?u:(a={value:r,source:a,stack:Se(a)},ca.set(r,a),a)}return{value:r,source:a,stack:Se(a)}}var Ci=[],eo=0,rr=0;function Tl(){for(var r=eo,a=rr=eo=0;a<r;){var u=Ci[a];Ci[a++]=null;var f=Ci[a];Ci[a++]=null;var _=Ci[a];Ci[a++]=null;var T=Ci[a];if(Ci[a++]=null,f!==null&&_!==null){var I=f.pending;I===null?_.next=_:(_.next=I.next,I.next=_),f.pending=_}T!==0&&El(u,_,T)}}function wl(r,a,u,f){Ci[eo++]=r,Ci[eo++]=a,Ci[eo++]=u,Ci[eo++]=f,rr|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function ha(r,a,u,f){return wl(r,a,u,f),Cs(r)}function no(r,a){return wl(r,null,null,a),Cs(r)}function El(r,a,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var _=!1,T=r.return;T!==null;)T.childLanes|=u,f=T.alternate,f!==null&&(f.childLanes|=u),T.tag===22&&(r=T.stateNode,r===null||r._visibility&1||(_=!0)),r=T,T=T.return;return r.tag===3?(T=r.stateNode,_&&a!==null&&(_=31-jt(u),r=T.hiddenUpdates,f=r[_],f===null?r[_]=[a]:f.push(a),a.lane=u|536870912),T):null}function Cs(r){if(50<oh)throw oh=0,kg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var fa={};function Hf(r,a,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(r,a,u,f){return new Hf(r,a,u,f)}function gu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ir(r,a){var u=r.alternate;return u===null?(u=Ri(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Uc(r,a){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function bl(r,a,u,f,_,T){var I=0;if(f=r,typeof r=="function")gu(r)&&(I=1);else if(typeof r=="string")I=z2(r,u,Ct.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case z:return r=Ri(31,u,a,_),r.elementType=z,r.lanes=T,r;case D:return Rs(u.children,_,T,a);case N:I=8,_|=24;break;case H:return r=Ri(12,u,a,_|2),r.elementType=H,r.lanes=T,r;case ct:return r=Ri(13,u,a,_),r.elementType=ct,r.lanes=T,r;case Q:return r=Ri(19,u,a,_),r.elementType=Q,r.lanes=T,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:case W:I=10;break t;case X:I=9;break t;case dt:I=11;break t;case j:I=14;break t;case M:I=16,f=null;break t}I=29,u=Error(i(130,r===null?"null":typeof r,"")),f=null}return a=Ri(I,u,a,_),a.elementType=r,a.type=f,a.lanes=T,a}function Rs(r,a,u,f){return r=Ri(7,r,f,a),r.lanes=u,r}function Bc(r,a,u){return r=Ri(6,r,null,a),r.lanes=u,r}function yu(r,a,u){return a=Ri(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var da=[],io=0,o=null,h=0,y=[],E=0,A=null,P=1,Z="";function nt(r,a){da[io++]=h,da[io++]=o,o=r,h=a}function lt(r,a,u){y[E++]=P,y[E++]=Z,y[E++]=A,A=r;var f=P;r=Z;var _=32-jt(f)-1;f&=~(1<<_),u+=1;var T=32-jt(a)+_;if(30<T){var I=_-_%5;T=(f&(1<<I)-1).toString(32),f>>=I,_-=I,P=1<<32-jt(a)+_|u<<_|f,Z=T+r}else P=1<<T|u<<_|f,Z=r}function Et(r){r.return!==null&&(nt(r,1),lt(r,1,0))}function Pt(r){for(;r===o;)o=da[--io],da[io]=null,h=da[--io],da[io]=null;for(;r===A;)A=y[--E],y[E]=null,Z=y[--E],y[E]=null,P=y[--E],y[E]=null}var Lt=null,Nt=null,Xt=!1,Ue=null,Qe=!1,qn=Error(i(519));function Li(r){var a=Error(i(418,""));throw so(Ai(a,r)),qn}function qf(r){var a=r.stateNode,u=r.type,f=r.memoizedProps;switch(a[cn]=r,a[rn]=f,u){case"dialog":ce("cancel",a),ce("close",a);break;case"iframe":case"object":case"embed":ce("load",a);break;case"video":case"audio":for(u=0;u<uh.length;u++)ce(uh[u],a);break;case"source":ce("error",a);break;case"img":case"image":case"link":ce("error",a),ce("load",a);break;case"details":ce("toggle",a);break;case"input":ce("invalid",a),na(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Es(a);break;case"select":ce("invalid",a);break;case"textarea":ce("invalid",a),Ei(a,f.value,f.defaultValue,f.children),Es(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||FE(a.textContent,u)?(f.popover!=null&&(ce("beforetoggle",a),ce("toggle",a)),f.onScroll!=null&&ce("scroll",a),f.onScrollEnd!=null&&ce("scrollend",a),f.onClick!=null&&(a.onclick=Ad),a=!0):a=!1,a||Li(r)}function Gf(r){for(Lt=r.return;Lt;)switch(Lt.tag){case 5:case 13:Qe=!1;return;case 27:case 3:Qe=!0;return;default:Lt=Lt.return}}function Sl(r){if(r!==Lt)return!1;if(!Xt)return Gf(r),Xt=!0,!1;var a=r.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Kg(r.type,r.memoizedProps)),u=!u),u&&Nt&&Li(r),Gf(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(a===0){Nt=ss(r.nextSibling);break t}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;r=r.nextSibling}Nt=null}}else a===27?(a=Nt,wo(r.type)?(r=Xg,Xg=null,Nt=r):Nt=a):Nt=Lt?ss(r.stateNode.nextSibling):null;return!0}function ro(){Nt=Lt=null,Xt=!1}function Zf(){var r=Ue;return r!==null&&(Vi===null?Vi=r:Vi.push.apply(Vi,r),Ue=null),r}function so(r){Ue===null?Ue=[r]:Ue.push(r)}var Ze=ht(null),Pr=null,ns=null;function Is(r,a,u){V(Ze,a._currentValue),a._currentValue=u}function is(r){r._currentValue=Ze.current,bt(Ze)}function xl(r,a,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===u)break;r=r.return}}function _u(r,a,u,f){var _=r.child;for(_!==null&&(_.return=r);_!==null;){var T=_.dependencies;if(T!==null){var I=_.child;T=T.firstContext;t:for(;T!==null;){var k=T;T=_;for(var K=0;K<a.length;K++)if(k.context===a[K]){T.lanes|=u,k=T.alternate,k!==null&&(k.lanes|=u),xl(T.return,u,r),f||(I=null);break t}T=k.next}}else if(_.tag===18){if(I=_.return,I===null)throw Error(i(341));I.lanes|=u,T=I.alternate,T!==null&&(T.lanes|=u),xl(I,u,r),I=null}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===r){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}}function Al(r,a,u,f){r=null;for(var _=a,T=!1;_!==null;){if(!T){if((_.flags&524288)!==0)T=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var I=_.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var k=_.type;Si(_.pendingProps.value,I.value)||(r!==null?r.push(k):r=[k])}}else if(_===ye.current){if(I=_.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(r!==null?r.push(mh):r=[mh])}_=_.return}r!==null&&_u(a,r,u,f),a.flags|=262144}function Kf(r){for(r=r.firstContext;r!==null;){if(!Si(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Cl(r){Pr=r,ns=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function di(r){return RT(Pr,r)}function $f(r,a){return Pr===null&&Cl(r),RT(r,a)}function RT(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},ns===null){if(r===null)throw Error(i(308));ns=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else ns=ns.next=a;return u}var Vk=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},zk=e.unstable_scheduleCallback,Uk=e.unstable_NormalPriority,Ln={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Om(){return{controller:new Vk,data:new Map,refCount:0}}function jc(r){r.refCount--,r.refCount===0&&zk(Uk,function(){r.controller.abort()})}var Fc=null,Nm=0,vu=0,Tu=null;function Bk(r,a){if(Fc===null){var u=Fc=[];Nm=0,vu=zg(),Tu={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Nm++,a.then(IT,IT),a}function IT(){if(--Nm===0&&Fc!==null){Tu!==null&&(Tu.status="fulfilled");var r=Fc;Fc=null,vu=0,Tu=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function jk(r,a){var u=[],f={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var _=0;_<u.length;_++)(0,u[_])(a)},function(_){for(f.status="rejected",f.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),f}var PT=st.S;st.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Bk(r,a),PT!==null&&PT(r,a)};var Rl=ht(null);function Vm(){var r=Rl.current;return r!==null?r:Be.pooledCache}function Wf(r,a){a===null?V(Rl,Rl.current):V(Rl,a.pool)}function kT(){var r=Vm();return r===null?null:{parent:Ln._currentValue,pool:r}}var Hc=Error(i(460)),DT=Error(i(474)),Yf=Error(i(542)),zm={then:function(){}};function MT(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Xf(){}function LT(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(Xf,Xf),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,NT(r),r;default:if(typeof a.status=="string")a.then(Xf,Xf);else{if(r=Be,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var _=a;_.status="fulfilled",_.value=f}},function(f){if(a.status==="pending"){var _=a;_.status="rejected",_.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,NT(r),r}throw qc=a,Hc}}var qc=null;function OT(){if(qc===null)throw Error(i(459));var r=qc;return qc=null,r}function NT(r){if(r===Hc||r===Yf)throw Error(i(483))}var ao=!1;function Um(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function oo(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function lo(r,a,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Re&2)!==0){var _=f.pending;return _===null?a.next=a:(a.next=_.next,_.next=a),f.pending=a,a=Cs(r),El(r,null,u),a}return wl(r,f,a,u),Cs(r)}function Gc(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,sl(r,u)}}function jm(r,a){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var _=null,T=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};T===null?_=T=I:T=T.next=I,u=u.next}while(u!==null);T===null?_=T=a:T=T.next=a}else _=T=a;u={baseState:f.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var Fm=!1;function Zc(){if(Fm){var r=Tu;if(r!==null)throw r}}function Kc(r,a,u,f){Fm=!1;var _=r.updateQueue;ao=!1;var T=_.firstBaseUpdate,I=_.lastBaseUpdate,k=_.shared.pending;if(k!==null){_.shared.pending=null;var K=k,rt=K.next;K.next=null,I===null?T=rt:I.next=rt,I=K;var mt=r.alternate;mt!==null&&(mt=mt.updateQueue,k=mt.lastBaseUpdate,k!==I&&(k===null?mt.firstBaseUpdate=rt:k.next=rt,mt.lastBaseUpdate=K))}if(T!==null){var Tt=_.baseState;I=0,mt=rt=K=null,k=T;do{var at=k.lane&-536870913,ot=at!==k.lane;if(ot?(ve&at)===at:(f&at)===at){at!==0&&at===vu&&(Fm=!0),mt!==null&&(mt=mt.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Wt=r,qt=k;at=a;var Me=u;switch(qt.tag){case 1:if(Wt=qt.payload,typeof Wt=="function"){Tt=Wt.call(Me,Tt,at);break t}Tt=Wt;break t;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=qt.payload,at=typeof Wt=="function"?Wt.call(Me,Tt,at):Wt,at==null)break t;Tt=v({},Tt,at);break t;case 2:ao=!0}}at=k.callback,at!==null&&(r.flags|=64,ot&&(r.flags|=8192),ot=_.callbacks,ot===null?_.callbacks=[at]:ot.push(at))}else ot={lane:at,tag:k.tag,payload:k.payload,callback:k.callback,next:null},mt===null?(rt=mt=ot,K=Tt):mt=mt.next=ot,I|=at;if(k=k.next,k===null){if(k=_.shared.pending,k===null)break;ot=k,k=ot.next,ot.next=null,_.lastBaseUpdate=ot,_.shared.pending=null}}while(!0);mt===null&&(K=Tt),_.baseState=K,_.firstBaseUpdate=rt,_.lastBaseUpdate=mt,T===null&&(_.shared.lanes=0),yo|=I,r.lanes=I,r.memoizedState=Tt}}function VT(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function zT(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)VT(u[r],a)}var wu=ht(null),Qf=ht(0);function UT(r,a){r=Ta,V(Qf,r),V(wu,a),Ta=r|a.baseLanes}function Hm(){V(Qf,Ta),V(wu,wu.current)}function qm(){Ta=Qf.current,bt(wu),bt(Qf)}var uo=0,ae=null,ke=null,En=null,Jf=!1,Eu=!1,Il=!1,td=0,$c=0,bu=null,Fk=0;function fn(){throw Error(i(321))}function Gm(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!Si(r[u],a[u]))return!1;return!0}function Zm(r,a,u,f,_,T){return uo=T,ae=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,st.H=r===null||r.memoizedState===null?Ew:bw,Il=!1,T=u(f,_),Il=!1,Eu&&(T=jT(a,u,f,_)),BT(r),T}function BT(r){st.H=ad;var a=ke!==null&&ke.next!==null;if(uo=0,En=ke=ae=null,Jf=!1,$c=0,bu=null,a)throw Error(i(300));r===null||Gn||(r=r.dependencies,r!==null&&Kf(r)&&(Gn=!0))}function jT(r,a,u,f){ae=r;var _=0;do{if(Eu&&(bu=null),$c=0,Eu=!1,25<=_)throw Error(i(301));if(_+=1,En=ke=null,r.updateQueue!=null){var T=r.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}st.H=Wk,T=a(u,f)}while(Eu);return T}function Hk(){var r=st.H,a=r.useState()[0];return a=typeof a.then=="function"?Wc(a):a,r=r.useState()[0],(ke!==null?ke.memoizedState:null)!==r&&(ae.flags|=1024),a}function Km(){var r=td!==0;return td=0,r}function $m(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function Wm(r){if(Jf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Jf=!1}uo=0,En=ke=ae=null,Eu=!1,$c=td=0,bu=null}function Oi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?ae.memoizedState=En=r:En=En.next=r,En}function bn(){if(ke===null){var r=ae.alternate;r=r!==null?r.memoizedState:null}else r=ke.next;var a=En===null?ae.memoizedState:En.next;if(a!==null)En=a,ke=r;else{if(r===null)throw ae.alternate===null?Error(i(467)):Error(i(310));ke=r,r={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},En===null?ae.memoizedState=En=r:En=En.next=r}return En}function Ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wc(r){var a=$c;return $c+=1,bu===null&&(bu=[]),r=LT(bu,r,a),a=ae,(En===null?a.memoizedState:En.next)===null&&(a=a.alternate,st.H=a===null||a.memoizedState===null?Ew:bw),r}function ed(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wc(r);if(r.$$typeof===W)return di(r)}throw Error(i(438,String(r)))}function Xm(r){var a=null,u=ae.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=ae.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(_){return _.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Ym(),ae.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),f=0;f<r;f++)u[f]=G;return a.index++,u}function pa(r,a){return typeof a=="function"?a(r):a}function nd(r){var a=bn();return Qm(a,ke,r)}function Qm(r,a,u){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var _=r.baseQueue,T=f.pending;if(T!==null){if(_!==null){var I=_.next;_.next=T.next,T.next=I}a.baseQueue=_=T,f.pending=null}if(T=r.baseState,_===null)r.memoizedState=T;else{a=_.next;var k=I=null,K=null,rt=a,mt=!1;do{var Tt=rt.lane&-536870913;if(Tt!==rt.lane?(ve&Tt)===Tt:(uo&Tt)===Tt){var at=rt.revertLane;if(at===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),Tt===vu&&(mt=!0);else if((uo&at)===at){rt=rt.next,at===vu&&(mt=!0);continue}else Tt={lane:0,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},K===null?(k=K=Tt,I=T):K=K.next=Tt,ae.lanes|=at,yo|=at;Tt=rt.action,Il&&u(T,Tt),T=rt.hasEagerState?rt.eagerState:u(T,Tt)}else at={lane:Tt,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},K===null?(k=K=at,I=T):K=K.next=at,ae.lanes|=Tt,yo|=Tt;rt=rt.next}while(rt!==null&&rt!==a);if(K===null?I=T:K.next=k,!Si(T,r.memoizedState)&&(Gn=!0,mt&&(u=Tu,u!==null)))throw u;r.memoizedState=T,r.baseState=I,r.baseQueue=K,f.lastRenderedState=T}return _===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Jm(r){var a=bn(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var f=u.dispatch,_=u.pending,T=a.memoizedState;if(_!==null){u.pending=null;var I=_=_.next;do T=r(T,I.action),I=I.next;while(I!==_);Si(T,a.memoizedState)||(Gn=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),u.lastRenderedState=T}return[T,f]}function FT(r,a,u){var f=ae,_=bn(),T=Xt;if(T){if(u===void 0)throw Error(i(407));u=u()}else u=a();var I=!Si((ke||_).memoizedState,u);I&&(_.memoizedState=u,Gn=!0),_=_.queue;var k=GT.bind(null,f,_,r);if(Yc(2048,8,k,[r]),_.getSnapshot!==a||I||En!==null&&En.memoizedState.tag&1){if(f.flags|=2048,Su(9,id(),qT.bind(null,f,_,u,a),null),Be===null)throw Error(i(349));T||(uo&124)!==0||HT(f,a,u)}return u}function HT(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=ae.updateQueue,a===null?(a=Ym(),ae.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function qT(r,a,u,f){a.value=u,a.getSnapshot=f,ZT(a)&&KT(r)}function GT(r,a,u){return u(function(){ZT(a)&&KT(r)})}function ZT(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!Si(r,u)}catch{return!0}}function KT(r){var a=no(r,2);a!==null&&ur(a,r,2)}function tg(r){var a=Oi();if(typeof r=="function"){var u=r;if(r=u(),Il){Vt(!0);try{u()}finally{Vt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:r},a}function $T(r,a,u,f){return r.baseState=u,Qm(r,ke,typeof f=="function"?f:pa)}function qk(r,a,u,f,_){if(sd(r))throw Error(i(485));if(r=a.action,r!==null){var T={payload:_,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){T.listeners.push(I)}};st.T!==null?u(!0):T.isTransition=!1,f(T),u=a.pending,u===null?(T.next=a.pending=T,WT(a,T)):(T.next=u.next,a.pending=u.next=T)}}function WT(r,a){var u=a.action,f=a.payload,_=r.state;if(a.isTransition){var T=st.T,I={};st.T=I;try{var k=u(_,f),K=st.S;K!==null&&K(I,k),YT(r,a,k)}catch(rt){eg(r,a,rt)}finally{st.T=T}}else try{T=u(_,f),YT(r,a,T)}catch(rt){eg(r,a,rt)}}function YT(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){XT(r,a,f)},function(f){return eg(r,a,f)}):XT(r,a,u)}function XT(r,a,u){a.status="fulfilled",a.value=u,QT(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,WT(r,u)))}function eg(r,a,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,QT(a),a=a.next;while(a!==f)}r.action=null}function QT(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function JT(r,a){return a}function tw(r,a){if(Xt){var u=Be.formState;if(u!==null){t:{var f=ae;if(Xt){if(Nt){e:{for(var _=Nt,T=Qe;_.nodeType!==8;){if(!T){_=null;break e}if(_=ss(_.nextSibling),_===null){_=null;break e}}T=_.data,_=T==="F!"||T==="F"?_:null}if(_){Nt=ss(_.nextSibling),f=_.data==="F!";break t}}Li(f)}f=!1}f&&(a=u[0])}}return u=Oi(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JT,lastRenderedState:a},u.queue=f,u=vw.bind(null,ae,f),f.dispatch=u,f=tg(!1),T=ag.bind(null,ae,!1,f.queue),f=Oi(),_={state:a,dispatch:null,action:r,pending:null},f.queue=_,u=qk.bind(null,ae,_,T,u),_.dispatch=u,f.memoizedState=r,[a,u,!1]}function ew(r){var a=bn();return nw(a,ke,r)}function nw(r,a,u){if(a=Qm(r,a,JT)[0],r=nd(pa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Wc(a)}catch(I){throw I===Hc?Yf:I}else f=a;a=bn();var _=a.queue,T=_.dispatch;return u!==a.memoizedState&&(ae.flags|=2048,Su(9,id(),Gk.bind(null,_,u),null)),[f,T,r]}function Gk(r,a){r.action=a}function iw(r){var a=bn(),u=ke;if(u!==null)return nw(a,u,r);bn(),a=a.memoizedState,u=bn();var f=u.queue.dispatch;return u.memoizedState=r,[a,f,!1]}function Su(r,a,u,f){return r={tag:r,create:u,deps:f,inst:a,next:null},a=ae.updateQueue,a===null&&(a=Ym(),ae.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,a.lastEffect=r),r}function id(){return{destroy:void 0,resource:void 0}}function rw(){return bn().memoizedState}function rd(r,a,u,f){var _=Oi();f=f===void 0?null:f,ae.flags|=r,_.memoizedState=Su(1|a,id(),u,f)}function Yc(r,a,u,f){var _=bn();f=f===void 0?null:f;var T=_.memoizedState.inst;ke!==null&&f!==null&&Gm(f,ke.memoizedState.deps)?_.memoizedState=Su(a,T,u,f):(ae.flags|=r,_.memoizedState=Su(1|a,T,u,f))}function sw(r,a){rd(8390656,8,r,a)}function aw(r,a){Yc(2048,8,r,a)}function ow(r,a){return Yc(4,2,r,a)}function lw(r,a){return Yc(4,4,r,a)}function uw(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function cw(r,a,u){u=u!=null?u.concat([r]):null,Yc(4,4,uw.bind(null,a,r),u)}function ng(){}function hw(r,a){var u=bn();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&Gm(a,f[1])?f[0]:(u.memoizedState=[r,a],r)}function fw(r,a){var u=bn();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&Gm(a,f[1]))return f[0];if(f=r(),Il){Vt(!0);try{r()}finally{Vt(!1)}}return u.memoizedState=[f,a],f}function ig(r,a,u){return u===void 0||(uo&1073741824)!==0?r.memoizedState=a:(r.memoizedState=u,r=mE(),ae.lanes|=r,yo|=r,u)}function dw(r,a,u,f){return Si(u,a)?u:wu.current!==null?(r=ig(r,u,f),Si(r,a)||(Gn=!0),r):(uo&42)===0?(Gn=!0,r.memoizedState=u):(r=mE(),ae.lanes|=r,yo|=r,a)}function pw(r,a,u,f,_){var T=gt.p;gt.p=T!==0&&8>T?T:8;var I=st.T,k={};st.T=k,ag(r,!1,a,u);try{var K=_(),rt=st.S;if(rt!==null&&rt(k,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var mt=jk(K,f);Xc(r,a,mt,lr(r))}else Xc(r,a,f,lr(r))}catch(Tt){Xc(r,a,{then:function(){},status:"rejected",reason:Tt},lr())}finally{gt.p=T,st.T=I}}function Zk(){}function rg(r,a,u,f){if(r.tag!==5)throw Error(i(476));var _=mw(r).queue;pw(r,_,a,pt,u===null?Zk:function(){return gw(r),u(f)})}function mw(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:pt},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function gw(r){var a=mw(r).next.queue;Xc(r,a,{},lr())}function sg(){return di(mh)}function yw(){return bn().memoizedState}function _w(){return bn().memoizedState}function Kk(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=lr();r=oo(u);var f=lo(a,r,u);f!==null&&(ur(f,a,u),Gc(f,a,u)),a={cache:Om()},r.payload=a;return}a=a.return}}function $k(r,a,u){var f=lr();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},sd(r)?Tw(a,u):(u=ha(r,a,u,f),u!==null&&(ur(u,r,f),ww(u,a,f)))}function vw(r,a,u){var f=lr();Xc(r,a,u,f)}function Xc(r,a,u,f){var _={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(sd(r))Tw(a,_);else{var T=r.alternate;if(r.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var I=a.lastRenderedState,k=T(I,u);if(_.hasEagerState=!0,_.eagerState=k,Si(k,I))return wl(r,a,_,0),Be===null&&Tl(),!1}catch{}finally{}if(u=ha(r,a,_,f),u!==null)return ur(u,r,f),ww(u,a,f),!0}return!1}function ag(r,a,u,f){if(f={lane:2,revertLane:zg(),action:f,hasEagerState:!1,eagerState:null,next:null},sd(r)){if(a)throw Error(i(479))}else a=ha(r,u,f,2),a!==null&&ur(a,r,2)}function sd(r){var a=r.alternate;return r===ae||a!==null&&a===ae}function Tw(r,a){Eu=Jf=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function ww(r,a,u){if((u&4194048)!==0){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,sl(r,u)}}var ad={readContext:di,use:ed,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn},Ew={readContext:di,use:ed,useCallback:function(r,a){return Oi().memoizedState=[r,a===void 0?null:a],r},useContext:di,useEffect:sw,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,rd(4194308,4,uw.bind(null,a,r),u)},useLayoutEffect:function(r,a){return rd(4194308,4,r,a)},useInsertionEffect:function(r,a){rd(4,2,r,a)},useMemo:function(r,a){var u=Oi();a=a===void 0?null:a;var f=r();if(Il){Vt(!0);try{r()}finally{Vt(!1)}}return u.memoizedState=[f,a],f},useReducer:function(r,a,u){var f=Oi();if(u!==void 0){var _=u(a);if(Il){Vt(!0);try{u(a)}finally{Vt(!1)}}}else _=a;return f.memoizedState=f.baseState=_,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:_},f.queue=r,r=r.dispatch=$k.bind(null,ae,r),[f.memoizedState,r]},useRef:function(r){var a=Oi();return r={current:r},a.memoizedState=r},useState:function(r){r=tg(r);var a=r.queue,u=vw.bind(null,ae,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:ng,useDeferredValue:function(r,a){var u=Oi();return ig(u,r,a)},useTransition:function(){var r=tg(!1);return r=pw.bind(null,ae,r.queue,!0,!1),Oi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var f=ae,_=Oi();if(Xt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),Be===null)throw Error(i(349));(ve&124)!==0||HT(f,a,u)}_.memoizedState=u;var T={value:u,getSnapshot:a};return _.queue=T,sw(GT.bind(null,f,T,r),[r]),f.flags|=2048,Su(9,id(),qT.bind(null,f,T,u,a),null),u},useId:function(){var r=Oi(),a=Be.identifierPrefix;if(Xt){var u=Z,f=P;u=(f&~(1<<32-jt(f)-1)).toString(32)+u,a="«"+a+"R"+u,u=td++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=Fk++,a="«"+a+"r"+u.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:sg,useFormState:tw,useActionState:tw,useOptimistic:function(r){var a=Oi();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=ag.bind(null,ae,!0,u),u.dispatch=a,[r,a]},useMemoCache:Xm,useCacheRefresh:function(){return Oi().memoizedState=Kk.bind(null,ae)}},bw={readContext:di,use:ed,useCallback:hw,useContext:di,useEffect:aw,useImperativeHandle:cw,useInsertionEffect:ow,useLayoutEffect:lw,useMemo:fw,useReducer:nd,useRef:rw,useState:function(){return nd(pa)},useDebugValue:ng,useDeferredValue:function(r,a){var u=bn();return dw(u,ke.memoizedState,r,a)},useTransition:function(){var r=nd(pa)[0],a=bn().memoizedState;return[typeof r=="boolean"?r:Wc(r),a]},useSyncExternalStore:FT,useId:yw,useHostTransitionStatus:sg,useFormState:ew,useActionState:ew,useOptimistic:function(r,a){var u=bn();return $T(u,ke,r,a)},useMemoCache:Xm,useCacheRefresh:_w},Wk={readContext:di,use:ed,useCallback:hw,useContext:di,useEffect:aw,useImperativeHandle:cw,useInsertionEffect:ow,useLayoutEffect:lw,useMemo:fw,useReducer:Jm,useRef:rw,useState:function(){return Jm(pa)},useDebugValue:ng,useDeferredValue:function(r,a){var u=bn();return ke===null?ig(u,r,a):dw(u,ke.memoizedState,r,a)},useTransition:function(){var r=Jm(pa)[0],a=bn().memoizedState;return[typeof r=="boolean"?r:Wc(r),a]},useSyncExternalStore:FT,useId:yw,useHostTransitionStatus:sg,useFormState:iw,useActionState:iw,useOptimistic:function(r,a){var u=bn();return ke!==null?$T(u,ke,r,a):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Xm,useCacheRefresh:_w},xu=null,Qc=0;function od(r){var a=Qc;return Qc+=1,xu===null&&(xu=[]),LT(xu,r,a)}function Jc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function ld(r,a){throw a.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Sw(r){var a=r._init;return a(r._payload)}function xw(r){function a(tt,Y){if(r){var it=tt.deletions;it===null?(tt.deletions=[Y],tt.flags|=16):it.push(Y)}}function u(tt,Y){if(!r)return null;for(;Y!==null;)a(tt,Y),Y=Y.sibling;return null}function f(tt){for(var Y=new Map;tt!==null;)tt.key!==null?Y.set(tt.key,tt):Y.set(tt.index,tt),tt=tt.sibling;return Y}function _(tt,Y){return tt=Ir(tt,Y),tt.index=0,tt.sibling=null,tt}function T(tt,Y,it){return tt.index=it,r?(it=tt.alternate,it!==null?(it=it.index,it<Y?(tt.flags|=67108866,Y):it):(tt.flags|=67108866,Y)):(tt.flags|=1048576,Y)}function I(tt){return r&&tt.alternate===null&&(tt.flags|=67108866),tt}function k(tt,Y,it,yt){return Y===null||Y.tag!==6?(Y=Bc(it,tt.mode,yt),Y.return=tt,Y):(Y=_(Y,it),Y.return=tt,Y)}function K(tt,Y,it,yt){var Ot=it.type;return Ot===D?mt(tt,Y,it.props.children,yt,it.key):Y!==null&&(Y.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===M&&Sw(Ot)===Y.type)?(Y=_(Y,it.props),Jc(Y,it),Y.return=tt,Y):(Y=bl(it.type,it.key,it.props,null,tt.mode,yt),Jc(Y,it),Y.return=tt,Y)}function rt(tt,Y,it,yt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==it.containerInfo||Y.stateNode.implementation!==it.implementation?(Y=yu(it,tt.mode,yt),Y.return=tt,Y):(Y=_(Y,it.children||[]),Y.return=tt,Y)}function mt(tt,Y,it,yt,Ot){return Y===null||Y.tag!==7?(Y=Rs(it,tt.mode,yt,Ot),Y.return=tt,Y):(Y=_(Y,it),Y.return=tt,Y)}function Tt(tt,Y,it){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Bc(""+Y,tt.mode,it),Y.return=tt,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return it=bl(Y.type,Y.key,Y.props,null,tt.mode,it),Jc(it,Y),it.return=tt,it;case x:return Y=yu(Y,tt.mode,it),Y.return=tt,Y;case M:var yt=Y._init;return Y=yt(Y._payload),Tt(tt,Y,it)}if(kt(Y)||q(Y))return Y=Rs(Y,tt.mode,it,null),Y.return=tt,Y;if(typeof Y.then=="function")return Tt(tt,od(Y),it);if(Y.$$typeof===W)return Tt(tt,$f(tt,Y),it);ld(tt,Y)}return null}function at(tt,Y,it,yt){var Ot=Y!==null?Y.key:null;if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Ot!==null?null:k(tt,Y,""+it,yt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case b:return it.key===Ot?K(tt,Y,it,yt):null;case x:return it.key===Ot?rt(tt,Y,it,yt):null;case M:return Ot=it._init,it=Ot(it._payload),at(tt,Y,it,yt)}if(kt(it)||q(it))return Ot!==null?null:mt(tt,Y,it,yt,null);if(typeof it.then=="function")return at(tt,Y,od(it),yt);if(it.$$typeof===W)return at(tt,Y,$f(tt,it),yt);ld(tt,it)}return null}function ot(tt,Y,it,yt,Ot){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return tt=tt.get(it)||null,k(Y,tt,""+yt,Ot);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case b:return tt=tt.get(yt.key===null?it:yt.key)||null,K(Y,tt,yt,Ot);case x:return tt=tt.get(yt.key===null?it:yt.key)||null,rt(Y,tt,yt,Ot);case M:var le=yt._init;return yt=le(yt._payload),ot(tt,Y,it,yt,Ot)}if(kt(yt)||q(yt))return tt=tt.get(it)||null,mt(Y,tt,yt,Ot,null);if(typeof yt.then=="function")return ot(tt,Y,it,od(yt),Ot);if(yt.$$typeof===W)return ot(tt,Y,it,$f(Y,yt),Ot);ld(Y,yt)}return null}function Wt(tt,Y,it,yt){for(var Ot=null,le=null,Ut=Y,Gt=Y=0,Kn=null;Ut!==null&&Gt<it.length;Gt++){Ut.index>Gt?(Kn=Ut,Ut=null):Kn=Ut.sibling;var Ee=at(tt,Ut,it[Gt],yt);if(Ee===null){Ut===null&&(Ut=Kn);break}r&&Ut&&Ee.alternate===null&&a(tt,Ut),Y=T(Ee,Y,Gt),le===null?Ot=Ee:le.sibling=Ee,le=Ee,Ut=Kn}if(Gt===it.length)return u(tt,Ut),Xt&&nt(tt,Gt),Ot;if(Ut===null){for(;Gt<it.length;Gt++)Ut=Tt(tt,it[Gt],yt),Ut!==null&&(Y=T(Ut,Y,Gt),le===null?Ot=Ut:le.sibling=Ut,le=Ut);return Xt&&nt(tt,Gt),Ot}for(Ut=f(Ut);Gt<it.length;Gt++)Kn=ot(Ut,tt,Gt,it[Gt],yt),Kn!==null&&(r&&Kn.alternate!==null&&Ut.delete(Kn.key===null?Gt:Kn.key),Y=T(Kn,Y,Gt),le===null?Ot=Kn:le.sibling=Kn,le=Kn);return r&&Ut.forEach(function(Ao){return a(tt,Ao)}),Xt&&nt(tt,Gt),Ot}function qt(tt,Y,it,yt){if(it==null)throw Error(i(151));for(var Ot=null,le=null,Ut=Y,Gt=Y=0,Kn=null,Ee=it.next();Ut!==null&&!Ee.done;Gt++,Ee=it.next()){Ut.index>Gt?(Kn=Ut,Ut=null):Kn=Ut.sibling;var Ao=at(tt,Ut,Ee.value,yt);if(Ao===null){Ut===null&&(Ut=Kn);break}r&&Ut&&Ao.alternate===null&&a(tt,Ut),Y=T(Ao,Y,Gt),le===null?Ot=Ao:le.sibling=Ao,le=Ao,Ut=Kn}if(Ee.done)return u(tt,Ut),Xt&&nt(tt,Gt),Ot;if(Ut===null){for(;!Ee.done;Gt++,Ee=it.next())Ee=Tt(tt,Ee.value,yt),Ee!==null&&(Y=T(Ee,Y,Gt),le===null?Ot=Ee:le.sibling=Ee,le=Ee);return Xt&&nt(tt,Gt),Ot}for(Ut=f(Ut);!Ee.done;Gt++,Ee=it.next())Ee=ot(Ut,tt,Gt,Ee.value,yt),Ee!==null&&(r&&Ee.alternate!==null&&Ut.delete(Ee.key===null?Gt:Ee.key),Y=T(Ee,Y,Gt),le===null?Ot=Ee:le.sibling=Ee,le=Ee);return r&&Ut.forEach(function(Y2){return a(tt,Y2)}),Xt&&nt(tt,Gt),Ot}function Me(tt,Y,it,yt){if(typeof it=="object"&&it!==null&&it.type===D&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case b:t:{for(var Ot=it.key;Y!==null;){if(Y.key===Ot){if(Ot=it.type,Ot===D){if(Y.tag===7){u(tt,Y.sibling),yt=_(Y,it.props.children),yt.return=tt,tt=yt;break t}}else if(Y.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===M&&Sw(Ot)===Y.type){u(tt,Y.sibling),yt=_(Y,it.props),Jc(yt,it),yt.return=tt,tt=yt;break t}u(tt,Y);break}else a(tt,Y);Y=Y.sibling}it.type===D?(yt=Rs(it.props.children,tt.mode,yt,it.key),yt.return=tt,tt=yt):(yt=bl(it.type,it.key,it.props,null,tt.mode,yt),Jc(yt,it),yt.return=tt,tt=yt)}return I(tt);case x:t:{for(Ot=it.key;Y!==null;){if(Y.key===Ot)if(Y.tag===4&&Y.stateNode.containerInfo===it.containerInfo&&Y.stateNode.implementation===it.implementation){u(tt,Y.sibling),yt=_(Y,it.children||[]),yt.return=tt,tt=yt;break t}else{u(tt,Y);break}else a(tt,Y);Y=Y.sibling}yt=yu(it,tt.mode,yt),yt.return=tt,tt=yt}return I(tt);case M:return Ot=it._init,it=Ot(it._payload),Me(tt,Y,it,yt)}if(kt(it))return Wt(tt,Y,it,yt);if(q(it)){if(Ot=q(it),typeof Ot!="function")throw Error(i(150));return it=Ot.call(it),qt(tt,Y,it,yt)}if(typeof it.then=="function")return Me(tt,Y,od(it),yt);if(it.$$typeof===W)return Me(tt,Y,$f(tt,it),yt);ld(tt,it)}return typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint"?(it=""+it,Y!==null&&Y.tag===6?(u(tt,Y.sibling),yt=_(Y,it),yt.return=tt,tt=yt):(u(tt,Y),yt=Bc(it,tt.mode,yt),yt.return=tt,tt=yt),I(tt)):u(tt,Y)}return function(tt,Y,it,yt){try{Qc=0;var Ot=Me(tt,Y,it,yt);return xu=null,Ot}catch(Ut){if(Ut===Hc||Ut===Yf)throw Ut;var le=Ri(29,Ut,null,tt.mode);return le.lanes=yt,le.return=tt,le}finally{}}}var Au=xw(!0),Aw=xw(!1),kr=ht(null),Ps=null;function co(r){var a=r.alternate;V(On,On.current&1),V(kr,r),Ps===null&&(a===null||wu.current!==null||a.memoizedState!==null)&&(Ps=r)}function Cw(r){if(r.tag===22){if(V(On,On.current),V(kr,r),Ps===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Ps=r)}}else ho()}function ho(){V(On,On.current),V(kr,kr.current)}function ma(r){bt(kr),Ps===r&&(Ps=null),bt(On)}var On=ht(0);function ud(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Yg(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function og(r,a,u,f){a=r.memoizedState,u=u(f,a),u=u==null?a:v({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var lg={enqueueSetState:function(r,a,u){r=r._reactInternals;var f=lr(),_=oo(f);_.payload=a,u!=null&&(_.callback=u),a=lo(r,_,f),a!==null&&(ur(a,r,f),Gc(a,r,f))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var f=lr(),_=oo(f);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=lo(r,_,f),a!==null&&(ur(a,r,f),Gc(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=lr(),f=oo(u);f.tag=2,a!=null&&(f.callback=a),a=lo(r,f,u),a!==null&&(ur(a,r,u),Gc(a,r,u))}};function Rw(r,a,u,f,_,T,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,T,I):a.prototype&&a.prototype.isPureReactComponent?!xi(u,f)||!xi(_,T):!0}function Iw(r,a,u,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==r&&lg.enqueueReplaceState(a,a.state,null)}function Pl(r,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(r=r.defaultProps){u===a&&(u=v({},u));for(var _ in r)u[_]===void 0&&(u[_]=r[_])}return u}var cd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Pw(r){cd(r)}function kw(r){console.error(r)}function Dw(r){cd(r)}function hd(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function Mw(r,a,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function ug(r,a,u){return u=oo(u),u.tag=3,u.payload={element:null},u.callback=function(){hd(r,a)},u}function Lw(r){return r=oo(r),r.tag=3,r}function Ow(r,a,u,f){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var T=f.value;r.payload=function(){return _(T)},r.callback=function(){Mw(a,u,f)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(r.callback=function(){Mw(a,u,f),typeof _!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function Yk(r,a,u,f,_){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&Al(a,u,_,!0),u=kr.current,u!==null){switch(u.tag){case 13:return Ps===null?Mg():u.alternate===null&&an===0&&(an=3),u.flags&=-257,u.flags|=65536,u.lanes=_,f===zm?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),Og(r,f,_)),!1;case 22:return u.flags|=65536,f===zm?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),Og(r,f,_)),!1}throw Error(i(435,u.tag))}return Og(r,f,_),Mg(),!1}if(Xt)return a=kr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=_,f!==qn&&(r=Error(i(422),{cause:f}),so(Ai(r,u)))):(f!==qn&&(a=Error(i(423),{cause:f}),so(Ai(a,u))),r=r.current.alternate,r.flags|=65536,_&=-_,r.lanes|=_,f=Ai(f,u),_=ug(r.stateNode,f,_),jm(r,_),an!==4&&(an=2)),!1;var T=Error(i(520),{cause:f});if(T=Ai(T,u),ah===null?ah=[T]:ah.push(T),an!==4&&(an=2),a===null)return!0;f=Ai(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=_&-_,u.lanes|=r,r=ug(u.stateNode,f,r),jm(u,r),!1;case 1:if(a=u.type,T=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(_o===null||!_o.has(T))))return u.flags|=65536,_&=-_,u.lanes|=_,_=Lw(_),Ow(_,r,u,f),jm(u,_),!1}u=u.return}while(u!==null);return!1}var Nw=Error(i(461)),Gn=!1;function ei(r,a,u,f){a.child=r===null?Aw(a,null,u,f):Au(a,r.child,u,f)}function Vw(r,a,u,f,_){u=u.render;var T=a.ref;if("ref"in f){var I={};for(var k in f)k!=="ref"&&(I[k]=f[k])}else I=f;return Cl(a),f=Zm(r,a,u,I,T,_),k=Km(),r!==null&&!Gn?($m(r,a,_),ga(r,a,_)):(Xt&&k&&Et(a),a.flags|=1,ei(r,a,f,_),a.child)}function zw(r,a,u,f,_){if(r===null){var T=u.type;return typeof T=="function"&&!gu(T)&&T.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=T,Uw(r,a,T,f,_)):(r=bl(u.type,null,f,a,a.mode,_),r.ref=a.ref,r.return=a,a.child=r)}if(T=r.child,!yg(r,_)){var I=T.memoizedProps;if(u=u.compare,u=u!==null?u:xi,u(I,f)&&r.ref===a.ref)return ga(r,a,_)}return a.flags|=1,r=Ir(T,f),r.ref=a.ref,r.return=a,a.child=r}function Uw(r,a,u,f,_){if(r!==null){var T=r.memoizedProps;if(xi(T,f)&&r.ref===a.ref)if(Gn=!1,a.pendingProps=f=T,yg(r,_))(r.flags&131072)!==0&&(Gn=!0);else return a.lanes=r.lanes,ga(r,a,_)}return cg(r,a,u,f,_)}function Bw(r,a,u){var f=a.pendingProps,_=f.children,T=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=T!==null?T.baseLanes|u:u,r!==null){for(_=a.child=r.child,T=0;_!==null;)T=T|_.lanes|_.childLanes,_=_.sibling;a.childLanes=T&~f}else a.childLanes=0,a.child=null;return jw(r,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Wf(a,T!==null?T.cachePool:null),T!==null?UT(a,T):Hm(),Cw(a);else return a.lanes=a.childLanes=536870912,jw(r,a,T!==null?T.baseLanes|u:u,u)}else T!==null?(Wf(a,T.cachePool),UT(a,T),ho(),a.memoizedState=null):(r!==null&&Wf(a,null),Hm(),ho());return ei(r,a,_,u),a.child}function jw(r,a,u,f){var _=Vm();return _=_===null?null:{parent:Ln._currentValue,pool:_},a.memoizedState={baseLanes:u,cachePool:_},r!==null&&Wf(a,null),Hm(),Cw(a),r!==null&&Al(r,a,f,!0),null}function fd(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(a.flags|=4194816)}}function cg(r,a,u,f,_){return Cl(a),u=Zm(r,a,u,f,void 0,_),f=Km(),r!==null&&!Gn?($m(r,a,_),ga(r,a,_)):(Xt&&f&&Et(a),a.flags|=1,ei(r,a,u,_),a.child)}function Fw(r,a,u,f,_,T){return Cl(a),a.updateQueue=null,u=jT(a,f,u,_),BT(r),f=Km(),r!==null&&!Gn?($m(r,a,T),ga(r,a,T)):(Xt&&f&&Et(a),a.flags|=1,ei(r,a,u,T),a.child)}function Hw(r,a,u,f,_){if(Cl(a),a.stateNode===null){var T=fa,I=u.contextType;typeof I=="object"&&I!==null&&(T=di(I)),T=new u(f,T),a.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=lg,a.stateNode=T,T._reactInternals=a,T=a.stateNode,T.props=f,T.state=a.memoizedState,T.refs={},Um(a),I=u.contextType,T.context=typeof I=="object"&&I!==null?di(I):fa,T.state=a.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(og(a,u,I,f),T.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(I=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),I!==T.state&&lg.enqueueReplaceState(T,T.state,null),Kc(a,f,T,_),Zc(),T.state=a.memoizedState),typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){T=a.stateNode;var k=a.memoizedProps,K=Pl(u,k);T.props=K;var rt=T.context,mt=u.contextType;I=fa,typeof mt=="object"&&mt!==null&&(I=di(mt));var Tt=u.getDerivedStateFromProps;mt=typeof Tt=="function"||typeof T.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,mt||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k||rt!==I)&&Iw(a,T,f,I),ao=!1;var at=a.memoizedState;T.state=at,Kc(a,f,T,_),Zc(),rt=a.memoizedState,k||at!==rt||ao?(typeof Tt=="function"&&(og(a,u,Tt,f),rt=a.memoizedState),(K=ao||Rw(a,u,K,f,at,rt,I))?(mt||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=rt),T.props=f,T.state=rt,T.context=I,f=K):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,Bm(r,a),I=a.memoizedProps,mt=Pl(u,I),T.props=mt,Tt=a.pendingProps,at=T.context,rt=u.contextType,K=fa,typeof rt=="object"&&rt!==null&&(K=di(rt)),k=u.getDerivedStateFromProps,(rt=typeof k=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(I!==Tt||at!==K)&&Iw(a,T,f,K),ao=!1,at=a.memoizedState,T.state=at,Kc(a,f,T,_),Zc();var ot=a.memoizedState;I!==Tt||at!==ot||ao||r!==null&&r.dependencies!==null&&Kf(r.dependencies)?(typeof k=="function"&&(og(a,u,k,f),ot=a.memoizedState),(mt=ao||Rw(a,u,mt,f,at,ot,K)||r!==null&&r.dependencies!==null&&Kf(r.dependencies))?(rt||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,ot,K),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,ot,K)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||I===r.memoizedProps&&at===r.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&at===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ot),T.props=f,T.state=ot,T.context=K,f=mt):(typeof T.componentDidUpdate!="function"||I===r.memoizedProps&&at===r.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&at===r.memoizedState||(a.flags|=1024),f=!1)}return T=f,fd(r,a),f=(a.flags&128)!==0,T||f?(T=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:T.render(),a.flags|=1,r!==null&&f?(a.child=Au(a,r.child,null,_),a.child=Au(a,null,u,_)):ei(r,a,u,_),a.memoizedState=T.state,r=a.child):r=ga(r,a,_),r}function qw(r,a,u,f){return ro(),a.flags|=256,ei(r,a,u,f),a.child}var hg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fg(r){return{baseLanes:r,cachePool:kT()}}function dg(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=Dr),r}function Gw(r,a,u){var f=a.pendingProps,_=!1,T=(a.flags&128)!==0,I;if((I=T)||(I=r!==null&&r.memoizedState===null?!1:(On.current&2)!==0),I&&(_=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,r===null){if(Xt){if(_?co(a):ho(),Xt){var k=Nt,K;if(K=k){t:{for(K=k,k=Qe;K.nodeType!==8;){if(!k){k=null;break t}if(K=ss(K.nextSibling),K===null){k=null;break t}}k=K}k!==null?(a.memoizedState={dehydrated:k,treeContext:A!==null?{id:P,overflow:Z}:null,retryLane:536870912,hydrationErrors:null},K=Ri(18,null,null,0),K.stateNode=k,K.return=a,a.child=K,Lt=a,Nt=null,K=!0):K=!1}K||Li(a)}if(k=a.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Yg(k)?a.lanes=32:a.lanes=536870912,null;ma(a)}return k=f.children,f=f.fallback,_?(ho(),_=a.mode,k=dd({mode:"hidden",children:k},_),f=Rs(f,_,u,null),k.return=a,f.return=a,k.sibling=f,a.child=k,_=a.child,_.memoizedState=fg(u),_.childLanes=dg(r,I,u),a.memoizedState=hg,f):(co(a),pg(a,k))}if(K=r.memoizedState,K!==null&&(k=K.dehydrated,k!==null)){if(T)a.flags&256?(co(a),a.flags&=-257,a=mg(r,a,u)):a.memoizedState!==null?(ho(),a.child=r.child,a.flags|=128,a=null):(ho(),_=f.fallback,k=a.mode,f=dd({mode:"visible",children:f.children},k),_=Rs(_,k,u,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,Au(a,r.child,null,u),f=a.child,f.memoizedState=fg(u),f.childLanes=dg(r,I,u),a.memoizedState=hg,a=_);else if(co(a),Yg(k)){if(I=k.nextSibling&&k.nextSibling.dataset,I)var rt=I.dgst;I=rt,f=Error(i(419)),f.stack="",f.digest=I,so({value:f,source:null,stack:null}),a=mg(r,a,u)}else if(Gn||Al(r,a,u,!1),I=(u&r.childLanes)!==0,Gn||I){if(I=Be,I!==null&&(f=u&-u,f=(f&42)!==0?1:gs(f),f=(f&(I.suspendedLanes|u))!==0?0:f,f!==0&&f!==K.retryLane))throw K.retryLane=f,no(r,f),ur(I,r,f),Nw;k.data==="$?"||Mg(),a=mg(r,a,u)}else k.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=K.treeContext,Nt=ss(k.nextSibling),Lt=a,Xt=!0,Ue=null,Qe=!1,r!==null&&(y[E++]=P,y[E++]=Z,y[E++]=A,P=r.id,Z=r.overflow,A=a),a=pg(a,f.children),a.flags|=4096);return a}return _?(ho(),_=f.fallback,k=a.mode,K=r.child,rt=K.sibling,f=Ir(K,{mode:"hidden",children:f.children}),f.subtreeFlags=K.subtreeFlags&65011712,rt!==null?_=Ir(rt,_):(_=Rs(_,k,u,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,k=r.child.memoizedState,k===null?k=fg(u):(K=k.cachePool,K!==null?(rt=Ln._currentValue,K=K.parent!==rt?{parent:rt,pool:rt}:K):K=kT(),k={baseLanes:k.baseLanes|u,cachePool:K}),_.memoizedState=k,_.childLanes=dg(r,I,u),a.memoizedState=hg,f):(co(a),u=r.child,r=u.sibling,u=Ir(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,r!==null&&(I=a.deletions,I===null?(a.deletions=[r],a.flags|=16):I.push(r)),a.child=u,a.memoizedState=null,u)}function pg(r,a){return a=dd({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function dd(r,a){return r=Ri(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function mg(r,a,u){return Au(a,r.child,null,u),r=pg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Zw(r,a,u){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),xl(r.return,a,u)}function gg(r,a,u,f,_){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:_}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=u,T.tailMode=_)}function Kw(r,a,u){var f=a.pendingProps,_=f.revealOrder,T=f.tail;if(ei(r,a,f.children,u),f=On.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Zw(r,u,a);else if(r.tag===19)Zw(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(V(On,f),_){case"forwards":for(u=a.child,_=null;u!==null;)r=u.alternate,r!==null&&ud(r)===null&&(_=u),u=u.sibling;u=_,u===null?(_=a.child,a.child=null):(_=u.sibling,u.sibling=null),gg(a,!1,_,u,T);break;case"backwards":for(u=null,_=a.child,a.child=null;_!==null;){if(r=_.alternate,r!==null&&ud(r)===null){a.child=_;break}r=_.sibling,_.sibling=u,u=_,_=r}gg(a,!0,u,null,T);break;case"together":gg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ga(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),yo|=a.lanes,(u&a.childLanes)===0)if(r!==null){if(Al(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,u=Ir(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=Ir(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function yg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Kf(r)))}function Xk(r,a,u){switch(a.tag){case 3:ee(a,a.stateNode.containerInfo),Is(a,Ln,r.memoizedState.cache),ro();break;case 27:case 5:Pn(a);break;case 4:ee(a,a.stateNode.containerInfo);break;case 10:Is(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(co(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Gw(r,a,u):(co(a),r=ga(r,a,u),r!==null?r.sibling:null);co(a);break;case 19:var _=(r.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(Al(r,a,u,!1),f=(u&a.childLanes)!==0),_){if(f)return Kw(r,a,u);a.flags|=128}if(_=a.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),V(On,On.current),f)break;return null;case 22:case 23:return a.lanes=0,Bw(r,a,u);case 24:Is(a,Ln,r.memoizedState.cache)}return ga(r,a,u)}function $w(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)Gn=!0;else{if(!yg(r,u)&&(a.flags&128)===0)return Gn=!1,Xk(r,a,u);Gn=(r.flags&131072)!==0}else Gn=!1,Xt&&(a.flags&1048576)!==0&&lt(a,h,a.index);switch(a.lanes=0,a.tag){case 16:t:{r=a.pendingProps;var f=a.elementType,_=f._init;if(f=_(f._payload),a.type=f,typeof f=="function")gu(f)?(r=Pl(f,r),a.tag=1,a=Hw(null,a,f,r,u)):(a.tag=0,a=cg(null,a,f,r,u));else{if(f!=null){if(_=f.$$typeof,_===dt){a.tag=11,a=Vw(null,a,f,r,u);break t}else if(_===j){a.tag=14,a=zw(null,a,f,r,u);break t}}throw a=At(f)||f,Error(i(306,a,""))}}return a;case 0:return cg(r,a,a.type,a.pendingProps,u);case 1:return f=a.type,_=Pl(f,a.pendingProps),Hw(r,a,f,_,u);case 3:t:{if(ee(a,a.stateNode.containerInfo),r===null)throw Error(i(387));f=a.pendingProps;var T=a.memoizedState;_=T.element,Bm(r,a),Kc(a,f,null,u);var I=a.memoizedState;if(f=I.cache,Is(a,Ln,f),f!==T.cache&&_u(a,[Ln],u,!0),Zc(),f=I.element,T.isDehydrated)if(T={element:f,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){a=qw(r,a,f,u);break t}else if(f!==_){_=Ai(Error(i(424)),a),so(_),a=qw(r,a,f,u);break t}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Nt=ss(r.firstChild),Lt=a,Xt=!0,Ue=null,Qe=!0,u=Aw(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ro(),f===_){a=ga(r,a,u);break t}ei(r,a,f,u)}a=a.child}return a;case 26:return fd(r,a),r===null?(u=QE(a.type,null,a.pendingProps,null))?a.memoizedState=u:Xt||(u=a.type,r=a.pendingProps,f=Cd(St.current).createElement(u),f[cn]=a,f[rn]=r,ii(f,u,r),Xe(f),a.stateNode=f):a.memoizedState=QE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Pn(a),r===null&&Xt&&(f=a.stateNode=WE(a.type,a.pendingProps,St.current),Lt=a,Qe=!0,_=Nt,wo(a.type)?(Xg=_,Nt=ss(f.firstChild)):Nt=_),ei(r,a,a.pendingProps.children,u),fd(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Xt&&((_=f=Nt)&&(f=x2(f,a.type,a.pendingProps,Qe),f!==null?(a.stateNode=f,Lt=a,Nt=ss(f.firstChild),Qe=!1,_=!0):_=!1),_||Li(a)),Pn(a),_=a.type,T=a.pendingProps,I=r!==null?r.memoizedProps:null,f=T.children,Kg(_,T)?f=null:I!==null&&Kg(_,I)&&(a.flags|=32),a.memoizedState!==null&&(_=Zm(r,a,Hk,null,null,u),mh._currentValue=_),fd(r,a),ei(r,a,f,u),a.child;case 6:return r===null&&Xt&&((r=u=Nt)&&(u=A2(u,a.pendingProps,Qe),u!==null?(a.stateNode=u,Lt=a,Nt=null,r=!0):r=!1),r||Li(a)),null;case 13:return Gw(r,a,u);case 4:return ee(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=Au(a,null,f,u):ei(r,a,f,u),a.child;case 11:return Vw(r,a,a.type,a.pendingProps,u);case 7:return ei(r,a,a.pendingProps,u),a.child;case 8:return ei(r,a,a.pendingProps.children,u),a.child;case 12:return ei(r,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Is(a,a.type,f.value),ei(r,a,f.children,u),a.child;case 9:return _=a.type._context,f=a.pendingProps.children,Cl(a),_=di(_),f=f(_),a.flags|=1,ei(r,a,f,u),a.child;case 14:return zw(r,a,a.type,a.pendingProps,u);case 15:return Uw(r,a,a.type,a.pendingProps,u);case 19:return Kw(r,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},r===null?(u=dd(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=Ir(r.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return Bw(r,a,u);case 24:return Cl(a),f=di(Ln),r===null?(_=Vm(),_===null&&(_=Be,T=Om(),_.pooledCache=T,T.refCount++,T!==null&&(_.pooledCacheLanes|=u),_=T),a.memoizedState={parent:f,cache:_},Um(a),Is(a,Ln,_)):((r.lanes&u)!==0&&(Bm(r,a),Kc(a,null,null,u),Zc()),_=r.memoizedState,T=a.memoizedState,_.parent!==f?(_={parent:f,cache:f},a.memoizedState=_,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=_),Is(a,Ln,f)):(f=T.cache,Is(a,Ln,f),f!==_.cache&&_u(a,[Ln],u,!0))),ei(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ya(r){r.flags|=4}function Ww(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!ib(a)){if(a=kr.current,a!==null&&((ve&4194048)===ve?Ps!==null:(ve&62914560)!==ve&&(ve&536870912)===0||a!==Ps))throw qc=zm,DT;r.flags|=8192}}function pd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Oa():536870912,r.lanes|=a,Pu|=a)}function th(r,a){if(!Xt)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Je(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(a)for(var _=r.child;_!==null;)u|=_.lanes|_.childLanes,f|=_.subtreeFlags&65011712,f|=_.flags&65011712,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)u|=_.lanes|_.childLanes,f|=_.subtreeFlags,f|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=f,r.childLanes=u,a}function Qk(r,a,u){var f=a.pendingProps;switch(Pt(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(a),null;case 1:return Je(a),null;case 3:return u=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),is(Ln),gn(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Sl(a)?ya(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zf())),Je(a),null;case 26:return u=a.memoizedState,r===null?(ya(a),u!==null?(Je(a),Ww(a,u)):(Je(a),a.flags&=-16777217)):u?u!==r.memoizedState?(ya(a),Je(a),Ww(a,u)):(Je(a),a.flags&=-16777217):(r.memoizedProps!==f&&ya(a),Je(a),a.flags&=-16777217),null;case 27:zn(a),u=St.current;var _=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==f&&ya(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Je(a),null}r=Ct.current,Sl(a)?qf(a):(r=WE(_,f,u),a.stateNode=r,ya(a))}return Je(a),null;case 5:if(zn(a),u=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&ya(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Je(a),null}if(r=Ct.current,Sl(a))qf(a);else{switch(_=Cd(St.current),r){case 1:r=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?_.createElement("select",{is:f.is}):_.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?_.createElement(u,{is:f.is}):_.createElement(u)}}r[cn]=a,r[rn]=f;t:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)r.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break t;for(;_.sibling===null;){if(_.return===null||_.return===a)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=r;t:switch(ii(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ya(a)}}return Je(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&ya(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(r=St.current,Sl(a)){if(r=a.stateNode,u=a.memoizedProps,f=null,_=Lt,_!==null)switch(_.tag){case 27:case 5:f=_.memoizedProps}r[cn]=a,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||FE(r.nodeValue,u)),r||Li(a)}else r=Cd(r).createTextNode(f),r[cn]=a,a.stateNode=r}return Je(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(_=Sl(a),f!==null&&f.dehydrated!==null){if(r===null){if(!_)throw Error(i(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[cn]=a}else ro(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Je(a),_=!1}else _=Zf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=_),_=!0;if(!_)return a.flags&256?(ma(a),a):(ma(a),null)}if(ma(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=a.child,_=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(_=f.alternate.memoizedState.cachePool.pool);var T=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),T!==_&&(f.flags|=2048)}return u!==r&&u&&(a.child.flags|=8192),pd(a,a.updateQueue),Je(a),null;case 4:return gn(),r===null&&Fg(a.stateNode.containerInfo),Je(a),null;case 10:return is(a.type),Je(a),null;case 19:if(bt(On),_=a.memoizedState,_===null)return Je(a),null;if(f=(a.flags&128)!==0,T=_.rendering,T===null)if(f)th(_,!1);else{if(an!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(T=ud(r),T!==null){for(a.flags|=128,th(_,!1),r=T.updateQueue,a.updateQueue=r,pd(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)Uc(u,r),u=u.sibling;return V(On,On.current&1|2),a.child}r=r.sibling}_.tail!==null&&kn()>yd&&(a.flags|=128,f=!0,th(_,!1),a.lanes=4194304)}else{if(!f)if(r=ud(T),r!==null){if(a.flags|=128,f=!0,r=r.updateQueue,a.updateQueue=r,pd(a,r),th(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!Xt)return Je(a),null}else 2*kn()-_.renderingStartTime>yd&&u!==536870912&&(a.flags|=128,f=!0,th(_,!1),a.lanes=4194304);_.isBackwards?(T.sibling=a.child,a.child=T):(r=_.last,r!==null?r.sibling=T:a.child=T,_.last=T)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=kn(),a.sibling=null,r=On.current,V(On,f?r&1|2:r&1),a):(Je(a),null);case 22:case 23:return ma(a),qm(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Je(a),a.subtreeFlags&6&&(a.flags|=8192)):Je(a),u=a.updateQueue,u!==null&&pd(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),r!==null&&bt(Rl),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),is(Ln),Je(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Jk(r,a){switch(Pt(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return is(Ln),gn(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return zn(a),null;case 13:if(ma(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ro()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return bt(On),null;case 4:return gn(),null;case 10:return is(a.type),null;case 22:case 23:return ma(a),qm(),r!==null&&bt(Rl),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return is(Ln),null;case 25:return null;default:return null}}function Yw(r,a){switch(Pt(a),a.tag){case 3:is(Ln),gn();break;case 26:case 27:case 5:zn(a);break;case 4:gn();break;case 13:ma(a);break;case 19:bt(On);break;case 10:is(a.type);break;case 22:case 23:ma(a),qm(),r!==null&&bt(Rl);break;case 24:is(Ln)}}function eh(r,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&r)===r){f=void 0;var T=u.create,I=u.inst;f=T(),I.destroy=f}u=u.next}while(u!==_)}}catch(k){Oe(a,a.return,k)}}function fo(r,a,u){try{var f=a.updateQueue,_=f!==null?f.lastEffect:null;if(_!==null){var T=_.next;f=T;do{if((f.tag&r)===r){var I=f.inst,k=I.destroy;if(k!==void 0){I.destroy=void 0,_=a;var K=u,rt=k;try{rt()}catch(mt){Oe(_,K,mt)}}}f=f.next}while(f!==T)}}catch(mt){Oe(a,a.return,mt)}}function Xw(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{zT(a,u)}catch(f){Oe(r,r.return,f)}}}function Qw(r,a,u){u.props=Pl(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){Oe(r,a,f)}}function nh(r,a){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(_){Oe(r,a,_)}}function ks(r,a){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(_){Oe(r,a,_)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){Oe(r,a,_)}else u.current=null}function Jw(r){var a=r.type,u=r.memoizedProps,f=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(_){Oe(r,r.return,_)}}function _g(r,a,u){try{var f=r.stateNode;T2(f,r.type,u,a),f[rn]=a}catch(_){Oe(r,r.return,_)}}function tE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&wo(r.type)||r.tag===4}function vg(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||tE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&wo(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Tg(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(r),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Ad));else if(f!==4&&(f===27&&wo(r.type)&&(u=r.stateNode,a=null),r=r.child,r!==null))for(Tg(r,a,u),r=r.sibling;r!==null;)Tg(r,a,u),r=r.sibling}function md(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(f!==4&&(f===27&&wo(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(md(r,a,u),r=r.sibling;r!==null;)md(r,a,u),r=r.sibling}function eE(r){var a=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,_=a.attributes;_.length;)a.removeAttributeNode(_[0]);ii(a,f,u),a[cn]=r,a[rn]=u}catch(T){Oe(r,r.return,T)}}var _a=!1,dn=!1,wg=!1,nE=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function t2(r,a){if(r=r.containerInfo,Gg=Md,r=yl(r),_l(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var _=f.anchorOffset,T=f.focusNode;f=f.focusOffset;try{u.nodeType,T.nodeType}catch{u=null;break t}var I=0,k=-1,K=-1,rt=0,mt=0,Tt=r,at=null;e:for(;;){for(var ot;Tt!==u||_!==0&&Tt.nodeType!==3||(k=I+_),Tt!==T||f!==0&&Tt.nodeType!==3||(K=I+f),Tt.nodeType===3&&(I+=Tt.nodeValue.length),(ot=Tt.firstChild)!==null;)at=Tt,Tt=ot;for(;;){if(Tt===r)break e;if(at===u&&++rt===_&&(k=I),at===T&&++mt===f&&(K=I),(ot=Tt.nextSibling)!==null)break;Tt=at,at=Tt.parentNode}Tt=ot}u=k===-1||K===-1?null:{start:k,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(Zg={focusedElem:r,selectionRange:u},Md=!1,Zn=a;Zn!==null;)if(a=Zn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Zn=r;else for(;Zn!==null;){switch(a=Zn,T=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&T!==null){r=void 0,u=a,_=T.memoizedProps,T=T.memoizedState,f=u.stateNode;try{var Wt=Pl(u.type,_,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(Wt,T),f.__reactInternalSnapshotBeforeUpdate=r}catch(qt){Oe(u,u.return,qt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)Wg(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Wg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Zn=r;break}Zn=a.return}}function iE(r,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:po(r,u),f&4&&eh(5,u);break;case 1:if(po(r,u),f&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(I){Oe(u,u.return,I)}else{var _=Pl(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(_,a,r.__reactInternalSnapshotBeforeUpdate)}catch(I){Oe(u,u.return,I)}}f&64&&Xw(u),f&512&&nh(u,u.return);break;case 3:if(po(r,u),f&64&&(r=u.updateQueue,r!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{zT(r,a)}catch(I){Oe(u,u.return,I)}}break;case 27:a===null&&f&4&&eE(u);case 26:case 5:po(r,u),a===null&&f&4&&Jw(u),f&512&&nh(u,u.return);break;case 12:po(r,u);break;case 13:po(r,u),f&4&&aE(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=u2.bind(null,u),C2(r,u))));break;case 22:if(f=u.memoizedState!==null||_a,!f){a=a!==null&&a.memoizedState!==null||dn,_=_a;var T=dn;_a=f,(dn=a)&&!T?mo(r,u,(u.subtreeFlags&8772)!==0):po(r,u),_a=_,dn=T}break;case 30:break;default:po(r,u)}}function rE(r){var a=r.alternate;a!==null&&(r.alternate=null,rE(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Gr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ke=null,Ni=!1;function va(r,a,u){for(u=u.child;u!==null;)sE(r,a,u),u=u.sibling}function sE(r,a,u){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ut,u)}catch{}switch(u.tag){case 26:dn||ks(u,a),va(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:dn||ks(u,a);var f=Ke,_=Ni;wo(u.type)&&(Ke=u.stateNode,Ni=!1),va(r,a,u),hh(u.stateNode),Ke=f,Ni=_;break;case 5:dn||ks(u,a);case 6:if(f=Ke,_=Ni,Ke=null,va(r,a,u),Ke=f,Ni=_,Ke!==null)if(Ni)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(u.stateNode)}catch(T){Oe(u,a,T)}else try{Ke.removeChild(u.stateNode)}catch(T){Oe(u,a,T)}break;case 18:Ke!==null&&(Ni?(r=Ke,KE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),vh(r)):KE(Ke,u.stateNode));break;case 4:f=Ke,_=Ni,Ke=u.stateNode.containerInfo,Ni=!0,va(r,a,u),Ke=f,Ni=_;break;case 0:case 11:case 14:case 15:dn||fo(2,u,a),dn||fo(4,u,a),va(r,a,u);break;case 1:dn||(ks(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Qw(u,a,f)),va(r,a,u);break;case 21:va(r,a,u);break;case 22:dn=(f=dn)||u.memoizedState!==null,va(r,a,u),dn=f;break;default:va(r,a,u)}}function aE(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{vh(r)}catch(u){Oe(a,a.return,u)}}function e2(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new nE),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new nE),a;default:throw Error(i(435,r.tag))}}function Eg(r,a){var u=e2(r);a.forEach(function(f){var _=c2.bind(null,r,f);u.has(f)||(u.add(f),f.then(_,_))})}function sr(r,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var _=u[f],T=r,I=a,k=I;t:for(;k!==null;){switch(k.tag){case 27:if(wo(k.type)){Ke=k.stateNode,Ni=!1;break t}break;case 5:Ke=k.stateNode,Ni=!1;break t;case 3:case 4:Ke=k.stateNode.containerInfo,Ni=!0;break t}k=k.return}if(Ke===null)throw Error(i(160));sE(T,I,_),Ke=null,Ni=!1,T=_.alternate,T!==null&&(T.return=null),_.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)oE(a,r),a=a.sibling}var rs=null;function oE(r,a){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:sr(a,r),ar(r),f&4&&(fo(3,r,r.return),eh(3,r),fo(5,r,r.return));break;case 1:sr(a,r),ar(r),f&512&&(dn||u===null||ks(u,u.return)),f&64&&_a&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var _=rs;if(sr(a,r),ar(r),f&512&&(dn||u===null||ks(u,u.return)),f&4){var T=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){t:{f=r.type,u=r.memoizedProps,_=_.ownerDocument||_;e:switch(f){case"title":T=_.getElementsByTagName("title")[0],(!T||T[_s]||T[cn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=_.createElement(f),_.head.insertBefore(T,_.querySelector("head > title"))),ii(T,f,u),T[cn]=r,Xe(T),f=T;break t;case"link":var I=eb("link","href",_).get(f+(u.href||""));if(I){for(var k=0;k<I.length;k++)if(T=I[k],T.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&T.getAttribute("rel")===(u.rel==null?null:u.rel)&&T.getAttribute("title")===(u.title==null?null:u.title)&&T.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(k,1);break e}}T=_.createElement(f),ii(T,f,u),_.head.appendChild(T);break;case"meta":if(I=eb("meta","content",_).get(f+(u.content||""))){for(k=0;k<I.length;k++)if(T=I[k],T.getAttribute("content")===(u.content==null?null:""+u.content)&&T.getAttribute("name")===(u.name==null?null:u.name)&&T.getAttribute("property")===(u.property==null?null:u.property)&&T.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&T.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(k,1);break e}}T=_.createElement(f),ii(T,f,u),_.head.appendChild(T);break;default:throw Error(i(468,f))}T[cn]=r,Xe(T),f=T}r.stateNode=f}else nb(_,r.type,r.stateNode);else r.stateNode=tb(_,f,r.memoizedProps);else T!==f?(T===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):T.count--,f===null?nb(_,r.type,r.stateNode):tb(_,f,r.memoizedProps)):f===null&&r.stateNode!==null&&_g(r,r.memoizedProps,u.memoizedProps)}break;case 27:sr(a,r),ar(r),f&512&&(dn||u===null||ks(u,u.return)),u!==null&&f&4&&_g(r,r.memoizedProps,u.memoizedProps);break;case 5:if(sr(a,r),ar(r),f&512&&(dn||u===null||ks(u,u.return)),r.flags&32){_=r.stateNode;try{jn(_,"")}catch(ot){Oe(r,r.return,ot)}}f&4&&r.stateNode!=null&&(_=r.memoizedProps,_g(r,_,u!==null?u.memoizedProps:_)),f&1024&&(wg=!0);break;case 6:if(sr(a,r),ar(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(ot){Oe(r,r.return,ot)}}break;case 3:if(Pd=null,_=rs,rs=Rd(a.containerInfo),sr(a,r),rs=_,ar(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{vh(a.containerInfo)}catch(ot){Oe(r,r.return,ot)}wg&&(wg=!1,lE(r));break;case 4:f=rs,rs=Rd(r.stateNode.containerInfo),sr(a,r),ar(r),rs=f;break;case 12:sr(a,r),ar(r);break;case 13:sr(a,r),ar(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Rg=kn()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Eg(r,f)));break;case 22:_=r.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,rt=_a,mt=dn;if(_a=rt||_,dn=mt||K,sr(a,r),dn=mt,_a=rt,ar(r),f&8192)t:for(a=r.stateNode,a._visibility=_?a._visibility&-2:a._visibility|1,_&&(u===null||K||_a||dn||kl(r)),u=null,a=r;;){if(a.tag===5||a.tag===26){if(u===null){K=u=a;try{if(T=K.stateNode,_)I=T.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{k=K.stateNode;var Tt=K.memoizedProps.style,at=Tt!=null&&Tt.hasOwnProperty("display")?Tt.display:null;k.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(ot){Oe(K,K.return,ot)}}}else if(a.tag===6){if(u===null){K=a;try{K.stateNode.nodeValue=_?"":K.memoizedProps}catch(ot){Oe(K,K.return,ot)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Eg(r,u))));break;case 19:sr(a,r),ar(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Eg(r,f)));break;case 30:break;case 21:break;default:sr(a,r),ar(r)}}function ar(r){var a=r.flags;if(a&2){try{for(var u,f=r.return;f!==null;){if(tE(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var _=u.stateNode,T=vg(r);md(r,T,_);break;case 5:var I=u.stateNode;u.flags&32&&(jn(I,""),u.flags&=-33);var k=vg(r);md(r,k,I);break;case 3:case 4:var K=u.stateNode.containerInfo,rt=vg(r);Tg(r,rt,K);break;default:throw Error(i(161))}}catch(mt){Oe(r,r.return,mt)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function lE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;lE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function po(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)iE(r,a.alternate,a),a=a.sibling}function kl(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:fo(4,a,a.return),kl(a);break;case 1:ks(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Qw(a,a.return,u),kl(a);break;case 27:hh(a.stateNode);case 26:case 5:ks(a,a.return),kl(a);break;case 22:a.memoizedState===null&&kl(a);break;case 30:kl(a);break;default:kl(a)}r=r.sibling}}function mo(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,_=r,T=a,I=T.flags;switch(T.tag){case 0:case 11:case 15:mo(_,T,u),eh(4,T);break;case 1:if(mo(_,T,u),f=T,_=f.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(rt){Oe(f,f.return,rt)}if(f=T,_=f.updateQueue,_!==null){var k=f.stateNode;try{var K=_.shared.hiddenCallbacks;if(K!==null)for(_.shared.hiddenCallbacks=null,_=0;_<K.length;_++)VT(K[_],k)}catch(rt){Oe(f,f.return,rt)}}u&&I&64&&Xw(T),nh(T,T.return);break;case 27:eE(T);case 26:case 5:mo(_,T,u),u&&f===null&&I&4&&Jw(T),nh(T,T.return);break;case 12:mo(_,T,u);break;case 13:mo(_,T,u),u&&I&4&&aE(_,T);break;case 22:T.memoizedState===null&&mo(_,T,u),nh(T,T.return);break;case 30:break;default:mo(_,T,u)}a=a.sibling}}function bg(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&jc(u))}function Sg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&jc(r))}function Ds(r,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)uE(r,a,u,f),a=a.sibling}function uE(r,a,u,f){var _=a.flags;switch(a.tag){case 0:case 11:case 15:Ds(r,a,u,f),_&2048&&eh(9,a);break;case 1:Ds(r,a,u,f);break;case 3:Ds(r,a,u,f),_&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&jc(r)));break;case 12:if(_&2048){Ds(r,a,u,f),r=a.stateNode;try{var T=a.memoizedProps,I=T.id,k=T.onPostCommit;typeof k=="function"&&k(I,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(K){Oe(a,a.return,K)}}else Ds(r,a,u,f);break;case 13:Ds(r,a,u,f);break;case 23:break;case 22:T=a.stateNode,I=a.alternate,a.memoizedState!==null?T._visibility&2?Ds(r,a,u,f):ih(r,a):T._visibility&2?Ds(r,a,u,f):(T._visibility|=2,Cu(r,a,u,f,(a.subtreeFlags&10256)!==0)),_&2048&&bg(I,a);break;case 24:Ds(r,a,u,f),_&2048&&Sg(a.alternate,a);break;default:Ds(r,a,u,f)}}function Cu(r,a,u,f,_){for(_=_&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var T=r,I=a,k=u,K=f,rt=I.flags;switch(I.tag){case 0:case 11:case 15:Cu(T,I,k,K,_),eh(8,I);break;case 23:break;case 22:var mt=I.stateNode;I.memoizedState!==null?mt._visibility&2?Cu(T,I,k,K,_):ih(T,I):(mt._visibility|=2,Cu(T,I,k,K,_)),_&&rt&2048&&bg(I.alternate,I);break;case 24:Cu(T,I,k,K,_),_&&rt&2048&&Sg(I.alternate,I);break;default:Cu(T,I,k,K,_)}a=a.sibling}}function ih(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,f=a,_=f.flags;switch(f.tag){case 22:ih(u,f),_&2048&&bg(f.alternate,f);break;case 24:ih(u,f),_&2048&&Sg(f.alternate,f);break;default:ih(u,f)}a=a.sibling}}var rh=8192;function Ru(r){if(r.subtreeFlags&rh)for(r=r.child;r!==null;)cE(r),r=r.sibling}function cE(r){switch(r.tag){case 26:Ru(r),r.flags&rh&&r.memoizedState!==null&&B2(rs,r.memoizedState,r.memoizedProps);break;case 5:Ru(r);break;case 3:case 4:var a=rs;rs=Rd(r.stateNode.containerInfo),Ru(r),rs=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=rh,rh=16777216,Ru(r),rh=a):Ru(r));break;default:Ru(r)}}function hE(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function sh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Zn=f,dE(f,r)}hE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fE(r),r=r.sibling}function fE(r){switch(r.tag){case 0:case 11:case 15:sh(r),r.flags&2048&&fo(9,r,r.return);break;case 3:sh(r);break;case 12:sh(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,gd(r)):sh(r);break;default:sh(r)}}function gd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Zn=f,dE(f,r)}hE(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:fo(8,a,a.return),gd(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,gd(a));break;default:gd(a)}r=r.sibling}}function dE(r,a){for(;Zn!==null;){var u=Zn;switch(u.tag){case 0:case 11:case 15:fo(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:jc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Zn=f;else t:for(u=r;Zn!==null;){f=Zn;var _=f.sibling,T=f.return;if(rE(f),f===u){Zn=null;break t}if(_!==null){_.return=T,Zn=_;break t}Zn=T}}}var n2={getCacheForType:function(r){var a=di(Ln),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u}},i2=typeof WeakMap=="function"?WeakMap:Map,Re=0,Be=null,ue=null,ve=0,Ie=0,or=null,go=!1,Iu=!1,xg=!1,Ta=0,an=0,yo=0,Dl=0,Ag=0,Dr=0,Pu=0,ah=null,Vi=null,Cg=!1,Rg=0,yd=1/0,_d=null,_o=null,ni=0,vo=null,ku=null,Du=0,Ig=0,Pg=null,pE=null,oh=0,kg=null;function lr(){if((Re&2)!==0&&ve!==0)return ve&-ve;if(st.T!==null){var r=vu;return r!==0?r:zg()}return ys()}function mE(){Dr===0&&(Dr=(ve&536870912)===0||Xt?il():536870912);var r=kr.current;return r!==null&&(r.flags|=32),Dr}function ur(r,a,u){(r===Be&&(Ie===2||Ie===9)||r.cancelPendingCommit!==null)&&(Mu(r,0),To(r,ve,Dr,!1)),gr(r,u),((Re&2)===0||r!==Be)&&(r===Be&&((Re&2)===0&&(Dl|=u),an===4&&To(r,ve,Dr,!1)),Ms(r))}function gE(r,a,u){if((Re&6)!==0)throw Error(i(327));var f=!u&&(a&124)===0&&(a&r.expiredLanes)===0||vn(r,a),_=f?a2(r,a):Lg(r,a,!0),T=f;do{if(_===0){Iu&&!f&&To(r,a,0,!1);break}else{if(u=r.current.alternate,T&&!r2(u)){_=Lg(r,a,!1),T=!1;continue}if(_===2){if(T=a,r.errorRecoveryDisabledLanes&T)var I=0;else I=r.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;t:{var k=r;_=ah;var K=k.current.memoizedState.isDehydrated;if(K&&(Mu(k,I).flags|=256),I=Lg(k,I,!1),I!==2){if(xg&&!K){k.errorRecoveryDisabledLanes|=T,Dl|=T,_=4;break t}T=Vi,Vi=_,T!==null&&(Vi===null?Vi=T:Vi.push.apply(Vi,T))}_=I}if(T=!1,_!==2)continue}}if(_===1){Mu(r,0),To(r,a,0,!0);break}t:{switch(f=r,T=_,T){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:To(f,a,Dr,!go);break t;case 2:Vi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(_=Rg+300-kn(),10<_)){if(To(f,a,Dr,!go),nn(f,0,!0)!==0)break t;f.timeoutHandle=GE(yE.bind(null,f,u,Vi,_d,Cg,a,Dr,Dl,Pu,go,T,2,-0,0),_);break t}yE(f,u,Vi,_d,Cg,a,Dr,Dl,Pu,go,T,0,-0,0)}}break}while(!0);Ms(r)}function yE(r,a,u,f,_,T,I,k,K,rt,mt,Tt,at,ot){if(r.timeoutHandle=-1,Tt=a.subtreeFlags,(Tt&8192||(Tt&16785408)===16785408)&&(ph={stylesheets:null,count:0,unsuspend:U2},cE(a),Tt=j2(),Tt!==null)){r.cancelPendingCommit=Tt(SE.bind(null,r,a,T,u,f,_,I,k,K,mt,1,at,ot)),To(r,T,I,!rt);return}SE(r,a,T,u,f,_,I,k,K)}function r2(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var _=u[f],T=_.getSnapshot;_=_.value;try{if(!Si(T(),_))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function To(r,a,u,f){a&=~Ag,a&=~Dl,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var _=a;0<_;){var T=31-jt(_),I=1<<T;f[T]=-1,_&=~I}u!==0&&yr(r,u,a)}function vd(){return(Re&6)===0?(lh(0),!1):!0}function Dg(){if(ue!==null){if(Ie===0)var r=ue.return;else r=ue,ns=Pr=null,Wm(r),xu=null,Qc=0,r=ue;for(;r!==null;)Yw(r.alternate,r),r=r.return;ue=null}}function Mu(r,a){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,E2(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Dg(),Be=r,ue=u=Ir(r.current,null),ve=a,Ie=0,or=null,go=!1,Iu=vn(r,a),xg=!1,Pu=Dr=Ag=Dl=yo=an=0,Vi=ah=null,Cg=!1,(a&8)!==0&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var _=31-jt(f),T=1<<_;a|=r[_],f&=~T}return Ta=a,Tl(),u}function _E(r,a){ae=null,st.H=ad,a===Hc||a===Yf?(a=OT(),Ie=3):a===DT?(a=OT(),Ie=4):Ie=a===Nw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,or=a,ue===null&&(an=1,hd(r,Ai(a,r.current)))}function vE(){var r=st.H;return st.H=ad,r===null?ad:r}function TE(){var r=st.A;return st.A=n2,r}function Mg(){an=4,go||(ve&4194048)!==ve&&kr.current!==null||(Iu=!0),(yo&134217727)===0&&(Dl&134217727)===0||Be===null||To(Be,ve,Dr,!1)}function Lg(r,a,u){var f=Re;Re|=2;var _=vE(),T=TE();(Be!==r||ve!==a)&&(_d=null,Mu(r,a)),a=!1;var I=an;t:do try{if(Ie!==0&&ue!==null){var k=ue,K=or;switch(Ie){case 8:Dg(),I=6;break t;case 3:case 2:case 9:case 6:kr.current===null&&(a=!0);var rt=Ie;if(Ie=0,or=null,Lu(r,k,K,rt),u&&Iu){I=0;break t}break;default:rt=Ie,Ie=0,or=null,Lu(r,k,K,rt)}}s2(),I=an;break}catch(mt){_E(r,mt)}while(!0);return a&&r.shellSuspendCounter++,ns=Pr=null,Re=f,st.H=_,st.A=T,ue===null&&(Be=null,ve=0,Tl()),I}function s2(){for(;ue!==null;)wE(ue)}function a2(r,a){var u=Re;Re|=2;var f=vE(),_=TE();Be!==r||ve!==a?(_d=null,yd=kn()+500,Mu(r,a)):Iu=vn(r,a);t:do try{if(Ie!==0&&ue!==null){a=ue;var T=or;e:switch(Ie){case 1:Ie=0,or=null,Lu(r,a,T,1);break;case 2:case 9:if(MT(T)){Ie=0,or=null,EE(a);break}a=function(){Ie!==2&&Ie!==9||Be!==r||(Ie=7),Ms(r)},T.then(a,a);break t;case 3:Ie=7;break t;case 4:Ie=5;break t;case 7:MT(T)?(Ie=0,or=null,EE(a)):(Ie=0,or=null,Lu(r,a,T,7));break;case 5:var I=null;switch(ue.tag){case 26:I=ue.memoizedState;case 5:case 27:var k=ue;if(!I||ib(I)){Ie=0,or=null;var K=k.sibling;if(K!==null)ue=K;else{var rt=k.return;rt!==null?(ue=rt,Td(rt)):ue=null}break e}}Ie=0,or=null,Lu(r,a,T,5);break;case 6:Ie=0,or=null,Lu(r,a,T,6);break;case 8:Dg(),an=6;break t;default:throw Error(i(462))}}o2();break}catch(mt){_E(r,mt)}while(!0);return ns=Pr=null,st.H=f,st.A=_,Re=u,ue!==null?0:(Be=null,ve=0,Tl(),an)}function o2(){for(;ue!==null&&!Fr();)wE(ue)}function wE(r){var a=$w(r.alternate,r,Ta);r.memoizedProps=r.pendingProps,a===null?Td(r):ue=a}function EE(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=Fw(u,a,a.pendingProps,a.type,void 0,ve);break;case 11:a=Fw(u,a,a.pendingProps,a.type.render,a.ref,ve);break;case 5:Wm(a);default:Yw(u,a),a=ue=Uc(a,Ta),a=$w(u,a,Ta)}r.memoizedProps=r.pendingProps,a===null?Td(r):ue=a}function Lu(r,a,u,f){ns=Pr=null,Wm(a),xu=null,Qc=0;var _=a.return;try{if(Yk(r,_,a,u,ve)){an=1,hd(r,Ai(u,r.current)),ue=null;return}}catch(T){if(_!==null)throw ue=_,T;an=1,hd(r,Ai(u,r.current)),ue=null;return}a.flags&32768?(Xt||f===1?r=!0:Iu||(ve&536870912)!==0?r=!1:(go=r=!0,(f===2||f===9||f===3||f===6)&&(f=kr.current,f!==null&&f.tag===13&&(f.flags|=16384))),bE(a,r)):Td(a)}function Td(r){var a=r;do{if((a.flags&32768)!==0){bE(a,go);return}r=a.return;var u=Qk(a.alternate,a,Ta);if(u!==null){ue=u;return}if(a=a.sibling,a!==null){ue=a;return}ue=a=r}while(a!==null);an===0&&(an=5)}function bE(r,a){do{var u=Jk(r.alternate,r);if(u!==null){u.flags&=32767,ue=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){ue=r;return}ue=r=u}while(r!==null);an=6,ue=null}function SE(r,a,u,f,_,T,I,k,K){r.cancelPendingCommit=null;do wd();while(ni!==0);if((Re&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(T=a.lanes|a.childLanes,T|=rr,rl(r,u,T,I,k,K),r===Be&&(ue=Be=null,ve=0),ku=a,vo=r,Du=u,Ig=T,Pg=_,pE=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,h2(Gi,function(){return IE(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=st.T,st.T=null,_=gt.p,gt.p=2,I=Re,Re|=4;try{t2(r,a,u)}finally{Re=I,gt.p=_,st.T=f}}ni=1,xE(),AE(),CE()}}function xE(){if(ni===1){ni=0;var r=vo,a=ku,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=st.T,st.T=null;var f=gt.p;gt.p=2;var _=Re;Re|=4;try{oE(a,r);var T=Zg,I=yl(r.containerInfo),k=T.focusedElem,K=T.selectionRange;if(I!==k&&k&&k.ownerDocument&&hu(k.ownerDocument.documentElement,k)){if(K!==null&&_l(k)){var rt=K.start,mt=K.end;if(mt===void 0&&(mt=rt),"selectionStart"in k)k.selectionStart=rt,k.selectionEnd=Math.min(mt,k.value.length);else{var Tt=k.ownerDocument||document,at=Tt&&Tt.defaultView||window;if(at.getSelection){var ot=at.getSelection(),Wt=k.textContent.length,qt=Math.min(K.start,Wt),Me=K.end===void 0?qt:Math.min(K.end,Wt);!ot.extend&&qt>Me&&(I=Me,Me=qt,qt=I);var tt=Vc(k,qt),Y=Vc(k,Me);if(tt&&Y&&(ot.rangeCount!==1||ot.anchorNode!==tt.node||ot.anchorOffset!==tt.offset||ot.focusNode!==Y.node||ot.focusOffset!==Y.offset)){var it=Tt.createRange();it.setStart(tt.node,tt.offset),ot.removeAllRanges(),qt>Me?(ot.addRange(it),ot.extend(Y.node,Y.offset)):(it.setEnd(Y.node,Y.offset),ot.addRange(it))}}}}for(Tt=[],ot=k;ot=ot.parentNode;)ot.nodeType===1&&Tt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Tt.length;k++){var yt=Tt[k];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}Md=!!Gg,Zg=Gg=null}finally{Re=_,gt.p=f,st.T=u}}r.current=a,ni=2}}function AE(){if(ni===2){ni=0;var r=vo,a=ku,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=st.T,st.T=null;var f=gt.p;gt.p=2;var _=Re;Re|=4;try{iE(r,a.alternate,a)}finally{Re=_,gt.p=f,st.T=u}}ni=3}}function CE(){if(ni===4||ni===3){ni=0,ds();var r=vo,a=ku,u=Du,f=pE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ni=5:(ni=0,ku=vo=null,RE(r,r.pendingLanes));var _=r.pendingLanes;if(_===0&&(_o=null),Na(u),a=a.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ut,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=st.T,_=gt.p,gt.p=2,st.T=null;try{for(var T=r.onRecoverableError,I=0;I<f.length;I++){var k=f[I];T(k.value,{componentStack:k.stack})}}finally{st.T=a,gt.p=_}}(Du&3)!==0&&wd(),Ms(r),_=r.pendingLanes,(u&4194090)!==0&&(_&42)!==0?r===kg?oh++:(oh=0,kg=r):oh=0,lh(0)}}function RE(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,jc(a)))}function wd(r){return xE(),AE(),CE(),IE()}function IE(){if(ni!==5)return!1;var r=vo,a=Ig;Ig=0;var u=Na(Du),f=st.T,_=gt.p;try{gt.p=32>u?32:u,st.T=null,u=Pg,Pg=null;var T=vo,I=Du;if(ni=0,ku=vo=null,Du=0,(Re&6)!==0)throw Error(i(331));var k=Re;if(Re|=4,fE(T.current),uE(T,T.current,I,u),Re=k,lh(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ut,T)}catch{}return!0}finally{gt.p=_,st.T=f,RE(r,a)}}function PE(r,a,u){a=Ai(u,a),a=ug(r.stateNode,a,2),r=lo(r,a,2),r!==null&&(gr(r,2),Ms(r))}function Oe(r,a,u){if(r.tag===3)PE(r,r,u);else for(;a!==null;){if(a.tag===3){PE(a,r,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_o===null||!_o.has(f))){r=Ai(u,r),u=Lw(2),f=lo(a,u,2),f!==null&&(Ow(u,f,a,r),gr(f,2),Ms(f));break}}a=a.return}}function Og(r,a,u){var f=r.pingCache;if(f===null){f=r.pingCache=new i2;var _=new Set;f.set(a,_)}else _=f.get(a),_===void 0&&(_=new Set,f.set(a,_));_.has(u)||(xg=!0,_.add(u),r=l2.bind(null,r,a,u),a.then(r,r))}function l2(r,a,u){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Be===r&&(ve&u)===u&&(an===4||an===3&&(ve&62914560)===ve&&300>kn()-Rg?(Re&2)===0&&Mu(r,0):Ag|=u,Pu===ve&&(Pu=0)),Ms(r)}function kE(r,a){a===0&&(a=Oa()),r=no(r,a),r!==null&&(gr(r,a),Ms(r))}function u2(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),kE(r,u)}function c2(r,a){var u=0;switch(r.tag){case 13:var f=r.stateNode,_=r.memoizedState;_!==null&&(u=_.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),kE(r,u)}function h2(r,a){return qi(r,a)}var Ed=null,Ou=null,Ng=!1,bd=!1,Vg=!1,Ml=0;function Ms(r){r!==Ou&&r.next===null&&(Ou===null?Ed=Ou=r:Ou=Ou.next=r),bd=!0,Ng||(Ng=!0,d2())}function lh(r,a){if(!Vg&&bd){Vg=!0;do for(var u=!1,f=Ed;f!==null;){if(r!==0){var _=f.pendingLanes;if(_===0)var T=0;else{var I=f.suspendedLanes,k=f.pingedLanes;T=(1<<31-jt(42|r)+1)-1,T&=_&~(I&~k),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(u=!0,OE(f,T))}else T=ve,T=nn(f,f===Be?T:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(T&3)===0||vn(f,T)||(u=!0,OE(f,T));f=f.next}while(u);Vg=!1}}function f2(){DE()}function DE(){bd=Ng=!1;var r=0;Ml!==0&&(w2()&&(r=Ml),Ml=0);for(var a=kn(),u=null,f=Ed;f!==null;){var _=f.next,T=ME(f,a);T===0?(f.next=null,u===null?Ed=_:u.next=_,_===null&&(Ou=u)):(u=f,(r!==0||(T&3)!==0)&&(bd=!0)),f=_}lh(r)}function ME(r,a){for(var u=r.suspendedLanes,f=r.pingedLanes,_=r.expirationTimes,T=r.pendingLanes&-62914561;0<T;){var I=31-jt(T),k=1<<I,K=_[I];K===-1?((k&u)===0||(k&f)!==0)&&(_[I]=Xn(k,a)):K<=a&&(r.expiredLanes|=k),T&=~k}if(a=Be,u=ve,u=nn(r,r===a?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===a&&(Ie===2||Ie===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&jr(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||vn(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(f!==null&&jr(f),Na(u)){case 2:case 8:u=pr;break;case 32:u=Gi;break;case 268435456:u=Hr;break;default:u=Gi}return f=LE.bind(null,r),u=qi(u,f),r.callbackPriority=a,r.callbackNode=u,a}return f!==null&&f!==null&&jr(f),r.callbackPriority=2,r.callbackNode=null,2}function LE(r,a){if(ni!==0&&ni!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(wd()&&r.callbackNode!==u)return null;var f=ve;return f=nn(r,r===Be?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(gE(r,f,a),ME(r,kn()),r.callbackNode!=null&&r.callbackNode===u?LE.bind(null,r):null)}function OE(r,a){if(wd())return null;gE(r,a,!0)}function d2(){b2(function(){(Re&6)!==0?qi(ms,f2):DE()})}function zg(){return Ml===0&&(Ml=il()),Ml}function NE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:bs(""+r)}function VE(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function p2(r,a,u,f,_){if(a==="submit"&&u&&u.stateNode===_){var T=NE((_[rn]||null).action),I=f.submitter;I&&(a=(a=I[rn]||null)?NE(a.formAction):I.getAttribute("formAction"),a!==null&&(T=a,I=null));var k=new ra("action","action",null,f,_);r.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ml!==0){var K=I?VE(_,I):new FormData(_);rg(u,{pending:!0,data:K,method:_.method,action:T},null,K)}}else typeof T=="function"&&(k.preventDefault(),K=I?VE(_,I):new FormData(_),rg(u,{pending:!0,data:K,method:_.method,action:T},T,K))},currentTarget:_}]})}}for(var Ug=0;Ug<ua.length;Ug++){var Bg=ua[Ug],m2=Bg.toLowerCase(),g2=Bg[0].toUpperCase()+Bg.slice(1);ir(m2,"on"+g2)}ir(jf,"onAnimationEnd"),ir(nr,"onAnimationIteration"),ir(vl,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(Mm,"onTransitionRun"),ir(mu,"onTransitionStart"),ir(Lm,"onTransitionCancel"),ir(zc,"onTransitionEnd"),_r("onMouseEnter",["mouseout","mouseover"]),_r("onMouseLeave",["mouseout","mouseover"]),_r("onPointerEnter",["pointerout","pointerover"]),_r("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uh));function zE(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],_=f.event;f=f.listeners;t:{var T=void 0;if(a)for(var I=f.length-1;0<=I;I--){var k=f[I],K=k.instance,rt=k.currentTarget;if(k=k.listener,K!==T&&_.isPropagationStopped())break t;T=k,_.currentTarget=rt;try{T(_)}catch(mt){cd(mt)}_.currentTarget=null,T=K}else for(I=0;I<f.length;I++){if(k=f[I],K=k.instance,rt=k.currentTarget,k=k.listener,K!==T&&_.isPropagationStopped())break t;T=k,_.currentTarget=rt;try{T(_)}catch(mt){cd(mt)}_.currentTarget=null,T=K}}}}function ce(r,a){var u=a[li];u===void 0&&(u=a[li]=new Set);var f=r+"__bubble";u.has(f)||(UE(a,r,2,!1),u.add(f))}function jg(r,a,u){var f=0;a&&(f|=4),UE(u,r,f,a)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function Fg(r){if(!r[Sd]){r[Sd]=!0,ol.forEach(function(u){u!=="selectionchange"&&(y2.has(u)||jg(u,!1,r),jg(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Sd]||(a[Sd]=!0,jg("selectionchange",!1,a))}}function UE(r,a,u,f){switch(ub(a)){case 2:var _=q2;break;case 8:_=G2;break;default:_=ny}u=_.bind(null,a,u,r),_=void 0,!ui||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(_=!0),f?_!==void 0?r.addEventListener(a,u,{capture:!0,passive:_}):r.addEventListener(a,u,!0):_!==void 0?r.addEventListener(a,u,{passive:_}):r.addEventListener(a,u,!1)}function Hg(r,a,u,f,_){var T=f;if((a&1)===0&&(a&2)===0&&f!==null)t:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var k=f.stateNode.containerInfo;if(k===_)break;if(I===4)for(I=f.return;I!==null;){var K=I.tag;if((K===3||K===4)&&I.stateNode.containerInfo===_)return;I=I.return}for(;k!==null;){if(I=Zi(k),I===null)return;if(K=I.tag,K===5||K===6||K===26||K===27){f=T=I;continue t}k=k.parentNode}}f=f.return}bi(function(){var rt=T,mt=ti(u),Tt=[];t:{var at=Ff.get(r);if(at!==void 0){var ot=ra,Wt=r;switch(r){case"keypress":if(Pe(u)===0)break t;case"keydown":case"keyup":ot=Ka;break;case"focusin":Wt="focus",ot=Fa;break;case"focusout":Wt="blur",ot=Fa;break;case"beforeblur":case"afterblur":ot=Fa;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=ou;break;case jf:case nr:case vl:ot=qa;break;case zc:ot=lu;break;case"scroll":case"scrollend":ot=su;break;case"wheel":ot=oa;break;case"copy":case"cut":case"paste":ot=Ss;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=$a;break;case"toggle":case"beforetoggle":ot=xr}var qt=(a&4)!==0,Me=!qt&&(r==="scroll"||r==="scrollend"),tt=qt?at!==null?at+"Capture":null:at;qt=[];for(var Y=rt,it;Y!==null;){var yt=Y;if(it=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||it===null||tt===null||(yt=_e(Y,tt),yt!=null&&qt.push(ch(Y,yt,it))),Me)break;Y=Y.return}0<qt.length&&(at=new ot(at,Wt,null,u,mt),Tt.push({event:at,listeners:qt}))}}if((a&7)===0){t:{if(at=r==="mouseover"||r==="pointerover",ot=r==="mouseout"||r==="pointerout",at&&u!==Xi&&(Wt=u.relatedTarget||u.fromElement)&&(Zi(Wt)||Wt[ki]))break t;if((ot||at)&&(at=mt.window===mt?mt:(at=mt.ownerDocument)?at.defaultView||at.parentWindow:window,ot?(Wt=u.relatedTarget||u.toElement,ot=rt,Wt=Wt?Zi(Wt):null,Wt!==null&&(Me=l(Wt),qt=Wt.tag,Wt!==Me||qt!==5&&qt!==27&&qt!==6)&&(Wt=null)):(ot=null,Wt=rt),ot!==Wt)){if(qt=Hn,yt="onMouseLeave",tt="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(qt=$a,yt="onPointerLeave",tt="onPointerEnter",Y="pointer"),Me=ot==null?at:Qn(ot),it=Wt==null?at:Qn(Wt),at=new qt(yt,Y+"leave",ot,u,mt),at.target=Me,at.relatedTarget=it,yt=null,Zi(mt)===rt&&(qt=new qt(tt,Y+"enter",Wt,u,mt),qt.target=it,qt.relatedTarget=Me,yt=qt),Me=yt,ot&&Wt)e:{for(qt=ot,tt=Wt,Y=0,it=qt;it;it=Nu(it))Y++;for(it=0,yt=tt;yt;yt=Nu(yt))it++;for(;0<Y-it;)qt=Nu(qt),Y--;for(;0<it-Y;)tt=Nu(tt),it--;for(;Y--;){if(qt===tt||tt!==null&&qt===tt.alternate)break e;qt=Nu(qt),tt=Nu(tt)}qt=null}else qt=null;ot!==null&&BE(Tt,at,ot,qt,!1),Wt!==null&&Me!==null&&BE(Tt,Me,Wt,qt,!0)}}t:{if(at=rt?Qn(rt):window,ot=at.nodeName&&at.nodeName.toLowerCase(),ot==="select"||ot==="input"&&at.type==="file")var Ot=Ya;else if(ze(at))if(Lc)Ot=Dm;else{Ot=km;var le=Nc}else ot=at.nodeName,!ot||ot.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?rt&&ia(rt.elementType)&&(Ot=Ya):Ot=es;if(Ot&&(Ot=Ot(r,rt))){Jr(Tt,Ot,u,mt);break t}le&&le(r,at,rt),r==="focusout"&&rt&&at.type==="number"&&rt.memoizedProps.value!=null&&Wi(at,"number",at.value)}switch(le=rt?Qn(rt):window,r){case"focusin":(ze(le)||le.contentEditable==="true")&&(er=le,Ja=rt,la=null);break;case"focusout":la=Ja=er=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,Uf(Tt,u,mt);break;case"selectionchange":if(fu)break;case"keydown":case"keyup":Uf(Tt,u,mt)}var Ut;if(fi)t:{switch(r){case"compositionstart":var Gt="onCompositionStart";break t;case"compositionend":Gt="onCompositionEnd";break t;case"compositionupdate":Gt="onCompositionUpdate";break t}Gt=void 0}else he?ft(r,u)&&(Gt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Gt="onCompositionStart");Gt&&(C&&u.locale!=="ko"&&(he||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&he&&(Ut=Wr()):(Mi=mt,ci="value"in Mi?Mi.value:Mi.textContent,he=!0)),le=xd(rt,Gt),0<le.length&&(Gt=new hi(Gt,r,null,u,mt),Tt.push({event:Gt,listeners:le}),Ut?Gt.data=Ut:(Ut=Rt(u),Ut!==null&&(Gt.data=Ut)))),(Ut=S?sn(r,u):fe(r,u))&&(Gt=xd(rt,"onBeforeInput"),0<Gt.length&&(le=new hi("onBeforeInput","beforeinput",null,u,mt),Tt.push({event:le,listeners:Gt}),le.data=Ut)),p2(Tt,r,rt,u,mt)}zE(Tt,a)})}function ch(r,a,u){return{instance:r,listener:a,currentTarget:u}}function xd(r,a){for(var u=a+"Capture",f=[];r!==null;){var _=r,T=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||T===null||(_=_e(r,u),_!=null&&f.unshift(ch(r,_,T)),_=_e(r,a),_!=null&&f.push(ch(r,_,T))),r.tag===3)return f;r=r.return}return[]}function Nu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function BE(r,a,u,f,_){for(var T=a._reactName,I=[];u!==null&&u!==f;){var k=u,K=k.alternate,rt=k.stateNode;if(k=k.tag,K!==null&&K===f)break;k!==5&&k!==26&&k!==27||rt===null||(K=rt,_?(rt=_e(u,T),rt!=null&&I.unshift(ch(u,rt,K))):_||(rt=_e(u,T),rt!=null&&I.push(ch(u,rt,K)))),u=u.return}I.length!==0&&r.push({event:a,listeners:I})}var _2=/\r\n?/g,v2=/\u0000|\uFFFD/g;function jE(r){return(typeof r=="string"?r:""+r).replace(_2,`
`).replace(v2,"")}function FE(r,a){return a=jE(a),jE(r)===a}function Ad(){}function De(r,a,u,f,_,T){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||jn(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&jn(r,""+f);break;case"className":vr(r,"class",f);break;case"tabIndex":vr(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(r,u,f);break;case"style":Kr(r,f,T);break;case"data":if(a!=="object"){vr(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=bs(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(u==="formAction"?(a!=="input"&&De(r,a,"name",_.name,_,null),De(r,a,"formEncType",_.formEncType,_,null),De(r,a,"formMethod",_.formMethod,_,null),De(r,a,"formTarget",_.formTarget,_,null)):(De(r,a,"encType",_.encType,_,null),De(r,a,"method",_.method,_,null),De(r,a,"target",_.target,_,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=bs(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=Ad);break;case"onScroll":f!=null&&ce("scroll",r);break;case"onScrollEnd":f!=null&&ce("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=bs(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":ce("beforetoggle",r),ce("toggle",r),vs(r,"popover",f);break;case"xlinkActuate":Dn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Dn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Dn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Dn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Dn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Dn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Dn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Dn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Dn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":vs(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ul.get(u)||u,vs(r,u,f))}}function qg(r,a,u,f,_,T){switch(u){case"style":Kr(r,f,T);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof f=="string"?jn(r,f):(typeof f=="number"||typeof f=="bigint")&&jn(r,""+f);break;case"onScroll":f!=null&&ce("scroll",r);break;case"onScrollEnd":f!=null&&ce("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Ad);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),a=u.slice(2,_?u.length-7:void 0),T=r[rn]||null,T=T!=null?T[u]:null,typeof T=="function"&&r.removeEventListener(a,T,_),typeof f=="function")){typeof T!="function"&&T!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,f,_);break t}u in r?r[u]=f:f===!0?r.setAttribute(u,""):vs(r,u,f)}}}function ii(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",r),ce("load",r);var f=!1,_=!1,T;for(T in u)if(u.hasOwnProperty(T)){var I=u[T];if(I!=null)switch(T){case"src":f=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:De(r,a,T,I,u,null)}}_&&De(r,a,"srcSet",u.srcSet,u,null),f&&De(r,a,"src",u.src,u,null);return;case"input":ce("invalid",r);var k=T=I=_=null,K=null,rt=null;for(f in u)if(u.hasOwnProperty(f)){var mt=u[f];if(mt!=null)switch(f){case"name":_=mt;break;case"type":I=mt;break;case"checked":K=mt;break;case"defaultChecked":rt=mt;break;case"value":T=mt;break;case"defaultValue":k=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(i(137,a));break;default:De(r,a,f,mt,u,null)}}na(r,T,k,K,rt,I,_,!1),Es(r);return;case"select":ce("invalid",r),f=I=T=null;for(_ in u)if(u.hasOwnProperty(_)&&(k=u[_],k!=null))switch(_){case"value":T=k;break;case"defaultValue":I=k;break;case"multiple":f=k;default:De(r,a,_,k,u,null)}a=T,u=I,r.multiple=!!f,a!=null?Jn(r,!!f,a,!1):u!=null&&Jn(r,!!f,u,!0);return;case"textarea":ce("invalid",r),T=_=f=null;for(I in u)if(u.hasOwnProperty(I)&&(k=u[I],k!=null))switch(I){case"value":f=k;break;case"defaultValue":_=k;break;case"children":T=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:De(r,a,I,k,u,null)}Ei(r,f,_,T),Es(r);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(f=u[K],f!=null))switch(K){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:De(r,a,K,f,u,null)}return;case"dialog":ce("beforetoggle",r),ce("toggle",r),ce("cancel",r),ce("close",r);break;case"iframe":case"object":ce("load",r);break;case"video":case"audio":for(f=0;f<uh.length;f++)ce(uh[f],r);break;case"image":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"embed":case"source":case"link":ce("error",r),ce("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rt in u)if(u.hasOwnProperty(rt)&&(f=u[rt],f!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:De(r,a,rt,f,u,null)}return;default:if(ia(a)){for(mt in u)u.hasOwnProperty(mt)&&(f=u[mt],f!==void 0&&qg(r,a,mt,f,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(f=u[k],f!=null&&De(r,a,k,f,u,null))}function T2(r,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,T=null,I=null,k=null,K=null,rt=null,mt=null;for(ot in u){var Tt=u[ot];if(u.hasOwnProperty(ot)&&Tt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":K=Tt;default:f.hasOwnProperty(ot)||De(r,a,ot,null,f,Tt)}}for(var at in f){var ot=f[at];if(Tt=u[at],f.hasOwnProperty(at)&&(ot!=null||Tt!=null))switch(at){case"type":T=ot;break;case"name":_=ot;break;case"checked":rt=ot;break;case"defaultChecked":mt=ot;break;case"value":I=ot;break;case"defaultValue":k=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,a));break;default:ot!==Tt&&De(r,a,at,ot,f,Tt)}}Ve(r,I,k,K,rt,mt,T,_);return;case"select":ot=I=k=at=null;for(T in u)if(K=u[T],u.hasOwnProperty(T)&&K!=null)switch(T){case"value":break;case"multiple":ot=K;default:f.hasOwnProperty(T)||De(r,a,T,null,f,K)}for(_ in f)if(T=f[_],K=u[_],f.hasOwnProperty(_)&&(T!=null||K!=null))switch(_){case"value":at=T;break;case"defaultValue":k=T;break;case"multiple":I=T;default:T!==K&&De(r,a,_,T,f,K)}a=k,u=I,f=ot,at!=null?Jn(r,!!u,at,!1):!!f!=!!u&&(a!=null?Jn(r,!!u,a,!0):Jn(r,!!u,u?[]:"",!1));return;case"textarea":ot=at=null;for(k in u)if(_=u[k],u.hasOwnProperty(k)&&_!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:De(r,a,k,null,f,_)}for(I in f)if(_=f[I],T=u[I],f.hasOwnProperty(I)&&(_!=null||T!=null))switch(I){case"value":at=_;break;case"defaultValue":ot=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==T&&De(r,a,I,_,f,T)}Zt(r,at,ot);return;case"option":for(var Wt in u)if(at=u[Wt],u.hasOwnProperty(Wt)&&at!=null&&!f.hasOwnProperty(Wt))switch(Wt){case"selected":r.selected=!1;break;default:De(r,a,Wt,null,f,at)}for(K in f)if(at=f[K],ot=u[K],f.hasOwnProperty(K)&&at!==ot&&(at!=null||ot!=null))switch(K){case"selected":r.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:De(r,a,K,at,f,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in u)at=u[qt],u.hasOwnProperty(qt)&&at!=null&&!f.hasOwnProperty(qt)&&De(r,a,qt,null,f,at);for(rt in f)if(at=f[rt],ot=u[rt],f.hasOwnProperty(rt)&&at!==ot&&(at!=null||ot!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,a));break;default:De(r,a,rt,at,f,ot)}return;default:if(ia(a)){for(var Me in u)at=u[Me],u.hasOwnProperty(Me)&&at!==void 0&&!f.hasOwnProperty(Me)&&qg(r,a,Me,void 0,f,at);for(mt in f)at=f[mt],ot=u[mt],!f.hasOwnProperty(mt)||at===ot||at===void 0&&ot===void 0||qg(r,a,mt,at,f,ot);return}}for(var tt in u)at=u[tt],u.hasOwnProperty(tt)&&at!=null&&!f.hasOwnProperty(tt)&&De(r,a,tt,null,f,at);for(Tt in f)at=f[Tt],ot=u[Tt],!f.hasOwnProperty(Tt)||at===ot||at==null&&ot==null||De(r,a,Tt,at,f,ot)}var Gg=null,Zg=null;function Cd(r){return r.nodeType===9?r:r.ownerDocument}function HE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Kg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $g=null;function w2(){var r=window.event;return r&&r.type==="popstate"?r===$g?!1:($g=r,!0):($g=null,!1)}var GE=typeof setTimeout=="function"?setTimeout:void 0,E2=typeof clearTimeout=="function"?clearTimeout:void 0,ZE=typeof Promise=="function"?Promise:void 0,b2=typeof queueMicrotask=="function"?queueMicrotask:typeof ZE<"u"?function(r){return ZE.resolve(null).then(r).catch(S2)}:GE;function S2(r){setTimeout(function(){throw r})}function wo(r){return r==="head"}function KE(r,a){var u=a,f=0,_=0;do{var T=u.nextSibling;if(r.removeChild(u),T&&T.nodeType===8)if(u=T.data,u==="/$"){if(0<f&&8>f){u=f;var I=r.ownerDocument;if(u&1&&hh(I.documentElement),u&2&&hh(I.body),u&4)for(u=I.head,hh(u),I=u.firstChild;I;){var k=I.nextSibling,K=I.nodeName;I[_s]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&I.rel.toLowerCase()==="stylesheet"||u.removeChild(I),I=k}}if(_===0){r.removeChild(T),vh(a);return}_--}else u==="$"||u==="$?"||u==="$!"?_++:f=u.charCodeAt(0)-48;else f=0;u=T}while(u);vh(a)}function Wg(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wg(u),Gr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function x2(r,a,u,f){for(;r.nodeType===1;){var _=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[_s])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(T=r.getAttribute("rel"),T==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(T!==_.rel||r.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||r.getAttribute("title")!==(_.title==null?null:_.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(T=r.getAttribute("src"),(T!==(_.src==null?null:_.src)||r.getAttribute("type")!==(_.type==null?null:_.type)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&T&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var T=_.name==null?null:""+_.name;if(_.type==="hidden"&&r.getAttribute("name")===T)return r}else return r;if(r=ss(r.nextSibling),r===null)break}return null}function A2(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ss(r.nextSibling),r===null))return null;return r}function Yg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function C2(r,a){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function ss(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Xg=null;function $E(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return r;a--}else u==="/$"&&a++}r=r.previousSibling}return null}function WE(r,a,u){switch(a=Cd(u),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function hh(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Gr(r)}var Mr=new Map,YE=new Set;function Rd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var wa=gt.d;gt.d={f:R2,r:I2,D:P2,C:k2,L:D2,m:M2,X:O2,S:L2,M:N2};function R2(){var r=wa.f(),a=vd();return r||a}function I2(r){var a=Ki(r);a!==null&&a.tag===5&&a.type==="form"?gw(a):wa.r(r)}var Vu=typeof document>"u"?null:document;function XE(r,a,u){var f=Vu;if(f&&typeof a=="string"&&a){var _=qe(a);_='link[rel="'+r+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),YE.has(_)||(YE.add(_),r={rel:r,crossOrigin:u,href:a},f.querySelector(_)===null&&(a=f.createElement("link"),ii(a,"link",r),Xe(a),f.head.appendChild(a)))}}function P2(r){wa.D(r),XE("dns-prefetch",r,null)}function k2(r,a){wa.C(r,a),XE("preconnect",r,a)}function D2(r,a,u){wa.L(r,a,u);var f=Vu;if(f&&r&&a){var _='link[rel="preload"][as="'+qe(a)+'"]';a==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+qe(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+qe(u.imageSizes)+'"]')):_+='[href="'+qe(r)+'"]';var T=_;switch(a){case"style":T=zu(r);break;case"script":T=Uu(r)}Mr.has(T)||(r=v({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),Mr.set(T,r),f.querySelector(_)!==null||a==="style"&&f.querySelector(fh(T))||a==="script"&&f.querySelector(dh(T))||(a=f.createElement("link"),ii(a,"link",r),Xe(a),f.head.appendChild(a)))}}function M2(r,a){wa.m(r,a);var u=Vu;if(u&&r){var f=a&&typeof a.as=="string"?a.as:"script",_='link[rel="modulepreload"][as="'+qe(f)+'"][href="'+qe(r)+'"]',T=_;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Uu(r)}if(!Mr.has(T)&&(r=v({rel:"modulepreload",href:r},a),Mr.set(T,r),u.querySelector(_)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(dh(T)))return}f=u.createElement("link"),ii(f,"link",r),Xe(f),u.head.appendChild(f)}}}function L2(r,a,u){wa.S(r,a,u);var f=Vu;if(f&&r){var _=Bn(f).hoistableStyles,T=zu(r);a=a||"default";var I=_.get(T);if(!I){var k={loading:0,preload:null};if(I=f.querySelector(fh(T)))k.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},u),(u=Mr.get(T))&&Qg(r,u);var K=I=f.createElement("link");Xe(K),ii(K,"link",r),K._p=new Promise(function(rt,mt){K.onload=rt,K.onerror=mt}),K.addEventListener("load",function(){k.loading|=1}),K.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Id(I,a,f)}I={type:"stylesheet",instance:I,count:1,state:k},_.set(T,I)}}}function O2(r,a){wa.X(r,a);var u=Vu;if(u&&r){var f=Bn(u).hoistableScripts,_=Uu(r),T=f.get(_);T||(T=u.querySelector(dh(_)),T||(r=v({src:r,async:!0},a),(a=Mr.get(_))&&Jg(r,a),T=u.createElement("script"),Xe(T),ii(T,"link",r),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(_,T))}}function N2(r,a){wa.M(r,a);var u=Vu;if(u&&r){var f=Bn(u).hoistableScripts,_=Uu(r),T=f.get(_);T||(T=u.querySelector(dh(_)),T||(r=v({src:r,async:!0,type:"module"},a),(a=Mr.get(_))&&Jg(r,a),T=u.createElement("script"),Xe(T),ii(T,"link",r),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(_,T))}}function QE(r,a,u,f){var _=(_=St.current)?Rd(_):null;if(!_)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=zu(u.href),u=Bn(_).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=zu(u.href);var T=Bn(_).hoistableStyles,I=T.get(r);if(I||(_=_.ownerDocument||_,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(r,I),(T=_.querySelector(fh(r)))&&!T._p&&(I.instance=T,I.state.loading=5),Mr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Mr.set(r,u),T||V2(_,r,u,I.state))),a&&f===null)throw Error(i(528,""));return I}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Uu(u),u=Bn(_).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function zu(r){return'href="'+qe(r)+'"'}function fh(r){return'link[rel="stylesheet"]['+r+"]"}function JE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function V2(r,a,u,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),ii(a,"link",u),Xe(a),r.head.appendChild(a))}function Uu(r){return'[src="'+qe(r)+'"]'}function dh(r){return"script[async]"+r}function tb(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+qe(u.href)+'"]');if(f)return a.instance=f,Xe(f),f;var _=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Xe(f),ii(f,"style",_),Id(f,u.precedence,r),a.instance=f;case"stylesheet":_=zu(u.href);var T=r.querySelector(fh(_));if(T)return a.state.loading|=4,a.instance=T,Xe(T),T;f=JE(u),(_=Mr.get(_))&&Qg(f,_),T=(r.ownerDocument||r).createElement("link"),Xe(T);var I=T;return I._p=new Promise(function(k,K){I.onload=k,I.onerror=K}),ii(T,"link",f),a.state.loading|=4,Id(T,u.precedence,r),a.instance=T;case"script":return T=Uu(u.src),(_=r.querySelector(dh(T)))?(a.instance=_,Xe(_),_):(f=u,(_=Mr.get(T))&&(f=v({},u),Jg(f,_)),r=r.ownerDocument||r,_=r.createElement("script"),Xe(_),ii(_,"link",f),r.head.appendChild(_),a.instance=_);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Id(f,u.precedence,r));return a.instance}function Id(r,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=f.length?f[f.length-1]:null,T=_,I=0;I<f.length;I++){var k=f[I];if(k.dataset.precedence===a)T=k;else if(T!==_)break}T?T.parentNode.insertBefore(r,T.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function Qg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Jg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Pd=null;function eb(r,a,u){if(Pd===null){var f=new Map,_=Pd=new Map;_.set(u,f)}else _=Pd,f=_.get(u),f||(f=new Map,_.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),_=0;_<u.length;_++){var T=u[_];if(!(T[_s]||T[cn]||r==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var I=T.getAttribute(a)||"";I=r+I;var k=f.get(I);k?k.push(T):f.set(I,[T])}}return f}function nb(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function z2(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ib(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ph=null;function U2(){}function B2(r,a,u){if(ph===null)throw Error(i(475));var f=ph;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var _=zu(u.href),T=r.querySelector(fh(_));if(T){r=T._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=kd.bind(f),r.then(f,f)),a.state.loading|=4,a.instance=T,Xe(T);return}T=r.ownerDocument||r,u=JE(u),(_=Mr.get(_))&&Qg(u,_),T=T.createElement("link"),Xe(T);var I=T;I._p=new Promise(function(k,K){I.onload=k,I.onerror=K}),ii(T,"link",u),a.instance=T}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=kd.bind(f),r.addEventListener("load",a),r.addEventListener("error",a))}}function j2(){if(ph===null)throw Error(i(475));var r=ph;return r.stylesheets&&r.count===0&&ty(r,r.stylesheets),0<r.count?function(a){var u=setTimeout(function(){if(r.stylesheets&&ty(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(u)}}:null}function kd(){if(this.count--,this.count===0){if(this.stylesheets)ty(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Dd=null;function ty(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Dd=new Map,a.forEach(F2,r),Dd=null,kd.call(r))}function F2(r,a){if(!(a.state.loading&4)){var u=Dd.get(r);if(u)var f=u.get(null);else{u=new Map,Dd.set(r,u);for(var _=r.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<_.length;T++){var I=_[T];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),f=I)}f&&u.set(null,f)}_=a.instance,I=_.getAttribute("data-precedence"),T=u.get(I)||f,T===f&&u.set(null,_),u.set(I,_),this.count++,f=kd.bind(this),_.addEventListener("load",f),_.addEventListener("error",f),T?T.parentNode.insertBefore(_,T.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(_,r.firstChild)),a.state.loading|=4}}var mh={$$typeof:W,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function H2(r,a,u,f,_,T,I,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=f,this.onUncaughtError=_,this.onCaughtError=T,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function rb(r,a,u,f,_,T,I,k,K,rt,mt,Tt){return r=new H2(r,a,u,I,k,K,rt,Tt),a=1,T===!0&&(a|=24),T=Ri(3,null,null,a),r.current=T,T.stateNode=r,a=Om(),a.refCount++,r.pooledCache=a,a.refCount++,T.memoizedState={element:f,isDehydrated:u,cache:a},Um(T),r}function sb(r){return r?(r=fa,r):fa}function ab(r,a,u,f,_,T){_=sb(_),f.context===null?f.context=_:f.pendingContext=_,f=oo(a),f.payload={element:u},T=T===void 0?null:T,T!==null&&(f.callback=T),u=lo(r,f,a),u!==null&&(ur(u,r,a),Gc(u,r,a))}function ob(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function ey(r,a){ob(r,a),(r=r.alternate)&&ob(r,a)}function lb(r){if(r.tag===13){var a=no(r,67108864);a!==null&&ur(a,r,67108864),ey(r,67108864)}}var Md=!0;function q2(r,a,u,f){var _=st.T;st.T=null;var T=gt.p;try{gt.p=2,ny(r,a,u,f)}finally{gt.p=T,st.T=_}}function G2(r,a,u,f){var _=st.T;st.T=null;var T=gt.p;try{gt.p=8,ny(r,a,u,f)}finally{gt.p=T,st.T=_}}function ny(r,a,u,f){if(Md){var _=iy(f);if(_===null)Hg(r,a,f,Ld,u),cb(r,f);else if(K2(_,r,a,u,f))f.stopPropagation();else if(cb(r,f),a&4&&-1<Z2.indexOf(r)){for(;_!==null;){var T=Ki(_);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var I=_n(T.pendingLanes);if(I!==0){var k=T;for(k.pendingLanes|=2,k.entangledLanes|=2;I;){var K=1<<31-jt(I);k.entanglements[1]|=K,I&=~K}Ms(T),(Re&6)===0&&(yd=kn()+500,lh(0))}}break;case 13:k=no(T,2),k!==null&&ur(k,T,2),vd(),ey(T,2)}if(T=iy(f),T===null&&Hg(r,a,f,Ld,u),T===_)break;_=T}_!==null&&f.stopPropagation()}else Hg(r,a,f,null,u)}}function iy(r){return r=ti(r),ry(r)}var Ld=null;function ry(r){if(Ld=null,r=Zi(r),r!==null){var a=l(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=c(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Ld=r,null}function ub(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case ms:return 2;case pr:return 8;case Gi:case Ma:return 32;case Hr:return 268435456;default:return 32}default:return 32}}var sy=!1,Eo=null,bo=null,So=null,gh=new Map,yh=new Map,xo=[],Z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cb(r,a){switch(r){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":gh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(a.pointerId)}}function _h(r,a,u,f,_,T){return r===null||r.nativeEvent!==T?(r={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:T,targetContainers:[_]},a!==null&&(a=Ki(a),a!==null&&lb(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,_!==null&&a.indexOf(_)===-1&&a.push(_),r)}function K2(r,a,u,f,_){switch(a){case"focusin":return Eo=_h(Eo,r,a,u,f,_),!0;case"dragenter":return bo=_h(bo,r,a,u,f,_),!0;case"mouseover":return So=_h(So,r,a,u,f,_),!0;case"pointerover":var T=_.pointerId;return gh.set(T,_h(gh.get(T)||null,r,a,u,f,_)),!0;case"gotpointercapture":return T=_.pointerId,yh.set(T,_h(yh.get(T)||null,r,a,u,f,_)),!0}return!1}function hb(r){var a=Zi(r.target);if(a!==null){var u=l(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){r.blockedOn=a,Va(r.priority,function(){if(u.tag===13){var f=lr();f=gs(f);var _=no(u,f);_!==null&&ur(_,u,f),ey(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Od(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=iy(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);Xi=f,u.target.dispatchEvent(f),Xi=null}else return a=Ki(u),a!==null&&lb(a),r.blockedOn=u,!1;a.shift()}return!0}function fb(r,a,u){Od(r)&&u.delete(a)}function $2(){sy=!1,Eo!==null&&Od(Eo)&&(Eo=null),bo!==null&&Od(bo)&&(bo=null),So!==null&&Od(So)&&(So=null),gh.forEach(fb),yh.forEach(fb)}function Nd(r,a){r.blockedOn===a&&(r.blockedOn=null,sy||(sy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$2)))}var Vd=null;function db(r){Vd!==r&&(Vd=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vd===r&&(Vd=null);for(var a=0;a<r.length;a+=3){var u=r[a],f=r[a+1],_=r[a+2];if(typeof f!="function"){if(ry(f||u)===null)continue;break}var T=Ki(u);T!==null&&(r.splice(a,3),a-=3,rg(T,{pending:!0,data:_,method:u.method,action:f},f,_))}}))}function vh(r){function a(K){return Nd(K,r)}Eo!==null&&Nd(Eo,r),bo!==null&&Nd(bo,r),So!==null&&Nd(So,r),gh.forEach(a),yh.forEach(a);for(var u=0;u<xo.length;u++){var f=xo[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<xo.length&&(u=xo[0],u.blockedOn===null);)hb(u),u.blockedOn===null&&xo.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var _=u[f],T=u[f+1],I=_[rn]||null;if(typeof T=="function")I||db(u);else if(I){var k=null;if(T&&T.hasAttribute("formAction")){if(_=T,I=T[rn]||null)k=I.formAction;else if(ry(_)!==null)continue}else k=I.action;typeof k=="function"?u[f+1]=k:(u.splice(f,3),f-=3),db(u)}}}function ay(r){this._internalRoot=r}zd.prototype.render=ay.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,f=lr();ab(u,f,r,a,null,null)},zd.prototype.unmount=ay.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;ab(r.current,2,null,r,null,null),vd(),a[ki]=null}};function zd(r){this._internalRoot=r}zd.prototype.unstable_scheduleHydration=function(r){if(r){var a=ys();r={blockedOn:null,target:r,priority:a};for(var u=0;u<xo.length&&a!==0&&a<xo[u].priority;u++);xo.splice(u,0,r),u===0&&hb(r)}};var pb=t.version;if(pb!=="19.1.1")throw Error(i(527,pb,"19.1.1"));gt.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var W2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:st,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{ut=Ud.inject(W2),vt=Ud}catch{}}return wh.createRoot=function(r,a){if(!s(r))throw Error(i(299));var u=!1,f="",_=Pw,T=kw,I=Dw,k=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks)),a=rb(r,1,!1,null,null,u,f,_,T,I,k,null),r[ki]=a.current,Fg(r),new ay(a)},wh.hydrateRoot=function(r,a,u){if(!s(r))throw Error(i(299));var f=!1,_="",T=Pw,I=kw,k=Dw,K=null,rt=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(K=u.unstable_transitionCallbacks),u.formState!==void 0&&(rt=u.formState)),a=rb(r,1,!0,a,u??null,f,_,T,I,k,K,rt),a.context=sb(null),u=a.current,f=lr(),f=gs(f),_=oo(f),_.callback=null,lo(u,_,f),u=f,a.current.lanes=u,gr(a,u),Ms(a),r[ki]=a.current,Fg(r),new zd(a)},wh.version="19.1.1",wh}var Sb;function rD(){if(Sb)return uy.exports;Sb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),uy.exports=iD(),uy.exports}var sD=rD();const aD=Yp(sD);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xb="popstate";function oD(e={}){function t(i,s){let{pathname:l,search:c,hash:d}=i.location;return r_("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Qh(s)}return uD(t,n,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function us(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lD(){return Math.random().toString(36).substring(2,10)}function Ab(e,t){return{usr:e.state,key:e.key,idx:t}}function r_(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yc(t):t,state:n,key:t&&t.key||i||lD()}}function Qh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function uD(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function w(){d="POP";let H=v(),U=H==null?null:H-m;m=H,p&&p({action:d,location:N.location,delta:U})}function b(H,U){d="PUSH";let X=r_(N.location,H,U);m=v()+1;let W=Ab(X,m),dt=N.createHref(X);try{c.pushState(W,"",dt)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;s.location.assign(dt)}l&&p&&p({action:d,location:N.location,delta:1})}function x(H,U){d="REPLACE";let X=r_(N.location,H,U);m=v();let W=Ab(X,m),dt=N.createHref(X);c.replaceState(W,"",dt),l&&p&&p({action:d,location:N.location,delta:0})}function D(H){return cD(H)}let N={get action(){return d},get location(){return e(s,c)},listen(H){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(xb,w),p=H,()=>{s.removeEventListener(xb,w),p=null}},createHref(H){return t(s,H)},createURL:D,encodeLocation(H){let U=D(H);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:b,replace:x,go(H){return c.go(H)}};return N}function cD(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),We(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Qh(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function pA(e,t,n="/"){return hD(e,t,n,!1)}function hD(e,t,n,i){let s=typeof t=="string"?yc(t):t,l=xa(s.pathname||"/",n);if(l==null)return null;let c=mA(e);fD(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=bD(l);d=wD(c[p],m,i)}return d}function mA(e,t=[],n=[],i=""){let s=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(We(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Sa([i,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(We(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),mA(l.children,t,v,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:vD(m,l.index),routesMeta:v})};return e.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of gA(l.path))s(l,c,d)}),t}function gA(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=gA(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function fD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:TD(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var dD=/^:[\w-]+$/,pD=3,mD=2,gD=1,yD=10,_D=-2,Cb=e=>e==="*";function vD(e,t){let n=e.split("/"),i=n.length;return n.some(Cb)&&(i+=_D),t&&(i+=mD),n.filter(s=>!Cb(s)).reduce((s,l)=>s+(dD.test(l)?pD:l===""?gD:yD),i)}function TD(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function wD(e,t,n=!1){let{routesMeta:i}=e,s={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,v=l==="/"?t:t.slice(l.length)||"/",w=bp({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),b=p.route;if(!w&&m&&n&&!i[i.length-1].route.index&&(w=bp({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(s,w.params),c.push({params:s,pathname:Sa([l,w.pathname]),pathnameBase:CD(Sa([l,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(l=Sa([l,w.pathnameBase]))}return c}function bp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=ED(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:w},b)=>{if(v==="*"){let D=d[b]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const x=d[b];return w&&!x?m[v]=void 0:m[v]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function ED(e,t=!1,n=!0){us(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function bD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return us(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function xa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function SD(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?yc(e):e;return{pathname:n?n.startsWith("/")?n:xD(n,t):t,search:RD(i),hash:ID(s)}}function xD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function dy(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mv(e){let t=AD(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function gv(e,t,n,i=!1){let s;typeof e=="string"?s=yc(e):(s={...e},We(!s.pathname||!s.pathname.includes("?"),dy("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),dy("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),dy("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let w=t.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),w-=1;s.pathname=b.join("/")}d=w>=0?t[w]:"/"}let p=SD(s,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Sa=e=>e.join("/").replace(/\/\/+/g,"/"),CD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ID=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var yA=["POST","PUT","PATCH","DELETE"];new Set(yA);var kD=["GET",...yA];new Set(kD);var _c=$.createContext(null);_c.displayName="DataRouter";var Xp=$.createContext(null);Xp.displayName="DataRouterState";$.createContext(!1);var _A=$.createContext({isTransitioning:!1});_A.displayName="ViewTransition";var DD=$.createContext(new Map);DD.displayName="Fetchers";var MD=$.createContext(null);MD.displayName="Await";var fs=$.createContext(null);fs.displayName="Navigation";var vf=$.createContext(null);vf.displayName="Location";var Ys=$.createContext({outlet:null,matches:[],isDataRoute:!1});Ys.displayName="Route";var yv=$.createContext(null);yv.displayName="RouteError";function LD(e,{relative:t}={}){We(vc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=$.useContext(fs),{hash:s,pathname:l,search:c}=Tf(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Sa([n,l])),i.createHref({pathname:d,search:c,hash:s})}function vc(){return $.useContext(vf)!=null}function Da(){return We(vc(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(vf).location}var vA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TA(e){$.useContext(fs).static||$.useLayoutEffect(e)}function Qp(){let{isDataRoute:e}=$.useContext(Ys);return e?KD():OD()}function OD(){We(vc(),"useNavigate() may be used only in the context of a <Router> component.");let e=$.useContext(_c),{basename:t,navigator:n}=$.useContext(fs),{matches:i}=$.useContext(Ys),{pathname:s}=Da(),l=JSON.stringify(mv(i)),c=$.useRef(!1);return TA(()=>{c.current=!0}),$.useCallback((p,m={})=>{if(us(c.current,vA),!c.current)return;if(typeof p=="number"){n.go(p);return}let v=gv(p,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Sa([t,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[t,n,l,s,e])}$.createContext(null);function Tf(e,{relative:t}={}){let{matches:n}=$.useContext(Ys),{pathname:i}=Da(),s=JSON.stringify(mv(n));return $.useMemo(()=>gv(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function ND(e,t){return wA(e,t)}function wA(e,t,n,i){We(vc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=$.useContext(fs),{matches:l}=$.useContext(Ys),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let U=v&&v.path||"";EA(p,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=Da(),b;if(t){let U=typeof t=="string"?yc(t):t;We(m==="/"||U.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${U.pathname}" was given in the \`location\` prop.`),b=U}else b=w;let x=b.pathname||"/",D=x;if(m!=="/"){let U=m.replace(/^\//,"").split("/");D="/"+x.replace(/^\//,"").split("/").slice(U.length).join("/")}let N=pA(e,{pathname:D});us(v||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),us(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=jD(N&&N.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Sa([m,s.encodeLocation?s.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?m:Sa([m,s.encodeLocation?s.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,n,i);return t&&H?$.createElement(vf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},H):H}function VD(){let e=ZD(),t=PD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),n?$.createElement("pre",{style:s},n):null,c)}var zD=$.createElement(VD,null),UD=class extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?$.createElement(Ys.Provider,{value:this.props.routeContext},$.createElement(yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BD({routeContext:e,match:t,children:n}){let i=$.useContext(_c);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(Ys.Provider,{value:e},n)}function jD(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n?.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);We(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:w}=n,b=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,m,v)=>{let w,b=!1,x=null,D=null;n&&(w=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||zD,c&&(d<0&&v===0?(EA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,D=null):d===v&&(b=!0,D=m.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,v+1)),H=()=>{let U;return w?U=x:b?U=D:m.route.Component?U=$.createElement(m.route.Component,null):m.route.element?U=m.route.element:U=p,$.createElement(BD,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:U})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?$.createElement(UD,{location:n.location,revalidation:n.revalidation,component:x,error:w,children:H(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):H()},null)}function _v(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FD(e){let t=$.useContext(_c);return We(t,_v(e)),t}function HD(e){let t=$.useContext(Xp);return We(t,_v(e)),t}function qD(e){let t=$.useContext(Ys);return We(t,_v(e)),t}function vv(e){let t=qD(e),n=t.matches[t.matches.length-1];return We(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function GD(){return vv("useRouteId")}function ZD(){let e=$.useContext(yv),t=HD("useRouteError"),n=vv("useRouteError");return e!==void 0?e:t.errors?.[n]}function KD(){let{router:e}=FD("useNavigate"),t=vv("useNavigate"),n=$.useRef(!1);return TA(()=>{n.current=!0}),$.useCallback(async(s,l={})=>{us(n.current,vA),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var Rb={};function EA(e,t,n){!t&&!Rb[e]&&(Rb[e]=!0,us(!1,n))}$.memo($D);function $D({routes:e,future:t,state:n}){return wA(e,void 0,n,t)}function WD({to:e,replace:t,state:n,relative:i}){We(vc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=$.useContext(fs);us(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=$.useContext(Ys),{pathname:c}=Da(),d=Qp(),p=gv(e,mv(l),c,i==="path"),m=JSON.stringify(p);return $.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:i})},[d,m,i,t,n]),null}function np(e){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YD({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:l=!1}){We(!vc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=yc(n));let{pathname:p="/",search:m="",hash:v="",state:w=null,key:b="default"}=n,x=$.useMemo(()=>{let D=xa(p,c);return D==null?null:{location:{pathname:D,search:m,hash:v,state:w,key:b},navigationType:i}},[c,p,m,v,w,b,i]);return us(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:$.createElement(fs.Provider,{value:d},$.createElement(vf.Provider,{children:t,value:x}))}function XD({children:e,location:t}){return ND(s_(e),t)}function s_(e,t=[]){let n=[];return $.Children.forEach(e,(i,s)=>{if(!$.isValidElement(i))return;let l=[...t,s];if(i.type===$.Fragment){n.push.apply(n,s_(i.props.children,l));return}We(i.type===np,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=s_(i.props.children,l)),n.push(c)}),n}var ip="get",rp="application/x-www-form-urlencoded";function Jp(e){return e!=null&&typeof e.tagName=="string"}function QD(e){return Jp(e)&&e.tagName.toLowerCase()==="button"}function JD(e){return Jp(e)&&e.tagName.toLowerCase()==="form"}function tM(e){return Jp(e)&&e.tagName.toLowerCase()==="input"}function eM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nM(e,t){return e.button===0&&(!t||t==="_self")&&!eM(e)}var Bd=null;function iM(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var rM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function py(e){return e!=null&&!rM.has(e)?(us(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rp}"`),null):e}function sM(e,t){let n,i,s,l,c;if(JD(e)){let d=e.getAttribute("action");i=d?xa(d,t):null,n=e.getAttribute("method")||ip,s=py(e.getAttribute("enctype"))||rp,l=new FormData(e)}else if(QD(e)||tM(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||d.getAttribute("action");if(i=p?xa(p,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||ip,s=py(e.getAttribute("formenctype"))||py(d.getAttribute("enctype"))||rp,l=new FormData(d,e),!iM()){let{name:m,type:v,value:w}=e;if(v==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,w)}}else{if(Jp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ip,i=null,s=rp,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aM(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&xa(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function oM(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function uM(e,t,n){let i=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await oM(l,n);return c.links?c.links():[]}return[]}));return dM(i.flat(1).filter(lM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ib(e,t,n,i,s,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,d=(p,m)=>n[m].pathname!==p.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?t.filter((p,m)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function cM(e,t,{includeHydrateFallback:n}={}){return hM(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function hM(e){return[...new Set(e)]}function fM(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function dM(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let l=JSON.stringify(fM(s));return n.has(l)||(n.add(l),i.push({key:l,link:s})),i},[])}function bA(){let e=$.useContext(_c);return Tv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pM(){let e=$.useContext(Xp);return Tv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wv=$.createContext(void 0);wv.displayName="FrameworkContext";function SA(){let e=$.useContext(wv);return Tv(e,"You must render this element inside a <HydratedRouter> element"),e}function mM(e,t){let n=$.useContext(wv),[i,s]=$.useState(!1),[l,c]=$.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:w}=t,b=$.useRef(null);$.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let N=U=>{U.forEach(X=>{c(X.isIntersecting)})},H=new IntersectionObserver(N,{threshold:.5});return b.current&&H.observe(b.current),()=>{H.disconnect()}}},[e]),$.useEffect(()=>{if(i){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[i]);let x=()=>{s(!0)},D=()=>{s(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Eh(d,x),onBlur:Eh(p,D),onMouseEnter:Eh(m,x),onMouseLeave:Eh(v,D),onTouchStart:Eh(w,x)}]:[!1,b,{}]}function Eh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gM({page:e,...t}){let{router:n}=bA(),i=$.useMemo(()=>pA(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?$.createElement(_M,{page:e,matches:i,...t}):null}function yM(e){let{manifest:t,routeModules:n}=SA(),[i,s]=$.useState([]);return $.useEffect(()=>{let l=!1;return uM(e,t,n).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,n]),i}function _M({page:e,matches:t,...n}){let i=Da(),{manifest:s,routeModules:l}=SA(),{basename:c}=bA(),{loaderData:d,matches:p}=pM(),m=$.useMemo(()=>Ib(e,t,p,s,i,"data"),[e,t,p,s,i]),v=$.useMemo(()=>Ib(e,t,p,s,i,"assets"),[e,t,p,s,i]),w=$.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let D=new Set,N=!1;if(t.forEach(U=>{let X=s.routes[U.route.id];!X||!X.hasLoader||(!m.some(W=>W.route.id===U.route.id)&&U.route.id in d&&l[U.route.id]?.shouldRevalidate||X.hasClientLoader?N=!0:D.add(U.route.id))}),D.size===0)return[];let H=aM(e,c,"data");return N&&D.size>0&&H.searchParams.set("_routes",t.filter(U=>D.has(U.route.id)).map(U=>U.route.id).join(",")),[H.pathname+H.search]},[c,d,i,s,m,t,e,l]),b=$.useMemo(()=>cM(v,s),[v,s]),x=yM(v);return $.createElement($.Fragment,null,w.map(D=>$.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>$.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),x.map(({key:D,link:N})=>$.createElement("link",{key:D,nonce:n.nonce,...N})))}function vM(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var xA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xA&&(window.__reactRouterVersion="7.8.0")}catch{}function TM({basename:e,children:t,window:n}){let i=$.useRef();i.current==null&&(i.current=oD({window:n,v5Compat:!0}));let s=i.current,[l,c]=$.useState({action:s.action,location:s.location}),d=$.useCallback(p=>{$.startTransition(()=>c(p))},[c]);return $.useLayoutEffect(()=>s.listen(d),[s,d]),$.createElement(YD,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var AA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CA=$.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:v,viewTransition:w,...b},x){let{basename:D}=$.useContext(fs),N=typeof m=="string"&&AA.test(m),H,U=!1;if(typeof m=="string"&&N&&(H=m,xA))try{let z=new URL(window.location.href),G=m.startsWith("//")?new URL(z.protocol+m):new URL(m),F=xa(G.pathname,D);G.origin===z.origin&&F!=null?m=F+G.search+G.hash:U=!0}catch{us(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=LD(m,{relative:s}),[W,dt,ct]=mM(i,b),Q=bM(m,{replace:c,state:d,target:p,preventScrollReset:v,relative:s,viewTransition:w});function j(z){t&&t(z),z.defaultPrevented||Q(z)}let M=$.createElement("a",{...b,...ct,href:H||X,onClick:U||l?t:j,ref:vM(x,dt),target:p,"data-discover":!N&&n==="render"?"true":void 0});return W&&!N?$.createElement($.Fragment,null,M,$.createElement(gM,{page:X})):M});CA.displayName="Link";var sp=$.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...m},v){let w=Tf(c,{relative:m.relative}),b=Da(),x=$.useContext(Xp),{navigator:D,basename:N}=$.useContext(fs),H=x!=null&&RM(w)&&d===!0,U=D.encodeLocation?D.encodeLocation(w).pathname:w.pathname,X=b.pathname,W=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(X=X.toLowerCase(),W=W?W.toLowerCase():null,U=U.toLowerCase()),W&&N&&(W=xa(W,N)||W);const dt=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ct=X===U||!s&&X.startsWith(U)&&X.charAt(dt)==="/",Q=W!=null&&(W===U||!s&&W.startsWith(U)&&W.charAt(U.length)==="/"),j={isActive:ct,isPending:Q,isTransitioning:H},M=ct?t:void 0,z;typeof i=="function"?z=i(j):z=[i,ct?"active":null,Q?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let G=typeof l=="function"?l(j):l;return $.createElement(CA,{...m,"aria-current":M,className:z,ref:v,style:G,to:c,viewTransition:d},typeof p=="function"?p(j):p)});sp.displayName="NavLink";var wM=$.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:l,method:c=ip,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:w,...b},x)=>{let D=AM(),N=CM(d,{relative:m}),H=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&AA.test(d),X=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let dt=W.nativeEvent.submitter,ct=dt?.getAttribute("formmethod")||c;D(dt||W.currentTarget,{fetcherKey:t,method:ct,navigate:n,replace:s,state:l,relative:m,preventScrollReset:v,viewTransition:w})};return $.createElement("form",{ref:x,method:H,action:N,onSubmit:i?p:X,...b,"data-discover":!U&&e==="render"?"true":void 0})});wM.displayName="Form";function EM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RA(e){let t=$.useContext(_c);return We(t,EM(e)),t}function bM(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Qp(),p=Da(),m=Tf(e,{relative:l});return $.useCallback(v=>{if(nM(v,t)){v.preventDefault();let w=n!==void 0?n:Qh(p)===Qh(m);d(e,{replace:w,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[p,d,m,n,i,t,e,s,l,c])}var SM=0,xM=()=>`__${String(++SM)}__`;function AM(){let{router:e}=RA("useSubmit"),{basename:t}=$.useContext(fs),n=GD();return $.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=sM(i,t);if(s.navigate===!1){let v=s.fetcherKey||xM();await e.fetch(v,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function CM(e,{relative:t}={}){let{basename:n}=$.useContext(fs),i=$.useContext(Ys);We(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Tf(e||".",{relative:t})},c=Da();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();l.search=v?`?${v}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Sa([n,l.pathname])),Qh(l)}function RM(e,{relative:t}={}){let n=$.useContext(_A);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=RA("useViewTransitionState"),s=Tf(e,{relative:t});if(!n.isTransitioning)return!1;let l=xa(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=xa(n.nextLocation.pathname,i)||n.nextLocation.pathname;return bp(s.pathname,c)!=null||bp(s.pathname,l)!=null}var IM=dA();const Ev=$.createContext({});function bv(e){const t=$.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sv=typeof window<"u",IA=Sv?$.useLayoutEffect:$.useEffect,tm=$.createContext(null);function xv(e,t){e.indexOf(t)===-1&&e.push(t)}function Av(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Aa=(e,t,n)=>n>t?t:n<e?e:n;let Cv=()=>{};const Ca={},PA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function kA(e){return typeof e=="object"&&e!==null}const DA=e=>/^0[^.\s]+$/u.test(e);function Rv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Br=e=>e,PM=(e,t)=>n=>t(e(n)),wf=(...e)=>e.reduce(PM),Jh=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Iv{constructor(){this.subscriptions=[]}add(t){return xv(this.subscriptions,t),()=>Av(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zs=e=>e*1e3,Us=e=>e/1e3;function MA(e,t){return t?e*(1e3/t):0}const LA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kM=1e-7,DM=12;function MM(e,t,n,i,s){let l,c,d=0;do c=t+(n-t)/2,l=LA(c,i,s)-e,l>0?n=c:t=c;while(Math.abs(l)>kM&&++d<DM);return c}function Ef(e,t,n,i){if(e===t&&n===i)return Br;const s=l=>MM(l,0,1,e,n);return l=>l===0||l===1?l:LA(s(l),t,i)}const OA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,NA=e=>t=>1-e(1-t),VA=Ef(.33,1.53,.69,.99),Pv=NA(VA),zA=OA(Pv),UA=e=>(e*=2)<1?.5*Pv(e):.5*(2-Math.pow(2,-10*(e-1))),kv=e=>1-Math.sin(Math.acos(e)),BA=NA(kv),jA=OA(kv),LM=Ef(.42,0,1,1),OM=Ef(0,0,.58,1),FA=Ef(.42,0,.58,1),NM=e=>Array.isArray(e)&&typeof e[0]!="number",HA=e=>Array.isArray(e)&&typeof e[0]=="number",VM={linear:Br,easeIn:LM,easeInOut:FA,easeOut:OM,circIn:kv,circInOut:jA,circOut:BA,backIn:Pv,backInOut:zA,backOut:VA,anticipate:UA},zM=e=>typeof e=="string",Pb=e=>{if(HA(e)){Cv(e.length===4);const[t,n,i,s]=e;return Ef(t,n,i,s)}else if(zM(e))return VM[e];return e},jd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function UM(e,t){let n=new Set,i=new Set,s=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(m.schedule(v),e()),v(d)}const m={schedule:(v,w=!1,b=!1)=>{const D=b&&s?n:i;return w&&c.add(v),D.has(v)||D.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(d=v,s){l=!0;return}s=!0,[n,i]=[i,n],n.forEach(p),n.clear(),s=!1,l&&(l=!1,m.process(v))}};return m}const BM=40;function qA(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=jd.reduce((W,dt)=>(W[dt]=UM(l),W),{}),{setup:d,read:p,resolveKeyframes:m,preUpdate:v,update:w,preRender:b,render:x,postRender:D}=c,N=()=>{const W=Ca.useManualTiming?s.timestamp:performance.now();n=!1,Ca.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(W-s.timestamp,BM),1)),s.timestamp=W,s.isProcessing=!0,d.process(s),p.process(s),m.process(s),v.process(s),w.process(s),b.process(s),x.process(s),D.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(N))},H=()=>{n=!0,i=!0,s.isProcessing||e(N)};return{schedule:jd.reduce((W,dt)=>{const ct=c[dt];return W[dt]=(Q,j=!1,M=!1)=>(n||H(),ct.schedule(Q,j,M)),W},{}),cancel:W=>{for(let dt=0;dt<jd.length;dt++)c[jd[dt]].cancel(W)},state:s,steps:c}}const{schedule:$e,cancel:Fo,state:ri,steps:my}=qA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Br,!0);let ap;function jM(){ap=void 0}const ji={now:()=>(ap===void 0&&ji.set(ri.isProcessing||Ca.useManualTiming?ri.timestamp:performance.now()),ap),set:e=>{ap=e,queueMicrotask(jM)}},GA=e=>t=>typeof t=="string"&&t.startsWith(e),Dv=GA("--"),FM=GA("var(--"),Mv=e=>FM(e)?HM.test(e.split("/*")[0].trim()):!1,HM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tf={...Tc,transform:e=>Aa(0,1,e)},Fd={...Tc,default:1},Vh=e=>Math.round(e*1e5)/1e5,Lv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qM(e){return e==null}const GM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ov=(e,t)=>n=>!!(typeof n=="string"&&GM.test(n)&&n.startsWith(e)||t&&!qM(n)&&Object.prototype.hasOwnProperty.call(n,t)),ZA=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,l,c,d]=i.match(Lv);return{[e]:parseFloat(s),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},ZM=e=>Aa(0,255,e),gy={...Tc,transform:e=>Math.round(ZM(e))},Vl={test:Ov("rgb","red"),parse:ZA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+gy.transform(e)+", "+gy.transform(t)+", "+gy.transform(n)+", "+Vh(tf.transform(i))+")"};function KM(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const a_={test:Ov("#"),parse:KM,transform:Vl.transform},bf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Io=bf("deg"),Bs=bf("%"),Yt=bf("px"),$M=bf("vh"),WM=bf("vw"),kb={...Bs,parse:e=>Bs.parse(e)/100,transform:e=>Bs.transform(e*100)},Zu={test:Ov("hsl","hue"),parse:ZA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Bs.transform(Vh(t))+", "+Bs.transform(Vh(n))+", "+Vh(tf.transform(i))+")"},An={test:e=>Vl.test(e)||a_.test(e)||Zu.test(e),parse:e=>Vl.test(e)?Vl.parse(e):Zu.test(e)?Zu.parse(e):a_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vl.transform(e):Zu.transform(e),getAnimatableNone:e=>{const t=An.parse(e);return t.alpha=0,An.transform(t)}},YM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XM(e){return isNaN(e)&&typeof e=="string"&&(e.match(Lv)?.length||0)+(e.match(YM)?.length||0)>0}const KA="number",$A="color",QM="var",JM="var(",Db="${}",tL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ef(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let l=0;const d=t.replace(tL,p=>(An.test(p)?(i.color.push(l),s.push($A),n.push(An.parse(p))):p.startsWith(JM)?(i.var.push(l),s.push(QM),n.push(p)):(i.number.push(l),s.push(KA),n.push(parseFloat(p))),++l,Db)).split(Db);return{values:n,split:d,indexes:i,types:s}}function WA(e){return ef(e).values}function YA(e){const{split:t,types:n}=ef(e),i=t.length;return s=>{let l="";for(let c=0;c<i;c++)if(l+=t[c],s[c]!==void 0){const d=n[c];d===KA?l+=Vh(s[c]):d===$A?l+=An.transform(s[c]):l+=s[c]}return l}}const eL=e=>typeof e=="number"?0:An.test(e)?An.getAnimatableNone(e):e;function nL(e){const t=WA(e);return YA(e)(t.map(eL))}const Ho={test:XM,parse:WA,createTransformer:YA,getAnimatableNone:nL};function yy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function iL({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,l=0,c=0;if(!t)s=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;s=yy(p,d,e+1/3),l=yy(p,d,e),c=yy(p,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Sp(e,t){return n=>n>0?t:e}const tn=(e,t,n)=>e+(t-e)*n,_y=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},rL=[a_,Vl,Zu],sL=e=>rL.find(t=>t.test(e));function Mb(e){const t=sL(e);if(!t)return!1;let n=t.parse(e);return t===Zu&&(n=iL(n)),n}const Lb=(e,t)=>{const n=Mb(e),i=Mb(t);if(!n||!i)return Sp(e,t);const s={...n};return l=>(s.red=_y(n.red,i.red,l),s.green=_y(n.green,i.green,l),s.blue=_y(n.blue,i.blue,l),s.alpha=tn(n.alpha,i.alpha,l),Vl.transform(s))},o_=new Set(["none","hidden"]);function aL(e,t){return o_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function oL(e,t){return n=>tn(e,t,n)}function Nv(e){return typeof e=="number"?oL:typeof e=="string"?Mv(e)?Sp:An.test(e)?Lb:cL:Array.isArray(e)?XA:typeof e=="object"?An.test(e)?Lb:lL:Sp}function XA(e,t){const n=[...e],i=n.length,s=e.map((l,c)=>Nv(l)(l,t[c]));return l=>{for(let c=0;c<i;c++)n[c]=s[c](l);return n}}function lL(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=Nv(e[s])(e[s],t[s]));return s=>{for(const l in i)n[l]=i[l](s);return n}}function uL(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][i[l]],d=e.values[c]??0;n[s]=d,i[l]++}return n}const cL=(e,t)=>{const n=Ho.createTransformer(t),i=ef(e),s=ef(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?o_.has(e)&&!s.values.length||o_.has(t)&&!i.values.length?aL(e,t):wf(XA(uL(i,s),s.values),n):Sp(e,t)};function QA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?tn(e,t,n):Nv(e)(e,t)}const hL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>$e.update(t,n),stop:()=>Fo(t),now:()=>ri.isProcessing?ri.timestamp:ji.now()}},JA=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let l=0;l<s;l++)i+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},xp=2e4;function Vv(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<xp;)t+=n,i=e.next(t);return t>=xp?1/0:t}function fL(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(Vv(i),xp);return{type:"keyframes",ease:l=>i.next(s*l).value/t,duration:Us(s)}}const dL=5;function tC(e,t,n){const i=Math.max(t-dL,0);return MA(n-e(i),t-i)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vy=.001;function pL({duration:e=on.duration,bounce:t=on.bounce,velocity:n=on.velocity,mass:i=on.mass}){let s,l,c=1-t;c=Aa(on.minDamping,on.maxDamping,c),e=Aa(on.minDuration,on.maxDuration,Us(e)),c<1?(s=m=>{const v=m*c,w=v*e,b=v-n,x=l_(m,c),D=Math.exp(-w);return vy-b/x*D},l=m=>{const w=m*c*e,b=w*n+n,x=Math.pow(c,2)*Math.pow(m,2)*e,D=Math.exp(-w),N=l_(Math.pow(m,2),c);return(-s(m)+vy>0?-1:1)*((b-x)*D)/N}):(s=m=>{const v=Math.exp(-m*e),w=(m-n)*e+1;return-vy+v*w},l=m=>{const v=Math.exp(-m*e),w=(n-m)*(e*e);return v*w});const d=5/e,p=gL(s,l,d);if(e=zs(e),isNaN(p))return{stiffness:on.stiffness,damping:on.damping,duration:e};{const m=Math.pow(p,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:e}}}const mL=12;function gL(e,t,n){let i=n;for(let s=1;s<mL;s++)i=i-e(i)/t(i);return i}function l_(e,t){return e*Math.sqrt(1-t*t)}const yL=["duration","bounce"],_L=["stiffness","damping","mass"];function Ob(e,t){return t.some(n=>e[n]!==void 0)}function vL(e){let t={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...e};if(!Ob(e,_L)&&Ob(e,yL))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,l=2*Aa(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:on.mass,stiffness:s,damping:l}}else{const n=pL(e);t={...t,...n,mass:on.mass},t.isResolvedFromDuration=!0}return t}function Ap(e=on.visualDuration,t=on.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:m,mass:v,duration:w,velocity:b,isResolvedFromDuration:x}=vL({...n,velocity:-Us(n.velocity||0)}),D=b||0,N=m/(2*Math.sqrt(p*v)),H=c-l,U=Us(Math.sqrt(p/v)),X=Math.abs(H)<5;i||(i=X?on.restSpeed.granular:on.restSpeed.default),s||(s=X?on.restDelta.granular:on.restDelta.default);let W;if(N<1){const ct=l_(U,N);W=Q=>{const j=Math.exp(-N*U*Q);return c-j*((D+N*U*H)/ct*Math.sin(ct*Q)+H*Math.cos(ct*Q))}}else if(N===1)W=ct=>c-Math.exp(-U*ct)*(H+(D+U*H)*ct);else{const ct=U*Math.sqrt(N*N-1);W=Q=>{const j=Math.exp(-N*U*Q),M=Math.min(ct*Q,300);return c-j*((D+N*U*H)*Math.sinh(M)+ct*H*Math.cosh(M))/ct}}const dt={calculatedDuration:x&&w||null,next:ct=>{const Q=W(ct);if(x)d.done=ct>=w;else{let j=ct===0?D:0;N<1&&(j=ct===0?zs(D):tC(W,ct,Q));const M=Math.abs(j)<=i,z=Math.abs(c-Q)<=s;d.done=M&&z}return d.value=d.done?c:Q,d},toString:()=>{const ct=Math.min(Vv(dt),xp),Q=JA(j=>dt.next(ct*j).value,ct,30);return ct+"ms "+Q},toTransition:()=>{}};return dt}Ap.applyToOptions=e=>{const t=fL(e,100,Ap);return e.ease=t.ease,e.duration=zs(t.duration),e.type="keyframes",e};function u_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:m=.5,restSpeed:v}){const w=e[0],b={done:!1,value:w},x=M=>d!==void 0&&M<d||p!==void 0&&M>p,D=M=>d===void 0?p:p===void 0||Math.abs(d-M)<Math.abs(p-M)?d:p;let N=n*t;const H=w+N,U=c===void 0?H:c(H);U!==H&&(N=U-w);const X=M=>-N*Math.exp(-M/i),W=M=>U+X(M),dt=M=>{const z=X(M),G=W(M);b.done=Math.abs(z)<=m,b.value=b.done?U:G};let ct,Q;const j=M=>{x(b.value)&&(ct=M,Q=Ap({keyframes:[b.value,D(b.value)],velocity:tC(W,M,b.value),damping:s,stiffness:l,restDelta:m,restSpeed:v}))};return j(0),{calculatedDuration:null,next:M=>{let z=!1;return!Q&&ct===void 0&&(z=!0,dt(M),j(M)),ct!==void 0&&M>=ct?Q.next(M-ct):(!z&&dt(M),b)}}}function TL(e,t,n){const i=[],s=n||Ca.mix||QA,l=e.length-1;for(let c=0;c<l;c++){let d=s(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||Br:t;d=wf(p,d)}i.push(d)}return i}function wL(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const l=e.length;if(Cv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=TL(t,i,s),p=d.length,m=v=>{if(c&&v<e[0])return t[0];let w=0;if(p>1)for(;w<e.length-2&&!(v<e[w+1]);w++);const b=Jh(e[w],e[w+1],v);return d[w](b)};return n?v=>m(Aa(e[0],e[l-1],v)):m}function EL(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Jh(0,t,i);e.push(tn(n,1,s))}}function bL(e){const t=[0];return EL(t,e.length-1),t}function SL(e,t){return e.map(n=>n*t)}function xL(e,t){return e.map(()=>t||FA).splice(0,e.length-1)}function zh({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=NM(i)?i.map(Pb):Pb(i),l={done:!1,value:t[0]},c=SL(n&&n.length===t.length?n:bL(t),e),d=wL(c,t,{ease:Array.isArray(s)?s:xL(t,s)});return{calculatedDuration:e,next:p=>(l.value=d(p),l.done=p>=e,l)}}const AL=e=>e!==null;function zv(e,{repeat:t,repeatType:n="loop"},i,s=1){const l=e.filter(AL),d=s<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const CL={decay:u_,inertia:u_,tween:zh,keyframes:zh,spring:Ap};function eC(e){typeof e.type=="string"&&(e.type=CL[e.type])}class Uv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const RL=e=>e/100;class Bv extends Uv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ji.now()&&this.tick(ji.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;eC(t);const{type:n=zh,repeat:i=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const p=n||zh;p!==zh&&typeof d[0]!="number"&&(this.mixKeyframes=wf(RL,QA(d[0],d[1])),d=[0,100]);const m=p({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Vv(m));const{calculatedDuration:v}=m;this.calculatedDuration=v,this.resolvedDuration=v+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:v,repeat:w,repeatType:b,repeatDelay:x,type:D,onUpdate:N,finalKeyframe:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const U=this.currentTime-m*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?U<0:U>s;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let W=this.currentTime,dt=i;if(w){const M=Math.min(this.currentTime,s)/d;let z=Math.floor(M),G=M%1;!G&&M>=1&&(G=1),G===1&&z--,z=Math.min(z,w+1),!!(z%2)&&(b==="reverse"?(G=1-G,x&&(G-=x/d)):b==="mirror"&&(dt=c)),W=Aa(0,1,G)*d}const ct=X?{done:!1,value:v[0]}:dt.next(W);l&&(ct.value=l(ct.value));let{done:Q}=ct;!X&&p!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return j&&D!==u_&&(ct.value=zv(v,this.options,H,this.speed)),N&&N(ct.value),j&&this.finish(),ct}then(t,n){return this.finished.then(t,n)}get duration(){return Us(this.calculatedDuration)}get time(){return Us(this.currentTime)}set time(t){t=zs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ji.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Us(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=hL,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ji.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function IL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const zl=e=>e*180/Math.PI,c_=e=>{const t=zl(Math.atan2(e[1],e[0]));return h_(t)},PL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:c_,rotateZ:c_,skewX:e=>zl(Math.atan(e[1])),skewY:e=>zl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},h_=e=>(e=e%360,e<0&&(e+=360),e),Nb=c_,Vb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),zb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),kL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vb,scaleY:zb,scale:e=>(Vb(e)+zb(e))/2,rotateX:e=>h_(zl(Math.atan2(e[6],e[5]))),rotateY:e=>h_(zl(Math.atan2(-e[2],e[0]))),rotateZ:Nb,rotate:Nb,skewX:e=>zl(Math.atan(e[4])),skewY:e=>zl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function f_(e){return e.includes("scale")?1:0}function d_(e,t){if(!e||e==="none")return f_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=kL,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=PL,s=d}if(!s)return f_(t);const l=i[t],c=s[1].split(",").map(ML);return typeof l=="function"?l(c):c[l]}const DL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return d_(n,t)};function ML(e){return parseFloat(e.trim())}const wc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ec=new Set(wc),Ub=e=>e===Tc||e===Yt,LL=new Set(["x","y","z"]),OL=wc.filter(e=>!LL.has(e));function NL(e){const t=[];return OL.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Bl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>d_(t,"x"),y:(e,{transform:t})=>d_(t,"y")};Bl.translateX=Bl.x;Bl.translateY=Bl.y;const jl=new Set;let p_=!1,m_=!1,g_=!1;function nC(){if(m_){const e=Array.from(jl).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=NL(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}m_=!1,p_=!1,jl.forEach(e=>e.complete(g_)),jl.clear()}function iC(){jl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(m_=!0)})}function VL(){g_=!0,iC(),nC(),g_=!1}class jv{constructor(t,n,i,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(jl.add(this),p_||(p_=!0,$e.read(iC),$e.resolveKeyframes(nC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const l=s?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}IL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),jl.delete(this)}cancel(){this.state==="scheduled"&&(jl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zL=e=>e.startsWith("--");function UL(e,t,n){zL(t)?e.style.setProperty(t,n):e.style[t]=n}const BL=Rv(()=>window.ScrollTimeline!==void 0),jL={};function FL(e,t){const n=Rv(e);return()=>jL[t]??n()}const rC=FL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ih=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Bb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ih([0,.65,.55,1]),circOut:Ih([.55,0,1,.45]),backIn:Ih([.31,.01,.66,-.59]),backOut:Ih([.33,1.53,.69,.99])};function sC(e,t){if(e)return typeof e=="function"?rC()?JA(e,t):"ease-out":HA(e)?Ih(e):Array.isArray(e)?e.map(n=>sC(n,t)||Bb.easeOut):Bb[e]}function HL(e,t,n,{delay:i=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:p}={},m=void 0){const v={[t]:n};p&&(v.offset=p);const w=sC(d,s);Array.isArray(w)&&(v.easing=w);const b={delay:i,duration:s,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),e.animate(v,b)}function aC(e){return typeof e=="function"&&"applyToOptions"in e}function qL({type:e,...t}){return aC(e)&&rC()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class GL extends Uv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Cv(typeof t.type!="string");const m=qL(t);this.animation=HL(n,i,s,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=zv(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):UL(n,i,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Us(Number(t))}get time(){return Us(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&BL()?(this.animation.timeline=t,Br):n(this)}}const oC={anticipate:UA,backInOut:zA,circInOut:jA};function ZL(e){return e in oC}function KL(e){typeof e.ease=="string"&&ZL(e.ease)&&(e.ease=oC[e.ease])}const jb=10;class $L extends GL{constructor(t){KL(t),eC(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Bv({...c,autoplay:!1}),p=zs(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-jb).value,d.sample(p).value,jb),d.stop()}}const Fb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ho.test(e)||e==="0")&&!e.startsWith("url("));function WL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function YL(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=Fb(s,t),d=Fb(l,t);return!c||!d?!1:WL(e)||(n==="spring"||aC(n))&&i}function y_(e){e.duration=0,e.type}const XL=new Set(["opacity","clipPath","filter","transform"]),QL=Rv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function JL(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=t.owner.getProps();return QL()&&n&&XL.has(n)&&(n!=="transform"||!m)&&!p&&!i&&s!=="mirror"&&l!==0&&c!=="inertia"}const tO=40;class eO extends Uv{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:p,motionValue:m,element:v,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ji.now();const b={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:l,repeatType:c,name:p,motionValue:m,element:v,...w},x=v?.KeyframeResolver||jv;this.keyframeResolver=new x(d,(D,N,H)=>this.onKeyframesResolved(D,N,b,!H),p,m,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:p,isHandoff:m,onUpdate:v}=i;this.resolvedAt=ji.now(),YL(t,l,c,d)||((Ca.instantAnimations||!p)&&v?.(zv(t,i,n)),t[0]=t[t.length-1],y_(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>tO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},x=!m&&JL(b)?new $L({...b,element:b.motionValue.owner.current}):new Bv(b);x.finished.then(()=>this.notifyFinished()).catch(Br),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),VL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iO(e){const t=nO.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function lC(e,t,n=1){const[i,s]=iO(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const c=l.trim();return PA(c)?parseFloat(c):c}return Mv(s)?lC(s,t,n+1):s}function Fv(e,t){return e?.[t]??e?.default??e}const uC=new Set(["width","height","top","left","right","bottom",...wc]),rO={test:e=>e==="auto",parse:e=>e},cC=e=>t=>t.test(e),hC=[Tc,Yt,Bs,Io,WM,$M,rO],Hb=e=>hC.find(cC(e));function sO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||DA(e):!0}const aO=new Set(["brightness","contrast","saturate","opacity"]);function oO(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Lv)||[];if(!i)return e;const s=n.replace(i,"");let l=aO.has(t)?1:0;return i!==n&&(l*=100),t+"("+l+s+")"}const lO=/\b([a-z-]*)\(.*?\)/gu,__={...Ho,getAnimatableNone:e=>{const t=e.match(lO);return t?t.map(oO).join(" "):e}},qb={...Tc,transform:Math.round},uO={rotate:Io,rotateX:Io,rotateY:Io,rotateZ:Io,scale:Fd,scaleX:Fd,scaleY:Fd,scaleZ:Fd,skew:Io,skewX:Io,skewY:Io,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:tf,originX:kb,originY:kb,originZ:Yt},Hv={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,backgroundPositionX:Yt,backgroundPositionY:Yt,...uO,zIndex:qb,fillOpacity:tf,strokeOpacity:tf,numOctaves:qb},cO={...Hv,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:__,WebkitFilter:__},fC=e=>cO[e];function dC(e,t){let n=fC(e);return n!==__&&(n=Ho),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const hO=new Set(["auto","none","0"]);function fO(e,t,n){let i=0,s;for(;i<e.length&&!s;){const l=e[i];typeof l=="string"&&!hO.has(l)&&ef(l).values.length&&(s=e[i]),i++}if(s&&n)for(const l of t)e[l]=dC(n,s)}class dO extends jv{constructor(t,n,i,s,l){super(t,n,i,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let m=t[p];if(typeof m=="string"&&(m=m.trim(),Mv(m))){const v=lC(m,n.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!uC.has(i)||t.length!==2)return;const[s,l]=t,c=Hb(s),d=Hb(l);if(c!==d)if(Ub(c)&&Ub(d))for(let p=0;p<t.length;p++){const m=t[p];typeof m=="string"&&(t[p]=parseFloat(m))}else Bl[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||sO(t[s]))&&i.push(s);i.length&&fO(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Bl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function pO(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const pC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function mC(e){return kA(e)&&"offsetHeight"in e}const Gb=30,mO=e=>!isNaN(parseFloat(e));class gO{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=ji.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ji.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=mO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Iv);const i=this.events[t].add(n);return t==="change"?()=>{i(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ji.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Gb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gb);return MA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oc(e,t){return new gO(e,t)}const{schedule:qv}=qA(queueMicrotask,!1),as={x:!1,y:!1};function gC(){return as.x||as.y}function yO(e){return e==="x"||e==="y"?as[e]?null:(as[e]=!0,()=>{as[e]=!1}):as.x||as.y?null:(as.x=as.y=!0,()=>{as.x=as.y=!1})}function yC(e,t){const n=pO(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function Zb(e){return!(e.pointerType==="touch"||gC())}function _O(e,t,n={}){const[i,s,l]=yC(e,n),c=d=>{if(!Zb(d))return;const{target:p}=d,m=t(p,d);if(typeof m!="function"||!p)return;const v=w=>{Zb(w)&&(m(w),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,s)};return i.forEach(d=>{d.addEventListener("pointerenter",c,s)}),l}const _C=(e,t)=>t?e===t?!0:_C(e,t.parentElement):!1,Gv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,vO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TO(e){return vO.has(e.tagName)||e.tabIndex!==-1}const op=new WeakSet;function Kb(e){return t=>{t.key==="Enter"&&e(t)}}function Ty(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wO=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Kb(()=>{if(op.has(n))return;Ty(n,"down");const s=Kb(()=>{Ty(n,"up")}),l=()=>Ty(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function $b(e){return Gv(e)&&!gC()}function EO(e,t,n={}){const[i,s,l]=yC(e,n),c=d=>{const p=d.currentTarget;if(!$b(d))return;op.add(p);const m=t(p,d),v=(x,D)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",b),op.has(p)&&op.delete(p),$b(x)&&typeof m=="function"&&m(x,{success:D})},w=x=>{v(x,p===window||p===document||n.useGlobalTarget||_C(p,x.target))},b=x=>{v(x,!1)};window.addEventListener("pointerup",w,s),window.addEventListener("pointercancel",b,s)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),mC(d)&&(d.addEventListener("focus",m=>wO(m,s)),!TO(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function vC(e){return kA(e)&&"ownerSVGElement"in e}function bO(e){return vC(e)&&e.tagName==="svg"}const _i=e=>!!(e&&e.getVelocity),SO=[...hC,An,Ho],xO=e=>SO.find(cC(e)),Zv=$.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class AO extends $.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=mC(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function CO({children:e,isPresent:t,anchorX:n,root:i}){const s=$.useId(),l=$.useRef(null),c=$.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=$.useContext(Zv);return $.useInsertionEffect(()=>{const{width:p,height:m,top:v,left:w,right:b}=c.current;if(t||!l.current||!p||!m)return;const x=n==="left"?`left: ${w}`:`right: ${b}`;l.current.dataset.motionPopId=s;const D=document.createElement("style");d&&(D.nonce=d);const N=i??document.head;return N.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${x}px !important;
            top: ${v}px !important;
          }
        `),()=>{N.contains(D)&&N.removeChild(D)}},[t]),J.jsx(AO,{isPresent:t,childRef:l,sizeRef:c,children:$.cloneElement(e,{ref:l})})}const RO=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:l,mode:c,anchorX:d,root:p})=>{const m=bv(IO),v=$.useId();let w=!0,b=$.useMemo(()=>(w=!1,{id:v,initial:t,isPresent:n,custom:s,onExitComplete:x=>{m.set(x,!0);for(const D of m.values())if(!D)return;i&&i()},register:x=>(m.set(x,!1),()=>m.delete(x))}),[n,m,i]);return l&&w&&(b={...b}),$.useMemo(()=>{m.forEach((x,D)=>m.set(D,!1))},[n]),$.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),c==="popLayout"&&(e=J.jsx(CO,{isPresent:n,anchorX:d,root:p,children:e})),J.jsx(tm.Provider,{value:b,children:e})};function IO(){return new Map}function TC(e=!0){const t=$.useContext(tm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,l=$.useId();$.useEffect(()=>{if(e)return s(l)},[e]);const c=$.useCallback(()=>e&&i&&i(l),[l,i,e]);return!n&&i?[!1,c]:[!0]}const Hd=e=>e.key||"";function Wb(e){const t=[];return $.Children.forEach(e,n=>{$.isValidElement(n)&&t.push(n)}),t}const Kv=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[m,v]=TC(c),w=$.useMemo(()=>Wb(e),[e]),b=c&&!m?[]:w.map(Hd),x=$.useRef(!0),D=$.useRef(w),N=bv(()=>new Map),[H,U]=$.useState(w),[X,W]=$.useState(w);IA(()=>{x.current=!1,D.current=w;for(let Q=0;Q<X.length;Q++){const j=Hd(X[Q]);b.includes(j)?N.delete(j):N.get(j)!==!0&&N.set(j,!1)}},[X,b.length,b.join("-")]);const dt=[];if(w!==H){let Q=[...w];for(let j=0;j<X.length;j++){const M=X[j],z=Hd(M);b.includes(z)||(Q.splice(j,0,M),dt.push(M))}return l==="wait"&&dt.length&&(Q=dt),W(Wb(Q)),U(w),null}const{forceRender:ct}=$.useContext(Ev);return J.jsx(J.Fragment,{children:X.map(Q=>{const j=Hd(Q),M=c&&!m?!1:w===X||b.includes(j),z=()=>{if(N.has(j))N.set(j,!0);else return;let G=!0;N.forEach(F=>{F||(G=!1)}),G&&(ct?.(),W(D.current),c&&v?.(),i&&i())};return J.jsx(RO,{isPresent:M,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:p,onExitComplete:M?void 0:z,anchorX:d,children:Q},j)})})},wC=$.createContext({strict:!1}),Yb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lc={};for(const e in Yb)lc[e]={isEnabled:t=>Yb[e].some(n=>!!t[n])};function PO(e){for(const t in e)lc[t]={...lc[t],...e[t]}}const kO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kO.has(e)}let EC=e=>!Cp(e);function DO(e){typeof e=="function"&&(EC=t=>t.startsWith("on")?!Cp(t):e(t))}try{DO(require("@emotion/is-prop-valid").default)}catch{}function MO(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(EC(s)||n===!0&&Cp(s)||!t&&!Cp(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const em=$.createContext({});function nm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function nf(e){return typeof e=="string"||Array.isArray(e)}const $v=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wv=["initial",...$v];function im(e){return nm(e.animate)||Wv.some(t=>nf(e[t]))}function bC(e){return!!(im(e)||e.variants)}function LO(e,t){if(im(e)){const{initial:n,animate:i}=e;return{initial:n===!1||nf(n)?n:void 0,animate:nf(i)?i:void 0}}return e.inherit!==!1?t:{}}function OO(e){const{initial:t,animate:n}=LO(e,$.useContext(em));return $.useMemo(()=>({initial:t,animate:n}),[Xb(t),Xb(n)])}function Xb(e){return Array.isArray(e)?e.join(" "):e}const rf={};function NO(e){for(const t in e)rf[t]=e[t],Dv(t)&&(rf[t].isCSSVariable=!0)}function SC(e,{layout:t,layoutId:n}){return Ec.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!rf[e]||e==="opacity")}const VO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zO=wc.length;function UO(e,t,n){let i="",s=!0;for(let l=0;l<zO;l++){const c=wc[l],d=e[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const m=pC(d,Hv[c]);if(!p){s=!1;const v=VO[c]||c;i+=`${v}(${m}) `}n&&(t[c]=m)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Yv(e,t,n){const{style:i,vars:s,transformOrigin:l}=e;let c=!1,d=!1;for(const p in t){const m=t[p];if(Ec.has(p)){c=!0;continue}else if(Dv(p)){s[p]=m;continue}else{const v=pC(m,Hv[p]);p.startsWith("origin")?(d=!0,l[p]=v):i[p]=v}}if(t.transform||(c||n?i.transform=UO(t,e.transform,n):i.transform&&(i.transform="none")),d){const{originX:p="50%",originY:m="50%",originZ:v=0}=l;i.transformOrigin=`${p} ${m} ${v}`}}const Xv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xC(e,t,n){for(const i in t)!_i(t[i])&&!SC(i,n)&&(e[i]=t[i])}function BO({transformTemplate:e},t){return $.useMemo(()=>{const n=Xv();return Yv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function jO(e,t){const n=e.style||{},i={};return xC(i,n,e),Object.assign(i,BO(e,t)),i}function FO(e,t){const n={},i=jO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const HO={offset:"stroke-dashoffset",array:"stroke-dasharray"},qO={offset:"strokeDashoffset",array:"strokeDasharray"};function GO(e,t,n=1,i=0,s=!0){e.pathLength=1;const l=s?HO:qO;e[l.offset]=Yt.transform(-i);const c=Yt.transform(t),d=Yt.transform(n);e[l.array]=`${c} ${d}`}function AC(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...d},p,m,v){if(Yv(e,d,m),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:b}=e;w.transform&&(b.transform=w.transform,delete w.transform),(b.transform||w.transformOrigin)&&(b.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete w.transformBox),t!==void 0&&(w.x=t),n!==void 0&&(w.y=n),i!==void 0&&(w.scale=i),s!==void 0&&GO(w,s,l,c,!1)}const CC=()=>({...Xv(),attrs:{}}),RC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZO(e,t,n,i){const s=$.useMemo(()=>{const l=CC();return AC(l,t,RC(i),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};xC(l,e.style,e),s.style={...l,...s.style}}return s}const KO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qv(e){return typeof e!="string"||e.includes("-")?!1:!!(KO.indexOf(e)>-1||/[A-Z]/u.test(e))}function $O(e,t,n,{latestValues:i},s,l=!1){const d=(Qv(e)?ZO:FO)(t,i,s,e),p=MO(t,typeof e=="string",l),m=e!==$.Fragment?{...p,...d,ref:n}:{},{children:v}=t,w=$.useMemo(()=>_i(v)?v.get():v,[v]);return $.createElement(e,{...m,children:w})}function Qb(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Jv(e,t,n,i){if(typeof t=="function"){const[s,l]=Qb(i);t=t(n!==void 0?n:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=Qb(i);t=t(n!==void 0?n:e.custom,s,l)}return t}function lp(e){return _i(e)?e.get():e}function WO({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:YO(n,i,s,e),renderState:t()}}function YO(e,t,n,i){const s={},l=i(e,{});for(const b in l)s[b]=lp(l[b]);let{initial:c,animate:d}=e;const p=im(e),m=bC(e);t&&m&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const w=v?d:c;if(w&&typeof w!="boolean"&&!nm(w)){const b=Array.isArray(w)?w:[w];for(let x=0;x<b.length;x++){const D=Jv(e,b[x]);if(D){const{transitionEnd:N,transition:H,...U}=D;for(const X in U){let W=U[X];if(Array.isArray(W)){const dt=v?W.length-1:0;W=W[dt]}W!==null&&(s[X]=W)}for(const X in N)s[X]=N[X]}}}return s}const IC=e=>(t,n)=>{const i=$.useContext(em),s=$.useContext(tm),l=()=>WO(e,t,i,s);return n?l():bv(l)};function t0(e,t,n){const{style:i}=e,s={};for(const l in i)(_i(i[l])||t.style&&_i(t.style[l])||SC(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(s[l]=i[l]);return s}const XO=IC({scrapeMotionValuesFromProps:t0,createRenderState:Xv});function PC(e,t,n){const i=t0(e,t,n);for(const s in e)if(_i(e[s])||_i(t[s])){const l=wc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[l]=e[s]}return i}const QO=IC({scrapeMotionValuesFromProps:PC,createRenderState:CC}),JO=Symbol.for("motionComponentSymbol");function Ku(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tN(e,t,n){return $.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Ku(n)&&(n.current=i))},[t])}const e0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eN="framerAppearId",kC="data-"+e0(eN),DC=$.createContext({});function nN(e,t,n,i,s){const{visualElement:l}=$.useContext(em),c=$.useContext(wC),d=$.useContext(tm),p=$.useContext(Zv).reducedMotion,m=$.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=m.current,w=$.useContext(DC);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&iN(m.current,n,s,w);const b=$.useRef(!1);$.useInsertionEffect(()=>{v&&b.current&&v.update(n,d)});const x=n[kC],D=$.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return IA(()=>{v&&(b.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),D.current&&v.animationState&&v.animationState.animateChanges())}),$.useEffect(()=>{v&&(!D.current&&v.animationState&&v.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),D.current=!1),v.enteringChildren=void 0)}),v}function iN(e,t,n,i){const{layoutId:s,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:m,layoutCrossfade:v}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:MC(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||d&&Ku(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:p,layoutRoot:m})}function MC(e){if(e)return e.options.allowProjection!==!1?e.projection:MC(e.parent)}function wy(e,{forwardMotionProps:t=!1}={},n,i){n&&PO(n);const s=Qv(e)?QO:XO;function l(d,p){let m;const v={...$.useContext(Zv),...d,layoutId:rN(d)},{isStatic:w}=v,b=OO(d),x=s(d,w);if(!w&&Sv){sN();const D=aN(v);m=D.MeasureLayout,b.visualElement=nN(e,x,v,i,D.ProjectionNode)}return J.jsxs(em.Provider,{value:b,children:[m&&b.visualElement?J.jsx(m,{visualElement:b.visualElement,...v}):null,$O(e,d,tN(x,b.visualElement,p),x,w,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=$.forwardRef(l);return c[JO]=e,c}function rN({layoutId:e}){const t=$.useContext(Ev).id;return t&&e!==void 0?t+"-"+e:e}function sN(e,t){$.useContext(wC).strict}function aN(e){const{drag:t,layout:n}=lc;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function oN(e,t){if(typeof Proxy>"u")return wy;const n=new Map,i=(l,c)=>wy(l,c,e,t),s=(l,c)=>i(l,c);return new Proxy(s,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,wy(c,void 0,e,t)),n.get(c))})}function LC({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function lN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function uN(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ey(e){return e===void 0||e===1}function v_({scale:e,scaleX:t,scaleY:n}){return!Ey(e)||!Ey(t)||!Ey(n)}function Ol(e){return v_(e)||OC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function OC(e){return Jb(e.x)||Jb(e.y)}function Jb(e){return e&&e!=="0%"}function Rp(e,t,n){const i=e-n,s=t*i;return n+s}function t1(e,t,n,i,s){return s!==void 0&&(e=Rp(e,s,i)),Rp(e,n,i)+t}function T_(e,t=0,n=1,i,s){e.min=t1(e.min,t,n,i,s),e.max=t1(e.max,t,n,i,s)}function NC(e,{x:t,y:n}){T_(e.x,t.translate,t.scale,t.originPoint),T_(e.y,n.translate,n.scale,n.originPoint)}const e1=.999999999999,n1=1.0000000000001;function cN(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let l,c;for(let d=0;d<s;d++){l=n[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Wu(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,NC(e,c)),i&&Ol(l.latestValues)&&Wu(e,l.latestValues))}t.x<n1&&t.x>e1&&(t.x=1),t.y<n1&&t.y>e1&&(t.y=1)}function $u(e,t){e.min=e.min+t,e.max=e.max+t}function i1(e,t,n,i,s=.5){const l=tn(e.min,e.max,s);T_(e,t,n,l,i)}function Wu(e,t){i1(e.x,t.x,t.scaleX,t.scale,t.originX),i1(e.y,t.y,t.scaleY,t.scale,t.originY)}function VC(e,t){return LC(uN(e.getBoundingClientRect(),t))}function hN(e,t,n){const i=VC(e,n),{scroll:s}=t;return s&&($u(i.x,s.offset.x),$u(i.y,s.offset.y)),i}const r1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yu=()=>({x:r1(),y:r1()}),s1=()=>({min:0,max:0}),pn=()=>({x:s1(),y:s1()}),w_={current:null},zC={current:!1};function fN(){if(zC.current=!0,!!Sv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>w_.current=e.matches;e.addEventListener("change",t),t()}else w_.current=!1}const dN=new WeakMap;function pN(e,t,n){for(const i in t){const s=t[i],l=n[i];if(_i(s))e.addValue(i,s);else if(_i(l))e.addValue(i,oc(s,{owner:e}));else if(l!==s)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(i);e.addValue(i,oc(c!==void 0?c:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const a1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mN{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ji.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,$e.render(this.render,!1,!0))};const{latestValues:p,renderState:m}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=im(n),this.isVariantNode=bC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in w){const x=w[b];p[b]!==void 0&&_i(x)&&x.set(p[b])}}mount(t){this.current=t,dN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),zC.current||fN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:w_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fo(this.notifyUpdate),Fo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ec.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&$e.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in lc){const n=lc[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<a1.length;i++){const s=a1[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=pN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=oc(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(PA(i)||DA(i))?i=parseFloat(i):!xO(i)&&Ho.test(n)&&(i=dC(t,n)),this.setBaseTarget(t,_i(i)?i.get():i)),_i(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Jv(this.props,n,this.presenceContext?.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!_i(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Iv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){qv.render(this.render)}}class UC extends mN{constructor(){super(...arguments),this.KeyframeResolver=dO}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_i(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BC(e,{style:t,vars:n},i,s){const l=e.style;let c;for(c in t)l[c]=t[c];s?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function gN(e){return window.getComputedStyle(e)}class yN extends UC{constructor(){super(...arguments),this.type="html",this.renderInstance=BC}readValueFromInstance(t,n){if(Ec.has(n))return this.projection?.isProjecting?f_(n):DL(t,n);{const i=gN(t),s=(Dv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return VC(t,n)}build(t,n,i){Yv(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return t0(t,n,i)}}const jC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _N(e,t,n,i){BC(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(jC.has(s)?s:e0(s),t.attrs[s])}class vN extends UC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ec.has(n)){const i=fC(n);return i&&i.default||0}return n=jC.has(n)?n:e0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return PC(t,n,i)}build(t,n,i){AC(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){_N(t,n,i,s)}mount(t){this.isSVGTag=RC(t.tagName),super.mount(t)}}const TN=(e,t)=>Qv(e)?new vN(t):new yN(t,{allowProjection:e!==$.Fragment});function Ju(e,t,n){const i=e.getProps();return Jv(i,t,n!==void 0?n:i.custom,e)}const E_=e=>Array.isArray(e);function wN(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,oc(n))}function EN(e){return E_(e)?e[e.length-1]||0:e}function bN(e,t){const n=Ju(e,t);let{transitionEnd:i={},transition:s={},...l}=n||{};l={...l,...i};for(const c in l){const d=EN(l[c]);wN(e,c,d)}}function SN(e){return!!(_i(e)&&e.add)}function b_(e,t){const n=e.getValue("willChange");if(SN(n))return n.add(t);if(!n&&Ca.WillChange){const i=new Ca.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function FC(e){return e.props[kC]}const xN=e=>e!==null;function AN(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(xN),l=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[l]}const CN={type:"spring",stiffness:500,damping:25,restSpeed:10},RN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),IN={type:"keyframes",duration:.8},PN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kN=(e,{keyframes:t})=>t.length>2?IN:Ec.has(e)?e.startsWith("scale")?RN(t[1]):CN:PN;function DN({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:m,...v}){return!!Object.keys(v).length}const n0=(e,t,n,i={},s,l)=>c=>{const d=Fv(i,e)||{},p=d.delay||i.delay||0;let{elapsed:m=0}=i;m=m-zs(p);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:s};DN(d)||Object.assign(v,kN(e,v)),v.duration&&(v.duration=zs(v.duration)),v.repeatDelay&&(v.repeatDelay=zs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(y_(v),v.delay===0&&(w=!0)),(Ca.instantAnimations||Ca.skipAnimations)&&(w=!0,y_(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,w&&!l&&t.get()!==void 0){const b=AN(v.keyframes,d);if(b!==void 0){$e.update(()=>{v.onUpdate(b),v.onComplete()});return}}return d.isSync?new Bv(v):new eO(v)};function MN({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function HC(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;i&&(l=i);const p=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const v in d){const w=e.getValue(v,e.latestValues[v]??null),b=d[v];if(b===void 0||m&&MN(m,v))continue;const x={delay:n,...Fv(l||{},v)},D=w.get();if(D!==void 0&&!w.isAnimating&&!Array.isArray(b)&&b===D&&!x.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const U=FC(e);if(U){const X=window.MotionHandoffAnimation(U,v,$e);X!==null&&(x.startTime=X,N=!0)}}b_(e,v),w.start(n0(v,w,b,e.shouldReduceMotion&&uC.has(v)?{type:!1}:x,e,N));const H=w.animation;H&&p.push(H)}return c&&Promise.all(p).then(()=>{$e.update(()=>{c&&bN(e,c)})}),p}function qC(e,t,n,i=0,s=1){const l=Array.from(e).sort((m,v)=>m.sortNodePosition(v)).indexOf(t),c=e.size,d=(c-1)*i;return typeof n=="function"?n(l,c):s===1?l*i:d-l*i}function S_(e,t,n={}){const i=Ju(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const l=i?()=>Promise.all(HC(e,i,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:w}=s;return LN(e,t,p,m,v,w,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[p,m]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function LN(e,t,n=0,i=0,s=0,l=1,c){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(S_(p,t,{...c,delay:n+(typeof i=="function"?0:i)+qC(e.variantChildren,p,i,s,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function ON(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(l=>S_(e,l,n));i=Promise.all(s)}else if(typeof t=="string")i=S_(e,t,n);else{const s=typeof t=="function"?Ju(e,t,n.custom):t;i=Promise.all(HC(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function GC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const NN=Wv.length;function ZC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ZC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<NN;n++){const i=Wv[n],s=e.props[i];(nf(s)||s===!1)&&(t[i]=s)}return t}const VN=[...$v].reverse(),zN=$v.length;function UN(e){return t=>Promise.all(t.map(({animation:n,options:i})=>ON(e,n,i)))}function BN(e){let t=UN(e),n=o1(),i=!0;const s=p=>(m,v)=>{const w=Ju(e,v,p==="exit"?e.presenceContext?.custom:void 0);if(w){const{transition:b,transitionEnd:x,...D}=w;m={...m,...D,...x}}return m};function l(p){t=p(e)}function c(p){const{props:m}=e,v=ZC(e.parent)||{},w=[],b=new Set;let x={},D=1/0;for(let H=0;H<zN;H++){const U=VN[H],X=n[U],W=m[U]!==void 0?m[U]:v[U],dt=nf(W),ct=U===p?X.isActive:null;ct===!1&&(D=H);let Q=W===v[U]&&W!==m[U]&&dt;if(Q&&i&&e.manuallyAnimateOnMount&&(Q=!1),X.protectedKeys={...x},!X.isActive&&ct===null||!W&&!X.prevProp||nm(W)||typeof W=="boolean")continue;const j=jN(X.prevProp,W);let M=j||U===p&&X.isActive&&!Q&&dt||H>D&&dt,z=!1;const G=Array.isArray(W)?W:[W];let F=G.reduce(s(U),{});ct===!1&&(F={});const{prevResolvedValues:q={}}=X,B={...q,...F},At=gt=>{M=!0,b.has(gt)&&(z=!0,b.delete(gt)),X.needsAnimating[gt]=!0;const pt=e.getValue(gt);pt&&(pt.liveStyle=!1)};for(const gt in B){const pt=F[gt],Ht=q[gt];if(x.hasOwnProperty(gt))continue;let R=!1;E_(pt)&&E_(Ht)?R=!GC(pt,Ht):R=pt!==Ht,R?pt!=null?At(gt):b.add(gt):pt!==void 0&&b.has(gt)?At(gt):X.protectedKeys[gt]=!0}X.prevProp=W,X.prevResolvedValues=F,X.isActive&&(x={...x,...F}),i&&e.blockInitialAnimation&&(M=!1);const kt=Q&&j;M&&(!kt||z)&&w.push(...G.map(gt=>{const pt={type:U};if(typeof gt=="string"&&i&&!kt&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ht}=e,R=Ju(Ht,gt);if(Ht.enteringChildren&&R){const{delayChildren:ht}=R.transition||{};pt.delay=qC(Ht.enteringChildren,e,ht)}}return{animation:gt,options:pt}}))}if(b.size){const H={};if(typeof m.initial!="boolean"){const U=Ju(e,Array.isArray(m.initial)?m.initial[0]:m.initial);U&&U.transition&&(H.transition=U.transition)}b.forEach(U=>{const X=e.getBaseTarget(U),W=e.getValue(U);W&&(W.liveStyle=!0),H[U]=X??null}),w.push({animation:H})}let N=!!w.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(N=!1),i=!1,N?t(w):Promise.resolve()}function d(p,m){if(n[p].isActive===m)return Promise.resolve();e.variantChildren?.forEach(w=>w.animationState?.setActive(p,m)),n[p].isActive=m;const v=c(p);for(const w in n)n[w].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=o1(),i=!0}}}function jN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!GC(t,e):!1}function Ll(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o1(){return{animate:Ll(!0),whileInView:Ll(),whileHover:Ll(),whileTap:Ll(),whileDrag:Ll(),whileFocus:Ll(),exit:Ll()}}class Xo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class FN extends Xo{constructor(t){super(t),t.animationState||(t.animationState=BN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let HN=0;class qN extends Xo{constructor(){super(...arguments),this.id=HN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const GN={animation:{Feature:FN},exit:{Feature:qN}};function sf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Sf(e){return{point:{x:e.pageX,y:e.pageY}}}const ZN=e=>t=>Gv(t)&&e(t,Sf(t));function Uh(e,t,n,i){return sf(e,t,ZN(n),i)}const KC=1e-4,KN=1-KC,$N=1+KC,$C=.01,WN=0-$C,YN=0+$C;function Pi(e){return e.max-e.min}function XN(e,t,n){return Math.abs(e-t)<=n}function l1(e,t,n,i=.5){e.origin=i,e.originPoint=tn(t.min,t.max,e.origin),e.scale=Pi(n)/Pi(t),e.translate=tn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=KN&&e.scale<=$N||isNaN(e.scale))&&(e.scale=1),(e.translate>=WN&&e.translate<=YN||isNaN(e.translate))&&(e.translate=0)}function Bh(e,t,n,i){l1(e.x,t.x,n.x,i?i.originX:void 0),l1(e.y,t.y,n.y,i?i.originY:void 0)}function u1(e,t,n){e.min=n.min+t.min,e.max=e.min+Pi(t)}function QN(e,t,n){u1(e.x,t.x,n.x),u1(e.y,t.y,n.y)}function c1(e,t,n){e.min=t.min-n.min,e.max=e.min+Pi(t)}function jh(e,t,n){c1(e.x,t.x,n.x),c1(e.y,t.y,n.y)}function Or(e){return[e("x"),e("y")]}const WC=({current:e})=>e?e.ownerDocument.defaultView:null,h1=(e,t)=>Math.abs(e-t);function JN(e,t){const n=h1(e.x,t.x),i=h1(e.y,t.y);return Math.sqrt(n**2+i**2)}class YC{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Sy(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,D=JN(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!D)return;const{point:N}=b,{timestamp:H}=ri;this.history.push({...N,timestamp:H});const{onStart:U,onMove:X}=this.handlers;x||(U&&U(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),X&&X(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=by(x,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:D,onSessionEnd:N,resumeAnimation:H}=this.handlers;if(this.dragSnapToOrigin&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Sy(b.type==="pointercancel"?this.lastMoveEventInfo:by(x,this.transformPagePoint),this.history);this.startEvent&&D&&D(b,U),N&&N(b,U)},!Gv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=s||window;const d=Sf(t),p=by(d,this.transformPagePoint),{point:m}=p,{timestamp:v}=ri;this.history=[{...m,timestamp:v}];const{onSessionStart:w}=n;w&&w(t,Sy(p,this.history)),this.removeListeners=wf(Uh(this.contextWindow,"pointermove",this.handlePointerMove),Uh(this.contextWindow,"pointerup",this.handlePointerUp),Uh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fo(this.updatePoint)}}function by(e,t){return t?{point:t(e.point)}:e}function f1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sy({point:e},t){return{point:e,delta:f1(e,XC(t)),offset:f1(e,tV(t)),velocity:eV(t,.1)}}function tV(e){return e[0]}function XC(e){return e[e.length-1]}function eV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=XC(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>zs(t)));)n--;if(!i)return{x:0,y:0};const l=Us(s.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-i.x)/l,y:(s.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function nV(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?tn(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?tn(n,e,i.max):Math.min(e,n)),e}function d1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function iV(e,{top:t,left:n,bottom:i,right:s}){return{x:d1(e.x,n,s),y:d1(e.y,t,i)}}function p1(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function rV(e,t){return{x:p1(e.x,t.x),y:p1(e.y,t.y)}}function sV(e,t){let n=.5;const i=Pi(e),s=Pi(t);return s>i?n=Jh(t.min,t.max-i,e.min):i>s&&(n=Jh(e.min,e.max-s,t.min)),Aa(0,1,n)}function aV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const x_=.35;function oV(e=x_){return e===!1?e=0:e===!0&&(e=x_),{x:m1(e,"left","right"),y:m1(e,"top","bottom")}}function m1(e,t,n){return{min:g1(e,t),max:g1(e,n)}}function g1(e,t){return typeof e=="number"?e:e[t]||0}const lV=new WeakMap;class uV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=w=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sf(w).point)},c=(w,b)=>{const{drag:x,dragPropagation:D,onDragStart:N}=this.getProps();if(x&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yO(x),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Or(U=>{let X=this.getAxisMotionValue(U).get()||0;if(Bs.test(X)){const{projection:W}=this.visualElement;if(W&&W.layout){const dt=W.layout.layoutBox[U];dt&&(X=Pi(dt)*(parseFloat(X)/100))}}this.originPoint[U]=X}),N&&$e.postRender(()=>N(w,b)),b_(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},d=(w,b)=>{this.latestPointerEvent=w,this.latestPanInfo=b;const{dragPropagation:x,dragDirectionLock:D,onDirectionLock:N,onDrag:H}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:U}=b;if(D&&this.currentDirection===null){this.currentDirection=cV(U),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",b.point,U),this.updateAxis("y",b.point,U),this.visualElement.render(),H&&H(w,b)},p=(w,b)=>{this.latestPointerEvent=w,this.latestPanInfo=b,this.stop(w,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Or(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new YC(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:WC(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!i)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&$e.postRender(()=>d(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!qd(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=nV(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Ku(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=iV(i.layoutBox,t):this.constraints=!1,this.elastic=oV(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Or(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=aV(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ku(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=hN(i,s.root,this.visualElement.getTransformPagePoint());let c=rV(s.layout.layoutBox,l);if(n){const d=n(lN(c));this.hasMutatedConstraints=!!d,d&&(c=LC(d))}return c}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},m=Or(v=>{if(!qd(v,n,this.currentDirection))return;let w=p&&p[v]||{};c&&(w={min:0,max:0});const b=s?200:1e6,x=s?40:1e7,D={type:"inertia",velocity:i?t[v]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(v,D)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return b_(this.visualElement,t),i.start(n0(t,i,0,n,this.visualElement,!1))}stopAnimation(){Or(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Or(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Or(n=>{const{drag:i}=this.getProps();if(!qd(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[n];l.set(t[n]-tn(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ku(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Or(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();s[c]=sV({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Or(c=>{if(!qd(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];d.set(tn(p,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;lV.set(this.visualElement,this);const t=this.visualElement.current,n=Uh(t,"pointerdown",p=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Ku(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),$e.read(i);const c=sf(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(Or(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=p[v].translate,w.set(w.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=x_,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function qd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function cV(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class hV extends Xo{constructor(t){super(t),this.removeGroupControls=Br,this.removeListeners=Br,this.controls=new uV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Br}unmount(){this.removeGroupControls(),this.removeListeners()}}const y1=e=>(t,n)=>{e&&$e.postRender(()=>e(t,n))};class fV extends Xo{constructor(){super(...arguments),this.removePointerDownListener=Br}onPointerDown(t){this.session=new YC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:y1(t),onStart:y1(n),onMove:i,onEnd:(l,c)=>{delete this.session,s&&$e.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=Uh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const up={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Yt.test(e))e=parseFloat(e);else return e;const n=_1(e,t.target.x),i=_1(e,t.target.y);return`${n}% ${i}%`}},dV={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Ho.parse(e);if(s.length>5)return i;const l=Ho.createTransformer(e),c=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;s[0+c]/=d,s[1+c]/=p;const m=tn(d,p,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),l(s)}};let xy=!1;class pV extends $.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:l}=t;NO(mV),l&&(n.group&&n.group.add(l),i&&i.register&&s&&i.register(l),xy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),up.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,xy=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||$e.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;xy=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function QC(e){const[t,n]=TC(),i=$.useContext(Ev);return J.jsx(pV,{...e,layoutGroup:i,switchLayoutGroup:$.useContext(DC),isPresent:t,safeToRemove:n})}const mV={borderRadius:{...bh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bh,borderTopRightRadius:bh,borderBottomLeftRadius:bh,borderBottomRightRadius:bh,boxShadow:dV};function gV(e,t,n){const i=_i(e)?e:oc(e);return i.start(n0("",i,t,n)),i.animation}const yV=(e,t)=>e.depth-t.depth;class _V{constructor(){this.children=[],this.isDirty=!1}add(t){xv(this.children,t),this.isDirty=!0}remove(t){Av(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yV),this.isDirty=!1,this.children.forEach(t)}}function vV(e,t){const n=ji.now(),i=({timestamp:s})=>{const l=s-n;l>=t&&(Fo(i),e(l-t))};return $e.setup(i,!0),()=>Fo(i)}const JC=["TopLeft","TopRight","BottomLeft","BottomRight"],TV=JC.length,v1=e=>typeof e=="string"?parseFloat(e):e,T1=e=>typeof e=="number"||Yt.test(e);function wV(e,t,n,i,s,l){s?(e.opacity=tn(0,n.opacity??1,EV(i)),e.opacityExit=tn(t.opacity??1,0,bV(i))):l&&(e.opacity=tn(t.opacity??1,n.opacity??1,i));for(let c=0;c<TV;c++){const d=`border${JC[c]}Radius`;let p=w1(t,d),m=w1(n,d);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||T1(p)===T1(m)?(e[d]=Math.max(tn(v1(p),v1(m),i),0),(Bs.test(m)||Bs.test(p))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=tn(t.rotate||0,n.rotate||0,i))}function w1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const EV=tR(0,.5,BA),bV=tR(.5,.95,Br);function tR(e,t,n){return i=>i<e?0:i>t?1:n(Jh(e,t,i))}function E1(e,t){e.min=t.min,e.max=t.max}function Lr(e,t){E1(e.x,t.x),E1(e.y,t.y)}function b1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function S1(e,t,n,i,s){return e-=t,e=Rp(e,1/n,i),s!==void 0&&(e=Rp(e,1/s,i)),e}function SV(e,t=0,n=1,i=.5,s,l=e,c=e){if(Bs.test(t)&&(t=parseFloat(t),t=tn(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=tn(l.min,l.max,i);e===l&&(d-=t),e.min=S1(e.min,t,n,d,s),e.max=S1(e.max,t,n,d,s)}function x1(e,t,[n,i,s],l,c){SV(e,t[n],t[i],t[s],t.scale,l,c)}const xV=["x","scaleX","originX"],AV=["y","scaleY","originY"];function A1(e,t,n,i){x1(e.x,t,xV,n?n.x:void 0,i?i.x:void 0),x1(e.y,t,AV,n?n.y:void 0,i?i.y:void 0)}function C1(e){return e.translate===0&&e.scale===1}function eR(e){return C1(e.x)&&C1(e.y)}function R1(e,t){return e.min===t.min&&e.max===t.max}function CV(e,t){return R1(e.x,t.x)&&R1(e.y,t.y)}function I1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function nR(e,t){return I1(e.x,t.x)&&I1(e.y,t.y)}function P1(e){return Pi(e.x)/Pi(e.y)}function k1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class RV{constructor(){this.members=[]}add(t){xv(this.members,t),t.scheduleRender()}remove(t){if(Av(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IV(e,t,n){let i="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((s||l||c)&&(i=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:v,rotateX:w,rotateY:b,skewX:x,skewY:D}=n;m&&(i=`perspective(${m}px) ${i}`),v&&(i+=`rotate(${v}deg) `),w&&(i+=`rotateX(${w}deg) `),b&&(i+=`rotateY(${b}deg) `),x&&(i+=`skewX(${x}deg) `),D&&(i+=`skewY(${D}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(i+=`scale(${d}, ${p})`),i||"none"}const Ay=["","X","Y","Z"],PV=1e3;let kV=0;function Cy(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function iR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=FC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",$e,!(s||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&iR(i)}function rR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(c={},d=t?.()){this.id=kV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LV),this.nodes.forEach(zV),this.nodes.forEach(UV),this.nodes.forEach(OV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new _V)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Iv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=vC(c)&&!bO(c),this.instance=c;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let v,w=0;const b=()=>this.root.updateBlockedByResize=!1;$e.read(()=>{w=window.innerWidth}),e(c,()=>{const x=window.innerWidth;x!==w&&(w=x,this.root.updateBlockedByResize=!0,v&&v(),v=vV(b,250),up.hasAnimatedSinceResize&&(up.hasAnimatedSinceResize=!1,this.nodes.forEach(L1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||m.getDefaultTransition()||qV,{onLayoutAnimationStart:N,onLayoutAnimationComplete:H}=m.getProps(),U=!this.targetLayout||!nR(this.targetLayout,x),X=!w&&b;if(this.options.layoutRoot||this.resumeFrom||X||w&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const W={...Fv(D,"layout"),onPlay:N,onComplete:H};(m.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W),this.setAnimationOrigin(v,X)}else w||L1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(M1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VV),this.nodes.forEach(DV),this.nodes.forEach(MV)):this.nodes.forEach(M1),this.clearAllSnapshots();const d=ji.now();ri.delta=Aa(0,1e3/60,d-ri.timestamp),ri.timestamp=d,ri.isProcessing=!0,my.update.process(ri),my.preRender.process(ri),my.render.process(ri),ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NV),this.sharedNodes.forEach(jV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pi(this.snapshot.measuredBox.x)&&!Pi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!eR(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ol(this.latestValues)||v)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),GV(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return pn();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZV))){const{scroll:m}=this.root;m&&($u(d.x,m.offset.x),$u(d.y,m.offset.y))}return d}removeElementScroll(c){const d=pn();if(Lr(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:w}=m;m!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Lr(d,c),$u(d.x,v.offset.x),$u(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const p=pn();Lr(p,c);for(let m=0;m<this.path.length;m++){const v=this.path[m];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Wu(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ol(v.latestValues)&&Wu(p,v.latestValues)}return Ol(this.latestValues)&&Wu(p,this.latestValues),p}removeTransform(c){const d=pn();Lr(d,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Ol(m.latestValues))continue;v_(m.latestValues)&&m.updateSnapshot();const v=pn(),w=m.measurePageBox();Lr(v,w),A1(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return Ol(this.latestValues)&&A1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:w}=this.options;if(!(!this.layout||!(v||w))){if(this.resolvedRelativeTargetAt=ri.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),jh(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),NC(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),jh(this.relativeTargetOrigin,this.target,b.target),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||v_(this.parent.latestValues)||OC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===ri.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;Lr(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,b=this.treeScale.y;cN(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=pn());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(b1(this.prevProjectionDelta.x,this.projectionDelta.x),b1(this.prevProjectionDelta.y,this.projectionDelta.y)),Bh(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==b||!k1(this.projectionDelta.x,this.prevProjectionDelta.x)||!k1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yu(),this.projectionDelta=Yu(),this.projectionDeltaWithTransform=Yu()}setAnimationOrigin(c,d=!1){const p=this.snapshot,m=p?p.latestValues:{},v={...this.latestValues},w=Yu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=pn(),x=p?p.source:void 0,D=this.layout?this.layout.source:void 0,N=x!==D,H=this.getStack(),U=!H||H.members.length<=1,X=!!(N&&!U&&this.options.crossfade===!0&&!this.path.some(HV));this.animationProgress=0;let W;this.mixTargetDelta=dt=>{const ct=dt/1e3;O1(w.x,c.x,ct),O1(w.y,c.y,ct),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jh(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FV(this.relativeTarget,this.relativeTargetOrigin,b,ct),W&&CV(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=pn()),Lr(W,this.relativeTarget)),N&&(this.animationValues=v,wV(v,m,this.latestValues,ct,X,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ct},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Fo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{up.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oc(0)),this.currentAnimation=gV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:m,latestValues:v}=c;if(!(!d||!p||!m)){if(this!==c&&this.layout&&m&&sR(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||pn();const w=Pi(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+w;const b=Pi(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+b}Lr(d,p),Wu(d,v),Bh(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new RV),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const m={};p.z&&Cy("z",c,m,this.animationValues);for(let v=0;v<Ay.length;v++)Cy(`rotate${Ay[v]}`,c,m,this.animationValues),Cy(`skew${Ay[v]}`,c,m,this.animationValues);c.render();for(const v in m)c.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=lp(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=lp(d?.pointerEvents)||""),this.hasProjected&&!Ol(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=m.animationValues||m.latestValues;this.applyTransformsToTarget();let w=IV(this.projectionDeltaWithTransform,this.treeScale,v);p&&(w=p(v,w)),c.transform=w;const{x:b,y:x}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,m.animationValues?c.opacity=m===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const D in rf){if(v[D]===void 0)continue;const{correct:N,applyTo:H,isCSSVariable:U}=rf[D],X=w==="none"?v[D]:N(v[D],m);if(H){const W=H.length;for(let dt=0;dt<W;dt++)c[H[dt]]=X}else U?this.options.visualElement.renderState.vars[D]=X:c[D]=X}this.options.layoutId&&(c.pointerEvents=m===this?lp(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(D1),this.root.sharedNodes.clear()}}}function DV(e){e.updateLayout()}function MV(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,l=t.source!==e.layout.source;s==="size"?Or(v=>{const w=l?t.measuredBox[v]:t.layoutBox[v],b=Pi(w);w.min=n[v].min,w.max=w.min+b}):sR(s,t.layoutBox,n)&&Or(v=>{const w=l?t.measuredBox[v]:t.layoutBox[v],b=Pi(n[v]);w.max=w.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+b)});const c=Yu();Bh(c,n,t.layoutBox);const d=Yu();l?Bh(d,e.applyTransform(i,!0),t.measuredBox):Bh(d,n,t.layoutBox);const p=!eR(c);let m=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:b}=v;if(w&&b){const x=pn();jh(x,t.layoutBox,w.layoutBox);const D=pn();jh(D,n,b.layoutBox),nR(x,D)||(m=!0),v.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=x,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function LV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function OV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function NV(e){e.clearSnapshot()}function D1(e){e.clearMeasurements()}function M1(e){e.isLayoutDirty=!1}function VV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function L1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function zV(e){e.resolveTargetDelta()}function UV(e){e.calcProjection()}function BV(e){e.resetSkewAndRotation()}function jV(e){e.removeLeadSnapshot()}function O1(e,t,n){e.translate=tn(t.translate,0,n),e.scale=tn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function N1(e,t,n,i){e.min=tn(t.min,n.min,i),e.max=tn(t.max,n.max,i)}function FV(e,t,n,i){N1(e.x,t.x,n.x,i),N1(e.y,t.y,n.y,i)}function HV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qV={duration:.45,ease:[.4,0,.1,1]},V1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),z1=V1("applewebkit/")&&!V1("chrome/")?Math.round:Br;function U1(e){e.min=z1(e.min),e.max=z1(e.max)}function GV(e){U1(e.x),U1(e.y)}function sR(e,t,n){return e==="position"||e==="preserve-aspect"&&!XN(P1(t),P1(n),.2)}function ZV(e){return e!==e.root&&e.scroll?.wasRoot}const KV=rR({attachResizeListener:(e,t)=>sf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ry={current:void 0},aR=rR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ry.current){const e=new KV({});e.mount(window),e.setOptions({layoutScroll:!0}),Ry.current=e}return Ry.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$V={pan:{Feature:fV},drag:{Feature:hV,ProjectionNode:aR,MeasureLayout:QC}};function B1(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,l=i[s];l&&$e.postRender(()=>l(t,Sf(t)))}class WV extends Xo{mount(){const{current:t}=this.node;t&&(this.unmount=_O(t,(n,i)=>(B1(this.node,i,"Start"),s=>B1(this.node,s,"End"))))}unmount(){}}class YV extends Xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wf(sf(this.node.current,"focus",()=>this.onFocus()),sf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function j1(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),l=i[s];l&&$e.postRender(()=>l(t,Sf(t)))}class XV extends Xo{mount(){const{current:t}=this.node;t&&(this.unmount=EO(t,(n,i)=>(j1(this.node,i,"Start"),(s,{success:l})=>j1(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const A_=new WeakMap,Iy=new WeakMap,QV=e=>{const t=A_.get(e.target);t&&t(e)},JV=e=>{e.forEach(QV)};function t4({root:e,...t}){const n=e||document;Iy.has(n)||Iy.set(n,{});const i=Iy.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(JV,{root:e,...t})),i[s]}function e4(e,t,n){const i=t4(t);return A_.set(e,n),i.observe(e),()=>{A_.delete(e),i.unobserve(e)}}const n4={some:0,all:1};class i4 extends Xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:n4[s]},d=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),b=m?v:w;b&&b(p)};return e4(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(r4(t,n))&&this.startObserver()}unmount(){}}function r4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const s4={inView:{Feature:i4},tap:{Feature:XV},focus:{Feature:YV},hover:{Feature:WV}},a4={layout:{ProjectionNode:aR,MeasureLayout:QC}},o4={...GN,...s4,...$V,...a4},Nr=oN(o4,TN);function l4(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const u4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,c4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,h4={};function F1(e,t){return(h4.jsx?c4:u4).test(e)}const f4=/[ \t\n\f\r]/g;function d4(e){return typeof e=="object"?e.type==="text"?H1(e.value):!1:H1(e)}function H1(e){return e.replace(f4,"")===""}class xf{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}xf.prototype.normal={};xf.prototype.property={};xf.prototype.space=void 0;function oR(e,t){const n={},i={};for(const s of e)Object.assign(n,s.property),Object.assign(i,s.normal);return new xf(n,i,t)}function C_(e){return e.toLowerCase()}class Hi{constructor(t,n){this.attribute=n,this.property=t}}Hi.prototype.attribute="";Hi.prototype.booleanish=!1;Hi.prototype.boolean=!1;Hi.prototype.commaOrSpaceSeparated=!1;Hi.prototype.commaSeparated=!1;Hi.prototype.defined=!1;Hi.prototype.mustUseProperty=!1;Hi.prototype.number=!1;Hi.prototype.overloadedBoolean=!1;Hi.prototype.property="";Hi.prototype.spaceSeparated=!1;Hi.prototype.space=void 0;let p4=0;const se=Xl(),xn=Xl(),R_=Xl(),xt=Xl(),je=Xl(),tc=Xl(),cr=Xl();function Xl(){return 2**++p4}const I_=Object.freeze(Object.defineProperty({__proto__:null,boolean:se,booleanish:xn,commaOrSpaceSeparated:cr,commaSeparated:tc,number:xt,overloadedBoolean:R_,spaceSeparated:je},Symbol.toStringTag,{value:"Module"})),Py=Object.keys(I_);class i0 extends Hi{constructor(t,n,i,s){let l=-1;if(super(t,n),q1(this,"space",s),typeof i=="number")for(;++l<Py.length;){const c=Py[l];q1(this,Py[l],(i&I_[c])===I_[c])}}}i0.prototype.defined=!0;function q1(e,t,n){n&&(e[t]=n)}function bc(e){const t={},n={};for(const[i,s]of Object.entries(e.properties)){const l=new i0(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,n[C_(i)]=i,n[C_(l.attribute)]=i}return new xf(t,n,e.space)}const lR=bc({properties:{ariaActiveDescendant:null,ariaAtomic:xn,ariaAutoComplete:null,ariaBusy:xn,ariaChecked:xn,ariaColCount:xt,ariaColIndex:xt,ariaColSpan:xt,ariaControls:je,ariaCurrent:null,ariaDescribedBy:je,ariaDetails:null,ariaDisabled:xn,ariaDropEffect:je,ariaErrorMessage:null,ariaExpanded:xn,ariaFlowTo:je,ariaGrabbed:xn,ariaHasPopup:null,ariaHidden:xn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:je,ariaLevel:xt,ariaLive:null,ariaModal:xn,ariaMultiLine:xn,ariaMultiSelectable:xn,ariaOrientation:null,ariaOwns:je,ariaPlaceholder:null,ariaPosInSet:xt,ariaPressed:xn,ariaReadOnly:xn,ariaRelevant:null,ariaRequired:xn,ariaRoleDescription:je,ariaRowCount:xt,ariaRowIndex:xt,ariaRowSpan:xt,ariaSelected:xn,ariaSetSize:xt,ariaSort:null,ariaValueMax:xt,ariaValueMin:xt,ariaValueNow:xt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function uR(e,t){return t in e?e[t]:t}function cR(e,t){return uR(e,t.toLowerCase())}const m4=bc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:tc,acceptCharset:je,accessKey:je,action:null,allow:null,allowFullScreen:se,allowPaymentRequest:se,allowUserMedia:se,alt:null,as:null,async:se,autoCapitalize:null,autoComplete:je,autoFocus:se,autoPlay:se,blocking:je,capture:null,charSet:null,checked:se,cite:null,className:je,cols:xt,colSpan:null,content:null,contentEditable:xn,controls:se,controlsList:je,coords:xt|tc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:se,defer:se,dir:null,dirName:null,disabled:se,download:R_,draggable:xn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:se,formTarget:null,headers:je,height:xt,hidden:R_,high:xt,href:null,hrefLang:null,htmlFor:je,httpEquiv:je,id:null,imageSizes:null,imageSrcSet:null,inert:se,inputMode:null,integrity:null,is:null,isMap:se,itemId:null,itemProp:je,itemRef:je,itemScope:se,itemType:je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:se,low:xt,manifest:null,max:null,maxLength:xt,media:null,method:null,min:null,minLength:xt,multiple:se,muted:se,name:null,nonce:null,noModule:se,noValidate:se,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:se,optimum:xt,pattern:null,ping:je,placeholder:null,playsInline:se,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:se,referrerPolicy:null,rel:je,required:se,reversed:se,rows:xt,rowSpan:xt,sandbox:je,scope:null,scoped:se,seamless:se,selected:se,shadowRootClonable:se,shadowRootDelegatesFocus:se,shadowRootMode:null,shape:null,size:xt,sizes:null,slot:null,span:xt,spellCheck:xn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xt,step:null,style:null,tabIndex:xt,target:null,title:null,translate:null,type:null,typeMustMatch:se,useMap:null,value:xn,width:xt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:je,axis:null,background:null,bgColor:null,border:xt,borderColor:null,bottomMargin:xt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:se,declare:se,event:null,face:null,frame:null,frameBorder:null,hSpace:xt,leftMargin:xt,link:null,longDesc:null,lowSrc:null,marginHeight:xt,marginWidth:xt,noResize:se,noHref:se,noShade:se,noWrap:se,object:null,profile:null,prompt:null,rev:null,rightMargin:xt,rules:null,scheme:null,scrolling:xn,standby:null,summary:null,text:null,topMargin:xt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:se,disableRemotePlayback:se,prefix:null,property:null,results:xt,security:null,unselectable:null},space:"html",transform:cR}),g4=bc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cr,accentHeight:xt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xt,amplitude:xt,arabicForm:null,ascent:xt,attributeName:null,attributeType:null,azimuth:xt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xt,by:null,calcMode:null,capHeight:xt,className:je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xt,diffuseConstant:xt,direction:null,display:null,dur:null,divisor:xt,dominantBaseline:null,download:se,dx:null,dy:null,edgeMode:null,editable:null,elevation:xt,enableBackground:null,end:null,event:null,exponent:xt,externalResourcesRequired:null,fill:null,fillOpacity:xt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:tc,g2:tc,glyphName:tc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xt,horizOriginX:xt,horizOriginY:xt,id:null,ideographic:xt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xt,k:xt,k1:xt,k2:xt,k3:xt,k4:xt,kernelMatrix:cr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xt,overlineThickness:xt,paintOrder:null,panose1:null,path:null,pathLength:xt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xt,pointsAtY:xt,pointsAtZ:xt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cr,rev:cr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cr,requiredFeatures:cr,requiredFonts:cr,requiredFormats:cr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xt,specularExponent:xt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xt,strikethroughThickness:xt,string:null,stroke:null,strokeDashArray:cr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xt,strokeOpacity:xt,strokeWidth:null,style:null,surfaceScale:xt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cr,tabIndex:xt,tableValues:null,target:null,targetX:xt,targetY:xt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xt,underlineThickness:xt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xt,values:null,vAlphabetic:xt,vMathematical:xt,vectorEffect:null,vHanging:xt,vIdeographic:xt,version:null,vertAdvY:xt,vertOriginX:xt,vertOriginY:xt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:uR}),hR=bc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),fR=bc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:cR}),dR=bc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),y4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_4=/[A-Z]/g,G1=/-[a-z]/g,v4=/^data[-\w.:]+$/i;function T4(e,t){const n=C_(t);let i=t,s=Hi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&v4.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(G1,E4);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!G1.test(l)){let c=l.replace(_4,w4);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}s=i0}return new s(i,t)}function w4(e){return"-"+e.toLowerCase()}function E4(e){return e.charAt(1).toUpperCase()}const b4=oR([lR,m4,hR,fR,dR],"html"),r0=oR([lR,g4,hR,fR,dR],"svg");function S4(e){return e.join(" ").trim()}var Bu={},ky,Z1;function x4(){if(Z1)return ky;Z1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,p=`
`,m="/",v="*",w="",b="comment",x="declaration";ky=function(N,H){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];H=H||{};var U=1,X=1;function W(B){var At=B.match(t);At&&(U+=At.length);var kt=B.lastIndexOf(p);X=~kt?B.length-kt:X+B.length}function dt(){var B={line:U,column:X};return function(At){return At.position=new ct(B),M(),At}}function ct(B){this.start=B,this.end={line:U,column:X},this.source=H.source}ct.prototype.content=N;function Q(B){var At=new Error(H.source+":"+U+":"+X+": "+B);if(At.reason=B,At.filename=H.source,At.line=U,At.column=X,At.source=N,!H.silent)throw At}function j(B){var At=B.exec(N);if(At){var kt=At[0];return W(kt),N=N.slice(kt.length),At}}function M(){j(n)}function z(B){var At;for(B=B||[];At=G();)At!==!1&&B.push(At);return B}function G(){var B=dt();if(!(m!=N.charAt(0)||v!=N.charAt(1))){for(var At=2;w!=N.charAt(At)&&(v!=N.charAt(At)||m!=N.charAt(At+1));)++At;if(At+=2,w===N.charAt(At-1))return Q("End of comment missing");var kt=N.slice(2,At-2);return X+=2,W(kt),N=N.slice(At),X+=2,B({type:b,comment:kt})}}function F(){var B=dt(),At=j(i);if(At){if(G(),!j(s))return Q("property missing ':'");var kt=j(l),st=B({type:x,property:D(At[0].replace(e,w)),value:kt?D(kt[0].replace(e,w)):w});return j(c),st}}function q(){var B=[];z(B);for(var At;At=F();)At!==!1&&(B.push(At),z(B));return B}return M(),q()};function D(N){return N?N.replace(d,w):w}return ky}var K1;function A4(){if(K1)return Bu;K1=1;var e=Bu&&Bu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.default=n;var t=e(x4());function n(i,s){var l=null;if(!i||typeof i!="string")return l;var c=(0,t.default)(i),d=typeof s=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,v=p.value;d?s(m,v,p):v&&(l=l||{},l[m]=v)}}),l}return Bu}var Sh={},$1;function C4(){if($1)return Sh;$1=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,l=function(m){return!m||n.test(m)||e.test(m)},c=function(m,v){return v.toUpperCase()},d=function(m,v){return"".concat(v,"-")},p=function(m,v){return v===void 0&&(v={}),l(m)?m:(m=m.toLowerCase(),v.reactCompat?m=m.replace(s,d):m=m.replace(i,d),m.replace(t,c))};return Sh.camelCase=p,Sh}var xh,W1;function R4(){if(W1)return xh;W1=1;var e=xh&&xh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(A4()),n=C4();function i(s,l){var c={};return!s||typeof s!="string"||(0,t.default)(s,function(d,p){d&&p&&(c[(0,n.camelCase)(d,l)]=p)}),c}return i.default=i,xh=i,xh}var I4=R4();const P4=Yp(I4),pR=mR("end"),s0=mR("start");function mR(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function k4(e){const t=s0(e),n=pR(e);if(t&&n)return{start:t,end:n}}function Fh(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Y1(e.position):"start"in e||"end"in e?Y1(e):"line"in e||"column"in e?P_(e):""}function P_(e){return X1(e&&e.line)+":"+X1(e&&e.column)}function Y1(e){return P_(e&&e.start)+"-"+P_(e&&e.end)}function X1(e){return e&&typeof e=="number"?e:1}class Ti extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",l={},c=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?s=t:!l.cause&&t&&(c=!0,s=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const d=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=d?d.line:void 0,this.name=Fh(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ti.prototype.file="";Ti.prototype.name="";Ti.prototype.reason="";Ti.prototype.message="";Ti.prototype.stack="";Ti.prototype.column=void 0;Ti.prototype.line=void 0;Ti.prototype.ancestors=void 0;Ti.prototype.cause=void 0;Ti.prototype.fatal=void 0;Ti.prototype.place=void 0;Ti.prototype.ruleId=void 0;Ti.prototype.source=void 0;const a0={}.hasOwnProperty,D4=new Map,M4=/[A-Z]/g,L4=new Set(["table","tbody","thead","tfoot","tr"]),O4=new Set(["td","th"]),gR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function N4(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=q4(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=H4(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?r0:b4,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=yR(s,e,void 0);return l&&typeof l!="string"?l:s.create(e,s.Fragment,{children:l||void 0},void 0)}function yR(e,t,n){if(t.type==="element")return V4(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return z4(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return B4(e,t,n);if(t.type==="mdxjsEsm")return U4(e,t);if(t.type==="root")return j4(e,t,n);if(t.type==="text")return F4(e,t)}function V4(e,t,n){const i=e.schema;let s=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=r0,e.schema=s),e.ancestors.push(t);const l=vR(e,t.tagName,!1),c=G4(e,t);let d=l0(e,t);return L4.has(t.tagName)&&(d=d.filter(function(p){return typeof p=="string"?!d4(p):!0})),_R(e,c,l,t),o0(c,d),e.ancestors.pop(),e.schema=i,e.create(t,l,c,n)}function z4(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}af(e,t.position)}function U4(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);af(e,t.position)}function B4(e,t,n){const i=e.schema;let s=i;t.name==="svg"&&i.space==="html"&&(s=r0,e.schema=s),e.ancestors.push(t);const l=t.name===null?e.Fragment:vR(e,t.name,!0),c=Z4(e,t),d=l0(e,t);return _R(e,c,l,t),o0(c,d),e.ancestors.pop(),e.schema=i,e.create(t,l,c,n)}function j4(e,t,n){const i={};return o0(i,l0(e,t)),e.create(t,e.Fragment,i,n)}function F4(e,t){return t.value}function _R(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function o0(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function H4(e,t,n){return i;function i(s,l,c,d){const m=Array.isArray(c.children)?n:t;return d?m(l,c,d):m(l,c)}}function q4(e,t){return n;function n(i,s,l,c){const d=Array.isArray(l.children),p=s0(i);return t(s,l,c,d,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function G4(e,t){const n={};let i,s;for(s in t.properties)if(s!=="children"&&a0.call(t.properties,s)){const l=K4(e,s,t.properties[s]);if(l){const[c,d]=l;e.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&O4.has(t.tagName)?i=d:n[c]=d}}if(i){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function Z4(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const l=i.data.estree.body[0];l.type;const c=l.expression;c.type;const d=c.properties[0];d.type,Object.assign(n,e.evaluater.evaluateExpression(d.argument))}else af(e,t.position);else{const s=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const d=i.value.data.estree.body[0];d.type,l=e.evaluater.evaluateExpression(d.expression)}else af(e,t.position);else l=i.value===null?!0:i.value;n[s]=l}return n}function l0(e,t){const n=[];let i=-1;const s=e.passKeys?new Map:D4;for(;++i<t.children.length;){const l=t.children[i];let c;if(e.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const m=s.get(p)||0;c=p+"-"+m,s.set(p,m+1)}}const d=yR(e,l,c);d!==void 0&&n.push(d)}return n}function K4(e,t,n){const i=T4(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?l4(n):S4(n)),i.property==="style"){let s=typeof n=="object"?n:$4(e,String(n));return e.stylePropertyNameCase==="css"&&(s=W4(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?y4[i.property]||i.property:i.attribute,n]}}function $4(e,t){try{return P4(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,s=new Ti("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=gR+"#cannot-parse-style-attribute",s}}function vR(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let l=-1,c;for(;++l<s.length;){const d=F1(s[l])?{type:"Identifier",name:s[l]}:{type:"Literal",value:s[l]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(l&&d.type==="Literal"),optional:!1}:d}i=c}else i=F1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const s=i.value;return a0.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);af(e)}function af(e,t){const n=new Ti("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=gR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function W4(e){const t={};let n;for(n in e)a0.call(e,n)&&(t[Y4(n)]=e[n]);return t}function Y4(e){let t=e.replace(M4,X4);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function X4(e){return"-"+e.toLowerCase()}const Dy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Q4={};function J4(e,t){const n=Q4,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return TR(e,i,s)}function TR(e,t,n){if(tz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Q1(e.children,t,n)}return Array.isArray(e)?Q1(e,t,n):""}function Q1(e,t,n){const i=[];let s=-1;for(;++s<e.length;)i[s]=TR(e[s],t,n);return i.join("")}function tz(e){return!!(e&&typeof e=="object")}const J1=document.createElement("i");function u0(e){const t="&"+e+";";J1.innerHTML=t;const n=J1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function $s(e,t,n,i){const s=e.length;let l=0,c;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)c=Array.from(i),c.unshift(t,n),e.splice(...c);else for(n&&e.splice(t,n);l<i.length;)c=i.slice(l,l+1e4),c.unshift(t,0),e.splice(...c),l+=1e4,t+=1e4}function Vr(e,t){return e.length>0?($s(e,e.length,0,t),e):t}const tS={}.hasOwnProperty;function ez(e){const t={};let n=-1;for(;++n<e.length;)nz(t,e[n]);return t}function nz(e,t){let n;for(n in t){const s=(tS.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let c;if(l)for(c in l){tS.call(s,c)||(s[c]=[]);const d=l[c];iz(s[c],Array.isArray(d)?d:d?[d]:[])}}}function iz(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);$s(e,0,0,i)}function wR(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ec(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ns=Qo(/[A-Za-z]/),hr=Qo(/[\dA-Za-z]/),rz=Qo(/[#-'*+\--9=?A-Z^-~]/);function k_(e){return e!==null&&(e<32||e===127)}const D_=Qo(/\d/),sz=Qo(/[\dA-Fa-f]/),az=Qo(/[!-/:-@[-`{-~]/);function Qt(e){return e!==null&&e<-2}function Fi(e){return e!==null&&(e<0||e===32)}function be(e){return e===-2||e===-1||e===32}const oz=Qo(new RegExp("\\p{P}|\\p{S}","u")),lz=Qo(/\s/);function Qo(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Sc(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const l=e.charCodeAt(n);let c="";if(l===37&&hr(e.charCodeAt(n+1))&&hr(e.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const d=e.charCodeAt(n+1);l<56320&&d>56319&&d<57344?(c=String.fromCharCode(l,d),s=1):c="�"}else c=String.fromCharCode(l);c&&(t.push(e.slice(i,n),encodeURIComponent(c)),i=n+s+1,c=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function He(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return be(p)?(e.enter(n),d(p)):t(p)}function d(p){return be(p)&&l++<s?(e.consume(p),d):(e.exit(n),t(p))}}const uz={tokenize:cz};function cz(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),He(e,t,"linePrefix")}function s(d){return e.enter("paragraph"),l(d)}function l(d){const p=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,c(d)}function c(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return Qt(d)?(e.consume(d),e.exit("chunkText"),l):(e.consume(d),c)}}const hz={tokenize:fz},eS={tokenize:dz};function fz(e){const t=this,n=[];let i=0,s,l,c;return d;function d(W){if(i<n.length){const dt=n[i];return t.containerState=dt[1],e.attempt(dt[0].continuation,p,m)(W)}return m(W)}function p(W){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&X();const dt=t.events.length;let ct=dt,Q;for(;ct--;)if(t.events[ct][0]==="exit"&&t.events[ct][1].type==="chunkFlow"){Q=t.events[ct][1].end;break}U(i);let j=dt;for(;j<t.events.length;)t.events[j][1].end={...Q},j++;return $s(t.events,ct+1,0,t.events.slice(dt)),t.events.length=j,m(W)}return d(W)}function m(W){if(i===n.length){if(!s)return b(W);if(s.currentConstruct&&s.currentConstruct.concrete)return D(W);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(eS,v,w)(W)}function v(W){return s&&X(),U(i),b(W)}function w(W){return t.parser.lazy[t.now().line]=i!==n.length,c=t.now().offset,D(W)}function b(W){return t.containerState={},e.attempt(eS,x,D)(W)}function x(W){return i++,n.push([t.currentConstruct,t.containerState]),b(W)}function D(W){if(W===null){s&&X(),U(0),e.consume(W);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:l}),N(W)}function N(W){if(W===null){H(e.exit("chunkFlow"),!0),U(0),e.consume(W);return}return Qt(W)?(e.consume(W),H(e.exit("chunkFlow")),i=0,t.interrupt=void 0,d):(e.consume(W),N)}function H(W,dt){const ct=t.sliceStream(W);if(dt&&ct.push(null),W.previous=l,l&&(l.next=W),l=W,s.defineSkip(W.start),s.write(ct),t.parser.lazy[W.start.line]){let Q=s.events.length;for(;Q--;)if(s.events[Q][1].start.offset<c&&(!s.events[Q][1].end||s.events[Q][1].end.offset>c))return;const j=t.events.length;let M=j,z,G;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(z){G=t.events[M][1].end;break}z=!0}for(U(i),Q=j;Q<t.events.length;)t.events[Q][1].end={...G},Q++;$s(t.events,M+1,0,t.events.slice(j)),t.events.length=Q}}function U(W){let dt=n.length;for(;dt-- >W;){const ct=n[dt];t.containerState=ct[1],ct[0].exit.call(t,e)}n.length=W}function X(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function dz(e,t,n){return He(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nS(e){if(e===null||Fi(e)||lz(e))return 1;if(oz(e))return 2}function c0(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!i.includes(l)&&(t=l(t,n),i.push(l))}return t}const M_={name:"attention",resolveAll:pz,tokenize:mz};function pz(e,t){let n=-1,i,s,l,c,d,p,m,v;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;p=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const w={...e[i][1].end},b={...e[n][1].start};iS(w,-p),iS(b,p),c={type:p>1?"strongSequence":"emphasisSequence",start:w,end:{...e[i][1].end}},d={type:p>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:b},l={type:p>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},s={type:p>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},e[i][1].end={...c.start},e[n][1].start={...d.end},m=[],e[i][1].end.offset-e[i][1].start.offset&&(m=Vr(m,[["enter",e[i][1],t],["exit",e[i][1],t]])),m=Vr(m,[["enter",s,t],["enter",c,t],["exit",c,t],["enter",l,t]]),m=Vr(m,c0(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),m=Vr(m,[["exit",l,t],["enter",d,t],["exit",d,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(v=2,m=Vr(m,[["enter",e[n][1],t],["exit",e[n][1],t]])):v=0,$s(e,i-1,n-i+3,m),n=i+m.length-v-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function mz(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=nS(i);let l;return c;function c(p){return l=p,e.enter("attentionSequence"),d(p)}function d(p){if(p===l)return e.consume(p),d;const m=e.exit("attentionSequence"),v=nS(p),w=!v||v===2&&s||n.includes(p),b=!s||s===2&&v||n.includes(i);return m._open=!!(l===42?w:w&&(s||!b)),m._close=!!(l===42?b:b&&(v||!w)),t(p)}}function iS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const gz={name:"autolink",tokenize:yz};function yz(e,t,n){let i=0;return s;function s(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(x){return Ns(x)?(e.consume(x),c):x===64?n(x):m(x)}function c(x){return x===43||x===45||x===46||hr(x)?(i=1,d(x)):m(x)}function d(x){return x===58?(e.consume(x),i=0,p):(x===43||x===45||x===46||hr(x))&&i++<32?(e.consume(x),d):(i=0,m(x))}function p(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||k_(x)?n(x):(e.consume(x),p)}function m(x){return x===64?(e.consume(x),v):rz(x)?(e.consume(x),m):n(x)}function v(x){return hr(x)?w(x):n(x)}function w(x){return x===46?(e.consume(x),i=0,v):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):b(x)}function b(x){if((x===45||hr(x))&&i++<63){const D=x===45?b:w;return e.consume(x),D}return n(x)}}const rm={partial:!0,tokenize:_z};function _z(e,t,n){return i;function i(l){return be(l)?He(e,s,"linePrefix")(l):s(l)}function s(l){return l===null||Qt(l)?t(l):n(l)}}const ER={continuation:{tokenize:Tz},exit:wz,name:"blockQuote",tokenize:vz};function vz(e,t,n){const i=this;return s;function s(c){if(c===62){const d=i.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),l}return n(c)}function l(c){return be(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function Tz(e,t,n){const i=this;return s;function s(c){return be(c)?He(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return e.attempt(ER,t,n)(c)}}function wz(e){e.exit("blockQuote")}const bR={name:"characterEscape",tokenize:Ez};function Ez(e,t,n){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return az(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const SR={name:"characterReference",tokenize:bz};function bz(e,t,n){const i=this;let s=0,l,c;return d;function d(w){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(w),e.exit("characterReferenceMarker"),p}function p(w){return w===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(w),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),l=31,c=hr,v(w))}function m(w){return w===88||w===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(w),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,c=sz,v):(e.enter("characterReferenceValue"),l=7,c=D_,v(w))}function v(w){if(w===59&&s){const b=e.exit("characterReferenceValue");return c===hr&&!u0(i.sliceSerialize(b))?n(w):(e.enter("characterReferenceMarker"),e.consume(w),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(w)&&s++<l?(e.consume(w),v):n(w)}}const rS={partial:!0,tokenize:xz},sS={concrete:!0,name:"codeFenced",tokenize:Sz};function Sz(e,t,n){const i=this,s={partial:!0,tokenize:ct};let l=0,c=0,d;return p;function p(Q){return m(Q)}function m(Q){const j=i.events[i.events.length-1];return l=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,d=Q,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),v(Q)}function v(Q){return Q===d?(c++,e.consume(Q),v):c<3?n(Q):(e.exit("codeFencedFenceSequence"),be(Q)?He(e,w,"whitespace")(Q):w(Q))}function w(Q){return Q===null||Qt(Q)?(e.exit("codeFencedFence"),i.interrupt?t(Q):e.check(rS,N,dt)(Q)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(Q))}function b(Q){return Q===null||Qt(Q)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),w(Q)):be(Q)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),He(e,x,"whitespace")(Q)):Q===96&&Q===d?n(Q):(e.consume(Q),b)}function x(Q){return Q===null||Qt(Q)?w(Q):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),D(Q))}function D(Q){return Q===null||Qt(Q)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),w(Q)):Q===96&&Q===d?n(Q):(e.consume(Q),D)}function N(Q){return e.attempt(s,dt,H)(Q)}function H(Q){return e.enter("lineEnding"),e.consume(Q),e.exit("lineEnding"),U}function U(Q){return l>0&&be(Q)?He(e,X,"linePrefix",l+1)(Q):X(Q)}function X(Q){return Q===null||Qt(Q)?e.check(rS,N,dt)(Q):(e.enter("codeFlowValue"),W(Q))}function W(Q){return Q===null||Qt(Q)?(e.exit("codeFlowValue"),X(Q)):(e.consume(Q),W)}function dt(Q){return e.exit("codeFenced"),t(Q)}function ct(Q,j,M){let z=0;return G;function G(kt){return Q.enter("lineEnding"),Q.consume(kt),Q.exit("lineEnding"),F}function F(kt){return Q.enter("codeFencedFence"),be(kt)?He(Q,q,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(kt):q(kt)}function q(kt){return kt===d?(Q.enter("codeFencedFenceSequence"),B(kt)):M(kt)}function B(kt){return kt===d?(z++,Q.consume(kt),B):z>=c?(Q.exit("codeFencedFenceSequence"),be(kt)?He(Q,At,"whitespace")(kt):At(kt)):M(kt)}function At(kt){return kt===null||Qt(kt)?(Q.exit("codeFencedFence"),j(kt)):M(kt)}}}function xz(e,t,n){const i=this;return s;function s(c){return c===null?n(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l)}function l(c){return i.parser.lazy[i.now().line]?n(c):t(c)}}const My={name:"codeIndented",tokenize:Cz},Az={partial:!0,tokenize:Rz};function Cz(e,t,n){const i=this;return s;function s(m){return e.enter("codeIndented"),He(e,l,"linePrefix",5)(m)}function l(m){const v=i.events[i.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?c(m):n(m)}function c(m){return m===null?p(m):Qt(m)?e.attempt(Az,c,p)(m):(e.enter("codeFlowValue"),d(m))}function d(m){return m===null||Qt(m)?(e.exit("codeFlowValue"),c(m)):(e.consume(m),d)}function p(m){return e.exit("codeIndented"),t(m)}}function Rz(e,t,n){const i=this;return s;function s(c){return i.parser.lazy[i.now().line]?n(c):Qt(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):He(e,l,"linePrefix",5)(c)}function l(c){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(c):Qt(c)?s(c):n(c)}}const Iz={name:"codeText",previous:kz,resolve:Pz,tokenize:Dz};function Pz(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function kz(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Dz(e,t,n){let i=0,s,l;return c;function c(w){return e.enter("codeText"),e.enter("codeTextSequence"),d(w)}function d(w){return w===96?(e.consume(w),i++,d):(e.exit("codeTextSequence"),p(w))}function p(w){return w===null?n(w):w===32?(e.enter("space"),e.consume(w),e.exit("space"),p):w===96?(l=e.enter("codeTextSequence"),s=0,v(w)):Qt(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),p):(e.enter("codeTextData"),m(w))}function m(w){return w===null||w===32||w===96||Qt(w)?(e.exit("codeTextData"),p(w)):(e.consume(w),m)}function v(w){return w===96?(e.consume(w),s++,v):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(w)):(l.type="codeTextData",m(w))}}class Mz{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const s=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&Ah(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ah(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ah(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ah(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ah(this.left,n.reverse())}}}function Ah(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function xR(e){const t={};let n=-1,i,s,l,c,d,p,m;const v=new Mz(e);for(;++n<v.length;){for(;n in t;)n=t[n];if(i=v.get(n),n&&i[1].type==="chunkFlow"&&v.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,Lz(v,n)),n=t[n],m=!0);else if(i[1]._container){for(l=n,s=void 0;l--;)if(c=v.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(s&&(v.get(s)[1].type="lineEndingBlank"),c[1].type="lineEnding",s=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;s&&(i[1].end={...v.get(s)[1].start},d=v.slice(s,n),d.unshift(i),v.splice(s,n-s+1,d))}}return $s(e,0,Number.POSITIVE_INFINITY,v.slice(0)),!m}function Lz(e,t){const n=e.get(t)[1],i=e.get(t)[2];let s=t-1;const l=[];let c=n._tokenizer;c||(c=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,p=[],m={};let v,w,b=-1,x=n,D=0,N=0;const H=[N];for(;x;){for(;e.get(++s)[1]!==x;);l.push(s),x._tokenizer||(v=i.sliceStream(x),x.next||v.push(null),w&&c.defineSkip(x.start),x._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(v),x._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),w=x,x=x.next}for(x=n;++b<d.length;)d[b][0]==="exit"&&d[b-1][0]==="enter"&&d[b][1].type===d[b-1][1].type&&d[b][1].start.line!==d[b][1].end.line&&(N=b+1,H.push(N),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(c.events=[],x?(x._tokenizer=void 0,x.previous=void 0):H.pop(),b=H.length;b--;){const U=d.slice(H[b],H[b+1]),X=l.pop();p.push([X,X+U.length-1]),e.splice(X,2,U)}for(p.reverse(),b=-1;++b<p.length;)m[D+p[b][0]]=D+p[b][1],D+=p[b][1]-p[b][0]-1;return m}const Oz={resolve:Vz,tokenize:zz},Nz={partial:!0,tokenize:Uz};function Vz(e){return xR(e),e}function zz(e,t){let n;return i;function i(d){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?l(d):Qt(d)?e.check(Nz,c,l)(d):(e.consume(d),s)}function l(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function c(d){return e.consume(d),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function Uz(e,t,n){const i=this;return s;function s(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),He(e,l,"linePrefix")}function l(c){if(c===null||Qt(c))return n(c);const d=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(c):e.interrupt(i.parser.constructs.flow,n,t)(c)}}function AR(e,t,n,i,s,l,c,d,p){const m=p||Number.POSITIVE_INFINITY;let v=0;return w;function w(U){return U===60?(e.enter(i),e.enter(s),e.enter(l),e.consume(U),e.exit(l),b):U===null||U===32||U===41||k_(U)?n(U):(e.enter(i),e.enter(c),e.enter(d),e.enter("chunkString",{contentType:"string"}),N(U))}function b(U){return U===62?(e.enter(l),e.consume(U),e.exit(l),e.exit(s),e.exit(i),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),x(U))}function x(U){return U===62?(e.exit("chunkString"),e.exit(d),b(U)):U===null||U===60||Qt(U)?n(U):(e.consume(U),U===92?D:x)}function D(U){return U===60||U===62||U===92?(e.consume(U),x):x(U)}function N(U){return!v&&(U===null||U===41||Fi(U))?(e.exit("chunkString"),e.exit(d),e.exit(c),e.exit(i),t(U)):v<m&&U===40?(e.consume(U),v++,N):U===41?(e.consume(U),v--,N):U===null||U===32||U===40||k_(U)?n(U):(e.consume(U),U===92?H:N)}function H(U){return U===40||U===41||U===92?(e.consume(U),N):N(U)}}function CR(e,t,n,i,s,l){const c=this;let d=0,p;return m;function m(x){return e.enter(i),e.enter(s),e.consume(x),e.exit(s),e.enter(l),v}function v(x){return d>999||x===null||x===91||x===93&&!p||x===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?n(x):x===93?(e.exit(l),e.enter(s),e.consume(x),e.exit(s),e.exit(i),t):Qt(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),v):(e.enter("chunkString",{contentType:"string"}),w(x))}function w(x){return x===null||x===91||x===93||Qt(x)||d++>999?(e.exit("chunkString"),v(x)):(e.consume(x),p||(p=!be(x)),x===92?b:w)}function b(x){return x===91||x===92||x===93?(e.consume(x),d++,w):w(x)}}function RR(e,t,n,i,s,l){let c;return d;function d(b){return b===34||b===39||b===40?(e.enter(i),e.enter(s),e.consume(b),e.exit(s),c=b===40?41:b,p):n(b)}function p(b){return b===c?(e.enter(s),e.consume(b),e.exit(s),e.exit(i),t):(e.enter(l),m(b))}function m(b){return b===c?(e.exit(l),p(c)):b===null?n(b):Qt(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),He(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),v(b))}function v(b){return b===c||b===null||Qt(b)?(e.exit("chunkString"),m(b)):(e.consume(b),b===92?w:v)}function w(b){return b===c||b===92?(e.consume(b),v):v(b)}}function Hh(e,t){let n;return i;function i(s){return Qt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):be(s)?He(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}const Bz={name:"definition",tokenize:Fz},jz={partial:!0,tokenize:Hz};function Fz(e,t,n){const i=this;let s;return l;function l(x){return e.enter("definition"),c(x)}function c(x){return CR.call(i,e,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function d(x){return s=ec(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),p):n(x)}function p(x){return Fi(x)?Hh(e,m)(x):m(x)}function m(x){return AR(e,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function v(x){return e.attempt(jz,w,w)(x)}function w(x){return be(x)?He(e,b,"whitespace")(x):b(x)}function b(x){return x===null||Qt(x)?(e.exit("definition"),i.parser.defined.push(s),t(x)):n(x)}}function Hz(e,t,n){return i;function i(d){return Fi(d)?Hh(e,s)(d):n(d)}function s(d){return RR(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function l(d){return be(d)?He(e,c,"whitespace")(d):c(d)}function c(d){return d===null||Qt(d)?t(d):n(d)}}const qz={name:"hardBreakEscape",tokenize:Gz};function Gz(e,t,n){return i;function i(l){return e.enter("hardBreakEscape"),e.consume(l),s}function s(l){return Qt(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const Zz={name:"headingAtx",resolve:Kz,tokenize:$z};function Kz(e,t){let n=e.length-2,i=3,s,l;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},l={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},$s(e,i,n-i+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function $z(e,t,n){let i=0;return s;function s(v){return e.enter("atxHeading"),l(v)}function l(v){return e.enter("atxHeadingSequence"),c(v)}function c(v){return v===35&&i++<6?(e.consume(v),c):v===null||Fi(v)?(e.exit("atxHeadingSequence"),d(v)):n(v)}function d(v){return v===35?(e.enter("atxHeadingSequence"),p(v)):v===null||Qt(v)?(e.exit("atxHeading"),t(v)):be(v)?He(e,d,"whitespace")(v):(e.enter("atxHeadingText"),m(v))}function p(v){return v===35?(e.consume(v),p):(e.exit("atxHeadingSequence"),d(v))}function m(v){return v===null||v===35||Fi(v)?(e.exit("atxHeadingText"),d(v)):(e.consume(v),m)}}const Wz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],aS=["pre","script","style","textarea"],Yz={concrete:!0,name:"htmlFlow",resolveTo:Jz,tokenize:t3},Xz={partial:!0,tokenize:n3},Qz={partial:!0,tokenize:e3};function Jz(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function t3(e,t,n){const i=this;let s,l,c,d,p;return m;function m(V){return v(V)}function v(V){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(V),w}function w(V){return V===33?(e.consume(V),b):V===47?(e.consume(V),l=!0,N):V===63?(e.consume(V),s=3,i.interrupt?t:R):Ns(V)?(e.consume(V),c=String.fromCharCode(V),H):n(V)}function b(V){return V===45?(e.consume(V),s=2,x):V===91?(e.consume(V),s=5,d=0,D):Ns(V)?(e.consume(V),s=4,i.interrupt?t:R):n(V)}function x(V){return V===45?(e.consume(V),i.interrupt?t:R):n(V)}function D(V){const Ct="CDATA[";return V===Ct.charCodeAt(d++)?(e.consume(V),d===Ct.length?i.interrupt?t:q:D):n(V)}function N(V){return Ns(V)?(e.consume(V),c=String.fromCharCode(V),H):n(V)}function H(V){if(V===null||V===47||V===62||Fi(V)){const Ct=V===47,It=c.toLowerCase();return!Ct&&!l&&aS.includes(It)?(s=1,i.interrupt?t(V):q(V)):Wz.includes(c.toLowerCase())?(s=6,Ct?(e.consume(V),U):i.interrupt?t(V):q(V)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(V):l?X(V):W(V))}return V===45||hr(V)?(e.consume(V),c+=String.fromCharCode(V),H):n(V)}function U(V){return V===62?(e.consume(V),i.interrupt?t:q):n(V)}function X(V){return be(V)?(e.consume(V),X):G(V)}function W(V){return V===47?(e.consume(V),G):V===58||V===95||Ns(V)?(e.consume(V),dt):be(V)?(e.consume(V),W):G(V)}function dt(V){return V===45||V===46||V===58||V===95||hr(V)?(e.consume(V),dt):ct(V)}function ct(V){return V===61?(e.consume(V),Q):be(V)?(e.consume(V),ct):W(V)}function Q(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(e.consume(V),p=V,j):be(V)?(e.consume(V),Q):M(V)}function j(V){return V===p?(e.consume(V),p=null,z):V===null||Qt(V)?n(V):(e.consume(V),j)}function M(V){return V===null||V===34||V===39||V===47||V===60||V===61||V===62||V===96||Fi(V)?ct(V):(e.consume(V),M)}function z(V){return V===47||V===62||be(V)?W(V):n(V)}function G(V){return V===62?(e.consume(V),F):n(V)}function F(V){return V===null||Qt(V)?q(V):be(V)?(e.consume(V),F):n(V)}function q(V){return V===45&&s===2?(e.consume(V),st):V===60&&s===1?(e.consume(V),gt):V===62&&s===4?(e.consume(V),ht):V===63&&s===3?(e.consume(V),R):V===93&&s===5?(e.consume(V),Ht):Qt(V)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(Xz,bt,B)(V)):V===null||Qt(V)?(e.exit("htmlFlowData"),B(V)):(e.consume(V),q)}function B(V){return e.check(Qz,At,bt)(V)}function At(V){return e.enter("lineEnding"),e.consume(V),e.exit("lineEnding"),kt}function kt(V){return V===null||Qt(V)?B(V):(e.enter("htmlFlowData"),q(V))}function st(V){return V===45?(e.consume(V),R):q(V)}function gt(V){return V===47?(e.consume(V),c="",pt):q(V)}function pt(V){if(V===62){const Ct=c.toLowerCase();return aS.includes(Ct)?(e.consume(V),ht):q(V)}return Ns(V)&&c.length<8?(e.consume(V),c+=String.fromCharCode(V),pt):q(V)}function Ht(V){return V===93?(e.consume(V),R):q(V)}function R(V){return V===62?(e.consume(V),ht):V===45&&s===2?(e.consume(V),R):q(V)}function ht(V){return V===null||Qt(V)?(e.exit("htmlFlowData"),bt(V)):(e.consume(V),ht)}function bt(V){return e.exit("htmlFlow"),t(V)}}function e3(e,t,n){const i=this;return s;function s(c){return Qt(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):n(c)}function l(c){return i.parser.lazy[i.now().line]?n(c):t(c)}}function n3(e,t,n){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(rm,t,n)}}const i3={name:"htmlText",tokenize:r3};function r3(e,t,n){const i=this;let s,l,c;return d;function d(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),p}function p(R){return R===33?(e.consume(R),m):R===47?(e.consume(R),ct):R===63?(e.consume(R),W):Ns(R)?(e.consume(R),M):n(R)}function m(R){return R===45?(e.consume(R),v):R===91?(e.consume(R),l=0,D):Ns(R)?(e.consume(R),X):n(R)}function v(R){return R===45?(e.consume(R),x):n(R)}function w(R){return R===null?n(R):R===45?(e.consume(R),b):Qt(R)?(c=w,gt(R)):(e.consume(R),w)}function b(R){return R===45?(e.consume(R),x):w(R)}function x(R){return R===62?st(R):R===45?b(R):w(R)}function D(R){const ht="CDATA[";return R===ht.charCodeAt(l++)?(e.consume(R),l===ht.length?N:D):n(R)}function N(R){return R===null?n(R):R===93?(e.consume(R),H):Qt(R)?(c=N,gt(R)):(e.consume(R),N)}function H(R){return R===93?(e.consume(R),U):N(R)}function U(R){return R===62?st(R):R===93?(e.consume(R),U):N(R)}function X(R){return R===null||R===62?st(R):Qt(R)?(c=X,gt(R)):(e.consume(R),X)}function W(R){return R===null?n(R):R===63?(e.consume(R),dt):Qt(R)?(c=W,gt(R)):(e.consume(R),W)}function dt(R){return R===62?st(R):W(R)}function ct(R){return Ns(R)?(e.consume(R),Q):n(R)}function Q(R){return R===45||hr(R)?(e.consume(R),Q):j(R)}function j(R){return Qt(R)?(c=j,gt(R)):be(R)?(e.consume(R),j):st(R)}function M(R){return R===45||hr(R)?(e.consume(R),M):R===47||R===62||Fi(R)?z(R):n(R)}function z(R){return R===47?(e.consume(R),st):R===58||R===95||Ns(R)?(e.consume(R),G):Qt(R)?(c=z,gt(R)):be(R)?(e.consume(R),z):st(R)}function G(R){return R===45||R===46||R===58||R===95||hr(R)?(e.consume(R),G):F(R)}function F(R){return R===61?(e.consume(R),q):Qt(R)?(c=F,gt(R)):be(R)?(e.consume(R),F):z(R)}function q(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),s=R,B):Qt(R)?(c=q,gt(R)):be(R)?(e.consume(R),q):(e.consume(R),At)}function B(R){return R===s?(e.consume(R),s=void 0,kt):R===null?n(R):Qt(R)?(c=B,gt(R)):(e.consume(R),B)}function At(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Fi(R)?z(R):(e.consume(R),At)}function kt(R){return R===47||R===62||Fi(R)?z(R):n(R)}function st(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):n(R)}function gt(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),pt}function pt(R){return be(R)?He(e,Ht,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):Ht(R)}function Ht(R){return e.enter("htmlTextData"),c(R)}}const h0={name:"labelEnd",resolveAll:l3,resolveTo:u3,tokenize:c3},s3={tokenize:h3},a3={tokenize:f3},o3={tokenize:d3};function l3(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",t+=s}}return e.length!==n.length&&$s(e,0,e.length,n),e}function u3(e,t){let n=e.length,i=0,s,l,c,d;for(;n--;)if(s=e[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(c){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(c=n);const p={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[l][1].start},end:{...e[c][1].end}},v={type:"labelText",start:{...e[l+i+2][1].end},end:{...e[c-2][1].start}};return d=[["enter",p,t],["enter",m,t]],d=Vr(d,e.slice(l+1,l+i+3)),d=Vr(d,[["enter",v,t]]),d=Vr(d,c0(t.parser.constructs.insideSpan.null,e.slice(l+i+4,c-3),t)),d=Vr(d,[["exit",v,t],e[c-2],e[c-1],["exit",m,t]]),d=Vr(d,e.slice(c+1)),d=Vr(d,[["exit",p,t]]),$s(e,l,e.length,d),e}function c3(e,t,n){const i=this;let s=i.events.length,l,c;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){l=i.events[s][1];break}return d;function d(b){return l?l._inactive?w(b):(c=i.parser.defined.includes(ec(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),p):n(b)}function p(b){return b===40?e.attempt(s3,v,c?v:w)(b):b===91?e.attempt(a3,v,c?m:w)(b):c?v(b):w(b)}function m(b){return e.attempt(o3,v,w)(b)}function v(b){return t(b)}function w(b){return l._balanced=!0,n(b)}}function h3(e,t,n){return i;function i(w){return e.enter("resource"),e.enter("resourceMarker"),e.consume(w),e.exit("resourceMarker"),s}function s(w){return Fi(w)?Hh(e,l)(w):l(w)}function l(w){return w===41?v(w):AR(e,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(w)}function c(w){return Fi(w)?Hh(e,p)(w):v(w)}function d(w){return n(w)}function p(w){return w===34||w===39||w===40?RR(e,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(w):v(w)}function m(w){return Fi(w)?Hh(e,v)(w):v(w)}function v(w){return w===41?(e.enter("resourceMarker"),e.consume(w),e.exit("resourceMarker"),e.exit("resource"),t):n(w)}}function f3(e,t,n){const i=this;return s;function s(d){return CR.call(i,e,l,c,"reference","referenceMarker","referenceString")(d)}function l(d){return i.parser.defined.includes(ec(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(d):n(d)}function c(d){return n(d)}}function d3(e,t,n){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const p3={name:"labelStartImage",resolveAll:h0.resolveAll,tokenize:m3};function m3(e,t,n){const i=this;return s;function s(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),l}function l(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),c):n(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):t(d)}}const g3={name:"labelStartLink",resolveAll:h0.resolveAll,tokenize:y3};function y3(e,t,n){const i=this;return s;function s(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):t(c)}}const Ly={name:"lineEnding",tokenize:_3};function _3(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),He(e,t,"linePrefix")}}const cp={name:"thematicBreak",tokenize:v3};function v3(e,t,n){let i=0,s;return l;function l(m){return e.enter("thematicBreak"),c(m)}function c(m){return s=m,d(m)}function d(m){return m===s?(e.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||Qt(m))?(e.exit("thematicBreak"),t(m)):n(m)}function p(m){return m===s?(e.consume(m),i++,p):(e.exit("thematicBreakSequence"),be(m)?He(e,d,"whitespace")(m):d(m))}}const zi={continuation:{tokenize:b3},exit:x3,name:"list",tokenize:E3},T3={partial:!0,tokenize:A3},w3={partial:!0,tokenize:S3};function E3(e,t,n){const i=this,s=i.events[i.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,c=0;return d;function d(x){const D=i.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!i.containerState.marker||x===i.containerState.marker:D_(x)){if(i.containerState.type||(i.containerState.type=D,e.enter(D,{_container:!0})),D==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(cp,n,m)(x):m(x);if(!i.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(x)}return n(x)}function p(x){return D_(x)&&++c<10?(e.consume(x),p):(!i.interrupt||c<2)&&(i.containerState.marker?x===i.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),m(x)):n(x)}function m(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||x,e.check(rm,i.interrupt?n:v,e.attempt(T3,b,w))}function v(x){return i.containerState.initialBlankLine=!0,l++,b(x)}function w(x){return be(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),b):n(x)}function b(x){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function b3(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(rm,s,l);function s(d){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,He(e,t,"listItemIndent",i.containerState.size+1)(d)}function l(d){return i.containerState.furtherBlankLines||!be(d)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(d)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(w3,t,c)(d))}function c(d){return i.containerState._closeFlow=!0,i.interrupt=void 0,He(e,e.attempt(zi,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function S3(e,t,n){const i=this;return He(e,s,"listItemIndent",i.containerState.size+1);function s(l){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?t(l):n(l)}}function x3(e){e.exit(this.containerState.type)}function A3(e,t,n){const i=this;return He(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const c=i.events[i.events.length-1];return!be(l)&&c&&c[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const oS={name:"setextUnderline",resolveTo:C3,tokenize:R3};function C3(e,t){let n=e.length,i,s,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const c={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",c,t]),e.splice(l+1,0,["exit",e[i][1],t]),e[i][1].end={...e[l][1].end}):e[i][1]=c,e.push(["exit",c,t]),e}function R3(e,t,n){const i=this;let s;return l;function l(m){let v=i.events.length,w;for(;v--;)if(i.events[v][1].type!=="lineEnding"&&i.events[v][1].type!=="linePrefix"&&i.events[v][1].type!=="content"){w=i.events[v][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||w)?(e.enter("setextHeadingLine"),s=m,c(m)):n(m)}function c(m){return e.enter("setextHeadingLineSequence"),d(m)}function d(m){return m===s?(e.consume(m),d):(e.exit("setextHeadingLineSequence"),be(m)?He(e,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Qt(m)?(e.exit("setextHeadingLine"),t(m)):n(m)}}const I3={tokenize:P3};function P3(e){const t=this,n=e.attempt(rm,i,e.attempt(this.parser.constructs.flowInitial,s,He(e,e.attempt(this.parser.constructs.flow,s,e.attempt(Oz,s)),"linePrefix")));return n;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const k3={resolveAll:PR()},D3=IR("string"),M3=IR("text");function IR(e){return{resolveAll:PR(e==="text"?L3:void 0),tokenize:t};function t(n){const i=this,s=this.parser.constructs[e],l=n.attempt(s,c,d);return c;function c(v){return m(v)?l(v):d(v)}function d(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),p}function p(v){return m(v)?(n.exit("data"),l(v)):(n.consume(v),p)}function m(v){if(v===null)return!0;const w=s[v];let b=-1;if(w)for(;++b<w.length;){const x=w[b];if(!x.previous||x.previous.call(i,i.previous))return!0}return!1}}}function PR(e){return t;function t(n,i){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(n,i):n}}function L3(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let l=s.length,c=-1,d=0,p;for(;l--;){const m=s[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(m===-2)p=!0,d++;else if(m!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(d=0),d){const m={type:n===e.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:i.start._bufferIndex+c,_index:i.start._index+l,line:i.end.line,column:i.end.column-d,offset:i.end.offset-d},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(e.splice(n,0,["enter",m,t],["exit",m,t]),n+=2)}n++}return e}const O3={42:zi,43:zi,45:zi,48:zi,49:zi,50:zi,51:zi,52:zi,53:zi,54:zi,55:zi,56:zi,57:zi,62:ER},N3={91:Bz},V3={[-2]:My,[-1]:My,32:My},z3={35:Zz,42:cp,45:[oS,cp],60:Yz,61:oS,95:cp,96:sS,126:sS},U3={38:SR,92:bR},B3={[-5]:Ly,[-4]:Ly,[-3]:Ly,33:p3,38:SR,42:M_,60:[gz,i3],91:g3,92:[qz,bR],93:h0,95:M_,96:Iz},j3={null:[M_,k3]},F3={null:[42,95]},H3={null:[]},q3=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:F3,contentInitial:N3,disable:H3,document:O3,flow:z3,flowInitial:V3,insideSpan:j3,string:U3,text:B3},Symbol.toStringTag,{value:"Module"}));function G3(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},l=[];let c=[],d=[];const p={attempt:j(ct),check:j(Q),consume:X,enter:W,exit:dt,interrupt:j(Q,{interrupt:!0})},m={code:null,containerState:{},defineSkip:N,events:[],now:D,parser:e,previous:null,sliceSerialize:b,sliceStream:x,write:w};let v=t.tokenize.call(m,p);return t.resolveAll&&l.push(t),m;function w(F){return c=Vr(c,F),H(),c[c.length-1]!==null?[]:(M(t,0),m.events=c0(l,m.events,m),m.events)}function b(F,q){return K3(x(F),q)}function x(F){return Z3(c,F)}function D(){const{_bufferIndex:F,_index:q,line:B,column:At,offset:kt}=i;return{_bufferIndex:F,_index:q,line:B,column:At,offset:kt}}function N(F){s[F.line]=F.column,G()}function H(){let F;for(;i._index<c.length;){const q=c[i._index];if(typeof q=="string")for(F=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===F&&i._bufferIndex<q.length;)U(q.charCodeAt(i._bufferIndex));else U(q)}}function U(F){v=v(F)}function X(F){Qt(F)?(i.line++,i.column=1,i.offset+=F===-3?2:1,G()):F!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=F}function W(F,q){const B=q||{};return B.type=F,B.start=D(),m.events.push(["enter",B,m]),d.push(B),B}function dt(F){const q=d.pop();return q.end=D(),m.events.push(["exit",q,m]),q}function ct(F,q){M(F,q.from)}function Q(F,q){q.restore()}function j(F,q){return B;function B(At,kt,st){let gt,pt,Ht,R;return Array.isArray(At)?bt(At):"tokenize"in At?bt([At]):ht(At);function ht(St){return ye;function ye(ee){const gn=ee!==null&&St[ee],Pn=ee!==null&&St.null,zn=[...Array.isArray(gn)?gn:gn?[gn]:[],...Array.isArray(Pn)?Pn:Pn?[Pn]:[]];return bt(zn)(ee)}}function bt(St){return gt=St,pt=0,St.length===0?st:V(St[pt])}function V(St){return ye;function ye(ee){return R=z(),Ht=St,St.partial||(m.currentConstruct=St),St.name&&m.parser.constructs.disable.null.includes(St.name)?It():St.tokenize.call(q?Object.assign(Object.create(m),q):m,p,Ct,It)(ee)}}function Ct(St){return F(Ht,R),kt}function It(St){return R.restore(),++pt<gt.length?V(gt[pt]):st}}}function M(F,q){F.resolveAll&&!l.includes(F)&&l.push(F),F.resolve&&$s(m.events,q,m.events.length-q,F.resolve(m.events.slice(q),m)),F.resolveTo&&(m.events=F.resolveTo(m.events,m))}function z(){const F=D(),q=m.previous,B=m.currentConstruct,At=m.events.length,kt=Array.from(d);return{from:At,restore:st};function st(){i=F,m.previous=q,m.currentConstruct=B,m.events.length=At,d=kt,G()}}function G(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function Z3(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let c;if(n===s)c=[e[n].slice(i,l)];else{if(c=e.slice(n,s),i>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(i):c.shift()}l>0&&c.push(e[s].slice(0,l))}return c}function K3(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const l=e[n];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&s)continue;c=" ";break}default:c=String.fromCharCode(l)}s=l===-2,i.push(c)}return i.join("")}function $3(e){const i={constructs:ez([q3,...(e||{}).extensions||[]]),content:s(uz),defined:[],document:s(hz),flow:s(I3),lazy:{},string:s(D3),text:s(M3)};return i;function s(l){return c;function c(d){return G3(i,l,d)}}}function W3(e){for(;!xR(e););return e}const lS=/[\0\t\n\r]/g;function Y3(){let e=1,t="",n=!0,i;return s;function s(l,c,d){const p=[];let m,v,w,b,x;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),w=0,t="",n&&(l.charCodeAt(0)===65279&&w++,n=void 0);w<l.length;){if(lS.lastIndex=w,m=lS.exec(l),b=m&&m.index!==void 0?m.index:l.length,x=l.charCodeAt(b),!m){t=l.slice(w);break}if(x===10&&w===b&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),w<b&&(p.push(l.slice(w,b)),e+=b-w),x){case 0:{p.push(65533),e++;break}case 9:{for(v=Math.ceil(e/4)*4,p.push(-2);e++<v;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:i=!0,e=1}w=b+1}return d&&(i&&p.push(-5),t&&p.push(t),p.push(null)),p}}const X3=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Q3(e){return e.replace(X3,J3)}function J3(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return wR(n.slice(l?2:1),l?16:10)}return u0(n)||e}const kR={}.hasOwnProperty;function tU(e,t,n){return typeof t!="string"&&(n=t,t=void 0),eU(n)(W3($3(n).document().write(Y3()(e,t,!0))))}function eU(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ms),autolinkProtocol:z,autolinkEmail:z,atxHeading:l(Fr),blockQuote:l(Pn),characterEscape:z,characterReference:z,codeFenced:l(zn),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(zn,c),codeText:l(wi,c),codeTextData:z,data:z,codeFlowValue:z,definition:l(qi),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(jr),hardBreakEscape:l(ds),hardBreakTrailing:l(ds),htmlFlow:l(kn,c),htmlFlowData:z,htmlText:l(kn,c),htmlTextData:z,image:l(ps),label:c,link:l(ms),listItem:l(Gi),listItemValue:b,listOrdered:l(pr,w),listUnordered:l(pr),paragraph:l(Ma),reference:V,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(Fr),strong:l(Hr),thematicBreak:l(La)},exit:{atxHeading:p(),atxHeadingSequence:ct,autolink:p(),autolinkEmail:gn,autolinkProtocol:ee,blockQuote:p(),characterEscapeValue:G,characterReferenceMarkerHexadecimal:It,characterReferenceMarkerNumeric:It,characterReferenceValue:St,characterReference:ye,codeFenced:p(H),codeFencedFence:N,codeFencedFenceInfo:x,codeFencedFenceMeta:D,codeFlowValue:G,codeIndented:p(U),codeText:p(kt),codeTextData:G,data:G,definition:p(),definitionDestinationString:dt,definitionLabelString:X,definitionTitleString:W,emphasis:p(),hardBreakEscape:p(q),hardBreakTrailing:p(q),htmlFlow:p(B),htmlFlowData:G,htmlText:p(At),htmlTextData:G,image:p(gt),label:Ht,labelText:pt,lineEnding:F,link:p(st),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:Ct,resourceDestinationString:R,resourceTitleString:ht,resource:bt,setextHeading:p(M),setextHeadingLineSequence:j,setextHeadingText:Q,strong:p(),thematicBreak:p()}};DR(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(ut){let vt={type:"root",children:[]};const Vt={stack:[vt],tokenStack:[],config:t,enter:d,exit:m,buffer:c,resume:v,data:n},jt=[];let ge=-1;for(;++ge<ut.length;)if(ut[ge][1].type==="listOrdered"||ut[ge][1].type==="listUnordered")if(ut[ge][0]==="enter")jt.push(ge);else{const Un=jt.pop();ge=s(ut,Un,ge)}for(ge=-1;++ge<ut.length;){const Un=t[ut[ge][0]];kR.call(Un,ut[ge][1].type)&&Un[ut[ge][1].type].call(Object.assign({sliceSerialize:ut[ge][2].sliceSerialize},Vt),ut[ge][1])}if(Vt.tokenStack.length>0){const Un=Vt.tokenStack[Vt.tokenStack.length-1];(Un[1]||uS).call(Vt,void 0,Un[0])}for(vt.position={start:Co(ut.length>0?ut[0][1].start:{line:1,column:1,offset:0}),end:Co(ut.length>0?ut[ut.length-2][1].end:{line:1,column:1,offset:0})},ge=-1;++ge<t.transforms.length;)vt=t.transforms[ge](vt)||vt;return vt}function s(ut,vt,Vt){let jt=vt-1,ge=-1,Un=!1,Wn,yn,Yn,_n;for(;++jt<=Vt;){const nn=ut[jt];switch(nn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{nn[0]==="enter"?ge++:ge--,_n=void 0;break}case"lineEndingBlank":{nn[0]==="enter"&&(Wn&&!_n&&!ge&&!Yn&&(Yn=jt),_n=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_n=void 0}if(!ge&&nn[0]==="enter"&&nn[1].type==="listItemPrefix"||ge===-1&&nn[0]==="exit"&&(nn[1].type==="listUnordered"||nn[1].type==="listOrdered")){if(Wn){let vn=jt;for(yn=void 0;vn--;){const Xn=ut[vn];if(Xn[1].type==="lineEnding"||Xn[1].type==="lineEndingBlank"){if(Xn[0]==="exit")continue;yn&&(ut[yn][1].type="lineEndingBlank",Un=!0),Xn[1].type="lineEnding",yn=vn}else if(!(Xn[1].type==="linePrefix"||Xn[1].type==="blockQuotePrefix"||Xn[1].type==="blockQuotePrefixWhitespace"||Xn[1].type==="blockQuoteMarker"||Xn[1].type==="listItemIndent"))break}Yn&&(!yn||Yn<yn)&&(Wn._spread=!0),Wn.end=Object.assign({},yn?ut[yn][1].start:nn[1].end),ut.splice(yn||jt,0,["exit",Wn,nn[2]]),jt++,Vt++}if(nn[1].type==="listItemPrefix"){const vn={type:"listItem",_spread:!1,start:Object.assign({},nn[1].start),end:void 0};Wn=vn,ut.splice(jt,0,["enter",vn,nn[2]]),jt++,Vt++,Yn=void 0,_n=!0}}}return ut[vt][1]._spread=Un,Vt}function l(ut,vt){return Vt;function Vt(jt){d.call(this,ut(jt),jt),vt&&vt.call(this,jt)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(ut,vt,Vt){this.stack[this.stack.length-1].children.push(ut),this.stack.push(ut),this.tokenStack.push([vt,Vt||void 0]),ut.position={start:Co(vt.start),end:void 0}}function p(ut){return vt;function vt(Vt){ut&&ut.call(this,Vt),m.call(this,Vt)}}function m(ut,vt){const Vt=this.stack.pop(),jt=this.tokenStack.pop();if(jt)jt[0].type!==ut.type&&(vt?vt.call(this,ut,jt[0]):(jt[1]||uS).call(this,ut,jt[0]));else throw new Error("Cannot close `"+ut.type+"` ("+Fh({start:ut.start,end:ut.end})+"): it’s not open");Vt.position.end=Co(ut.end)}function v(){return J4(this.stack.pop())}function w(){this.data.expectingFirstListItemValue=!0}function b(ut){if(this.data.expectingFirstListItemValue){const vt=this.stack[this.stack.length-2];vt.start=Number.parseInt(this.sliceSerialize(ut),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.lang=ut}function D(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.meta=ut}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function H(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.value=ut.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function U(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.value=ut.replace(/(\r?\n|\r)$/g,"")}function X(ut){const vt=this.resume(),Vt=this.stack[this.stack.length-1];Vt.label=vt,Vt.identifier=ec(this.sliceSerialize(ut)).toLowerCase()}function W(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.title=ut}function dt(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.url=ut}function ct(ut){const vt=this.stack[this.stack.length-1];if(!vt.depth){const Vt=this.sliceSerialize(ut).length;vt.depth=Vt}}function Q(){this.data.setextHeadingSlurpLineEnding=!0}function j(ut){const vt=this.stack[this.stack.length-1];vt.depth=this.sliceSerialize(ut).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function z(ut){const Vt=this.stack[this.stack.length-1].children;let jt=Vt[Vt.length-1];(!jt||jt.type!=="text")&&(jt=Qs(),jt.position={start:Co(ut.start),end:void 0},Vt.push(jt)),this.stack.push(jt)}function G(ut){const vt=this.stack.pop();vt.value+=this.sliceSerialize(ut),vt.position.end=Co(ut.end)}function F(ut){const vt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Vt=vt.children[vt.children.length-1];Vt.position.end=Co(ut.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(vt.type)&&(z.call(this,ut),G.call(this,ut))}function q(){this.data.atHardBreak=!0}function B(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.value=ut}function At(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.value=ut}function kt(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.value=ut}function st(){const ut=this.stack[this.stack.length-1];if(this.data.inReference){const vt=this.data.referenceType||"shortcut";ut.type+="Reference",ut.referenceType=vt,delete ut.url,delete ut.title}else delete ut.identifier,delete ut.label;this.data.referenceType=void 0}function gt(){const ut=this.stack[this.stack.length-1];if(this.data.inReference){const vt=this.data.referenceType||"shortcut";ut.type+="Reference",ut.referenceType=vt,delete ut.url,delete ut.title}else delete ut.identifier,delete ut.label;this.data.referenceType=void 0}function pt(ut){const vt=this.sliceSerialize(ut),Vt=this.stack[this.stack.length-2];Vt.label=Q3(vt),Vt.identifier=ec(vt).toLowerCase()}function Ht(){const ut=this.stack[this.stack.length-1],vt=this.resume(),Vt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Vt.type==="link"){const jt=ut.children;Vt.children=jt}else Vt.alt=vt}function R(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.url=ut}function ht(){const ut=this.resume(),vt=this.stack[this.stack.length-1];vt.title=ut}function bt(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function Ct(ut){const vt=this.resume(),Vt=this.stack[this.stack.length-1];Vt.label=vt,Vt.identifier=ec(this.sliceSerialize(ut)).toLowerCase(),this.data.referenceType="full"}function It(ut){this.data.characterReferenceType=ut.type}function St(ut){const vt=this.sliceSerialize(ut),Vt=this.data.characterReferenceType;let jt;Vt?(jt=wR(vt,Vt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):jt=u0(vt);const ge=this.stack[this.stack.length-1];ge.value+=jt}function ye(ut){const vt=this.stack.pop();vt.position.end=Co(ut.end)}function ee(ut){G.call(this,ut);const vt=this.stack[this.stack.length-1];vt.url=this.sliceSerialize(ut)}function gn(ut){G.call(this,ut);const vt=this.stack[this.stack.length-1];vt.url="mailto:"+this.sliceSerialize(ut)}function Pn(){return{type:"blockquote",children:[]}}function zn(){return{type:"code",lang:null,meta:null,value:""}}function wi(){return{type:"inlineCode",value:""}}function qi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function jr(){return{type:"emphasis",children:[]}}function Fr(){return{type:"heading",depth:0,children:[]}}function ds(){return{type:"break"}}function kn(){return{type:"html",value:""}}function ps(){return{type:"image",title:null,url:"",alt:null}}function ms(){return{type:"link",title:null,url:"",children:[]}}function pr(ut){return{type:"list",ordered:ut.type==="listOrdered",start:null,spread:ut._spread,children:[]}}function Gi(ut){return{type:"listItem",spread:ut._spread,checked:null,children:[]}}function Ma(){return{type:"paragraph",children:[]}}function Hr(){return{type:"strong",children:[]}}function Qs(){return{type:"text",value:""}}function La(){return{type:"thematicBreak"}}}function Co(e){return{line:e.line,column:e.column,offset:e.offset}}function DR(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?DR(e,i):nU(e,i)}}function nU(e,t){let n;for(n in t)if(kR.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function uS(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Fh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Fh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Fh({start:t.start,end:t.end})+") is still open")}function iU(e){const t=this;t.parser=n;function n(i){return tU(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function rU(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function sU(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function aU(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function oU(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lU(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uU(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),s=Sc(i.toLowerCase()),l=e.footnoteOrder.indexOf(i);let c,d=e.footnoteCounts.get(i);d===void 0?(d=0,e.footnoteOrder.push(i),c=e.footnoteOrder.length):c=l+1,d+=1,e.footnoteCounts.set(i,d);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,m),e.applyData(t,m)}function cU(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hU(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function MR(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const s=e.all(t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const c=s[s.length-1];return c&&c.type==="text"?c.value+=i:s.push({type:"text",value:i}),s}function fU(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return MR(e,t);const s={src:Sc(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const l={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,l),e.applyData(t,l)}function dU(e,t){const n={src:Sc(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function pU(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function mU(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return MR(e,t);const s={href:Sc(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const l={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function gU(e,t){const n={href:Sc(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function yU(e,t,n){const i=e.all(t),s=n?_U(n):LR(t),l={},c=[];if(typeof t.checked=="boolean"){const v=i[0];let w;v&&v.type==="element"&&v.tagName==="p"?w=v:(w={type:"element",tagName:"p",properties:{},children:[]},i.unshift(w)),w.children.length>0&&w.children.unshift({type:"text",value:" "}),w.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let d=-1;for(;++d<i.length;){const v=i[d];(s||d!==0||v.type!=="element"||v.tagName!=="p")&&c.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!s?c.push(...v.children):c.push(v)}const p=i[i.length-1];p&&(s||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return e.patch(t,m),e.applyData(t,m)}function _U(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=LR(n[i])}return t}function LR(e){const t=e.spread;return t??e.children.length>1}function vU(e,t){const n={},i=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const c=i[s];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function TU(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wU(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function EU(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bU(e,t){const n=e.all(t),i=n.shift(),s=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],c),s.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},d=s0(t.children[1]),p=pR(t.children[t.children.length-1]);d&&p&&(c.position={start:d,end:p}),s.push(c)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,l),e.applyData(t,l)}function SU(e,t,n){const i=n?n.children:void 0,l=(i?i.indexOf(t):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,d=c?c.length:t.children.length;let p=-1;const m=[];for(;++p<d;){const w=t.children[p],b={},x=c?c[p]:void 0;x&&(b.align=x);let D={type:"element",tagName:l,properties:b,children:[]};w&&(D.children=e.all(w),e.patch(w,D),D=e.applyData(w,D)),m.push(D)}const v={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,v),e.applyData(t,v)}function xU(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const cS=9,hS=32;function AU(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const l=[];for(;i;)l.push(fS(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return l.push(fS(t.slice(s),s>0,!1)),l.join("")}function fS(e,t,n){let i=0,s=e.length;if(t){let l=e.codePointAt(i);for(;l===cS||l===hS;)i++,l=e.codePointAt(i)}if(n){let l=e.codePointAt(s-1);for(;l===cS||l===hS;)s--,l=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function CU(e,t){const n={type:"text",value:AU(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function RU(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const IU={blockquote:rU,break:sU,code:aU,delete:oU,emphasis:lU,footnoteReference:uU,heading:cU,html:hU,imageReference:fU,image:dU,inlineCode:pU,linkReference:mU,link:gU,listItem:yU,list:vU,paragraph:TU,root:wU,strong:EU,table:bU,tableCell:xU,tableRow:SU,text:CU,thematicBreak:RU,toml:Gd,yaml:Gd,definition:Gd,footnoteDefinition:Gd};function Gd(){}const OR=-1,sm=0,qh=1,Ip=2,f0=3,d0=4,p0=5,m0=6,NR=7,VR=8,dS=typeof self=="object"?self:globalThis,PU=(e,t)=>{const n=(s,l)=>(e.set(l,s),s),i=s=>{if(e.has(s))return e.get(s);const[l,c]=t[s];switch(l){case sm:case OR:return n(c,s);case qh:{const d=n([],s);for(const p of c)d.push(i(p));return d}case Ip:{const d=n({},s);for(const[p,m]of c)d[i(p)]=i(m);return d}case f0:return n(new Date(c),s);case d0:{const{source:d,flags:p}=c;return n(new RegExp(d,p),s)}case p0:{const d=n(new Map,s);for(const[p,m]of c)d.set(i(p),i(m));return d}case m0:{const d=n(new Set,s);for(const p of c)d.add(i(p));return d}case NR:{const{name:d,message:p}=c;return n(new dS[d](p),s)}case VR:return n(BigInt(c),s);case"BigInt":return n(Object(BigInt(c)),s);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return n(new DataView(d),c)}}return n(new dS[l](c),s)};return i},pS=e=>PU(new Map,e)(0),ju="",{toString:kU}={},{keys:DU}=Object,Ch=e=>{const t=typeof e;if(t!=="object"||!e)return[sm,t];const n=kU.call(e).slice(8,-1);switch(n){case"Array":return[qh,ju];case"Object":return[Ip,ju];case"Date":return[f0,ju];case"RegExp":return[d0,ju];case"Map":return[p0,ju];case"Set":return[m0,ju];case"DataView":return[qh,n]}return n.includes("Array")?[qh,n]:n.includes("Error")?[NR,n]:[Ip,n]},Zd=([e,t])=>e===sm&&(t==="function"||t==="symbol"),MU=(e,t,n,i)=>{const s=(c,d)=>{const p=i.push(c)-1;return n.set(d,p),p},l=c=>{if(n.has(c))return n.get(c);let[d,p]=Ch(c);switch(d){case sm:{let v=c;switch(p){case"bigint":d=VR,v=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);v=null;break;case"undefined":return s([OR],c)}return s([d,v],c)}case qh:{if(p){let b=c;return p==="DataView"?b=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(b=new Uint8Array(c)),s([p,[...b]],c)}const v=[],w=s([d,v],c);for(const b of c)v.push(l(b));return w}case Ip:{if(p)switch(p){case"BigInt":return s([p,c.toString()],c);case"Boolean":case"Number":case"String":return s([p,c.valueOf()],c)}if(t&&"toJSON"in c)return l(c.toJSON());const v=[],w=s([d,v],c);for(const b of DU(c))(e||!Zd(Ch(c[b])))&&v.push([l(b),l(c[b])]);return w}case f0:return s([d,c.toISOString()],c);case d0:{const{source:v,flags:w}=c;return s([d,{source:v,flags:w}],c)}case p0:{const v=[],w=s([d,v],c);for(const[b,x]of c)(e||!(Zd(Ch(b))||Zd(Ch(x))))&&v.push([l(b),l(x)]);return w}case m0:{const v=[],w=s([d,v],c);for(const b of c)(e||!Zd(Ch(b)))&&v.push(l(b));return w}}const{message:m}=c;return s([d,{name:p,message:m}],c)};return l},mS=(e,{json:t,lossy:n}={})=>{const i=[];return MU(!(t||n),!!t,new Map,i)(e),i},Pp=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?pS(mS(e,t)):structuredClone(e):(e,t)=>pS(mS(e,t));function LU(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function OU(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function NU(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||LU,i=e.options.footnoteBackLabel||OU,s=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let p=-1;for(;++p<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[p]);if(!m)continue;const v=e.all(m),w=String(m.identifier).toUpperCase(),b=Sc(w.toLowerCase());let x=0;const D=[],N=e.footnoteCounts.get(w);for(;N!==void 0&&++x<=N;){D.length>0&&D.push({type:"text",value:" "});let X=typeof n=="string"?n:n(p,x);typeof X=="string"&&(X={type:"text",value:X}),D.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,x),className:["data-footnote-backref"]},children:Array.isArray(X)?X:[X]})}const H=v[v.length-1];if(H&&H.type==="element"&&H.tagName==="p"){const X=H.children[H.children.length-1];X&&X.type==="text"?X.value+=" ":H.children.push({type:"text",value:" "}),H.children.push(...D)}else v.push(...D);const U={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:e.wrap(v,!0)};e.patch(m,U),d.push(U)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Pp(c),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const zR=(function(e){if(e==null)return BU;if(typeof e=="function")return am(e);if(typeof e=="object")return Array.isArray(e)?VU(e):zU(e);if(typeof e=="string")return UU(e);throw new Error("Expected function, string, or object as test")});function VU(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=zR(e[n]);return am(i);function i(...s){let l=-1;for(;++l<t.length;)if(t[l].apply(this,s))return!0;return!1}}function zU(e){const t=e;return am(n);function n(i){const s=i;let l;for(l in e)if(s[l]!==t[l])return!1;return!0}}function UU(e){return am(t);function t(n){return n&&n.type===e}}function am(e){return t;function t(n,i,s){return!!(jU(n)&&e.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function BU(){return!0}function jU(e){return e!==null&&typeof e=="object"&&"type"in e}const UR=[],FU=!0,gS=!1,HU="skip";function qU(e,t,n,i){let s;typeof t=="function"&&typeof n!="function"?(i=n,n=t):s=t;const l=zR(s),c=i?-1:1;d(e,void 0,[])();function d(p,m,v){const w=p&&typeof p=="object"?p:{};if(typeof w.type=="string"){const x=typeof w.tagName=="string"?w.tagName:typeof w.name=="string"?w.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(p.type+(x?"<"+x+">":""))+")"})}return b;function b(){let x=UR,D,N,H;if((!t||l(p,m,v[v.length-1]||void 0))&&(x=GU(n(p,v)),x[0]===gS))return x;if("children"in p&&p.children){const U=p;if(U.children&&x[0]!==HU)for(N=(i?U.children.length:-1)+c,H=v.concat(U);N>-1&&N<U.children.length;){const X=U.children[N];if(D=d(X,N,H)(),D[0]===gS)return D;N=typeof D[1]=="number"?D[1]:N+c}}return x}}}function GU(e){return Array.isArray(e)?e:typeof e=="number"?[FU,e]:e==null?UR:[e]}function BR(e,t,n,i){let s,l,c;typeof t=="function"&&typeof n!="function"?(l=void 0,c=t,s=n):(l=t,c=n,s=i),qU(e,l,d,s);function d(p,m){const v=m[m.length-1],w=v?v.children.indexOf(p):void 0;return c(p,w,v)}}const L_={}.hasOwnProperty,ZU={};function KU(e,t){const n=t||ZU,i=new Map,s=new Map,l=new Map,c={...IU,...n.handlers},d={all:m,applyData:WU,definitionById:i,footnoteById:s,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:n,patch:$U,wrap:XU};return BR(e,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const w=v.type==="definition"?i:s,b=String(v.identifier).toUpperCase();w.has(b)||w.set(b,v)}}),d;function p(v,w){const b=v.type,x=d.handlers[b];if(L_.call(d.handlers,b)&&x)return x(d,v,w);if(d.options.passThrough&&d.options.passThrough.includes(b)){if("children"in v){const{children:N,...H}=v,U=Pp(H);return U.children=d.all(v),U}return Pp(v)}return(d.options.unknownHandler||YU)(d,v,w)}function m(v){const w=[];if("children"in v){const b=v.children;let x=-1;for(;++x<b.length;){const D=d.one(b[x],v);if(D){if(x&&b[x-1].type==="break"&&(!Array.isArray(D)&&D.type==="text"&&(D.value=yS(D.value)),!Array.isArray(D)&&D.type==="element")){const N=D.children[0];N&&N.type==="text"&&(N.value=yS(N.value))}Array.isArray(D)?w.push(...D):w.push(D)}}}return w}}function $U(e,t){e.position&&(t.position=k4(e))}function WU(e,t){let n=t;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,l=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const c="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:c}}n.type==="element"&&l&&Object.assign(n.properties,Pp(l)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function YU(e,t){const n=t.data||{},i="value"in t&&!(L_.call(n,"hProperties")||L_.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function XU(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function yS(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function _S(e,t){const n=KU(e,t),i=n.one(e,void 0),s=NU(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&l.children.push({type:"text",value:`
`},s),l}function QU(e,t){return e&&"run"in e?async function(n,i){const s=_S(n,{file:i,...t});await e.run(s,i)}:function(n,i){return _S(n,{file:i,...e||t})}}function vS(e){if(e)throw e}var Oy,TS;function JU(){if(TS)return Oy;TS=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},l=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var v=e.call(m,"constructor"),w=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!v&&!w)return!1;var b;for(b in m);return typeof b>"u"||e.call(m,b)},c=function(m,v){n&&v.name==="__proto__"?n(m,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):m[v.name]=v.newValue},d=function(m,v){if(v==="__proto__")if(e.call(m,v)){if(i)return i(m,v).value}else return;return m[v]};return Oy=function p(){var m,v,w,b,x,D,N=arguments[0],H=1,U=arguments.length,X=!1;for(typeof N=="boolean"&&(X=N,N=arguments[1]||{},H=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});H<U;++H)if(m=arguments[H],m!=null)for(v in m)w=d(N,v),b=d(m,v),N!==b&&(X&&b&&(l(b)||(x=s(b)))?(x?(x=!1,D=w&&s(w)?w:[]):D=w&&l(w)?w:{},c(N,{name:v,newValue:p(X,D,b)})):typeof b<"u"&&c(N,{name:v,newValue:b}));return N},Oy}var tB=JU();const Ny=Yp(tB);function O_(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function eB(){const e=[],t={run:n,use:i};return t;function n(...s){let l=-1;const c=s.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...s);function d(p,...m){const v=e[++l];let w=-1;if(p){c(p);return}for(;++w<s.length;)(m[w]===null||m[w]===void 0)&&(m[w]=s[w]);s=m,v?nB(v,d)(...m):c(null,...m)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function nB(e,t){let n;return i;function i(...c){const d=e.length>c.length;let p;d&&c.push(s);try{p=e.apply(this,c)}catch(m){const v=m;if(d&&n)throw v;return s(v)}d||(p&&p.then&&typeof p.then=="function"?p.then(l,s):p instanceof Error?s(p):l(p))}function s(c,...d){n||(n=!0,t(c,...d))}function l(c){s(null,c)}}const Ls={basename:iB,dirname:rB,extname:sB,join:aB,sep:"/"};function iB(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Af(e);let n=0,i=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(l){n=s+1;break}}else i<0&&(l=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let c=-1,d=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(l){n=s+1;break}}else c<0&&(l=!0,c=s+1),d>-1&&(e.codePointAt(s)===t.codePointAt(d--)?d<0&&(i=s):(d=-1,i=c));return n===i?i=c:i<0&&(i=e.length),e.slice(n,i)}function rB(e){if(Af(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function sB(e){Af(e);let t=e.length,n=-1,i=0,s=-1,l=0,c;for(;t--;){const d=e.codePointAt(t);if(d===47){if(c){i=t+1;break}continue}n<0&&(c=!0,n=t+1),d===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function aB(...e){let t=-1,n;for(;++t<e.length;)Af(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":oB(n)}function oB(e){Af(e);const t=e.codePointAt(0)===47;let n=lB(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function lB(e,t){let n="",i=0,s=-1,l=0,c=-1,d,p;for(;++c<=e.length;){if(c<e.length)d=e.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(s===c-1||l===1))if(s!==c-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),s=c,l=0;continue}}else if(n.length>0){n="",i=0,s=c,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,c):n=e.slice(s+1,c),i=c-s-1;s=c,l=0}else d===46&&l>-1?l++:l=-1}return n}function Af(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const uB={cwd:cB};function cB(){return"/"}function N_(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function hB(e){if(typeof e=="string")e=new URL(e);else if(!N_(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return fB(e)}function fB(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Vy=["history","path","basename","stem","extname","dirname"];class jR{constructor(t){let n;t?N_(t)?n={path:t}:typeof t=="string"||dB(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":uB.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Vy.length;){const l=Vy[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)Vy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Ls.basename(this.path):void 0}set basename(t){Uy(t,"basename"),zy(t,"basename"),this.path=Ls.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ls.dirname(this.path):void 0}set dirname(t){wS(this.basename,"dirname"),this.path=Ls.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ls.extname(this.path):void 0}set extname(t){if(zy(t,"extname"),wS(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ls.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){N_(t)&&(t=hB(t)),Uy(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ls.basename(this.path,this.extname):void 0}set stem(t){Uy(t,"stem"),zy(t,"stem"),this.path=Ls.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=void 0,s}message(t,n,i){const s=new Ti(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function zy(e,t){if(e&&e.includes(Ls.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ls.sep+"`")}function Uy(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function wS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function dB(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const pB=(function(e){const i=this.constructor.prototype,s=i[e],l=function(){return s.apply(l,arguments)};return Object.setPrototypeOf(l,i),l}),mB={}.hasOwnProperty;class g0 extends pB{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=eB()}copy(){const t=new g0;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Ny(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Fy("data",this.frozen),this.namespace[t]=n,this):mB.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Fy("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(t,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Kd(t),i=this.parser||this.Parser;return By("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),By("process",this.parser||this.Parser),jy("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(l,c){const d=Kd(t),p=i.parse(d);i.run(p,d,function(v,w,b){if(v||!w||!b)return m(v);const x=w,D=i.stringify(x,b);_B(D)?b.value=D:b.result=D,m(v,b)});function m(v,w){v||!w?c(v):l?l(w):n(void 0,w)}}}processSync(t){let n=!1,i;return this.freeze(),By("processSync",this.parser||this.Parser),jy("processSync",this.compiler||this.Compiler),this.process(t,s),bS("processSync","process",n),i;function s(l,c){n=!0,vS(l),i=c}}run(t,n,i){ES(t),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(c,d){const p=Kd(n);s.run(t,p,m);function m(v,w,b){const x=w||t;v?d(v):c?c(x):i(void 0,x,b)}}}runSync(t,n){let i=!1,s;return this.run(t,n,l),bS("runSync","run",i),s;function l(c,d){vS(c),s=d,i=!0}}stringify(t,n){this.freeze();const i=Kd(n),s=this.compiler||this.Compiler;return jy("stringify",s),ES(t),s(t,i)}use(t,...n){const i=this.attachers,s=this.namespace;if(Fy("use",this.frozen),t!=null)if(typeof t=="function")p(t,n);else if(typeof t=="object")Array.isArray(t)?d(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[v,...w]=m;p(v,w)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(m.plugins),m.settings&&(s.settings=Ny(!0,s.settings,m.settings))}function d(m){let v=-1;if(m!=null)if(Array.isArray(m))for(;++v<m.length;){const w=m[v];l(w)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,v){let w=-1,b=-1;for(;++w<i.length;)if(i[w][0]===m){b=w;break}if(b===-1)i.push([m,...v]);else if(v.length>0){let[x,...D]=v;const N=i[b][1];O_(N)&&O_(x)&&(x=Ny(!0,N,x)),i[b]=[m,x,...D]}}}}const gB=new g0().freeze();function By(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function jy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fy(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ES(e){if(!O_(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function bS(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Kd(e){return yB(e)?e:new jR(e)}function yB(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function _B(e){return typeof e=="string"||vB(e)}function vB(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const TB="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",SS=[],xS={allowDangerousHtml:!0},wB=/^(https?|ircs?|mailto|xmpp)$/i,EB=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function bB(e){const t=SB(e),n=xB(e);return AB(t.runSync(t.parse(n),n),e)}function SB(e){const t=e.rehypePlugins||SS,n=e.remarkPlugins||SS,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...xS}:xS;return gB().use(iU).use(n).use(QU,i).use(t)}function xB(e){const t=e.children||"",n=new jR;return typeof t=="string"&&(n.value=t),n}function AB(e,t){const n=t.allowedElements,i=t.allowElement,s=t.components,l=t.disallowedElements,c=t.skipHtml,d=t.unwrapDisallowed,p=t.urlTransform||CB;for(const v of EB)Object.hasOwn(t,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+TB+v.id,void 0);return BR(e,m),N4(e,{Fragment:J.Fragment,components:s,ignoreInvalidStyle:!0,jsx:J.jsx,jsxs:J.jsxs,passKeys:!0,passNode:!0});function m(v,w,b){if(v.type==="raw"&&b&&typeof w=="number")return c?b.children.splice(w,1):b.children[w]={type:"text",value:v.value},w;if(v.type==="element"){let x;for(x in Dy)if(Object.hasOwn(Dy,x)&&Object.hasOwn(v.properties,x)){const D=v.properties[x],N=Dy[x];(N===null||N.includes(v.tagName))&&(v.properties[x]=p(String(D||""),x,v))}}if(v.type==="element"){let x=n?!n.includes(v.tagName):l?l.includes(v.tagName):!1;if(!x&&i&&typeof w=="number"&&(x=!i(v,w,b)),x&&b&&typeof w=="number")return d&&v.children?b.children.splice(w,1,...v.children):b.children.splice(w,1),w}}}function CB(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||i!==-1&&t>i||wB.test(e.slice(0,t))?e:""}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IB=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),AS=e=>{const t=IB(e);return t.charAt(0).toUpperCase()+t.slice(1)},FR=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),PB=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=$.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:c,...d},p)=>$.createElement("svg",{ref:p,...kB,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:FR("lucide",s),...!l&&!PB(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,v])=>$.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=(e,t)=>{const n=$.forwardRef(({className:i,...s},l)=>$.createElement(DB,{ref:l,iconNode:t,className:FR(`lucide-${RB(AS(e))}`,`lucide-${e}`,i),...s}));return n.displayName=AS(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],HR=Vn("book-open",MB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hp=Vn("calendar",LB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],NB=Vn("clock",OB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],zB=Vn("heart",VB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],BB=Vn("house",UB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],FB=Vn("image",jB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],y0=Vn("loader",HB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],GB=Vn("lock",qB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],KB=Vn("log-in",ZB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WB=Vn("log-out",$B);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],XB=Vn("mail-open",YB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],JB=Vn("mail",QB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],e6=Vn("map-pin",t6);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],i6=Vn("send",n6);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],s6=Vn("square-pen",r6);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],o6=Vn("trash-2",a6);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],u6=Vn("triangle-alert",l6);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],h6=Vn("video",c6);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],d6=Vn("x",f6),p6=`Hey du,\r
\r
wenn du das hier liest, bin ich wahrscheinlich gerade irgendwo in Südfrankreich, Luxemburg, noch in Deutschland oder vielleicht sogar gerade erst losgefahren. Wahrscheinlich sitze ich im Auto mit Papa, gucke aus dem Fenster und vermisse dich jetzt schon ein bisschen zu viel.\r
\r
In Porto zu wohnen – klingt irgendwie traumhaft, oder? Aber ehrlich gesagt fühlt es sich nicht wirklich so an. Noch realisiere ich gar nicht, was das eigentlich bedeutet. Jeden Tag habe ich mehr Angst und vermisse alles immer mehr. Mit meinem phänomenalen Wortschatz von 2 Wörtern Portugiesisch und meinem nicht vorhandenen Englisch (C1, du nicht duh) werde ich bestimmt keine Probleme haben :)\r
\r
Gerade ist alles stressig, ich versuche Uni-Kram und alles andere irgendwie fertig zu bekommen und habe dabei ständig dich im Kopf (Und natürlich Oscar). Ich werde euch beide sehr vermissen.\r
\r
Ich weiß, dass du bald dein Studium anfängst. Ich hätte dich so gern dabei begleitet, dich in der Uni herumgeführt, vielleicht zusammen eine Pizza mit dir essen, aber ich bin dann leider 1863 Kilometer weit weg. Aber ich verspreche dir: Ich denke an dich. Jeden Tag. In den kleinen Momenten. Wenn ich meinen trockenen Toast esse, der niemals an die Crepes von deiner Mama rankommt. Oder wenn ich daran denke, wie wir zusammen bei dir lagen und Oscar versucht hat, uns mit seinem Autismus wegzuignorieren.\r
\r
Ich bin gespannt, wie gut Mara und Bona Deutsch sprechen, wenn ich zurückkomme. Vielleicht können wir dann schon richtige Gespräche führen?\r
\r
Wir sind jetzt, wenn du das liest, seit **1 Jahr, 5 Monaten und 7 Tagen** zusammen. **524 Tage**. Und mittlerweile kenne ich dich besser, als jeden Menschen, den ich jemals kannte. Erst so kurz, obwohl wir schon so viel gemacht haben, so viel zusammen erlebt, so viel zusammen gelacht, geweint. Ich glaube, ich habe noch nie jemanden so vermisst, bevor ich überhaupt weg war.\r
\r
Wenn du mal einen schlechten Tag hast, dann denk bitte daran, dass du unfassbar stark bist. Guck doch mal, was du schon alles erlebt hast und trotzdem noch weitermachst. Und denk daran, dass du der liebevollste, schönste, süßeste Mensch bist, den ich kenne.\r
\r
Wenn du mich brauchst – ruf mich an. Wenn du weinst – schreib mir. Wenn du lachst – erzähl mir warum. Und wenn ich in Porto bin – dann nehme ich dich mit meinem Handy mit. Wir können zusammen die Stadt erkunden und zusammen die Sonnenuntergänge anschauen. Ich freu mich schon so sehr darauf, dir das alles zu zeigen, auch wenn du dich da sowieso besser auskennst als ich.\r
\r
Ich liebe dich.\r
\r
Und ich bin sehr, sehr froh, dass du in meinem Leben bist.\r
`,m6="",g6="",y6="",_6="",v6="",T6="",V_=new Date(2025,7,14,9,0,0),qR=new Date(2025,11,24,12,0,0),CS=new Date(2026,0,31,18,0,0),w6=[{id:1,title:"Loveletter #1 - Die Abfahrt",unlock:V_,alwaysOpen:!0,teaser:"Der erste Tag ohne dich. Die Reise hat begonnen...",content:p6},{id:2,title:"Loveletter #2 - Erste Eindrücke",unlock:new Date(2025,7,21,18,0,0),alwaysOpen:!1,teaser:"Eine kleine Nachricht aus der neuen Welt.",content:m6},{id:3,title:"Loveletter #3 - Ein ganz normaler Septembertag",unlock:new Date(2025,8,15,12,0,0),alwaysOpen:!1,teaser:"Gedanken, die nur dir gehören.",content:g6},{id:4,title:"Loveletter #4 - Alles Liebe zum Geburtstag!",unlock:new Date(2025,9,2,0,0,1),alwaysOpen:!1,teaser:"Für dich an deinem wichtigsten Tag.",content:y6},{id:5,title:"Loveletter #5 - Für dich",unlock:new Date(2025,10,10,0,0,1),alwaysOpen:!1,teaser:"Weil heute dein Tag ist...",content:_6},{id:6,title:"Loveletter #6 - Halbzeit",unlock:new Date(2025,10,25,20,0,0),alwaysOpen:!1,teaser:"Mehr als die Hälfte ist geschafft...",content:v6},{id:7,title:"Loveletter #7 - Frohe Weihnachten",unlock:qR,alwaysOpen:!1,teaser:"Fast geschafft. Ich bin auf dem Weg.",content:T6}];function z_(e){if(e<=0)return"Zeit ist um!";const t=Math.floor(e/1e3)%60,n=Math.floor(e/(1e3*60))%60,i=Math.floor(e/(1e3*60*60))%24;return`${Math.floor(e/(1e3*60*60*24))}d ${i}h ${n}m ${t}s`}function E6({letter:e,now:t,onOpen:n}){const i=e.alwaysOpen||t>=e.unlock.getTime(),s=e.unlock.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});return J.jsxs(Nr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative bg-amber-50 rounded-lg shadow-lg border border-amber-200 p-6 flex flex-col font-mono",style:{fontFamily:"'Special Elite', monospace"},children:[J.jsx("div",{className:"absolute top-4 right-4 w-12 h-12 bg-pink-100/50 border-2 border-dashed border-pink-200 flex items-center justify-center transform -rotate-12",children:J.jsx(zB,{className:"text-pink-400",size:24})}),J.jsx("h3",{className:`text-xl font-bold text-gray-800 transition-all duration-500 ${i?"":"blur-sm select-none"}`,children:e.title}),J.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-dashed border-amber-200 grid grid-cols-2 gap-4 text-sm",children:[J.jsxs("div",{children:[J.jsx("p",{className:"font-bold text-gray-500",children:"DATUM"}),J.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[J.jsx(hp,{size:16,className:"text-gray-500"}),J.jsx("span",{className:"text-gray-700",children:s})]})]}),J.jsxs("div",{children:[J.jsx("p",{className:"font-bold text-gray-500",children:"TIMER"}),J.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[J.jsx(NB,{size:16,className:"text-gray-500"}),J.jsx("span",{className:`font-semibold ${i?"text-green-600":"text-red-700"}`,children:i?"Freigeschaltet":z_(e.unlock-t)})]})]})]}),J.jsx("div",{className:"mt-6 flex justify-center",children:J.jsx(Kv,{mode:"wait",children:i?J.jsxs(Nr.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},onClick:()=>n(e),className:"flex items-center gap-2 px-6 py-2 bg-pink-600 text-white font-bold rounded-full shadow-md hover:bg-pink-700 transition-transform transform active:scale-95",children:[J.jsx(XB,{size:18})," Öffnen"]},"open"):J.jsxs(Nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-6 py-2 bg-red-800/10 text-red-800 font-bold rounded-full border border-red-800/20",children:[J.jsx(GB,{size:16})," Versiegelt"]},"sealed")})})]})}function b6(){const[e,t]=$.useState(Date.now()),[n,i]=$.useState(null);$.useEffect(()=>{const c=setInterval(()=>t(Date.now()),1e3);return()=>clearInterval(c)},[]);const s=c=>{(c.alwaysOpen||e>=c.unlock.getTime())&&i(c)},l=Math.max(0,Math.min(100,Math.round((e-V_.getTime())/(CS.getTime()-V_.getTime())*100)));return J.jsxs("div",{className:"w-full max-w-xl",children:[J.jsxs("header",{className:"w-full mb-8",children:[J.jsxs(Nr.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-between items-center mb-4",children:[J.jsxs("div",{className:"flex gap-3 items-center",children:[J.jsx(JB,{className:"text-pink-600",size:28}),J.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-gray-800",style:{fontFamily:"'Nunito', sans-serif"},children:"Loveletter Portal 💌"})]}),J.jsx("div",{className:"text-xs text-gray-500 font-medium",style:{fontFamily:"'Nunito', sans-serif"},children:new Date(e).toLocaleDateString()})]}),J.jsx(Nr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"bg-white/80 rounded-2xl p-4 shadow-lg",children:J.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center text-sm",style:{fontFamily:"'Nunito', sans-serif"},children:[J.jsxs("div",{children:[J.jsx(hp,{className:"mx-auto text-pink-500"}),J.jsx("p",{children:"Start"}),J.jsx("p",{className:"font-bold",children:"14.08.25"})]}),J.jsxs("div",{children:[J.jsx(hp,{className:"mx-auto text-green-500"}),J.jsx("p",{children:"Weihnachten"}),J.jsx("p",{className:"font-bold",children:"24.12.25"}),J.jsx("p",{className:"text-xs text-gray-600",children:z_(qR-e)})]}),J.jsxs("div",{children:[J.jsx(hp,{className:"mx-auto text-purple-500"}),J.jsx("p",{children:"Rückkehr"}),J.jsx("p",{className:"font-bold",children:"31.01.26"}),J.jsx("p",{className:"text-xs text-gray-600",children:z_(CS-e)})]})]})}),J.jsxs(Nr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"mt-4 bg-white/80 p-3 rounded-xl shadow-lg flex justify-between items-center",style:{fontFamily:"'Nunito', sans-serif"},children:[J.jsx("span",{className:"text-sm font-medium",children:"Fortschritt"}),J.jsx("div",{className:"w-2/3 bg-gray-200 rounded-full h-2.5 overflow-hidden",children:J.jsx(Nr.div,{className:"h-full bg-gradient-to-r from-pink-500 to-purple-500 rounded-full",initial:{width:0},animate:{width:`${l}%`},transition:{duration:1.5,ease:"easeInOut"}})}),J.jsxs("span",{className:"text-sm font-bold",children:[l,"%"]})]})]}),J.jsx("main",{className:"w-full grid gap-6",children:w6.map(c=>J.jsx(E6,{letter:c,now:e,onOpen:s},c.id))}),J.jsx(Kv,{children:n&&J.jsx(Nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50",onClick:()=>i(null),children:J.jsxs(Nr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-paper-texture bg-amber-50 rounded-lg shadow-2xl w-full max-w-2xl flex flex-col max-h-[90vh]",style:{fontFamily:"'Caveat', cursive"},onClick:c=>c.stopPropagation(),children:[J.jsxs("div",{className:"flex-shrink-0 p-6 border-b border-amber-200/50 shadow-sm flex justify-between items-start",children:[J.jsx("h2",{className:"font-bold text-4xl text-gray-800",children:n.title}),J.jsx("button",{onClick:()=>i(null),className:"text-pink-600 font-semibold text-lg hover:text-pink-800 transition",children:"Schließen"})]}),J.jsx("div",{className:"flex-grow p-6 sm:p-8 overflow-y-auto",children:J.jsx("div",{className:"prose prose-xl prose-p:text-gray-700 prose-p:leading-relaxed",children:J.jsx(bB,{children:n.content})})})]})})})]})}const S6="modulepreload",x6=function(e){return"/loveletter/"+e},RS={},Hy=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");s=m(n.map(v=>{if(v=x6(v),v in RS)return;RS[v]=!0;const w=v.endsWith(".css"),b=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${b}`))return;const x=document.createElement("link");if(x.rel=w?"stylesheet":S6,w||(x.as="script"),x.crossOrigin="",x.href=v,p&&x.setAttribute("nonce",p),document.head.appendChild(x),w)return new Promise((D,N)=>{x.addEventListener("load",D),x.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return s.then(d=>{for(const p of d||[])p.status==="rejected"&&l(p.reason);return t().catch(l)})};function GR(e,t){const n=$.useRef(t);$.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const A6=1;function C6(e){return Object.freeze({__version:A6,map:e})}function R6(e,t){return Object.freeze({...e,...t})}const _0=$.createContext(null);function v0(){const e=$.use(_0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function I6(e){function t(n,i){const{instance:s,context:l}=e(n).current;$.useImperativeHandle(i,()=>s);const{children:c}=n;return c==null?null:Ep.createElement(_0,{value:l},c)}return $.forwardRef(t)}function P6(e){function t(n,i){const[s,l]=$.useState(!1),{instance:c}=e(n,l).current;$.useImperativeHandle(i,()=>c),$.useEffect(function(){s&&c.update()},[c,s,n.children]);const d=c._contentNode;return d?IM.createPortal(n.children,d):null}return $.forwardRef(t)}function k6(e){function t(n,i){const{instance:s}=e(n).current;return $.useImperativeHandle(i,()=>s),null}return $.forwardRef(t)}function ZR(e,t){const n=$.useRef(void 0);$.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function T0(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function D6(e,t){return function(i,s){const l=v0(),c=e(T0(i,l),l);return GR(l.map,i.attribution),ZR(c.current,i.eventHandlers),t(c.current,l,i,s),c}}var Ph={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var M6=Ph.exports,IS;function L6(){return IS||(IS=1,(function(e,t){(function(n,i){i(t)})(M6,(function(n){var i="1.9.4";function s(o){var h,y,E,A;for(y=1,E=arguments.length;y<E;y++){A=arguments[y];for(h in A)o[h]=A[h]}return o}var l=Object.create||(function(){function o(){}return function(h){return o.prototype=h,new o}})();function c(o,h){var y=Array.prototype.slice;if(o.bind)return o.bind.apply(o,y.call(arguments,1));var E=y.call(arguments,2);return function(){return o.apply(h,E.length?E.concat(y.call(arguments)):arguments)}}var d=0;function p(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function m(o,h,y){var E,A,P,Z;return Z=function(){E=!1,A&&(P.apply(y,A),A=!1)},P=function(){E?A=arguments:(o.apply(y,arguments),setTimeout(Z,h),E=!0)},P}function v(o,h,y){var E=h[1],A=h[0],P=E-A;return o===E&&y?o:((o-A)%P+P)%P+A}function w(){return!1}function b(o,h){if(h===!1)return o;var y=Math.pow(10,h===void 0?6:h);return Math.round(o*y)/y}function x(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function D(o){return x(o).split(/\s+/)}function N(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var y in h)o.options[y]=h[y];return o.options}function H(o,h,y){var E=[];for(var A in o)E.push(encodeURIComponent(y?A.toUpperCase():A)+"="+encodeURIComponent(o[A]));return(!h||h.indexOf("?")===-1?"?":"&")+E.join("&")}var U=/\{ *([\w_ -]+) *\}/g;function X(o,h){return o.replace(U,function(y,E){var A=h[E];if(A===void 0)throw new Error("No value provided for variable "+y);return typeof A=="function"&&(A=A(h)),A})}var W=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function dt(o,h){for(var y=0;y<o.length;y++)if(o[y]===h)return y;return-1}var ct="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Q(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var j=0;function M(o){var h=+new Date,y=Math.max(0,16-(h-j));return j=h+y,window.setTimeout(o,y)}var z=window.requestAnimationFrame||Q("RequestAnimationFrame")||M,G=window.cancelAnimationFrame||Q("CancelAnimationFrame")||Q("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function F(o,h,y){if(y&&z===M)o.call(h);else return z.call(window,c(o,h))}function q(o){o&&G.call(window,o)}var B={__proto__:null,extend:s,create:l,bind:c,get lastId(){return d},stamp:p,throttle:m,wrapNum:v,falseFn:w,formatNum:b,trim:x,splitWords:D,setOptions:N,getParamString:H,template:X,isArray:W,indexOf:dt,emptyImageUrl:ct,requestFn:z,cancelFn:G,requestAnimFrame:F,cancelAnimFrame:q};function At(){}At.extend=function(o){var h=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=h.__super__=this.prototype,E=l(y);E.constructor=h,h.prototype=E;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(h[A]=this[A]);return o.statics&&s(h,o.statics),o.includes&&(kt(o.includes),s.apply(null,[E].concat(o.includes))),s(E,o),delete E.statics,delete E.includes,E.options&&(E.options=y.options?l(y.options):{},s(E.options,o.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,Z=E._initHooks.length;P<Z;P++)E._initHooks[P].call(this)}},h},At.include=function(o){var h=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},At.mergeOptions=function(o){return s(this.prototype.options,o),this},At.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),y=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function kt(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=W(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var st={on:function(o,h,y){if(typeof o=="object")for(var E in o)this._on(E,o[E],h);else{o=D(o);for(var A=0,P=o.length;A<P;A++)this._on(o[A],h,y)}return this},off:function(o,h,y){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var E in o)this._off(E,o[E],h);else{o=D(o);for(var A=arguments.length===1,P=0,Z=o.length;P<Z;P++)A?this._off(o[P]):this._off(o[P],h,y)}return this},_on:function(o,h,y,E){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,y)===!1){y===this&&(y=void 0);var A={fn:h,ctx:y};E&&(A.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(A)}},_off:function(o,h,y){var E,A,P;if(this._events&&(E=this._events[o],!!E)){if(arguments.length===1){if(this._firingCount)for(A=0,P=E.length;A<P;A++)E[A].fn=w;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var Z=this._listens(o,h,y);if(Z!==!1){var nt=E[Z];this._firingCount&&(nt.fn=w,this._events[o]=E=E.slice()),E.splice(Z,1)}}},fire:function(o,h,y){if(!this.listens(o,y))return this;var E=s({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var A=this._events[o];if(A){this._firingCount=this._firingCount+1||1;for(var P=0,Z=A.length;P<Z;P++){var nt=A[P],lt=nt.fn;nt.once&&this.off(o,lt,nt.ctx),lt.call(nt.ctx||this,E)}this._firingCount--}}return y&&this._propagateEvent(E),this},listens:function(o,h,y,E){typeof o!="string"&&console.warn('"string" type argument expected');var A=h;typeof h!="function"&&(E=!!h,A=void 0,y=void 0);var P=this._events&&this._events[o];if(P&&P.length&&this._listens(o,A,y)!==!1)return!0;if(E){for(var Z in this._eventParents)if(this._eventParents[Z].listens(o,h,y,E))return!0}return!1},_listens:function(o,h,y){if(!this._events)return!1;var E=this._events[o]||[];if(!h)return!!E.length;y===this&&(y=void 0);for(var A=0,P=E.length;A<P;A++)if(E[A].fn===h&&E[A].ctx===y)return A;return!1},once:function(o,h,y){if(typeof o=="object")for(var E in o)this._on(E,o[E],h,!0);else{o=D(o);for(var A=0,P=o.length;A<P;A++)this._on(o[A],h,y,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[p(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[p(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};st.addEventListener=st.on,st.removeEventListener=st.clearAllEventListeners=st.off,st.addOneTimeEventListener=st.once,st.fireEvent=st.fire,st.hasEventListeners=st.listens;var gt=At.extend(st);function pt(o,h,y){this.x=y?Math.round(o):o,this.y=y?Math.round(h):h}var Ht=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(o){return this.clone()._add(R(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(R(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new pt(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new pt(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ht(this.x),this.y=Ht(this.y),this},distanceTo:function(o){o=R(o);var h=o.x-this.x,y=o.y-this.y;return Math.sqrt(h*h+y*y)},equals:function(o){return o=R(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=R(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function R(o,h,y){return o instanceof pt?o:W(o)?new pt(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new pt(o.x,o.y):new pt(o,h,y)}function ht(o,h){if(o)for(var y=h?[o,h]:o,E=0,A=y.length;E<A;E++)this.extend(y[E])}ht.prototype={extend:function(o){var h,y;if(!o)return this;if(o instanceof pt||typeof o[0]=="number"||"x"in o)h=y=R(o);else if(o=bt(o),h=o.min,y=o.max,!h||!y)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=y.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(o){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,y;return typeof o[0]=="number"||o instanceof pt?o=R(o):o=bt(o),o instanceof ht?(h=o.min,y=o.max):h=y=o,h.x>=this.min.x&&y.x<=this.max.x&&h.y>=this.min.y&&y.y<=this.max.y},intersects:function(o){o=bt(o);var h=this.min,y=this.max,E=o.min,A=o.max,P=A.x>=h.x&&E.x<=y.x,Z=A.y>=h.y&&E.y<=y.y;return P&&Z},overlaps:function(o){o=bt(o);var h=this.min,y=this.max,E=o.min,A=o.max,P=A.x>h.x&&E.x<y.x,Z=A.y>h.y&&E.y<y.y;return P&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,y=this.max,E=Math.abs(h.x-y.x)*o,A=Math.abs(h.y-y.y)*o;return bt(R(h.x-E,h.y-A),R(y.x+E,y.y+A))},equals:function(o){return o?(o=bt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function bt(o,h){return!o||o instanceof ht?o:new ht(o,h)}function V(o,h){if(o)for(var y=h?[o,h]:o,E=0,A=y.length;E<A;E++)this.extend(y[E])}V.prototype={extend:function(o){var h=this._southWest,y=this._northEast,E,A;if(o instanceof It)E=o,A=o;else if(o instanceof V){if(E=o._southWest,A=o._northEast,!E||!A)return this}else return o?this.extend(St(o)||Ct(o)):this;return!h&&!y?(this._southWest=new It(E.lat,E.lng),this._northEast=new It(A.lat,A.lng)):(h.lat=Math.min(E.lat,h.lat),h.lng=Math.min(E.lng,h.lng),y.lat=Math.max(A.lat,y.lat),y.lng=Math.max(A.lng,y.lng)),this},pad:function(o){var h=this._southWest,y=this._northEast,E=Math.abs(h.lat-y.lat)*o,A=Math.abs(h.lng-y.lng)*o;return new V(new It(h.lat-E,h.lng-A),new It(y.lat+E,y.lng+A))},getCenter:function(){return new It((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new It(this.getNorth(),this.getWest())},getSouthEast:function(){return new It(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof It||"lat"in o?o=St(o):o=Ct(o);var h=this._southWest,y=this._northEast,E,A;return o instanceof V?(E=o.getSouthWest(),A=o.getNorthEast()):E=A=o,E.lat>=h.lat&&A.lat<=y.lat&&E.lng>=h.lng&&A.lng<=y.lng},intersects:function(o){o=Ct(o);var h=this._southWest,y=this._northEast,E=o.getSouthWest(),A=o.getNorthEast(),P=A.lat>=h.lat&&E.lat<=y.lat,Z=A.lng>=h.lng&&E.lng<=y.lng;return P&&Z},overlaps:function(o){o=Ct(o);var h=this._southWest,y=this._northEast,E=o.getSouthWest(),A=o.getNorthEast(),P=A.lat>h.lat&&E.lat<y.lat,Z=A.lng>h.lng&&E.lng<y.lng;return P&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Ct(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ct(o,h){return o instanceof V?o:new V(o,h)}function It(o,h,y){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,y!==void 0&&(this.alt=+y)}It.prototype={equals:function(o,h){if(!o)return!1;o=St(o);var y=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return y<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+b(this.lat,o)+", "+b(this.lng,o)+")"},distanceTo:function(o){return ee.distance(this,St(o))},wrap:function(){return ee.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,y=h/Math.cos(Math.PI/180*this.lat);return Ct([this.lat-h,this.lng-y],[this.lat+h,this.lng+y])},clone:function(){return new It(this.lat,this.lng,this.alt)}};function St(o,h,y){return o instanceof It?o:W(o)&&typeof o[0]!="object"?o.length===3?new It(o[0],o[1],o[2]):o.length===2?new It(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new It(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new It(o,h,y)}var ye={latLngToPoint:function(o,h){var y=this.projection.project(o),E=this.scale(h);return this.transformation._transform(y,E)},pointToLatLng:function(o,h){var y=this.scale(h),E=this.transformation.untransform(o,y);return this.projection.unproject(E)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,y=this.scale(o),E=this.transformation.transform(h.min,y),A=this.transformation.transform(h.max,y);return new ht(E,A)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?v(o.lng,this.wrapLng,!0):o.lng,y=this.wrapLat?v(o.lat,this.wrapLat,!0):o.lat,E=o.alt;return new It(y,h,E)},wrapLatLngBounds:function(o){var h=o.getCenter(),y=this.wrapLatLng(h),E=h.lat-y.lat,A=h.lng-y.lng;if(E===0&&A===0)return o;var P=o.getSouthWest(),Z=o.getNorthEast(),nt=new It(P.lat-E,P.lng-A),lt=new It(Z.lat-E,Z.lng-A);return new V(nt,lt)}},ee=s({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var y=Math.PI/180,E=o.lat*y,A=h.lat*y,P=Math.sin((h.lat-o.lat)*y/2),Z=Math.sin((h.lng-o.lng)*y/2),nt=P*P+Math.cos(E)*Math.cos(A)*Z*Z,lt=2*Math.atan2(Math.sqrt(nt),Math.sqrt(1-nt));return this.R*lt}}),gn=6378137,Pn={R:gn,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,y=this.MAX_LATITUDE,E=Math.max(Math.min(y,o.lat),-y),A=Math.sin(E*h);return new pt(this.R*o.lng*h,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(o){var h=180/Math.PI;return new It((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:(function(){var o=gn*Math.PI;return new ht([-o,-o],[o,o])})()};function zn(o,h,y,E){if(W(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=y,this._d=E}zn.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new pt((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function wi(o,h,y,E){return new zn(o,h,y,E)}var qi=s({},ee,{code:"EPSG:3857",projection:Pn,transformation:(function(){var o=.5/(Math.PI*Pn.R);return wi(o,.5,-o,.5)})()}),jr=s({},qi,{code:"EPSG:900913"});function Fr(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ds(o,h){var y="",E,A,P,Z,nt,lt;for(E=0,P=o.length;E<P;E++){for(nt=o[E],A=0,Z=nt.length;A<Z;A++)lt=nt[A],y+=(A?"L":"M")+lt.x+" "+lt.y;y+=h?zt.svg?"z":"x":""}return y||"M0 0"}var kn=document.documentElement.style,ps="ActiveXObject"in window,ms=ps&&!document.addEventListener,pr="msLaunchUri"in navigator&&!("documentMode"in document),Gi=li("webkit"),Ma=li("android"),Hr=li("android 2")||li("android 3"),Qs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),La=Ma&&li("Google")&&Qs<537&&!("AudioNode"in window),ut=!!window.opera,vt=!pr&&li("chrome"),Vt=li("gecko")&&!Gi&&!ut&&!ps,jt=!vt&&li("safari"),ge=li("phantom"),Un="OTransition"in kn,Wn=navigator.platform.indexOf("Win")===0,yn=ps&&"transition"in kn,Yn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Hr,_n="MozPerspective"in kn,nn=!window.L_DISABLE_3D&&(yn||Yn||_n)&&!Un&&!ge,vn=typeof orientation<"u"||li("mobile"),Xn=vn&&Gi,il=vn&&Yn,Oa=!window.PointerEvent&&window.MSPointerEvent,mr=!!(window.PointerEvent||Oa),gr="ontouchstart"in window||!!window.TouchEvent,rl=!window.L_NO_TOUCH&&(gr||mr),yr=vn&&ut,sl=vn&&Vt,gs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Na=(function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",w,h),window.removeEventListener("testPassiveEventSupport",w,h)}catch{}return o})(),ys=(function(){return!!document.createElement("canvas").getContext})(),Va=!!(document.createElementNS&&Fr("svg").createSVGRect),Ne=!!Va&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),cn=!Va&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),rn=navigator.platform.indexOf("Mac")===0,ki=navigator.platform.indexOf("Linux")===0;function li(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var zt={ie:ps,ielt9:ms,edge:pr,webkit:Gi,android:Ma,android23:Hr,androidStock:La,opera:ut,chrome:vt,gecko:Vt,safari:jt,phantom:ge,opera12:Un,win:Wn,ie3d:yn,webkit3d:Yn,gecko3d:_n,any3d:nn,mobile:vn,mobileWebkit:Xn,mobileWebkit3d:il,msPointer:Oa,pointer:mr,touch:rl,touchNative:gr,mobileOpera:yr,mobileGecko:sl,retina:gs,passiveEvents:Na,canvas:ys,svg:Va,vml:cn,inlineSvg:Ne,mac:rn,linux:ki},qr=zt.msPointer?"MSPointerDown":"pointerdown",al=zt.msPointer?"MSPointerMove":"pointermove",_s=zt.msPointer?"MSPointerUp":"pointerup",Gr=zt.msPointer?"MSPointerCancel":"pointercancel",Zi={touchstart:qr,touchmove:al,touchend:_s,touchcancel:Gr},Ki={touchstart:ta,touchmove:Js,touchend:Js,touchcancel:Js},Qn={},Bn=!1;function Xe(o,h,y){return h==="touchstart"&&iu(),Ki[h]?(y=Ki[h].bind(this,y),o.addEventListener(Zi[h],y,!1),y):(console.warn("wrong event specified:",h),w)}function ol(o,h,y){if(!Zi[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(Zi[h],y,!1)}function za(o){Qn[o.pointerId]=o}function $i(o){Qn[o.pointerId]&&(Qn[o.pointerId]=o)}function _r(o){delete Qn[o.pointerId]}function iu(){Bn||(document.addEventListener(qr,za,!0),document.addEventListener(al,$i,!0),document.addEventListener(_s,_r,!0),document.addEventListener(Gr,_r,!0),Bn=!0)}function Js(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var y in Qn)h.touches.push(Qn[y]);h.changedTouches=[h],o(h)}}function ta(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Pe(h),Js(o,h)}function ru(o){var h={},y,E;for(E in o)y=o[E],h[E]=y&&y.bind?y.bind(o):y;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var vs=200;function vr(o,h){o.addEventListener("dblclick",h);var y=0,E;function A(P){if(P.detail!==1){E=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var Z=ja(P);if(!(Z.some(function(lt){return lt instanceof HTMLLabelElement&&lt.attributes.for})&&!Z.some(function(lt){return lt instanceof HTMLInputElement||lt instanceof HTMLSelectElement}))){var nt=Date.now();nt-y<=vs?(E++,E===2&&h(ru(P))):E=1,y=nt}}}return o.addEventListener("click",A),{dblclick:h,simDblclick:A}}function Dn(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Zr=Wi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ts=Wi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Tr=Ts==="webkitTransition"||Ts==="OTransition"?Ts+"End":"transitionend";function ea(o){return typeof o=="string"?document.getElementById(o):o}function wr(o,h){var y=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!y||y==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(o,null);y=E?E[h]:null}return y==="auto"?null:y}function oe(o,h,y){var E=document.createElement(o);return E.className=h||"",y&&y.appendChild(E),E}function Se(o){var h=o.parentNode;h&&h.removeChild(o)}function Tn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Er(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function ws(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function Es(o,h){if(o.classList!==void 0)return o.classList.contains(h);var y=qe(o);return y.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(y)}function Jt(o,h){if(o.classList!==void 0)for(var y=D(h),E=0,A=y.length;E<A;E++)o.classList.add(y[E]);else if(!Es(o,h)){var P=qe(o);ll(o,(P?P+" ":"")+h)}}function Ce(o,h){o.classList!==void 0?o.classList.remove(h):ll(o,x((" "+qe(o)+" ").replace(" "+h+" "," ")))}function ll(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function qe(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Ve(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&na(o,h)}function na(o,h){var y=!1,E="DXImageTransform.Microsoft.Alpha";try{y=o.filters.item(E)}catch{if(h===1)return}h=Math.round(h*100),y?(y.Enabled=h!==100,y.Opacity=h):o.style.filter+=" progid:"+E+"(opacity="+h+")"}function Wi(o){for(var h=document.documentElement.style,y=0;y<o.length;y++)if(o[y]in h)return o[y];return!1}function Jn(o,h,y){var E=h||new pt(0,0);o.style[Zr]=(zt.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(y?" scale("+y+")":"")}function Zt(o,h){o._leaflet_pos=h,zt.any3d?Jn(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function Ei(o){return o._leaflet_pos||new pt(0,0)}var jn,Yi,Ua;if("onselectstart"in document)jn=function(){Ft(window,"selectstart",Pe)},Yi=function(){_e(window,"selectstart",Pe)};else{var Kr=Wi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);jn=function(){if(Kr){var o=document.documentElement.style;Ua=o[Kr],o[Kr]="none"}},Yi=function(){Kr&&(document.documentElement.style[Kr]=Ua,Ua=void 0)}}function ia(){Ft(window,"dragstart",Pe)}function ul(){_e(window,"dragstart",Pe)}var Ba,bs;function Xi(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ti(),Ba=o,bs=o.style.outlineStyle,o.style.outlineStyle="none",Ft(window,"keydown",ti))}function ti(){Ba&&(Ba.style.outlineStyle=bs,Ba=void 0,bs=void 0,_e(window,"keydown",ti))}function br(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Qi(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var cl={__proto__:null,TRANSFORM:Zr,TRANSITION:Ts,TRANSITION_END:Tr,get:ea,getStyle:wr,create:oe,remove:Se,empty:Tn,toFront:Er,toBack:ws,hasClass:Es,addClass:Jt,removeClass:Ce,setClass:ll,getClass:qe,setOpacity:Ve,testProp:Wi,setTransform:Jn,setPosition:Zt,getPosition:Ei,get disableTextSelection(){return jn},get enableTextSelection(){return Yi},disableImageDrag:ia,enableImageDrag:ul,preventOutline:Xi,restoreOutline:ti,getSizedParentNode:br,getScale:Qi};function Ft(o,h,y,E){if(h&&typeof h=="object")for(var A in h)$r(o,A,h[A],y);else{h=D(h);for(var P=0,Z=h.length;P<Z;P++)$r(o,h[P],y,E)}return this}var bi="_leaflet_events";function _e(o,h,y,E){if(arguments.length===1)Di(o),delete o[bi];else if(h&&typeof h=="object")for(var A in h)Mi(o,A,h[A],y);else if(h=D(h),arguments.length===2)Di(o,function(nt){return dt(h,nt)!==-1});else for(var P=0,Z=h.length;P<Z;P++)Mi(o,h[P],y,E);return this}function Di(o,h){for(var y in o[bi]){var E=y.split(/\d/)[0];(!h||h(E))&&Mi(o,E,null,null,y)}}var ui={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $r(o,h,y,E){var A=h+p(y)+(E?"_"+p(E):"");if(o[bi]&&o[bi][A])return this;var P=function(nt){return y.call(E||o,nt||window.event)},Z=P;!zt.touchNative&&zt.pointer&&h.indexOf("touch")===0?P=Xe(o,h,P):zt.touch&&h==="dblclick"?P=vr(o,P):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(ui[h]||h,P,zt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(P=function(nt){nt=nt||window.event,Yr(o,nt)&&Z(nt)},o.addEventListener(ui[h],P,!1)):o.addEventListener(h,Z,!1):o.attachEvent("on"+h,P),o[bi]=o[bi]||{},o[bi][A]=P}function Mi(o,h,y,E,A){A=A||h+p(y)+(E?"_"+p(E):"");var P=o[bi]&&o[bi][A];if(!P)return this;!zt.touchNative&&zt.pointer&&h.indexOf("touch")===0?ol(o,h,P):zt.touch&&h==="dblclick"?Dn(o,P):"removeEventListener"in o?o.removeEventListener(ui[h]||h,P,!1):o.detachEvent("on"+h,P),o[bi][A]=null}function ci(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Ji(o){return $r(o,"wheel",ci),this}function Wr(o){return Ft(o,"mousedown touchstart dblclick contextmenu",ci),o._leaflet_disable_click=!0,this}function Pe(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Fn(o){return Pe(o),ci(o),this}function ja(o){if(o.composedPath)return o.composedPath();for(var h=[],y=o.target;y;)h.push(y),y=y.parentNode;return h}function hn(o,h){if(!h)return new pt(o.clientX,o.clientY);var y=Qi(h),E=y.boundingClientRect;return new pt((o.clientX-E.left)/y.x-h.clientLeft,(o.clientY-E.top)/y.y-h.clientTop)}var we=zt.linux&&zt.chrome?window.devicePixelRatio:zt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ra(o){return zt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/we:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Yr(o,h){var y=h.relatedTarget;if(!y)return!0;try{for(;y&&y!==o;)y=y.parentNode}catch{return!1}return y!==o}var su={__proto__:null,on:Ft,off:_e,stopPropagation:ci,disableScrollPropagation:Ji,disableClickPropagation:Wr,preventDefault:Pe,stop:Fn,getPropagationPath:ja,getMousePosition:hn,getWheelDelta:ra,isExternalTarget:Yr,addListener:Ft,removeListener:_e},sa=gt.extend({run:function(o,h,y,E){this.stop(),this._el=o,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=Ei(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,y=this._duration*1e3;h<y?this._runFrame(this._easeOut(h/y),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var y=this._startPos.add(this._offset.multiplyBy(o));h&&y._round(),Zt(this._el,y),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ie=gt.extend({options:{crs:qi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=N(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(St(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ts&&zt.any3d&&!zt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,Tr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,y){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(St(o),h,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=s({animate:y.animate},y.zoom),y.pan=s({animate:y.animate,duration:y.duration},y.pan));var E=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,y.zoom):this._tryAnimatedPan(o,y.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,y.pan&&y.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,y){var E=this.getZoomScale(h),A=this.getSize().divideBy(2),P=o instanceof pt?o:this.latLngToContainerPoint(o),Z=P.subtract(A).multiplyBy(1-1/E),nt=this.containerPointToLatLng(A.add(Z));return this.setView(nt,h,{zoom:y})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Ct(o);var y=R(h.paddingTopLeft||h.padding||[0,0]),E=R(h.paddingBottomRight||h.padding||[0,0]),A=this.getBoundsZoom(o,!1,y.add(E));if(A=typeof h.maxZoom=="number"?Math.min(h.maxZoom,A):A,A===1/0)return{center:o.getCenter(),zoom:A};var P=E.subtract(y).divideBy(2),Z=this.project(o.getSouthWest(),A),nt=this.project(o.getNorthEast(),A),lt=this.unproject(Z.add(nt).divideBy(2).add(P),A);return{center:lt,zoom:A}},fitBounds:function(o,h){if(o=Ct(o),!o.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(o,h);return this.setView(y.center,y.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=R(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new sa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Jt(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,y,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,y){if(y=y||{},y.animate===!1||!zt.any3d)return this.setView(o,h,y);this._stop();var E=this.project(this.getCenter()),A=this.project(o),P=this.getSize(),Z=this._zoom;o=St(o),h=h===void 0?Z:h;var nt=Math.max(P.x,P.y),lt=nt*this.getZoomScale(Z,h),Et=A.distanceTo(E)||1,Pt=1.42,Lt=Pt*Pt;function Nt(Ze){var Pr=Ze?-1:1,ns=Ze?lt:nt,Is=lt*lt-nt*nt+Pr*Lt*Lt*Et*Et,is=2*ns*Lt*Et,xl=Is/is,_u=Math.sqrt(xl*xl+1)-xl,Al=_u<1e-9?-18:Math.log(_u);return Al}function Xt(Ze){return(Math.exp(Ze)-Math.exp(-Ze))/2}function Ue(Ze){return(Math.exp(Ze)+Math.exp(-Ze))/2}function Qe(Ze){return Xt(Ze)/Ue(Ze)}var qn=Nt(0);function Li(Ze){return nt*(Ue(qn)/Ue(qn+Pt*Ze))}function qf(Ze){return nt*(Ue(qn)*Qe(qn+Pt*Ze)-Xt(qn))/Lt}function Gf(Ze){return 1-Math.pow(1-Ze,1.5)}var Sl=Date.now(),ro=(Nt(1)-qn)/Pt,Zf=y.duration?1e3*y.duration:1e3*ro*.8;function so(){var Ze=(Date.now()-Sl)/Zf,Pr=Gf(Ze)*ro;Ze<=1?(this._flyToFrame=F(so,this),this._move(this.unproject(E.add(A.subtract(E).multiplyBy(qf(Pr)/Et)),Z),this.getScaleZoom(nt/Li(Pr),Z),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),so.call(this),this},flyToBounds:function(o,h){var y=this._getBoundsCenterZoom(o,h);return this.flyTo(y.center,y.zoom,h)},setMaxBounds:function(o){return o=Ct(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var y=this.getCenter(),E=this._limitCenter(y,this._zoom,Ct(o));return y.equals(E)||this.panTo(E,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var y=R(h.paddingTopLeft||h.padding||[0,0]),E=R(h.paddingBottomRight||h.padding||[0,0]),A=this.project(this.getCenter()),P=this.project(o),Z=this.getPixelBounds(),nt=bt([Z.min.add(y),Z.max.subtract(E)]),lt=nt.getSize();if(!nt.contains(P)){this._enforcingBounds=!0;var Et=P.subtract(nt.getCenter()),Pt=nt.extend(P).getSize().subtract(lt);A.x+=Et.x<0?-Pt.x:Pt.x,A.y+=Et.y<0?-Pt.y:Pt.y,this.panTo(this.unproject(A),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),E=h.divideBy(2).round(),A=y.divideBy(2).round(),P=E.subtract(A);return!P.x&&!P.y?this:(o.animate&&o.pan?this.panBy(P):(o.pan&&this._rawPanBy(P),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=c(this._handleGeolocationResponse,this),y=c(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,y,o):navigator.geolocation.getCurrentPosition(h,y,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,y=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,y=o.coords.longitude,E=new It(h,y),A=E.toBounds(o.coords.accuracy*2),P=this._locateOptions;if(P.setView){var Z=this.getBoundsZoom(A);this.setView(E,P.maxZoom?Math.min(Z,P.maxZoom):Z)}var nt={latlng:E,bounds:A,timestamp:o.timestamp};for(var lt in o.coords)typeof o.coords[lt]=="number"&&(nt[lt]=o.coords[lt]);this.fire("locationfound",nt)}},addHandler:function(o,h){if(!h)return this;var y=this[o]=new h(this);return this._handlers.push(y),this.options[o]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Se(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var y="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),E=oe("div",y,h||this._mapPane);return o&&(this._panes[o]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),y=this.unproject(o.getTopRight());return new V(h,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,y){o=Ct(o),y=R(y||[0,0]);var E=this.getZoom()||0,A=this.getMinZoom(),P=this.getMaxZoom(),Z=o.getNorthWest(),nt=o.getSouthEast(),lt=this.getSize().subtract(y),Et=bt(this.project(nt,E),this.project(Z,E)).getSize(),Pt=zt.any3d?this.options.zoomSnap:1,Lt=lt.x/Et.x,Nt=lt.y/Et.y,Xt=h?Math.max(Lt,Nt):Math.min(Lt,Nt);return E=this.getScaleZoom(Xt,E),Pt&&(E=Math.round(E/(Pt/100))*(Pt/100),E=h?Math.ceil(E/Pt)*Pt:Math.floor(E/Pt)*Pt),Math.max(A,Math.min(P,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var y=this._getTopLeftPoint(o,h);return new ht(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var y=this.options.crs;return h=h===void 0?this._zoom:h,y.scale(o)/y.scale(h)},getScaleZoom:function(o,h){var y=this.options.crs;h=h===void 0?this._zoom:h;var E=y.zoom(o*y.scale(h));return isNaN(E)?1/0:E},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(St(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(R(o),h)},layerPointToLatLng:function(o){var h=R(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(St(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(St(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Ct(o))},distance:function(o,h){return this.options.crs.distance(St(o),St(h))},containerPointToLayerPoint:function(o){return R(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return R(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(R(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(St(o)))},mouseEventToContainerPoint:function(o){return hn(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=ea(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ft(h,"scroll",this._onScroll,this),this._containerId=p(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&zt.any3d,Jt(o,"leaflet-container"+(zt.touch?" leaflet-touch":"")+(zt.retina?" leaflet-retina":"")+(zt.ielt9?" leaflet-oldie":"")+(zt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=wr(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Zt(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Jt(o.markerPane,"leaflet-zoom-hide"),Jt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,y){Zt(this._mapPane,new pt(0,0));var E=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var A=this._zoom!==h;this._moveStart(A,y)._move(o,h)._moveEnd(A),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,y,E){h===void 0&&(h=this._zoom);var A=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),E?y&&y.pinch&&this.fire("zoom",y):((A||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Zt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[p(this._container)]=this;var h=o?_e:Ft;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),zt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var y=[],E,A=h==="mouseout"||h==="mouseover",P=o.target||o.srcElement,Z=!1;P;){if(E=this._targets[p(P)],E&&(h==="click"||h==="preclick")&&this._draggableMoved(E)){Z=!0;break}if(E&&E.listens(h,!0)&&(A&&!Yr(P,o)||(y.push(E),A))||P===this._container)break;P=P.parentNode}return!y.length&&!Z&&!A&&this.listens(h,!0)&&(y=[this]),y},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var y=o.type;y==="mousedown"&&Xi(h),this._fireDOMEvent(o,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,y){if(o.type==="click"){var E=s({},o);E.type="preclick",this._fireDOMEvent(E,E.type,y)}var A=this._findEventTargets(o,h);if(y){for(var P=[],Z=0;Z<y.length;Z++)y[Z].listens(h,!0)&&P.push(y[Z]);A=P.concat(A)}if(A.length){h==="contextmenu"&&Pe(o);var nt=A[0],lt={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Et=nt.getLatLng&&(!nt._radius||nt._radius<=10);lt.containerPoint=Et?this.latLngToContainerPoint(nt.getLatLng()):this.mouseEventToContainerPoint(o),lt.layerPoint=this.containerPointToLayerPoint(lt.containerPoint),lt.latlng=Et?nt.getLatLng():this.layerPointToLatLng(lt.layerPoint)}for(Z=0;Z<A.length;Z++)if(A[Z].fire(h,lt,!0),lt.originalEvent._stopped||A[Z].options.bubblingMouseEvents===!1&&dt(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return Ei(this._mapPane)||new pt(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var y=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var y=this.getSize()._divideBy(2);return this.project(o,h)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,y){var E=this._getNewPixelOrigin(y,h);return this.project(o,h)._subtract(E)},_latLngBoundsToNewLayerBounds:function(o,h,y){var E=this._getNewPixelOrigin(y,h);return bt([this.project(o.getSouthWest(),h)._subtract(E),this.project(o.getNorthWest(),h)._subtract(E),this.project(o.getSouthEast(),h)._subtract(E),this.project(o.getNorthEast(),h)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,y){if(!y)return o;var E=this.project(o,h),A=this.getSize().divideBy(2),P=new ht(E.subtract(A),E.add(A)),Z=this._getBoundsOffset(P,y,h);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?o:this.unproject(E.add(Z),h)},_limitOffset:function(o,h){if(!h)return o;var y=this.getPixelBounds(),E=new ht(y.min.add(o),y.max.add(o));return o.add(this._getBoundsOffset(E,h))},_getBoundsOffset:function(o,h,y){var E=bt(this.project(h.getNorthEast(),y),this.project(h.getSouthWest(),y)),A=E.min.subtract(o.min),P=E.max.subtract(o.max),Z=this._rebound(A.x,-P.x),nt=this._rebound(A.y,-P.y);return new pt(Z,nt)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),y=this.getMaxZoom(),E=zt.any3d?this.options.zoomSnap:1;return E&&(o=Math.round(o/E)*E),Math.max(h,Math.min(y,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var y=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,h),!0)},_createAnimProxy:function(){var o=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var y=Zr,E=this._proxy.style[y];Jn(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),E===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();Jn(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(h),A=this._getCenterOffset(o)._divideBy(1-1/E);return y.animate!==!0&&!this.getSize().contains(A)?!1:(F(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,y,E){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,Jt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Sr(o,h){return new ie(o,h)}var Mn=At.extend({options:{position:"topright"},initialize:function(o){N(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),y=this.getPosition(),E=o._controlCorners[y];return Jt(h,"leaflet-control"),y.indexOf("bottom")!==-1?E.insertBefore(h,E.firstChild):E.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Hn=function(o){return new Mn(o)};ie.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",y=this._controlContainer=oe("div",h+"control-container",this._container);function E(A,P){var Z=h+A+" "+h+P;o[A+P]=oe("div",Z,y)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Se(this._controlCorners[o]);Se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hl=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,y,E){return y<E?-1:E<y?1:0}},initialize:function(o,h,y){N(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in o)this._addLayer(o[E],E);for(E in h)this._addLayer(h[E],E,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Mn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(p(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Jt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Jt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=oe("div",o),y=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Wr(h),Ji(h);var E=this._section=oe("section",o+"-list");y&&(this._map.on("click",this.collapse,this),Ft(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=oe("a",o+"-toggle",h);A.href="#",A.title="Layers",A.setAttribute("role","button"),Ft(A,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Pe(P),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=oe("div",o+"-base",E),this._separator=oe("div",o+"-separator",E),this._overlaysList=oe("div",o+"-overlays",E),h.appendChild(E)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&p(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,y){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:y}),this.options.sortLayers&&this._layers.sort(c(function(E,A){return this.options.sortFunction(E.layer,A.layer,E.name,A.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Tn(this._baseLayersList),Tn(this._overlaysList),this._layerControlInputs=[];var o,h,y,E,A=0;for(y=0;y<this._layers.length;y++)E=this._layers[y],this._addItem(E),h=h||E.overlay,o=o||!E.overlay,A+=E.overlay?0:1;return this.options.hideSingleBase&&(o=o&&A>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(p(o.target)),y=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;y&&this._map.fire(y,h)},_createRadioElement:function(o,h){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=y,E.firstChild},_addItem:function(o){var h=document.createElement("label"),y=this._map.hasLayer(o.layer),E;o.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=y):E=this._createRadioElement("leaflet-base-layers_"+p(this),y),this._layerControlInputs.push(E),E.layerId=p(o.layer),Ft(E,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+o.name;var P=document.createElement("span");h.appendChild(P),P.appendChild(E),P.appendChild(A);var Z=o.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,y,E=[],A=[];this._handlingClick=!0;for(var P=o.length-1;P>=0;P--)h=o[P],y=this._getLayer(h.layerId).layer,h.checked?E.push(y):h.checked||A.push(y);for(P=0;P<A.length;P++)this._map.hasLayer(A[P])&&this._map.removeLayer(A[P]);for(P=0;P<E.length;P++)this._map.hasLayer(E[P])||this._map.addLayer(E[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,y,E=this._map.getZoom(),A=o.length-1;A>=0;A--)h=o[A],y=this._getLayer(h.layerId).layer,h.disabled=y.options.minZoom!==void 0&&E<y.options.minZoom||y.options.maxZoom!==void 0&&E>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ft(o,"click",Pe),this.expand();var h=this;setTimeout(function(){_e(o,"click",Pe),h._preventClick=!1})}}),Dc=function(o,h,y){return new hl(o,h,y)},Xr=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",y=oe("div",h+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,h+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,h+"-out",y,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,y,E,A){var P=oe("a",y,E);return P.innerHTML=o,P.href="#",P.title=h,P.setAttribute("role","button"),P.setAttribute("aria-label",h),Wr(P),Ft(P,"click",Fn),Ft(P,"click",A,this),Ft(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";Ce(this._zoomInButton,h),Ce(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Jt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Jt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xr,this.addControl(this.zoomControl))});var Fa=function(o){return new Xr(o)},Ha=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",y=oe("div",h),E=this.options;return this._addScales(E,h+"-line",y),o.on(E.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),y},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,y){o.metric&&(this._mScale=oe("div",h,y)),o.imperial&&(this._iScale=oe("div",h,y))},_update:function(){var o=this._map,h=o.getSize().y/2,y=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(y)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),y=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,y,h/o)},_updateImperial:function(o){var h=o*3.2808399,y,E,A;h>5280?(y=h/5280,E=this._getRoundNum(y),this._updateScale(this._iScale,E+" mi",E/y)):(A=this._getRoundNum(h),this._updateScale(this._iScale,A+" ft",A/h))},_updateScale:function(o,h,y){o.style.width=Math.round(this.options.maxWidth*y)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),y=o/h;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,h*y}}),qa=function(o){return new Ha(o)},au='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ss=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(zt.inlineSvg?au+" ":"")+"Leaflet</a>"},initialize:function(o){N(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),Wr(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var y=[];this.options.prefix&&y.push(this.options.prefix),o.length&&y.push(o.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new Ss().addTo(this)});var Mc=function(o){return new Ss(o)};Mn.Layers=hl,Mn.Zoom=Xr,Mn.Scale=Ha,Mn.Attribution=Ss,Hn.layers=Dc,Hn.zoom=Fa,Hn.scale=qa,Hn.attribution=Mc;var hi=At.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hi.addTo=function(o,h){return o.addHandler(h,this),this};var aa={Events:st},fl=zt.touch?"touchstart mousedown":"mousedown",tr=gt.extend({options:{clickTolerance:3},initialize:function(o,h,y,E){N(this,E),this._element=o,this._dragStartTarget=h||o,this._preventOutline=y},enable:function(){this._enabled||(Ft(this._dragStartTarget,fl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(tr._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,fl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Es(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){tr._dragging===this&&this.finishDrag();return}if(!(tr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(tr._dragging=this,this._preventOutline&&Xi(this._element),ia(),jn(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,y=br(this._element);this._startPoint=new pt(h.clientX,h.clientY),this._startPos=Ei(this._element),this._parentScale=Qi(y);var E=o.type==="mousedown";Ft(document,E?"mousemove":"touchmove",this._onMove,this),Ft(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,y=new pt(h.clientX,h.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Pe(o),this._moved||(this.fire("dragstart"),this._moved=!0,Jt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Jt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Zt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Ce(document.body,"leaflet-dragging"),this._lastTarget&&(Ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),ul(),Yi();var h=this._moved&&this._moving;this._moving=!1,tr._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Ga(o,h,y){var E,A=[1,4,2,8],P,Z,nt,lt,Et,Pt,Lt,Nt;for(P=0,Pt=o.length;P<Pt;P++)o[P]._code=xr(o[P],h);for(nt=0;nt<4;nt++){for(Lt=A[nt],E=[],P=0,Pt=o.length,Z=Pt-1;P<Pt;Z=P++)lt=o[P],Et=o[Z],lt._code&Lt?Et._code&Lt||(Nt=wn(Et,lt,Lt,h,y),Nt._code=xr(Nt,h),E.push(Nt)):(Et._code&Lt&&(Nt=wn(Et,lt,Lt,h,y),Nt._code=xr(Nt,h),E.push(Nt)),E.push(lt));o=E}return o}function xs(o,h){var y,E,A,P,Z,nt,lt,Et,Pt;if(!o||o.length===0)throw new Error("latlngs not passed");g(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Lt=St([0,0]),Nt=Ct(o),Xt=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Xt<1700&&(Lt=Za(o));var Ue=o.length,Qe=[];for(y=0;y<Ue;y++){var qn=St(o[y]);Qe.push(h.project(St([qn.lat-Lt.lat,qn.lng-Lt.lng])))}for(nt=lt=Et=0,y=0,E=Ue-1;y<Ue;E=y++)A=Qe[y],P=Qe[E],Z=A.y*P.x-P.y*A.x,lt+=(A.x+P.x)*Z,Et+=(A.y+P.y)*Z,nt+=Z*3;nt===0?Pt=Qe[0]:Pt=[lt/nt,Et/nt];var Li=h.unproject(R(Pt));return St([Li.lat+Lt.lat,Li.lng+Lt.lng])}function Za(o){for(var h=0,y=0,E=0,A=0;A<o.length;A++){var P=St(o[A]);h+=P.lat,y+=P.lng,E++}return St([h/E,y/E])}var Ka={__proto__:null,clipPolygon:Ga,polygonCenter:xs,centroid:Za};function dl(o,h){if(!h||!o.length)return o.slice();var y=h*h;return o=lu(o,y),o=ou(o,y),o}function $a(o,h,y){return Math.sqrt(fi(o,h,y,!0))}function Qr(o,h,y){return fi(o,h,y)}function ou(o,h){var y=o.length,E=typeof Uint8Array<"u"?Uint8Array:Array,A=new E(y);A[0]=A[y-1]=1,Wa(o,A,h,0,y-1);var P,Z=[];for(P=0;P<y;P++)A[P]&&Z.push(o[P]);return Z}function Wa(o,h,y,E,A){var P=0,Z,nt,lt;for(nt=E+1;nt<=A-1;nt++)lt=fi(o[nt],o[E],o[A],!0),lt>P&&(Z=nt,P=lt);P>y&&(h[Z]=1,Wa(o,h,y,E,Z),Wa(o,h,y,Z,A))}function lu(o,h){for(var y=[o[0]],E=1,A=0,P=o.length;E<P;E++)uu(o[E],o[A])>h&&(y.push(o[E]),A=E);return A<P-1&&y.push(o[P-1]),y}var pl;function oa(o,h,y,E,A){var P=E?pl:xr(o,y),Z=xr(h,y),nt,lt,Et;for(pl=Z;;){if(!(P|Z))return[o,h];if(P&Z)return!1;nt=P||Z,lt=wn(o,h,nt,y,A),Et=xr(lt,y),nt===P?(o=lt,P=Et):(h=lt,Z=Et)}}function wn(o,h,y,E,A){var P=h.x-o.x,Z=h.y-o.y,nt=E.min,lt=E.max,Et,Pt;return y&8?(Et=o.x+P*(lt.y-o.y)/Z,Pt=lt.y):y&4?(Et=o.x+P*(nt.y-o.y)/Z,Pt=nt.y):y&2?(Et=lt.x,Pt=o.y+Z*(lt.x-o.x)/P):y&1&&(Et=nt.x,Pt=o.y+Z*(nt.x-o.x)/P),new pt(Et,Pt,A)}function xr(o,h){var y=0;return o.x<h.min.x?y|=1:o.x>h.max.x&&(y|=2),o.y<h.min.y?y|=4:o.y>h.max.y&&(y|=8),y}function uu(o,h){var y=h.x-o.x,E=h.y-o.y;return y*y+E*E}function fi(o,h,y,E){var A=h.x,P=h.y,Z=y.x-A,nt=y.y-P,lt=Z*Z+nt*nt,Et;return lt>0&&(Et=((o.x-A)*Z+(o.y-P)*nt)/lt,Et>1?(A=y.x,P=y.y):Et>0&&(A+=Z*Et,P+=nt*Et)),Z=o.x-A,nt=o.y-P,E?Z*Z+nt*nt:new pt(A,P)}function g(o){return!W(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function S(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),g(o)}function C(o,h){var y,E,A,P,Z,nt,lt,Et;if(!o||o.length===0)throw new Error("latlngs not passed");g(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Pt=St([0,0]),Lt=Ct(o),Nt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Nt<1700&&(Pt=Za(o));var Xt=o.length,Ue=[];for(y=0;y<Xt;y++){var Qe=St(o[y]);Ue.push(h.project(St([Qe.lat-Pt.lat,Qe.lng-Pt.lng])))}for(y=0,E=0;y<Xt-1;y++)E+=Ue[y].distanceTo(Ue[y+1])/2;if(E===0)Et=Ue[0];else for(y=0,P=0;y<Xt-1;y++)if(Z=Ue[y],nt=Ue[y+1],A=Z.distanceTo(nt),P+=A,P>E){lt=(P-E)/A,Et=[nt.x-lt*(nt.x-Z.x),nt.y-lt*(nt.y-Z.y)];break}var qn=h.unproject(R(Et));return St([qn.lat+Pt.lat,qn.lng+Pt.lng])}var O={__proto__:null,simplify:dl,pointToSegmentDistance:$a,closestPointOnSegment:Qr,clipSegment:oa,_getEdgeIntersection:wn,_getBitCode:xr,_sqClosestPointOnSegment:fi,isFlat:g,_flat:S,polylineCenter:C},et={project:function(o){return new pt(o.lng,o.lat)},unproject:function(o){return new It(o.y,o.x)},bounds:new ht([-180,-90],[180,90])},ft={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ht([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,y=this.R,E=o.lat*h,A=this.R_MINOR/y,P=Math.sqrt(1-A*A),Z=P*Math.sin(E),nt=Math.tan(Math.PI/4-E/2)/Math.pow((1-Z)/(1+Z),P/2);return E=-y*Math.log(Math.max(nt,1e-10)),new pt(o.lng*h*y,E)},unproject:function(o){for(var h=180/Math.PI,y=this.R,E=this.R_MINOR/y,A=Math.sqrt(1-E*E),P=Math.exp(-o.y/y),Z=Math.PI/2-2*Math.atan(P),nt=0,lt=.1,Et;nt<15&&Math.abs(lt)>1e-7;nt++)Et=A*Math.sin(Z),Et=Math.pow((1-Et)/(1+Et),A/2),lt=Math.PI/2-2*Math.atan(P*Et)-Z,Z+=lt;return new It(Z*h,o.x*h/y)}},Rt={__proto__:null,LonLat:et,Mercator:ft,SphericalMercator:Pn},he=s({},ee,{code:"EPSG:3395",projection:ft,transformation:(function(){var o=.5/(Math.PI*ft.R);return wi(o,.5,-o,.5)})()}),sn=s({},ee,{code:"EPSG:4326",projection:et,transformation:wi(1/180,1,-1/180,.5)}),fe=s({},ye,{projection:et,transformation:wi(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var y=h.lng-o.lng,E=h.lat-o.lat;return Math.sqrt(y*y+E*E)},infinite:!0});ye.Earth=ee,ye.EPSG3395=he,ye.EPSG3857=qi,ye.EPSG900913=jr,ye.EPSG4326=sn,ye.Simple=fe;var xe=gt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[p(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[p(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var y=this.getEvents();h.on(y,this),this.once("remove",function(){h.off(y,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=p(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=p(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return p(o)in this._layers},eachLayer:function(o,h){for(var y in this._layers)o.call(h,this._layers[y]);return this},_addLayers:function(o){o=o?W(o)?o:[o]:[];for(var h=0,y=o.length;h<y;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[p(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=p(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,y=this._getZoomSpan();for(var E in this._zoomBoundLayers){var A=this._zoomBoundLayers[E].options;o=A.minZoom===void 0?o:Math.min(o,A.minZoom),h=A.maxZoom===void 0?h:Math.max(h,A.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ze=xe.extend({initialize:function(o,h){N(this,h),this._layers={};var y,E;if(o)for(y=0,E=o.length;y<E;y++)this.addLayer(o[y])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),y,E;for(y in this._layers)E=this._layers[y],E[o]&&E[o].apply(E,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var y in this._layers)o.call(h,this._layers[y]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return p(o)}}),Jr=function(o,h){return new ze(o,h)},Le=ze.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ze.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ze.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new V;for(var h in this._layers){var y=this._layers[h];o.extend(y.getBounds?y.getBounds():y.getLatLng())}return o}}),Ar=function(o,h){return new Le(o,h)},Cr=At.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){N(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var y=this._getIconUrl(o);if(!y){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(y,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(E,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(o,h){var y=this.options,E=y[h+"Size"];typeof E=="number"&&(E=[E,E]);var A=R(E),P=R(h==="shadow"&&y.shadowAnchor||y.iconAnchor||A&&A.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(y.className||""),P&&(o.style.marginLeft=-P.x+"px",o.style.marginTop=-P.y+"px"),A&&(o.style.width=A.x+"px",o.style.height=A.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return zt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function cu(o){return new Cr(o)}var Ya=Cr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Ya.imagePath!="string"&&(Ya.imagePath=this._detectIconPath()),(this.options.imagePath||Ya.imagePath)+Cr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(y,E,A){var P=E.exec(y);return P&&P[A]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=oe("div","leaflet-default-icon-path",document.body),h=wr(o,"background-image")||wr(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),Lc=hi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new tr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Jt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,y=h._map,E=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,P=Ei(h._icon),Z=y.getPixelBounds(),nt=y.getPixelOrigin(),lt=bt(Z.min._subtract(nt).add(A),Z.max._subtract(nt).subtract(A));if(!lt.contains(P)){var Et=R((Math.max(lt.max.x,P.x)-lt.max.x)/(Z.max.x-lt.max.x)-(Math.min(lt.min.x,P.x)-lt.min.x)/(Z.min.x-lt.min.x),(Math.max(lt.max.y,P.y)-lt.max.y)/(Z.max.y-lt.max.y)-(Math.min(lt.min.y,P.y)-lt.min.y)/(Z.min.y-lt.min.y)).multiplyBy(E);y.panBy(Et,{animate:!1}),this._draggable._newPos._add(Et),this._draggable._startPos._add(Et),Zt(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=F(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,y=h._shadow,E=Ei(h._icon),A=h._map.layerPointToLatLng(E);y&&Zt(y,E),h._latlng=A,o.latlng=A,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Xa=xe.extend({options:{icon:new Ya,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){N(this,h),this._latlng=St(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=St(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=o.icon.createIcon(this._icon),E=!1;y!==this._icon&&(this._icon&&this._removeIcon(),E=!0,o.title&&(y.title=o.title),y.tagName==="IMG"&&(y.alt=o.alt||"")),Jt(y,h),o.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(y,"focus",this._panOnFocus,this);var A=o.icon.createShadow(this._shadow),P=!1;A!==this._shadow&&(this._removeShadow(),P=!0),A&&(Jt(A,h),A.alt=""),this._shadow=A,o.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&P&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),Se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Se(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Zt(this._icon,o),this._shadow&&Zt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Jt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Lc)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Lc(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Ve(this._icon,o),this._shadow&&Ve(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,y=h.iconSize?R(h.iconSize):R(0,0),E=h.iconAnchor?R(h.iconAnchor):R(0,0);o.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:y.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Oc(o,h){return new Xa(o,h)}var ts=xe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return N(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ml=ts.extend({options:{fill:!0,radius:10},initialize:function(o,h){N(this,h),this._latlng=St(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=St(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return ts.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,y=this._clickTolerance(),E=[o+y,h+y];this._pxBounds=new ht(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function zf(o,h){return new ml(o,h)}var Nc=ml.extend({initialize:function(o,h,y){if(typeof h=="number"&&(h=s({},y,{radius:h})),N(this,h),this._latlng=St(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new V(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ts.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,y=this._map,E=y.options.crs;if(E.distance===ee.distance){var A=Math.PI/180,P=this._mRadius/ee.R/A,Z=y.project([h+P,o]),nt=y.project([h-P,o]),lt=Z.add(nt).divideBy(2),Et=y.unproject(lt).lat,Pt=Math.acos((Math.cos(P*A)-Math.sin(h*A)*Math.sin(Et*A))/(Math.cos(h*A)*Math.cos(Et*A)))/A;(isNaN(Pt)||Pt===0)&&(Pt=P/Math.cos(Math.PI/180*h)),this._point=lt.subtract(y.getPixelOrigin()),this._radius=isNaN(Pt)?0:lt.x-y.project([Et,o-Pt]).x,this._radiusY=lt.y-Z.y}else{var Lt=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(Lt).x}this._updateBounds()}});function km(o,h,y){return new Nc(o,h,y)}var es=ts.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){N(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,y=null,E=fi,A,P,Z=0,nt=this._parts.length;Z<nt;Z++)for(var lt=this._parts[Z],Et=1,Pt=lt.length;Et<Pt;Et++){A=lt[Et-1],P=lt[Et];var Lt=E(o,A,P,!0);Lt<h&&(h=Lt,y=E(o,A,P))}return y&&(y.distance=Math.sqrt(h)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return C(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=St(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new V,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return g(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],y=g(o),E=0,A=o.length;E<A;E++)y?(h[E]=St(o[E]),this._bounds.extend(h[E])):h[E]=this._convertLatLngs(o[E]);return h},_project:function(){var o=new ht;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new pt(o,o);this._rawPxBounds&&(this._pxBounds=new ht([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,y){var E=o[0]instanceof It,A=o.length,P,Z;if(E){for(Z=[],P=0;P<A;P++)Z[P]=this._map.latLngToLayerPoint(o[P]),y.extend(Z[P]);h.push(Z)}else for(P=0;P<A;P++)this._projectLatlngs(o[P],h,y)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,y,E,A,P,Z,nt,lt;for(y=0,A=0,P=this._rings.length;y<P;y++)for(lt=this._rings[y],E=0,Z=lt.length;E<Z-1;E++)nt=oa(lt[E],lt[E+1],o,E,!0),nt&&(h[A]=h[A]||[],h[A].push(nt[0]),(nt[1]!==lt[E+1]||E===Z-2)&&(h[A].push(nt[1]),A++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,y=0,E=o.length;y<E;y++)o[y]=dl(o[y],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var y,E,A,P,Z,nt,lt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(y=0,P=this._parts.length;y<P;y++)for(nt=this._parts[y],E=0,Z=nt.length,A=Z-1;E<Z;A=E++)if(!(!h&&E===0)&&$a(o,nt[A],nt[E])<=lt)return!0;return!1}});function Dm(o,h){return new es(o,h)}es._flat=S;var Qa=es.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=es.prototype._convertLatLngs.call(this,o),y=h.length;return y>=2&&h[0]instanceof It&&h[0].equals(h[y-1])&&h.pop(),h},_setLatLngs:function(o){es.prototype._setLatLngs.call(this,o),g(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return g(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,y=new pt(h,h);if(o=new ht(o.min.subtract(y),o.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,A=this._rings.length,P;E<A;E++)P=Ga(this._rings[E],o,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,y,E,A,P,Z,nt,lt,Et;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(P=0,lt=this._parts.length;P<lt;P++)for(y=this._parts[P],Z=0,Et=y.length,nt=Et-1;Z<Et;nt=Z++)E=y[Z],A=y[nt],E.y>o.y!=A.y>o.y&&o.x<(A.x-E.x)*(o.y-E.y)/(A.y-E.y)+E.x&&(h=!h);return h||es.prototype._containsPoint.call(this,o,!0)}});function Si(o,h){return new Qa(o,h)}var xi=Le.extend({initialize:function(o,h){N(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=W(o)?o:o.features,y,E,A;if(h){for(y=0,E=h.length;y<E;y++)A=h[y],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var P=this.options;if(P.filter&&!P.filter(o))return this;var Z=gl(o,P);return Z?(Z.feature=Ja(o),Z.defaultOptions=Z.options,this.resetStyle(Z),P.onEachFeature&&P.onEachFeature(o,Z),this.addLayer(Z)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function gl(o,h){var y=o.type==="Feature"?o.geometry:o,E=y?y.coordinates:null,A=[],P=h&&h.pointToLayer,Z=h&&h.coordsToLatLng||hu,nt,lt,Et,Pt;if(!E&&!y)return null;switch(y.type){case"Point":return nt=Z(E),Vc(P,o,nt,h);case"MultiPoint":for(Et=0,Pt=E.length;Et<Pt;Et++)nt=Z(E[Et]),A.push(Vc(P,o,nt,h));return new Le(A);case"LineString":case"MultiLineString":return lt=yl(E,y.type==="LineString"?0:1,Z),new es(lt,h);case"Polygon":case"MultiPolygon":return lt=yl(E,y.type==="Polygon"?1:2,Z),new Qa(lt,h);case"GeometryCollection":for(Et=0,Pt=y.geometries.length;Et<Pt;Et++){var Lt=gl({geometry:y.geometries[Et],type:"Feature",properties:o.properties},h);Lt&&A.push(Lt)}return new Le(A);case"FeatureCollection":for(Et=0,Pt=y.features.length;Et<Pt;Et++){var Nt=gl(y.features[Et],h);Nt&&A.push(Nt)}return new Le(A);default:throw new Error("Invalid GeoJSON object.")}}function Vc(o,h,y,E){return o?o(h,y):new Xa(y,E&&E.markersInheritOptions&&E)}function hu(o){return new It(o[1],o[0],o[2])}function yl(o,h,y){for(var E=[],A=0,P=o.length,Z;A<P;A++)Z=h?yl(o[A],h-1,y):(y||hu)(o[A]),E.push(Z);return E}function _l(o,h){return o=St(o),o.alt!==void 0?[b(o.lng,h),b(o.lat,h),b(o.alt,h)]:[b(o.lng,h),b(o.lat,h)]}function fu(o,h,y,E){for(var A=[],P=0,Z=o.length;P<Z;P++)A.push(h?fu(o[P],g(o[P])?0:h-1,y,E):_l(o[P],E));return!h&&y&&A.length>0&&A.push(A[0].slice()),A}function er(o,h){return o.feature?s({},o.feature,{geometry:h}):Ja(h)}function Ja(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var la={toGeoJSON:function(o){return er(this,{type:"Point",coordinates:_l(this.getLatLng(),o)})}};Xa.include(la),Nc.include(la),ml.include(la),es.include({toGeoJSON:function(o){var h=!g(this._latlngs),y=fu(this._latlngs,h?1:0,!1,o);return er(this,{type:(h?"Multi":"")+"LineString",coordinates:y})}}),Qa.include({toGeoJSON:function(o){var h=!g(this._latlngs),y=h&&!g(this._latlngs[0]),E=fu(this._latlngs,y?2:h?1:0,!0,o);return h||(E=[E]),er(this,{type:(y?"Multi":"")+"Polygon",coordinates:E})}}),ze.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(y){h.push(y.toGeoJSON(o).geometry.coordinates)}),er(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var y=h==="GeometryCollection",E=[];return this.eachLayer(function(A){if(A.toGeoJSON){var P=A.toGeoJSON(o);if(y)E.push(P.geometry);else{var Z=Ja(P);Z.type==="FeatureCollection"?E.push.apply(E,Z.features):E.push(Z)}}}),y?er(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function du(o,h){return new xi(o,h)}var Uf=du,Rr=xe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,y){this._url=o,this._bounds=Ct(h),N(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Jt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Er(this._image),this},bringToBack:function(){return this._map&&ws(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Ct(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:oe("img");if(Jt(h,"leaflet-image-layer"),this._zoomAnimated&&Jt(h,"leaflet-zoom-animated"),this.options.className&&Jt(h,this.options.className),h.onselectstart=w,h.onmousemove=w,h.onload=c(this.fire,this,"load"),h.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Jn(this._image,y,h)},_reset:function(){var o=this._image,h=new ht(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=h.getSize();Zt(o,h.min),o.style.width=y.x+"px",o.style.height=y.y+"px"},_updateOpacity:function(){Ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),to=function(o,h,y){return new Rr(o,h,y)},pu=Rr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:oe("video");if(Jt(h,"leaflet-image-layer"),this._zoomAnimated&&Jt(h,"leaflet-zoom-animated"),this.options.className&&Jt(h,this.options.className),h.onselectstart=w,h.onmousemove=w,h.onloadeddata=c(this.fire,this,"load"),o){for(var y=h.getElementsByTagName("source"),E=[],A=0;A<y.length;A++)E.push(y[A].src);this._url=y.length>0?E:[h.src];return}W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var Z=oe("source");Z.src=this._url[P],h.appendChild(Z)}}});function Bf(o,h,y){return new pu(o,h,y)}var As=Rr.extend({_initImage:function(){var o=this._image=this._url;Jt(o,"leaflet-image-layer"),this._zoomAnimated&&Jt(o,"leaflet-zoom-animated"),this.options.className&&Jt(o,this.options.className),o.onselectstart=w,o.onmousemove=w}});function jf(o,h,y){return new As(o,h,y)}var nr=xe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof It||W(o))?(this._latlng=St(o),N(this,h)):(N(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Ve(this._container,1),this.bringToFront(),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Ve(this._container,0),this._removeTimeout=setTimeout(c(Se,void 0,this._container),200)):Se(this._container),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=St(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Er(this._container),this},bringToBack:function(){return this._map&&ws(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof Le){h=null;var y=this._source._layers;for(var E in y)if(y[E]._map){h=y[E];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=R(this.options.offset),y=this._getAnchor();this._zoomAnimated?Zt(this._container,o.add(y)):h=h.add(o).add(y);var E=this._containerBottom=-h.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=E+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(o,h,y,E){var A=h;return A instanceof o||(A=new o(E).setContent(h)),y&&A.setLatLng(y),A}}),xe.include({_initOverlay:function(o,h,y,E){var A=y;return A instanceof o?(N(A,E),A._source=this):(A=h&&!E?h:new o(E,this),A.setContent(y)),A}});var vl=nr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,nr.prototype.openOn.call(this,o)},onAdd:function(o){nr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ts||this._source.on("preclick",ci))},onRemove:function(o){nr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ts||this._source.off("preclick",ci))},getEvents:function(){var o=nr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=oe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=oe("div",o+"-content-wrapper",h);if(this._contentNode=oe("div",o+"-content",y),Wr(h),Ji(this._contentNode),Ft(h,"contextmenu",ci),this._tipContainer=oe("div",o+"-tip-container",h),this._tip=oe("div",o+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=oe("a",o+"-close-button",h);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(E,"click",function(A){Pe(A),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var y=o.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),h.width=y+1+"px",h.whiteSpace="",h.height="";var E=o.offsetHeight,A=this.options.maxHeight,P="leaflet-popup-scrolled";A&&E>A?(h.height=A+"px",Jt(o,P)):Ce(o,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),y=this._getAnchor();Zt(this._container,h.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(wr(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+h,E=this._containerWidth,A=new pt(this._containerLeft,-y-this._containerBottom);A._add(Ei(this._container));var P=o.layerPointToContainerPoint(A),Z=R(this.options.autoPanPadding),nt=R(this.options.autoPanPaddingTopLeft||Z),lt=R(this.options.autoPanPaddingBottomRight||Z),Et=o.getSize(),Pt=0,Lt=0;P.x+E+lt.x>Et.x&&(Pt=P.x+E-Et.x+lt.x),P.x-Pt-nt.x<0&&(Pt=P.x-nt.x),P.y+y+lt.y>Et.y&&(Lt=P.y+y-Et.y+lt.y),P.y-Lt-nt.y<0&&(Lt=P.y-nt.y),(Pt||Lt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Pt,Lt]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mm=function(o,h){return new vl(o,h)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(o,h,y){return this._initOverlay(vl,o,h,y).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),xe.include({bindPopup:function(o,h){return this._popup=this._initOverlay(vl,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Le||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Fn(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof ts)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var mu=nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){nr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){nr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=nr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,y,E=this._map,A=this._container,P=E.latLngToContainerPoint(E.getCenter()),Z=E.layerPointToContainerPoint(o),nt=this.options.direction,lt=A.offsetWidth,Et=A.offsetHeight,Pt=R(this.options.offset),Lt=this._getAnchor();nt==="top"?(h=lt/2,y=Et):nt==="bottom"?(h=lt/2,y=0):nt==="center"?(h=lt/2,y=Et/2):nt==="right"?(h=0,y=Et/2):nt==="left"?(h=lt,y=Et/2):Z.x<P.x?(nt="right",h=0,y=Et/2):(nt="left",h=lt+(Pt.x+Lt.x)*2,y=Et/2),o=o.subtract(R(h,y,!0)).add(Pt).add(Lt),Ce(A,"leaflet-tooltip-right"),Ce(A,"leaflet-tooltip-left"),Ce(A,"leaflet-tooltip-top"),Ce(A,"leaflet-tooltip-bottom"),Jt(A,"leaflet-tooltip-"+nt),Zt(A,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Ve(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lm=function(o,h){return new mu(o,h)};ie.include({openTooltip:function(o,h,y){return this._initOverlay(mu,o,h,y).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),xe.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mu,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[h](y),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Le||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Ft(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ft(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,y,E;this._tooltip.options.sticky&&o.originalEvent&&(y=this._map.mouseEventToContainerPoint(o.originalEvent),E=this._map.containerPointToLayerPoint(y),h=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(h)}});var zc=Cr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),y=this.options;if(y.html instanceof Element?(Tn(h),h.appendChild(y.html)):h.innerHTML=y.html!==!1?y.html:"",y.bgPos){var E=R(y.bgPos);h.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function Ff(o){return new zc(o)}Cr.Default=Ya;var ua=xe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:zt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){N(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Se(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Er(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ws(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof pt?o:new pt(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,y=-o(-1/0,1/0),E=0,A=h.length,P;E<A;E++)P=h[E].style.zIndex,h[E]!==this._container&&P&&(y=o(y,+P));isFinite(y)&&(this.options.zIndex=y+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!zt.ielt9){Ve(this._container,this.options.opacity);var o=+new Date,h=!1,y=!1;for(var E in this._tiles){var A=this._tiles[E];if(!(!A.current||!A.loaded)){var P=Math.min(1,(o-A.loaded)/200);Ve(A.el,P),P<1?h=!0:(A.active?y=!0:this._onOpaqueTile(A),A.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),h&&(q(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===o?(this._levels[y].el.style.zIndex=h-Math.abs(o-y),this._onUpdateLevel(y)):(Se(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var E=this._levels[o],A=this._map;return E||(E=this._levels[o]={},E.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=h,E.origin=A.project(A.unproject(A.getPixelOrigin()),o).round(),E.zoom=o,this._setZoomTransform(E,A.getCenter(),A.getZoom()),w(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var o,h,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var E=h.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Se(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,y,E){var A=Math.floor(o/2),P=Math.floor(h/2),Z=y-1,nt=new pt(+A,+P);nt.z=+Z;var lt=this._tileCoordsToKey(nt),Et=this._tiles[lt];return Et&&Et.active?(Et.retain=!0,!0):(Et&&Et.loaded&&(Et.retain=!0),Z>E?this._retainParent(A,P,Z,E):!1)},_retainChildren:function(o,h,y,E){for(var A=2*o;A<2*o+2;A++)for(var P=2*h;P<2*h+2;P++){var Z=new pt(A,P);Z.z=y+1;var nt=this._tileCoordsToKey(Z),lt=this._tiles[nt];if(lt&&lt.active){lt.retain=!0;continue}else lt&&lt.loaded&&(lt.retain=!0);y+1<E&&this._retainChildren(A,P,y+1,E)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,y,E){var A=Math.round(h);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var P=this.options.updateWhenZooming&&A!==this._tileZoom;(!E||P)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(o),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var y in this._levels)this._setZoomTransform(this._levels[y],o,h)},_setZoomTransform:function(o,h,y){var E=this._map.getZoomScale(y,o.zoom),A=o.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(h,y)).round();zt.any3d?Jn(o.el,A,E):Zt(o.el,A)},_resetGrid:function(){var o=this._map,h=o.options.crs,y=this._tileSize=this.getTileSize(),E=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],E).x/y.x),Math.ceil(o.project([0,h.wrapLng[1]],E).x/y.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],E).y/y.x),Math.ceil(o.project([h.wrapLat[1],0],E).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,y=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),E=h.getZoomScale(y,this._tileZoom),A=h.project(o,this._tileZoom).floor(),P=h.getSize().divideBy(E*2);return new ht(A.subtract(P),A.add(P))},_update:function(o){var h=this._map;if(h){var y=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(o),A=this._pxBoundsToTileRange(E),P=A.getCenter(),Z=[],nt=this.options.keepBuffer,lt=new ht(A.getBottomLeft().subtract([nt,-nt]),A.getTopRight().add([nt,-nt]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Et in this._tiles){var Pt=this._tiles[Et].coords;(Pt.z!==this._tileZoom||!lt.contains(new pt(Pt.x,Pt.y)))&&(this._tiles[Et].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(o,y);return}for(var Lt=A.min.y;Lt<=A.max.y;Lt++)for(var Nt=A.min.x;Nt<=A.max.x;Nt++){var Xt=new pt(Nt,Lt);if(Xt.z=this._tileZoom,!!this._isValidTile(Xt)){var Ue=this._tiles[this._tileCoordsToKey(Xt)];Ue?Ue.current=!0:Z.push(Xt)}}if(Z.sort(function(qn,Li){return qn.distanceTo(P)-Li.distanceTo(P)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qe=document.createDocumentFragment();for(Nt=0;Nt<Z.length;Nt++)this._addTile(Z[Nt],Qe);this._level.el.appendChild(Qe)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var y=this._globalTileRange;if(!h.wrapLng&&(o.x<y.min.x||o.x>y.max.x)||!h.wrapLat&&(o.y<y.min.y||o.y>y.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(o);return Ct(this.options.bounds).overlaps(E)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,y=this.getTileSize(),E=o.scaleBy(y),A=E.add(y),P=h.unproject(E,o.z),Z=h.unproject(A,o.z);return[P,Z]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),y=new V(h[0],h[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),y=new pt(+h[0],+h[1]);return y.z=+h[2],y},_removeTile:function(o){var h=this._tiles[o];h&&(Se(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Jt(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=w,o.onmousemove=w,zt.ielt9&&this.options.opacity<1&&Ve(o,this.options.opacity)},_addTile:function(o,h){var y=this._getTilePos(o),E=this._tileCoordsToKey(o),A=this.createTile(this._wrapCoords(o),c(this._tileReady,this,o));this._initTile(A),this.createTile.length<2&&F(c(this._tileReady,this,o,null,A)),Zt(A,y),this._tiles[E]={el:A,coords:o,current:!0},h.appendChild(A),this.fire("tileloadstart",{tile:A,coords:o})},_tileReady:function(o,h,y){h&&this.fire("tileerror",{error:h,tile:y,coords:o});var E=this._tileCoordsToKey(o);y=this._tiles[E],y&&(y.loaded=+new Date,this._map._fadeAnimated?(Ve(y.el,0),q(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),h||(Jt(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),zt.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new pt(this._wrapX?v(o.x,this._wrapX):o.x,this._wrapY?v(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new ht(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function ir(o){return new ua(o)}var ca=ua.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=N(this,h),h.detectRetina&&zt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var y=document.createElement("img");return Ft(y,"load",c(this._tileOnLoad,this,h,y)),Ft(y,"error",c(this._tileOnError,this,h,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(o),y},getTileUrl:function(o){var h={r:zt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=y),h["-y"]=y}return X(this._url,s(h,this.options))},_tileOnLoad:function(o,h){zt.ielt9?setTimeout(c(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,y){var E=this.options.errorTileUrl;E&&h.getAttribute("src")!==E&&(h.src=E),o(y,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,y=this.options.zoomReverse,E=this.options.zoomOffset;return y&&(o=h-o),o+E},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=w,h.onerror=w,!h.complete)){h.src=ct;var y=this._tiles[o].coords;Se(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:y})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",ct),ua.prototype._removeTile.call(this,o)},_tileReady:function(o,h,y){if(!(!this._map||y&&y.getAttribute("src")===ct))return ua.prototype._tileReady.call(this,o,h,y)}});function Ai(o,h){return new ca(o,h)}var Ci=ca.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var y=s({},this.defaultWmsParams);for(var E in h)E in this.options||(y[E]=h[E]);h=N(this,h);var A=h.detectRetina&&zt.retina?2:1,P=this.getTileSize();y.width=P.x*A,y.height=P.y*A,this.wmsParams=y},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,ca.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),y=this._crs,E=bt(y.project(h[0]),y.project(h[1])),A=E.min,P=E.max,Z=(this._wmsVersion>=1.3&&this._crs===sn?[A.y,A.x,P.y,P.x]:[A.x,A.y,P.x,P.y]).join(","),nt=ca.prototype.getTileUrl.call(this,o);return nt+H(this.wmsParams,nt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(o,h){return s(this.wmsParams,o),h||this.redraw(),this}});function eo(o,h){return new Ci(o,h)}ca.WMS=Ci,Ai.wms=eo;var rr=xe.extend({options:{padding:.1},initialize:function(o){N(this,o),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Jt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var y=this._map.getZoomScale(h,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,h),P=E.multiplyBy(-y).add(A).subtract(this._map._getNewPixelOrigin(o,h));zt.any3d?Jn(this._container,P,y):Zt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),y=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new ht(y,y.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Tl=rr.extend({options:{tolerance:0},getEvents:function(){var o=rr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ft(o,"mousemove",this._onMouseMove,this),Ft(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Se(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rr.prototype._update.call(this);var o=this._bounds,h=this._container,y=o.getSize(),E=zt.retina?2:1;Zt(h,o.min),h.width=E*y.x,h.height=E*y.y,h.style.width=y.x+"px",h.style.height=y.y+"px",zt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){rr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[p(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,y=h.next,E=h.prev;y?y.prev=E:this._drawLast=E,E?E.next=y:this._drawFirst=y,delete o._order,delete this._layers[p(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),y=[],E,A;for(A=0;A<h.length;A++){if(E=Number(h[A]),isNaN(E))return;y.push(E)}o.options._dashArray=y}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ht,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var y=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)o=E.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var y,E,A,P,Z=o._parts,nt=Z.length,lt=this._ctx;if(nt){for(lt.beginPath(),y=0;y<nt;y++){for(E=0,A=Z[y].length;E<A;E++)P=Z[y][E],lt[E?"lineTo":"moveTo"](P.x,P.y);h&&lt.closePath()}this._fillStroke(lt,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,y=this._ctx,E=Math.max(Math.round(o._radius),1),A=(Math.max(Math.round(o._radiusY),1)||E)/E;A!==1&&(y.save(),y.scale(1,A)),y.beginPath(),y.arc(h.x,h.y/A,E,0,Math.PI*2,!1),A!==1&&y.restore(),this._fillStroke(y,o)}},_fillStroke:function(o,h){var y=h.options;y.fill&&(o.globalAlpha=y.fillOpacity,o.fillStyle=y.fillColor||y.color,o.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=y.opacity,o.lineWidth=y.weight,o.strokeStyle=y.color,o.lineCap=y.lineCap,o.lineJoin=y.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),y,E,A=this._drawFirst;A;A=A.next)y=A.layer,y.options.interactive&&y._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(y))&&(E=y);this._fireEvent(E?[E]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var y,E,A=this._drawFirst;A;A=A.next)y=A.layer,y.options.interactive&&y._containsPoint(h)&&(E=y);E!==this._hoveredLayer&&(this._handleMouseOut(o),E&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([E],o,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,y){this._map._fireDOMEvent(h,y||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var y=h.next,E=h.prev;if(y)y.prev=E;else return;E?E.next=y:y&&(this._drawFirst=y),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var y=h.next,E=h.prev;if(E)E.next=y;else return;y?y.prev=E:E&&(this._drawLast=E),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function wl(o){return zt.canvas?new Tl(o):null}var ha=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),no={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=ha("shape");Jt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=ha("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;Se(h),o.removeInteractiveTarget(h),delete this._layers[p(o)]},_updateStyle:function(o){var h=o._stroke,y=o._fill,E=o.options,A=o._container;A.stroked=!!E.stroke,A.filled=!!E.fill,E.stroke?(h||(h=o._stroke=ha("stroke")),A.appendChild(h),h.weight=E.weight+"px",h.color=E.color,h.opacity=E.opacity,E.dashArray?h.dashStyle=W(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=E.lineCap.replace("butt","flat"),h.joinstyle=E.lineJoin):h&&(A.removeChild(h),o._stroke=null),E.fill?(y||(y=o._fill=ha("fill")),A.appendChild(y),y.color=E.fillColor||E.color,y.opacity=E.fillOpacity):y&&(A.removeChild(y),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),y=Math.round(o._radius),E=Math.round(o._radiusY||y);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+y+","+E+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){Er(o._container)},_bringToBack:function(o){ws(o._container)}},El=zt.vml?ha:Fr,Cs=rr.extend({_initContainer:function(){this._container=El("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=El("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Se(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rr.prototype._update.call(this);var o=this._bounds,h=o.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,y.setAttribute("width",h.x),y.setAttribute("height",h.y)),Zt(y,o.min),y.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=El("path");o.options.className&&Jt(h,o.options.className),o.options.interactive&&Jt(h,"leaflet-interactive"),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Se(o._path),o.removeInteractiveTarget(o._path),delete this._layers[p(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,y=o.options;h&&(y.stroke?(h.setAttribute("stroke",y.color),h.setAttribute("stroke-opacity",y.opacity),h.setAttribute("stroke-width",y.weight),h.setAttribute("stroke-linecap",y.lineCap),h.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?h.setAttribute("stroke-dasharray",y.dashArray):h.removeAttribute("stroke-dasharray"),y.dashOffset?h.setAttribute("stroke-dashoffset",y.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),y.fill?(h.setAttribute("fill",y.fillColor||y.color),h.setAttribute("fill-opacity",y.fillOpacity),h.setAttribute("fill-rule",y.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,ds(o._parts,h))},_updateCircle:function(o){var h=o._point,y=Math.max(Math.round(o._radius),1),E=Math.max(Math.round(o._radiusY),1)||y,A="a"+y+","+E+" 0 1,0 ",P=o._empty()?"M0 0":"M"+(h.x-y)+","+h.y+A+y*2+",0 "+A+-y*2+",0 ";this._setPath(o,P)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){Er(o._path)},_bringToBack:function(o){ws(o._path)}});zt.vml&&Cs.include(no);function fa(o){return zt.svg||zt.vml?new Cs(o):null}ie.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&wl(o)||fa(o)}});var Hf=Qa.extend({initialize:function(o,h){Qa.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Ct(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Ri(o,h){return new Hf(o,h)}Cs.create=El,Cs.pointsToPath=ds,xi.geometryToLayer=gl,xi.coordsToLatLng=hu,xi.coordsToLatLngs=yl,xi.latLngToCoords=_l,xi.latLngsToCoords=fu,xi.getFeature=er,xi.asFeature=Ja,ie.mergeOptions({boxZoom:!0});var gu=hi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),jn(),ia(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ft(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),Jt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new ht(this._point,this._startPoint),y=h.getSize();Zt(this._box,h.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(Se(this._box),Ce(this._container,"leaflet-crosshair")),Yi(),ul(),_e(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var h=new V(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",gu),ie.mergeOptions({doubleClickZoom:!0});var Ir=hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,y=h.getZoom(),E=h.options.zoomDelta,A=o.originalEvent.shiftKey?y-E:y+E;h.options.doubleClickZoom==="center"?h.setZoom(A):h.setZoomAround(o.containerPoint,A)}});ie.addInitHook("addHandler","doubleClickZoom",Ir),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Uc=hi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new tr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Jt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ce(this._map._container,"leaflet-grab"),Ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Ct(this._map.options.maxBounds);this._offsetLimit=bt(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),y=this._initialWorldOffset,E=this._draggable._newPos.x,A=(E-h+y)%o+h-y,P=(E+h+y)%o-h-y,Z=Math.abs(A+y)<Math.abs(P+y)?A:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(o){var h=this._map,y=h.options,E=!y.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),E)h.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,Z=y.easeLinearity,nt=A.multiplyBy(Z/P),lt=nt.distanceTo([0,0]),Et=Math.min(y.inertiaMaxSpeed,lt),Pt=nt.multiplyBy(Et/lt),Lt=Et/(y.inertiaDeceleration*Z),Nt=Pt.multiplyBy(-Lt/2).round();!Nt.x&&!Nt.y?h.fire("moveend"):(Nt=h._limitOffset(Nt,h.options.maxBounds),F(function(){h.panBy(Nt,{duration:Lt,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",Uc),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bl=hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ft(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,y=o.scrollTop||h.scrollTop,E=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(E,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},y=this.keyCodes,E,A;for(E=0,A=y.left.length;E<A;E++)h[y.left[E]]=[-1*o,0];for(E=0,A=y.right.length;E<A;E++)h[y.right[E]]=[o,0];for(E=0,A=y.down.length;E<A;E++)h[y.down[E]]=[0,o];for(E=0,A=y.up.length;E<A;E++)h[y.up[E]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},y=this.keyCodes,E,A;for(E=0,A=y.zoomIn.length;E<A;E++)h[y.zoomIn[E]]=o;for(E=0,A=y.zoomOut.length;E<A;E++)h[y.zoomOut[E]]=-o},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,y=this._map,E;if(h in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(E=this._panKeys[h],o.shiftKey&&(E=R(E).multiplyBy(3)),y.options.maxBounds&&(E=y._limitOffset(R(E),y.options.maxBounds)),y.options.worldCopyJump){var A=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(E)));y.panTo(A)}else y.panBy(E)}else if(h in this._zoomKeys)y.setZoom(y.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;Fn(o)}}});ie.addInitHook("addHandler","keyboard",bl),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Rs=hi.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=ra(o),y=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var E=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),E),Fn(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),y=this._map.options.zoomSnap||0;o._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,P=y?Math.ceil(A/y)*y:A,Z=o._limitZoom(h+(this._delta>0?P:-P))-h;this._delta=0,this._startTime=null,Z&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+Z):o.setZoomAround(this._lastMousePos,h+Z))}});ie.addInitHook("addHandler","scrollWheelZoom",Rs);var Bc=600;ie.mergeOptions({tapHold:zt.touchNative&&zt.safari&&zt.mobile,tapTolerance:15});var yu=hi.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new pt(h.clientX,h.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",Pe),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Bc),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){_e(document,"touchend",Pe),_e(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new pt(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var y=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});y._simulated=!0,h.target.dispatchEvent(y)}});ie.addInitHook("addHandler","tapHold",yu),ie.mergeOptions({touchZoom:zt.touch,bounceAtZoomLimits:!0});var da=hi.extend({addHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var y=h.mouseEventToContainerPoint(o.touches[0]),E=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(y.add(E)._divideBy(2))),this._startDist=y.distanceTo(E),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),Pe(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,y=h.mouseEventToContainerPoint(o.touches[0]),E=h.mouseEventToContainerPoint(o.touches[1]),A=y.distanceTo(E)/this._startDist;if(this._zoom=h.getScaleZoom(A,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&A<1||this._zoom>h.getMaxZoom()&&A>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var P=y._add(E)._divideBy(2)._subtract(this._centerPoint);if(A===1&&P.x===0&&P.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var Z=c(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(Z,this,!0),Pe(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",da),ie.BoxZoom=gu,ie.DoubleClickZoom=Ir,ie.Drag=Uc,ie.Keyboard=bl,ie.ScrollWheelZoom=Rs,ie.TapHold=yu,ie.TouchZoom=da,n.Bounds=ht,n.Browser=zt,n.CRS=ye,n.Canvas=Tl,n.Circle=Nc,n.CircleMarker=ml,n.Class=At,n.Control=Mn,n.DivIcon=zc,n.DivOverlay=nr,n.DomEvent=su,n.DomUtil=cl,n.Draggable=tr,n.Evented=gt,n.FeatureGroup=Le,n.GeoJSON=xi,n.GridLayer=ua,n.Handler=hi,n.Icon=Cr,n.ImageOverlay=Rr,n.LatLng=It,n.LatLngBounds=V,n.Layer=xe,n.LayerGroup=ze,n.LineUtil=O,n.Map=ie,n.Marker=Xa,n.Mixin=aa,n.Path=ts,n.Point=pt,n.PolyUtil=Ka,n.Polygon=Qa,n.Polyline=es,n.Popup=vl,n.PosAnimation=sa,n.Projection=Rt,n.Rectangle=Hf,n.Renderer=rr,n.SVG=Cs,n.SVGOverlay=As,n.TileLayer=ca,n.Tooltip=mu,n.Transformation=zn,n.Util=B,n.VideoOverlay=pu,n.bind=c,n.bounds=bt,n.canvas=wl,n.circle=km,n.circleMarker=zf,n.control=Hn,n.divIcon=Ff,n.extend=s,n.featureGroup=Ar,n.geoJSON=du,n.geoJson=Uf,n.gridLayer=ir,n.icon=cu,n.imageOverlay=to,n.latLng=St,n.latLngBounds=Ct,n.layerGroup=Jr,n.map=Sr,n.marker=Oc,n.point=R,n.polygon=Si,n.polyline=Dm,n.popup=Mm,n.rectangle=Ri,n.setOptions=N,n.stamp=p,n.svg=fa,n.svgOverlay=jf,n.tileLayer=Ai,n.tooltip=Lm,n.transformation=wi,n.version=i,n.videoOverlay=Bf;var io=window.L;n.noConflict=function(){return window.L=io,this},window.L=n}))})(Ph,Ph.exports)),Ph.exports}var om=L6();function w0(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function E0(e,t){return t==null?function(i,s){const l=$.useRef(void 0);return l.current||(l.current=e(i,s)),l}:function(i,s){const l=$.useRef(void 0);l.current||(l.current=e(i,s));const c=$.useRef(i),{instance:d}=l.current;return $.useEffect(function(){c.current!==i&&(t(d,i,c.current),c.current=i)},[d,i,t]),l}}function O6(e,t){$.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function KR(e){return function(n){const i=v0(),s=e(T0(n,i),i);return GR(i.map,n.attribution),ZR(s.current,n.eventHandlers),O6(s.current,i),s}}function N6(e,t){const n=E0(e,t),i=KR(n);return I6(i)}function V6(e,t){const n=E0(e),i=D6(n,t);return P6(i)}function z6(e,t){const n=E0(e,t),i=KR(n);return k6(i)}function U6(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function B6(){return v0().map}function j6(e){const t=B6();return $.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function F6({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:l,placeholder:c,style:d,whenReady:p,zoom:m,...v},w){const[b]=$.useState({className:s,id:l,style:d}),[x,D]=$.useState(null),N=$.useRef(void 0);$.useImperativeHandle(w,()=>x?.map??null,[x]);const H=$.useCallback(X=>{if(X!==null&&!N.current){const W=new om.Map(X,v);N.current=W,n!=null&&m!=null?W.setView(n,m):e!=null&&W.fitBounds(e,t),p!=null&&W.whenReady(p),D(C6(W))}},[]);$.useEffect(()=>()=>{x?.map.remove()},[x]);const U=x?Ep.createElement(_0,{value:x},i):c??null;return Ep.createElement("div",{...b,ref:H},U)}const $R=$.forwardRef(F6),WR=N6(function({position:t,...n},i){const s=new om.Marker(t,n);return w0(s,R6(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),H6=V6(function(t,n){const i=new om.Popup(t,n.overlayContainer);return w0(i,n)},function(t,n,{position:i},s){$.useEffect(function(){const{instance:c}=t;function d(m){m.popup===c&&(c.update(),s(!0))}function p(m){m.popup===c&&s(!1)}return n.map.on({popupopen:d,popupclose:p}),n.overlayContainer==null?(i!=null&&c.setLatLng(i),c.openOn(n.map)):n.overlayContainer.bindPopup(c),function(){n.map.off({popupopen:d,popupclose:p}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(c)}},[t,n,s,i])}),YR=z6(function({url:t,...n},i){const s=new om.TileLayer(t,T0(n,i));return w0(s,i)},function(t,n,i){U6(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),q6=()=>{};var PS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},G6=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=e[n++];t[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=e[n++],c=e[n++],d=e[n++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const l=e[n++],c=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return t.join("")},QR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const l=e[s],c=s+1<e.length,d=c?e[s+1]:0,p=s+2<e.length,m=p?e[s+2]:0,v=l>>2,w=(l&3)<<4|d>>4;let b=(d&15)<<2|m>>6,x=m&63;p||(x=64,c||(b=64)),i.push(n[v],n[w],n[b],n[x])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(XR(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):G6(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const l=n[e.charAt(s++)],d=s<e.length?n[e.charAt(s)]:0;++s;const m=s<e.length?n[e.charAt(s)]:64;++s;const w=s<e.length?n[e.charAt(s)]:64;if(++s,l==null||d==null||m==null||w==null)throw new Z6;const b=l<<2|d>>4;if(i.push(b),m!==64){const x=d<<4&240|m>>2;if(i.push(x),w!==64){const D=m<<6&192|w;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Z6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K6=function(e){const t=XR(e);return QR.encodeByteArray(t,!0)},kp=function(e){return K6(e).replace(/\./g,"")},JR=function(e){try{return QR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=()=>$6().__FIREBASE_DEFAULTS__,Y6=()=>{if(typeof process>"u"||typeof PS>"u")return;const e=PS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},X6=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&JR(e[1]);return t&&JSON.parse(t)},lm=()=>{try{return q6()||W6()||Y6()||X6()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tI=e=>lm()?.emulatorHosts?.[e],eI=e=>{const t=tI(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},nI=()=>lm()?.config,iI=e=>lm()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b0(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[kp(JSON.stringify(n)),kp(JSON.stringify(c)),""].join(".")}const Gh={};function J6(){const e={prod:[],emulator:[]};for(const t of Object.keys(Gh))Gh[t]?e.emulator.push(t):e.prod.push(t);return e}function t9(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let kS=!1;function S0(e,t){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||Gh[e]===t||Gh[e]||kS)return;Gh[e]=t;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=J6().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{kS=!0,c()},b}function v(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=t9(i),x=n("text"),D=document.getElementById(x)||document.createElement("span"),N=n("learnmore"),H=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),X=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const W=b.element;d(W),v(H,N);const dt=m();p(X,U),W.append(X,D,H,dt),document.body.appendChild(W)}l?(D.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vi())}function n9(){const e=lm()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r9(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function s9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a9(){const e=vi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function o9(){return!n9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l9(){try{return typeof indexedDB=="object"}catch{return!1}}function u9(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="FirebaseError";class Xs extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=c9,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cf.prototype.create)}}class Cf{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,l=this.errors[t],c=l?h9(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Xs(s,d,i)}}function h9(e,t){return e.replace(f9,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const f9=/\{\$([^}]+)}/g;function d9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Gl(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const l=e[s],c=t[s];if(DS(l)&&DS(c)){if(!Gl(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function DS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function kh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(l)}}),t}function Dh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function p9(e,t){const n=new m9(e,t);return n.subscribe.bind(n)}class m9{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");g9(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=qy),s.error===void 0&&(s.error=qy),s.complete===void 0&&(s.complete=qy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g9(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function qy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(e){return e&&e._delegate?e._delegate:e}class qo{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Q6;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(v9(t))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(t=Nl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Nl){return this.instances.has(t)}getOptions(t=Nl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&t(l,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_9(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Nl){return this.component?this.component.multipleInstances?t:Nl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _9(e){return e===Nl?void 0:e}function v9(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new y9(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(de||(de={}));const w9={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},E9=de.INFO,b9={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},S9=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=b9[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class x0{constructor(t){this.name=t,this._logLevel=E9,this._logHandler=S9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in de))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?w9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...t),this._logHandler(this,de.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...t),this._logHandler(this,de.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,de.INFO,...t),this._logHandler(this,de.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,de.WARN,...t),this._logHandler(this,de.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...t),this._logHandler(this,de.ERROR,...t)}}const x9=(e,t)=>t.some(n=>e instanceof n);let MS,LS;function A9(){return MS||(MS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C9(){return LS||(LS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sI=new WeakMap,U_=new WeakMap,aI=new WeakMap,Gy=new WeakMap,A0=new WeakMap;function R9(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(No(e.result)),s()},c=()=>{i(e.error),s()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&sI.set(n,e)}).catch(()=>{}),A0.set(t,e),t}function I9(e){if(U_.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});U_.set(e,t)}let B_={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return U_.get(e);if(t==="objectStoreNames")return e.objectStoreNames||aI.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function P9(e){B_=e(B_)}function k9(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Zy(this),t,...n);return aI.set(i,t.sort?t.sort():[t]),No(i)}:C9().includes(e)?function(...t){return e.apply(Zy(this),t),No(sI.get(this))}:function(...t){return No(e.apply(Zy(this),t))}}function D9(e){return typeof e=="function"?k9(e):(e instanceof IDBTransaction&&I9(e),x9(e,A9())?new Proxy(e,B_):e)}function No(e){if(e instanceof IDBRequest)return R9(e);if(Gy.has(e))return Gy.get(e);const t=D9(e);return t!==e&&(Gy.set(e,t),A0.set(t,e)),t}const Zy=e=>A0.get(e);function M9(e,t,{blocked:n,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(e,t),d=No(c);return i&&c.addEventListener("upgradeneeded",p=>{i(No(c.result),p.oldVersion,p.newVersion,No(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const L9=["get","getKey","getAll","getAllKeys","count"],O9=["put","add","delete","clear"],Ky=new Map;function OS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ky.get(t))return Ky.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=O9.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||L9.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),s&&p.done]))[0]};return Ky.set(t,l),l}P9(e=>({...e,get:(t,n,i)=>OS(t,n)||e.get(t,n,i),has:(t,n)=>!!OS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V9(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function V9(e){return e.getComponent()?.type==="VERSION"}const j_="@firebase/app",NS="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new x0("@firebase/app"),z9="@firebase/app-compat",U9="@firebase/analytics-compat",B9="@firebase/analytics",j9="@firebase/app-check-compat",F9="@firebase/app-check",H9="@firebase/auth",q9="@firebase/auth-compat",G9="@firebase/database",Z9="@firebase/data-connect",K9="@firebase/database-compat",$9="@firebase/functions",W9="@firebase/functions-compat",Y9="@firebase/installations",X9="@firebase/installations-compat",Q9="@firebase/messaging",J9="@firebase/messaging-compat",t5="@firebase/performance",e5="@firebase/performance-compat",n5="@firebase/remote-config",i5="@firebase/remote-config-compat",r5="@firebase/storage",s5="@firebase/storage-compat",a5="@firebase/firestore",o5="@firebase/ai",l5="@firebase/firestore-compat",u5="firebase",c5="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="[DEFAULT]",h5={[j_]:"fire-core",[z9]:"fire-core-compat",[B9]:"fire-analytics",[U9]:"fire-analytics-compat",[F9]:"fire-app-check",[j9]:"fire-app-check-compat",[H9]:"fire-auth",[q9]:"fire-auth-compat",[G9]:"fire-rtdb",[Z9]:"fire-data-connect",[K9]:"fire-rtdb-compat",[$9]:"fire-fn",[W9]:"fire-fn-compat",[Y9]:"fire-iid",[X9]:"fire-iid-compat",[Q9]:"fire-fcm",[J9]:"fire-fcm-compat",[t5]:"fire-perf",[e5]:"fire-perf-compat",[n5]:"fire-rc",[i5]:"fire-rc-compat",[r5]:"fire-gcs",[s5]:"fire-gcs-compat",[a5]:"fire-fst",[l5]:"fire-fst-compat",[o5]:"fire-vertex","fire-js":"fire-js",[u5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new Map,f5=new Map,H_=new Map;function VS(e,t){try{e.container.addComponent(t)}catch(n){Ra.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zl(e){const t=e.name;if(H_.has(t))return Ra.debug(`There were multiple attempts to register component ${t}.`),!1;H_.set(t,e);for(const n of Dp.values())VS(n,e);for(const n of f5.values())VS(n,e);return!0}function um(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zr(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vo=new Cf("app","Firebase",d5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=c5;function oI(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:F_,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Vo.create("bad-app-name",{appName:String(s)});if(n||(n=nI()),!n)throw Vo.create("no-options");const l=Dp.get(s);if(l){if(Gl(n,l.options)&&Gl(i,l.config))return l;throw Vo.create("duplicate-app",{appName:s})}const c=new T9(s);for(const p of H_.values())c.addComponent(p);const d=new p5(n,i,c);return Dp.set(s,d),d}function C0(e=F_){const t=Dp.get(e);if(!t&&e===F_&&nI())return oI();if(!t)throw Vo.create("no-app",{appName:e});return t}function js(e,t,n){let i=h5[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=t.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${t}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ra.warn(c.join(" "));return}Zl(new qo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="firebase-heartbeat-database",g5=1,of="firebase-heartbeat-store";let $y=null;function lI(){return $y||($y=M9(m5,g5,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(of)}catch(n){console.warn(n)}}}}).catch(e=>{throw Vo.create("idb-open",{originalErrorMessage:e.message})})),$y}async function y5(e){try{const n=(await lI()).transaction(of),i=await n.objectStore(of).get(uI(e));return await n.done,i}catch(t){if(t instanceof Xs)Ra.warn(t.message);else{const n=Vo.create("idb-get",{originalErrorMessage:t?.message});Ra.warn(n.message)}}}async function zS(e,t){try{const i=(await lI()).transaction(of,"readwrite");await i.objectStore(of).put(t,uI(e)),await i.done}catch(n){if(n instanceof Xs)Ra.warn(n.message);else{const i=Vo.create("idb-set",{originalErrorMessage:n?.message});Ra.warn(i.message)}}}function uI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=1024,v5=30;class T5{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E5(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=US();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>v5){const s=b5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ra.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=US(),{heartbeatsToSend:n,unsentEntries:i}=w5(this._heartbeatsCache.heartbeats),s=kp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ra.warn(t),""}}}function US(){return new Date().toISOString().substring(0,10)}function w5(e,t=_5){const n=[];let i=e.slice();for(const s of e){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),BS(n)>t){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),BS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class E5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l9()?u9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y5(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return zS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return zS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function BS(e){return kp(JSON.stringify({version:2,heartbeats:e})).length}function b5(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(e){Zl(new qo("platform-logger",t=>new N9(t),"PRIVATE")),Zl(new qo("heartbeat",t=>new T5(t),"PRIVATE")),js(j_,NS,e),js(j_,NS,"esm2020"),js("fire-js","")}S5("");var x5="firebase",A5="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(x5,A5,"app");var jS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,cI;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(j,M){function z(){}z.prototype=M.prototype,j.D=M.prototype,j.prototype=new z,j.prototype.constructor=j,j.C=function(G,F,q){for(var B=Array(arguments.length-2),At=2;At<arguments.length;At++)B[At-2]=arguments[At];return M.prototype[F].apply(G,B)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,M,z){z||(z=0);var G=Array(16);if(typeof M=="string")for(var F=0;16>F;++F)G[F]=M.charCodeAt(z++)|M.charCodeAt(z++)<<8|M.charCodeAt(z++)<<16|M.charCodeAt(z++)<<24;else for(F=0;16>F;++F)G[F]=M[z++]|M[z++]<<8|M[z++]<<16|M[z++]<<24;M=j.g[0],z=j.g[1],F=j.g[2];var q=j.g[3],B=M+(q^z&(F^q))+G[0]+3614090360&4294967295;M=z+(B<<7&4294967295|B>>>25),B=q+(F^M&(z^F))+G[1]+3905402710&4294967295,q=M+(B<<12&4294967295|B>>>20),B=F+(z^q&(M^z))+G[2]+606105819&4294967295,F=q+(B<<17&4294967295|B>>>15),B=z+(M^F&(q^M))+G[3]+3250441966&4294967295,z=F+(B<<22&4294967295|B>>>10),B=M+(q^z&(F^q))+G[4]+4118548399&4294967295,M=z+(B<<7&4294967295|B>>>25),B=q+(F^M&(z^F))+G[5]+1200080426&4294967295,q=M+(B<<12&4294967295|B>>>20),B=F+(z^q&(M^z))+G[6]+2821735955&4294967295,F=q+(B<<17&4294967295|B>>>15),B=z+(M^F&(q^M))+G[7]+4249261313&4294967295,z=F+(B<<22&4294967295|B>>>10),B=M+(q^z&(F^q))+G[8]+1770035416&4294967295,M=z+(B<<7&4294967295|B>>>25),B=q+(F^M&(z^F))+G[9]+2336552879&4294967295,q=M+(B<<12&4294967295|B>>>20),B=F+(z^q&(M^z))+G[10]+4294925233&4294967295,F=q+(B<<17&4294967295|B>>>15),B=z+(M^F&(q^M))+G[11]+2304563134&4294967295,z=F+(B<<22&4294967295|B>>>10),B=M+(q^z&(F^q))+G[12]+1804603682&4294967295,M=z+(B<<7&4294967295|B>>>25),B=q+(F^M&(z^F))+G[13]+4254626195&4294967295,q=M+(B<<12&4294967295|B>>>20),B=F+(z^q&(M^z))+G[14]+2792965006&4294967295,F=q+(B<<17&4294967295|B>>>15),B=z+(M^F&(q^M))+G[15]+1236535329&4294967295,z=F+(B<<22&4294967295|B>>>10),B=M+(F^q&(z^F))+G[1]+4129170786&4294967295,M=z+(B<<5&4294967295|B>>>27),B=q+(z^F&(M^z))+G[6]+3225465664&4294967295,q=M+(B<<9&4294967295|B>>>23),B=F+(M^z&(q^M))+G[11]+643717713&4294967295,F=q+(B<<14&4294967295|B>>>18),B=z+(q^M&(F^q))+G[0]+3921069994&4294967295,z=F+(B<<20&4294967295|B>>>12),B=M+(F^q&(z^F))+G[5]+3593408605&4294967295,M=z+(B<<5&4294967295|B>>>27),B=q+(z^F&(M^z))+G[10]+38016083&4294967295,q=M+(B<<9&4294967295|B>>>23),B=F+(M^z&(q^M))+G[15]+3634488961&4294967295,F=q+(B<<14&4294967295|B>>>18),B=z+(q^M&(F^q))+G[4]+3889429448&4294967295,z=F+(B<<20&4294967295|B>>>12),B=M+(F^q&(z^F))+G[9]+568446438&4294967295,M=z+(B<<5&4294967295|B>>>27),B=q+(z^F&(M^z))+G[14]+3275163606&4294967295,q=M+(B<<9&4294967295|B>>>23),B=F+(M^z&(q^M))+G[3]+4107603335&4294967295,F=q+(B<<14&4294967295|B>>>18),B=z+(q^M&(F^q))+G[8]+1163531501&4294967295,z=F+(B<<20&4294967295|B>>>12),B=M+(F^q&(z^F))+G[13]+2850285829&4294967295,M=z+(B<<5&4294967295|B>>>27),B=q+(z^F&(M^z))+G[2]+4243563512&4294967295,q=M+(B<<9&4294967295|B>>>23),B=F+(M^z&(q^M))+G[7]+1735328473&4294967295,F=q+(B<<14&4294967295|B>>>18),B=z+(q^M&(F^q))+G[12]+2368359562&4294967295,z=F+(B<<20&4294967295|B>>>12),B=M+(z^F^q)+G[5]+4294588738&4294967295,M=z+(B<<4&4294967295|B>>>28),B=q+(M^z^F)+G[8]+2272392833&4294967295,q=M+(B<<11&4294967295|B>>>21),B=F+(q^M^z)+G[11]+1839030562&4294967295,F=q+(B<<16&4294967295|B>>>16),B=z+(F^q^M)+G[14]+4259657740&4294967295,z=F+(B<<23&4294967295|B>>>9),B=M+(z^F^q)+G[1]+2763975236&4294967295,M=z+(B<<4&4294967295|B>>>28),B=q+(M^z^F)+G[4]+1272893353&4294967295,q=M+(B<<11&4294967295|B>>>21),B=F+(q^M^z)+G[7]+4139469664&4294967295,F=q+(B<<16&4294967295|B>>>16),B=z+(F^q^M)+G[10]+3200236656&4294967295,z=F+(B<<23&4294967295|B>>>9),B=M+(z^F^q)+G[13]+681279174&4294967295,M=z+(B<<4&4294967295|B>>>28),B=q+(M^z^F)+G[0]+3936430074&4294967295,q=M+(B<<11&4294967295|B>>>21),B=F+(q^M^z)+G[3]+3572445317&4294967295,F=q+(B<<16&4294967295|B>>>16),B=z+(F^q^M)+G[6]+76029189&4294967295,z=F+(B<<23&4294967295|B>>>9),B=M+(z^F^q)+G[9]+3654602809&4294967295,M=z+(B<<4&4294967295|B>>>28),B=q+(M^z^F)+G[12]+3873151461&4294967295,q=M+(B<<11&4294967295|B>>>21),B=F+(q^M^z)+G[15]+530742520&4294967295,F=q+(B<<16&4294967295|B>>>16),B=z+(F^q^M)+G[2]+3299628645&4294967295,z=F+(B<<23&4294967295|B>>>9),B=M+(F^(z|~q))+G[0]+4096336452&4294967295,M=z+(B<<6&4294967295|B>>>26),B=q+(z^(M|~F))+G[7]+1126891415&4294967295,q=M+(B<<10&4294967295|B>>>22),B=F+(M^(q|~z))+G[14]+2878612391&4294967295,F=q+(B<<15&4294967295|B>>>17),B=z+(q^(F|~M))+G[5]+4237533241&4294967295,z=F+(B<<21&4294967295|B>>>11),B=M+(F^(z|~q))+G[12]+1700485571&4294967295,M=z+(B<<6&4294967295|B>>>26),B=q+(z^(M|~F))+G[3]+2399980690&4294967295,q=M+(B<<10&4294967295|B>>>22),B=F+(M^(q|~z))+G[10]+4293915773&4294967295,F=q+(B<<15&4294967295|B>>>17),B=z+(q^(F|~M))+G[1]+2240044497&4294967295,z=F+(B<<21&4294967295|B>>>11),B=M+(F^(z|~q))+G[8]+1873313359&4294967295,M=z+(B<<6&4294967295|B>>>26),B=q+(z^(M|~F))+G[15]+4264355552&4294967295,q=M+(B<<10&4294967295|B>>>22),B=F+(M^(q|~z))+G[6]+2734768916&4294967295,F=q+(B<<15&4294967295|B>>>17),B=z+(q^(F|~M))+G[13]+1309151649&4294967295,z=F+(B<<21&4294967295|B>>>11),B=M+(F^(z|~q))+G[4]+4149444226&4294967295,M=z+(B<<6&4294967295|B>>>26),B=q+(z^(M|~F))+G[11]+3174756917&4294967295,q=M+(B<<10&4294967295|B>>>22),B=F+(M^(q|~z))+G[2]+718787259&4294967295,F=q+(B<<15&4294967295|B>>>17),B=z+(q^(F|~M))+G[9]+3951481745&4294967295,j.g[0]=j.g[0]+M&4294967295,j.g[1]=j.g[1]+(F+(B<<21&4294967295|B>>>11))&4294967295,j.g[2]=j.g[2]+F&4294967295,j.g[3]=j.g[3]+q&4294967295}i.prototype.u=function(j,M){M===void 0&&(M=j.length);for(var z=M-this.blockSize,G=this.B,F=this.h,q=0;q<M;){if(F==0)for(;q<=z;)s(this,j,q),q+=this.blockSize;if(typeof j=="string"){for(;q<M;)if(G[F++]=j.charCodeAt(q++),F==this.blockSize){s(this,G),F=0;break}}else for(;q<M;)if(G[F++]=j[q++],F==this.blockSize){s(this,G),F=0;break}}this.h=F,this.o+=M},i.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var M=1;M<j.length-8;++M)j[M]=0;var z=8*this.o;for(M=j.length-8;M<j.length;++M)j[M]=z&255,z/=256;for(this.u(j),j=Array(16),M=z=0;4>M;++M)for(var G=0;32>G;G+=8)j[z++]=this.g[M]>>>G&255;return j};function l(j,M){var z=d;return Object.prototype.hasOwnProperty.call(z,j)?z[j]:z[j]=M(j)}function c(j,M){this.h=M;for(var z=[],G=!0,F=j.length-1;0<=F;F--){var q=j[F]|0;G&&q==M||(z[F]=q,G=!1)}this.g=z}var d={};function p(j){return-128<=j&&128>j?l(j,function(M){return new c([M|0],0>M?-1:0)}):new c([j|0],0>j?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return w;if(0>j)return H(m(-j));for(var M=[],z=1,G=0;j>=z;G++)M[G]=j/z|0,z*=4294967296;return new c(M,0)}function v(j,M){if(j.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(j.charAt(0)=="-")return H(v(j.substring(1),M));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=m(Math.pow(M,8)),G=w,F=0;F<j.length;F+=8){var q=Math.min(8,j.length-F),B=parseInt(j.substring(F,F+q),M);8>q?(q=m(Math.pow(M,q)),G=G.j(q).add(m(B))):(G=G.j(z),G=G.add(m(B)))}return G}var w=p(0),b=p(1),x=p(16777216);e=c.prototype,e.m=function(){if(N(this))return-H(this).m();for(var j=0,M=1,z=0;z<this.g.length;z++){var G=this.i(z);j+=(0<=G?G:4294967296+G)*M,M*=4294967296}return j},e.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(D(this))return"0";if(N(this))return"-"+H(this).toString(j);for(var M=m(Math.pow(j,6)),z=this,G="";;){var F=dt(z,M).g;z=U(z,F.j(M));var q=((0<z.g.length?z.g[0]:z.h)>>>0).toString(j);if(z=F,D(z))return q+G;for(;6>q.length;)q="0"+q;G=q+G}},e.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function D(j){if(j.h!=0)return!1;for(var M=0;M<j.g.length;M++)if(j.g[M]!=0)return!1;return!0}function N(j){return j.h==-1}e.l=function(j){return j=U(this,j),N(j)?-1:D(j)?0:1};function H(j){for(var M=j.g.length,z=[],G=0;G<M;G++)z[G]=~j.g[G];return new c(z,~j.h).add(b)}e.abs=function(){return N(this)?H(this):this},e.add=function(j){for(var M=Math.max(this.g.length,j.g.length),z=[],G=0,F=0;F<=M;F++){var q=G+(this.i(F)&65535)+(j.i(F)&65535),B=(q>>>16)+(this.i(F)>>>16)+(j.i(F)>>>16);G=B>>>16,q&=65535,B&=65535,z[F]=B<<16|q}return new c(z,z[z.length-1]&-2147483648?-1:0)};function U(j,M){return j.add(H(M))}e.j=function(j){if(D(this)||D(j))return w;if(N(this))return N(j)?H(this).j(H(j)):H(H(this).j(j));if(N(j))return H(this.j(H(j)));if(0>this.l(x)&&0>j.l(x))return m(this.m()*j.m());for(var M=this.g.length+j.g.length,z=[],G=0;G<2*M;G++)z[G]=0;for(G=0;G<this.g.length;G++)for(var F=0;F<j.g.length;F++){var q=this.i(G)>>>16,B=this.i(G)&65535,At=j.i(F)>>>16,kt=j.i(F)&65535;z[2*G+2*F]+=B*kt,X(z,2*G+2*F),z[2*G+2*F+1]+=q*kt,X(z,2*G+2*F+1),z[2*G+2*F+1]+=B*At,X(z,2*G+2*F+1),z[2*G+2*F+2]+=q*At,X(z,2*G+2*F+2)}for(G=0;G<M;G++)z[G]=z[2*G+1]<<16|z[2*G];for(G=M;G<2*M;G++)z[G]=0;return new c(z,0)};function X(j,M){for(;(j[M]&65535)!=j[M];)j[M+1]+=j[M]>>>16,j[M]&=65535,M++}function W(j,M){this.g=j,this.h=M}function dt(j,M){if(D(M))throw Error("division by zero");if(D(j))return new W(w,w);if(N(j))return M=dt(H(j),M),new W(H(M.g),H(M.h));if(N(M))return M=dt(j,H(M)),new W(H(M.g),M.h);if(30<j.g.length){if(N(j)||N(M))throw Error("slowDivide_ only works with positive integers.");for(var z=b,G=M;0>=G.l(j);)z=ct(z),G=ct(G);var F=Q(z,1),q=Q(G,1);for(G=Q(G,2),z=Q(z,2);!D(G);){var B=q.add(G);0>=B.l(j)&&(F=F.add(z),q=B),G=Q(G,1),z=Q(z,1)}return M=U(j,F.j(M)),new W(F,M)}for(F=w;0<=j.l(M);){for(z=Math.max(1,Math.floor(j.m()/M.m())),G=Math.ceil(Math.log(z)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),q=m(z),B=q.j(M);N(B)||0<B.l(j);)z-=G,q=m(z),B=q.j(M);D(q)&&(q=b),F=F.add(q),j=U(j,B)}return new W(F,j)}e.A=function(j){return dt(this,j).h},e.and=function(j){for(var M=Math.max(this.g.length,j.g.length),z=[],G=0;G<M;G++)z[G]=this.i(G)&j.i(G);return new c(z,this.h&j.h)},e.or=function(j){for(var M=Math.max(this.g.length,j.g.length),z=[],G=0;G<M;G++)z[G]=this.i(G)|j.i(G);return new c(z,this.h|j.h)},e.xor=function(j){for(var M=Math.max(this.g.length,j.g.length),z=[],G=0;G<M;G++)z[G]=this.i(G)^j.i(G);return new c(z,this.h^j.h)};function ct(j){for(var M=j.g.length+1,z=[],G=0;G<M;G++)z[G]=j.i(G)<<1|j.i(G-1)>>>31;return new c(z,j.h)}function Q(j,M){var z=M>>5;M%=32;for(var G=j.g.length-z,F=[],q=0;q<G;q++)F[q]=0<M?j.i(q+z)>>>M|j.i(q+z+1)<<32-M:j.i(q+z);return new c(F,j.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,cI=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,zo=c}).apply(typeof jS<"u"?jS:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hI,Mh,fI,fp,q_,dI,pI,mI;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,S,C){return g==Array.prototype||g==Object.prototype||(g[S]=C.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var S=0;S<g.length;++S){var C=g[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=n(this);function s(g,S){if(S)t:{var C=i;g=g.split(".");for(var O=0;O<g.length-1;O++){var et=g[O];if(!(et in C))break t;C=C[et]}g=g[g.length-1],O=C[g],S=S(O),S!=O&&S!=null&&t(C,g,{configurable:!0,writable:!0,value:S})}}function l(g,S){g instanceof String&&(g+="");var C=0,O=!1,et={next:function(){if(!O&&C<g.length){var ft=C++;return{value:S(ft,g[ft]),done:!1}}return O=!0,{done:!0,value:void 0}}};return et[Symbol.iterator]=function(){return et},et}s("Array.prototype.values",function(g){return g||function(){return l(this,function(S,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(g){var S=typeof g;return S=S!="object"?S:g?Array.isArray(g)?"array":S:"null",S=="array"||S=="object"&&typeof g.length=="number"}function m(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function v(g,S,C){return g.call.apply(g.bind,arguments)}function w(g,S,C){if(!g)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(et,O),g.apply(S,et)}}return function(){return g.apply(S,arguments)}}function b(g,S,C){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,b.apply(null,arguments)}function x(g,S){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),g.apply(this,O)}}function D(g,S){function C(){}C.prototype=S.prototype,g.aa=S.prototype,g.prototype=new C,g.prototype.constructor=g,g.Qb=function(O,et,ft){for(var Rt=Array(arguments.length-2),he=2;he<arguments.length;he++)Rt[he-2]=arguments[he];return S.prototype[et].apply(O,Rt)}}function N(g){const S=g.length;if(0<S){const C=Array(S);for(let O=0;O<S;O++)C[O]=g[O];return C}return[]}function H(g,S){for(let C=1;C<arguments.length;C++){const O=arguments[C];if(p(O)){const et=g.length||0,ft=O.length||0;g.length=et+ft;for(let Rt=0;Rt<ft;Rt++)g[et+Rt]=O[Rt]}else g.push(O)}}class U{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function X(g){return/^[\s\xa0]*$/.test(g)}function W(){var g=d.navigator;return g&&(g=g.userAgent)?g:""}function dt(g){return dt[" "](g),g}dt[" "]=function(){};var ct=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Q(g,S,C){for(const O in g)S.call(C,g[O],O,g)}function j(g,S){for(const C in g)S.call(void 0,g[C],C,g)}function M(g){const S={};for(const C in g)S[C]=g[C];return S}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(g,S){let C,O;for(let et=1;et<arguments.length;et++){O=arguments[et];for(C in O)g[C]=O[C];for(let ft=0;ft<z.length;ft++)C=z[ft],Object.prototype.hasOwnProperty.call(O,C)&&(g[C]=O[C])}}function F(g){var S=1;g=g.split(":");const C=[];for(;0<S&&g.length;)C.push(g.shift()),S--;return g.length&&C.push(g.join(":")),C}function q(g){d.setTimeout(()=>{throw g},0)}function B(){var g=Ht;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class At{constructor(){this.h=this.g=null}add(S,C){const O=kt.get();O.set(S,C),this.h?this.h.next=O:this.g=O,this.h=O}}var kt=new U(()=>new st,g=>g.reset());class st{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,pt=!1,Ht=new At,R=()=>{const g=d.Promise.resolve(void 0);gt=()=>{g.then(ht)}};var ht=()=>{for(var g;g=B();){try{g.h.call(g.g)}catch(C){q(C)}var S=kt;S.j(g),100>S.h&&(S.h++,g.next=S.g,S.g=g)}pt=!1};function bt(){this.s=this.s,this.C=this.C}bt.prototype.s=!1,bt.prototype.ma=function(){this.s||(this.s=!0,this.N())},bt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var Ct=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};d.addEventListener("test",C,S),d.removeEventListener("test",C,S)}catch{}return g})();function It(g,S){if(V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var C=this.type=g.type,O=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget){if(ct){t:{try{dt(S.nodeName);var et=!0;break t}catch{}et=!1}et||(S=null)}}else C=="mouseover"?S=g.fromElement:C=="mouseout"&&(S=g.toElement);this.relatedTarget=S,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:St[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&It.aa.h.call(this)}}D(It,V);var St={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),ee=0;function gn(g,S,C,O,et){this.listener=g,this.proxy=null,this.src=S,this.type=C,this.capture=!!O,this.ha=et,this.key=++ee,this.da=this.fa=!1}function Pn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function zn(g){this.src=g,this.g={},this.h=0}zn.prototype.add=function(g,S,C,O,et){var ft=g.toString();g=this.g[ft],g||(g=this.g[ft]=[],this.h++);var Rt=qi(g,S,O,et);return-1<Rt?(S=g[Rt],C||(S.fa=!1)):(S=new gn(S,this.src,ft,!!O,et),S.fa=C,g.push(S)),S};function wi(g,S){var C=S.type;if(C in g.g){var O=g.g[C],et=Array.prototype.indexOf.call(O,S,void 0),ft;(ft=0<=et)&&Array.prototype.splice.call(O,et,1),ft&&(Pn(S),g.g[C].length==0&&(delete g.g[C],g.h--))}}function qi(g,S,C,O){for(var et=0;et<g.length;++et){var ft=g[et];if(!ft.da&&ft.listener==S&&ft.capture==!!C&&ft.ha==O)return et}return-1}var jr="closure_lm_"+(1e6*Math.random()|0),Fr={};function ds(g,S,C,O,et){if(Array.isArray(S)){for(var ft=0;ft<S.length;ft++)ds(g,S[ft],C,O,et);return null}return C=La(C),g&&g[ye]?g.K(S,C,m(O)?!!O.capture:!1,et):kn(g,S,C,!1,O,et)}function kn(g,S,C,O,et,ft){if(!S)throw Error("Invalid event type");var Rt=m(et)?!!et.capture:!!et,he=Hr(g);if(he||(g[jr]=he=new zn(g)),C=he.add(S,C,O,Rt,ft),C.proxy)return C;if(O=ps(),C.proxy=O,O.src=g,O.listener=C,g.addEventListener)Ct||(et=Rt),et===void 0&&(et=!1),g.addEventListener(S.toString(),O,et);else if(g.attachEvent)g.attachEvent(Gi(S.toString()),O);else if(g.addListener&&g.removeListener)g.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function ps(){function g(C){return S.call(g.src,g.listener,C)}const S=Ma;return g}function ms(g,S,C,O,et){if(Array.isArray(S))for(var ft=0;ft<S.length;ft++)ms(g,S[ft],C,O,et);else O=m(O)?!!O.capture:!!O,C=La(C),g&&g[ye]?(g=g.i,S=String(S).toString(),S in g.g&&(ft=g.g[S],C=qi(ft,C,O,et),-1<C&&(Pn(ft[C]),Array.prototype.splice.call(ft,C,1),ft.length==0&&(delete g.g[S],g.h--)))):g&&(g=Hr(g))&&(S=g.g[S.toString()],g=-1,S&&(g=qi(S,C,O,et)),(C=-1<g?S[g]:null)&&pr(C))}function pr(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[ye])wi(S.i,g);else{var C=g.type,O=g.proxy;S.removeEventListener?S.removeEventListener(C,O,g.capture):S.detachEvent?S.detachEvent(Gi(C),O):S.addListener&&S.removeListener&&S.removeListener(O),(C=Hr(S))?(wi(C,g),C.h==0&&(C.src=null,S[jr]=null)):Pn(g)}}}function Gi(g){return g in Fr?Fr[g]:Fr[g]="on"+g}function Ma(g,S){if(g.da)g=!0;else{S=new It(S,this);var C=g.listener,O=g.ha||g.src;g.fa&&pr(g),g=C.call(O,S)}return g}function Hr(g){return g=g[jr],g instanceof zn?g:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(g){return typeof g=="function"?g:(g[Qs]||(g[Qs]=function(S){return g.handleEvent(S)}),g[Qs])}function ut(){bt.call(this),this.i=new zn(this),this.M=this,this.F=null}D(ut,bt),ut.prototype[ye]=!0,ut.prototype.removeEventListener=function(g,S,C,O){ms(this,g,S,C,O)};function vt(g,S){var C,O=g.F;if(O)for(C=[];O;O=O.F)C.push(O);if(g=g.M,O=S.type||S,typeof S=="string")S=new V(S,g);else if(S instanceof V)S.target=S.target||g;else{var et=S;S=new V(O,g),G(S,et)}if(et=!0,C)for(var ft=C.length-1;0<=ft;ft--){var Rt=S.g=C[ft];et=Vt(Rt,O,!0,S)&&et}if(Rt=S.g=g,et=Vt(Rt,O,!0,S)&&et,et=Vt(Rt,O,!1,S)&&et,C)for(ft=0;ft<C.length;ft++)Rt=S.g=C[ft],et=Vt(Rt,O,!1,S)&&et}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var g=this.i,S;for(S in g.g){for(var C=g.g[S],O=0;O<C.length;O++)Pn(C[O]);delete g.g[S],g.h--}}this.F=null},ut.prototype.K=function(g,S,C,O){return this.i.add(String(g),S,!1,C,O)},ut.prototype.L=function(g,S,C,O){return this.i.add(String(g),S,!0,C,O)};function Vt(g,S,C,O){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();for(var et=!0,ft=0;ft<S.length;++ft){var Rt=S[ft];if(Rt&&!Rt.da&&Rt.capture==C){var he=Rt.listener,sn=Rt.ha||Rt.src;Rt.fa&&wi(g.i,Rt),et=he.call(sn,O)!==!1&&et}}return et&&!O.defaultPrevented}function jt(g,S,C){if(typeof g=="function")C&&(g=b(g,C));else if(g&&typeof g.handleEvent=="function")g=b(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:d.setTimeout(g,S||0)}function ge(g){g.g=jt(()=>{g.g=null,g.i&&(g.i=!1,ge(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class Un extends bt{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wn(g){bt.call(this),this.h=g,this.g={}}D(Wn,bt);var yn=[];function Yn(g){Q(g.g,function(S,C){this.g.hasOwnProperty(C)&&pr(S)},g),g.g={}}Wn.prototype.N=function(){Wn.aa.N.call(this),Yn(this)},Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=d.JSON.stringify,nn=d.JSON.parse,vn=class{stringify(g){return d.JSON.stringify(g,void 0)}parse(g){return d.JSON.parse(g,void 0)}};function Xn(){}Xn.prototype.h=null;function il(g){return g.h||(g.h=g.i())}function Oa(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){V.call(this,"d")}D(gr,V);function rl(){V.call(this,"c")}D(rl,V);var yr={},sl=null;function gs(){return sl=sl||new ut}yr.La="serverreachability";function Na(g){V.call(this,yr.La,g)}D(Na,V);function ys(g){const S=gs();vt(S,new Na(S))}yr.STAT_EVENT="statevent";function Va(g,S){V.call(this,yr.STAT_EVENT,g),this.stat=S}D(Va,V);function Ne(g){const S=gs();vt(S,new Va(S,g))}yr.Ma="timingevent";function cn(g,S){V.call(this,yr.Ma,g),this.size=S}D(cn,V);function rn(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){g()},S)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function li(g,S,C,O,et,ft){g.info(function(){if(g.g)if(ft)for(var Rt="",he=ft.split("&"),sn=0;sn<he.length;sn++){var fe=he[sn].split("=");if(1<fe.length){var xe=fe[0];fe=fe[1];var ze=xe.split("_");Rt=2<=ze.length&&ze[1]=="type"?Rt+(xe+"="+fe+"&"):Rt+(xe+"=redacted&")}}else Rt=null;else Rt=ft;return"XMLHTTP REQ ("+O+") [attempt "+et+"]: "+S+`
`+C+`
`+Rt})}function zt(g,S,C,O,et,ft,Rt){g.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+et+"]: "+S+`
`+C+`
`+ft+" "+Rt})}function qr(g,S,C,O){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+_s(g,C)+(O?" "+O:"")})}function al(g,S){g.info(function(){return"TIMEOUT: "+S})}ki.prototype.info=function(){};function _s(g,S){if(!g.g)return S;if(!S)return null;try{var C=JSON.parse(S);if(C){for(g=0;g<C.length;g++)if(Array.isArray(C[g])){var O=C[g];if(!(2>O.length)){var et=O[1];if(Array.isArray(et)&&!(1>et.length)){var ft=et[0];if(ft!="noop"&&ft!="stop"&&ft!="close")for(var Rt=1;Rt<et.length;Rt++)et[Rt]=""}}}}return _n(C)}catch{return S}}var Gr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ki;function Qn(){}D(Qn,Xn),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Ki=new Qn;function Bn(g,S,C,O){this.j=g,this.i=S,this.l=C,this.R=O||1,this.U=new Wn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xe}function Xe(){this.i=null,this.g="",this.h=!1}var ol={},za={};function $i(g,S,C){g.L=1,g.v=Ei(Ve(S)),g.m=C,g.P=!0,_r(g,null)}function _r(g,S){g.F=Date.now(),ta(g),g.A=Ve(g.v);var C=g.A,O=g.R;Array.isArray(O)||(O=[String(O)]),cl(C.i,"t",O),g.C=0,C=g.j.J,g.h=new Xe,g.g=lu(g.j,C?S:null,!g.m),0<g.O&&(g.M=new Un(b(g.Y,g,g.g),g.O)),S=g.U,C=g.g,O=g.ca;var et="readystatechange";Array.isArray(et)||(et&&(yn[0]=et.toString()),et=yn);for(var ft=0;ft<et.length;ft++){var Rt=ds(C,et[ft],O||S.handleEvent,!1,S.h||S);if(!Rt)break;S.g[Rt.key]=Rt}S=g.H?M(g.H):{},g.m?(g.u||(g.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,S)):(g.u="GET",g.g.ea(g.A,g.u,null,S)),ys(),li(g.i,g.u,g.A,g.l,g.R,g.m)}Bn.prototype.ca=function(g){g=g.target;const S=this.M;S&&Hn(g)==3?S.j():this.Y(g)},Bn.prototype.Y=function(g){try{if(g==this.g)t:{const ze=Hn(this.g);var S=this.g.Ba();const Jr=this.g.Z();if(!(3>ze)&&(ze!=3||this.g&&(this.h.h||this.g.oa()||hl(this.g)))){this.J||ze!=4||S==7||(S==8||0>=Jr?ys(3):ys(2)),vs(this);var C=this.g.Z();this.X=C;e:if(iu(this)){var O=hl(this.g);g="";var et=O.length,ft=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),vr(this);var Rt="";break e}this.h.i=new d.TextDecoder}for(S=0;S<et;S++)this.h.h=!0,g+=this.h.i.decode(O[S],{stream:!(ft&&S==et-1)});O.length=0,this.h.g+=g,this.C=0,Rt=this.h.g}else Rt=this.g.oa();if(this.o=C==200,zt(this.i,this.u,this.A,this.l,this.R,ze,C),this.o){if(this.T&&!this.K){e:{if(this.g){var he,sn=this.g;if((he=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(he)){var fe=he;break e}}fe=null}if(C=fe)qr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zr(this,C);else{this.o=!1,this.s=3,Ne(12),Dn(this),vr(this);break t}}if(this.P){C=!0;let Le;for(;!this.J&&this.C<Rt.length;)if(Le=Js(this,Rt),Le==za){ze==4&&(this.s=4,Ne(14),C=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==ol){this.s=4,Ne(15),qr(this.i,this.l,Rt,"[Invalid Chunk]"),C=!1;break}else qr(this.i,this.l,Le,null),Zr(this,Le);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||Rt.length!=0||this.h.h||(this.s=1,Ne(16),C=!1),this.o=this.o&&C,!C)qr(this.i,this.l,Rt,"[Invalid Chunked Response]"),Dn(this),vr(this);else if(0<Rt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+Rt.length),xs(xe),xe.M=!0,Ne(11))}}else qr(this.i,this.l,Rt,null),Zr(this,Rt);ze==4&&Dn(this),this.o&&!this.J&&(ze==4?dl(this.j,this):(this.o=!1,ta(this)))}else Dc(this.g),C==400&&0<Rt.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Dn(this),vr(this)}}}catch{}finally{}};function iu(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Js(g,S){var C=g.C,O=S.indexOf(`
`,C);return O==-1?za:(C=Number(S.substring(C,O)),isNaN(C)?ol:(O+=1,O+C>S.length?za:(S=S.slice(O,O+C),g.C=O+C,S)))}Bn.prototype.cancel=function(){this.J=!0,Dn(this)};function ta(g){g.S=Date.now()+g.I,ru(g,g.I)}function ru(g,S){if(g.B!=null)throw Error("WatchDog timer not null");g.B=rn(b(g.ba,g),S)}function vs(g){g.B&&(d.clearTimeout(g.B),g.B=null)}Bn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(al(this.i,this.A),this.L!=2&&(ys(),Ne(17)),Dn(this),this.s=2,vr(this)):ru(this,this.S-g)};function vr(g){g.j.G==0||g.J||dl(g.j,g)}function Dn(g){vs(g);var S=g.M;S&&typeof S.ma=="function"&&S.ma(),g.M=null,Yn(g.U),g.g&&(S=g.g,g.g=null,S.abort(),S.ma())}function Zr(g,S){try{var C=g.j;if(C.G!=0&&(C.g==g||oe(C.h,g))){if(!g.K&&oe(C.h,g)&&C.G==3){try{var O=C.Da.g.parse(S)}catch{O=null}if(Array.isArray(O)&&O.length==3){var et=O;if(et[0]==0){t:if(!C.u){if(C.g)if(C.g.F+3e3<g.F)Ka(C),qa(C);else break t;Ga(C),Ne(18)}}else C.za=et[1],0<C.za-C.T&&37500>et[2]&&C.F&&C.v==0&&!C.C&&(C.C=rn(b(C.Za,C),6e3));if(1>=wr(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Qr(C,11)}else if((g.K||C.g==g)&&Ka(C),!X(S))for(et=C.Da.g.parse(S),S=0;S<et.length;S++){let fe=et[S];if(C.T=fe[0],fe=fe[1],C.G==2)if(fe[0]=="c"){C.K=fe[1],C.ia=fe[2];const xe=fe[3];xe!=null&&(C.la=xe,C.j.info("VER="+C.la));const ze=fe[4];ze!=null&&(C.Aa=ze,C.j.info("SVER="+C.Aa));const Jr=fe[5];Jr!=null&&typeof Jr=="number"&&0<Jr&&(O=1.5*Jr,C.L=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;const Le=g.g;if(Le){const Ar=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var ft=O.h;ft.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(ft.j=ft.l,ft.g=new Set,ft.h&&(Se(ft,ft.h),ft.h=null))}if(O.D){const Cr=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Cr&&(O.ya=Cr,Zt(O.I,O.D,Cr))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-g.F,C.j.info("Handshake RTT: "+C.R+"ms")),O=C;var Rt=g;if(O.qa=Wa(O,O.J?O.ia:null,O.W),Rt.K){Tn(O.h,Rt);var he=Rt,sn=O.L;sn&&(he.I=sn),he.B&&(vs(he),ta(he)),O.g=Rt}else tr(O);0<C.i.length&&Ss(C)}else fe[0]!="stop"&&fe[0]!="close"||Qr(C,7);else C.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Qr(C,7):Ha(C):fe[0]!="noop"&&C.l&&C.l.ta(fe),C.v=0)}}ys(4)}catch{}}var Ts=class{constructor(g,S){this.g=g,this.map=S}};function Tr(g){this.l=g||10,d.PerformanceNavigationTiming?(g=d.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ea(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function wr(g){return g.h?1:g.g?g.g.size:0}function oe(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function Se(g,S){g.g?g.g.add(S):g.h=S}function Tn(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}Tr.prototype.cancel=function(){if(this.i=Er(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Er(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const C of g.g.values())S=S.concat(C.D);return S}return N(g.i)}function ws(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(p(g)){for(var S=[],C=g.length,O=0;O<C;O++)S.push(g[O]);return S}S=[],C=0;for(O in g)S[C++]=g[O];return S}function Es(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(p(g)||typeof g=="string"){var S=[];g=g.length;for(var C=0;C<g;C++)S.push(C);return S}S=[],C=0;for(const O in g)S[C++]=O;return S}}}function Jt(g,S){if(g.forEach&&typeof g.forEach=="function")g.forEach(S,void 0);else if(p(g)||typeof g=="string")Array.prototype.forEach.call(g,S,void 0);else for(var C=Es(g),O=ws(g),et=O.length,ft=0;ft<et;ft++)S.call(void 0,O[ft],C&&C[ft],g)}var Ce=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ll(g,S){if(g){g=g.split("&");for(var C=0;C<g.length;C++){var O=g[C].indexOf("="),et=null;if(0<=O){var ft=g[C].substring(0,O);et=g[C].substring(O+1)}else ft=g[C];S(ft,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function qe(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof qe){this.h=g.h,na(this,g.j),this.o=g.o,this.g=g.g,Wi(this,g.s),this.l=g.l;var S=g.i,C=new Xi;C.i=S.i,S.g&&(C.g=new Map(S.g),C.h=S.h),Jn(this,C),this.m=g.m}else g&&(S=String(g).match(Ce))?(this.h=!1,na(this,S[1]||"",!0),this.o=jn(S[2]||""),this.g=jn(S[3]||"",!0),Wi(this,S[4]),this.l=jn(S[5]||"",!0),Jn(this,S[6]||"",!0),this.m=jn(S[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}qe.prototype.toString=function(){var g=[],S=this.j;S&&g.push(Yi(S,Kr,!0),":");var C=this.g;return(C||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Yi(S,Kr,!0),"@"),g.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&g.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(Yi(C,C.charAt(0)=="/"?ul:ia,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",Yi(C,bs)),g.join("")};function Ve(g){return new qe(g)}function na(g,S,C){g.j=C?jn(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function Wi(g,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);g.s=S}else g.s=null}function Jn(g,S,C){S instanceof Xi?(g.i=S,bi(g.i,g.h)):(C||(S=Yi(S,Ba)),g.i=new Xi(S,g.h))}function Zt(g,S,C){g.i.set(S,C)}function Ei(g){return Zt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function jn(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Yi(g,S,C){return typeof g=="string"?(g=encodeURI(g).replace(S,Ua),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ua(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Kr=/[#\/\?@]/g,ia=/[#\?:]/g,ul=/[#\?]/g,Ba=/[#\?@]/g,bs=/#/g;function Xi(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function ti(g){g.g||(g.g=new Map,g.h=0,g.i&&ll(g.i,function(S,C){g.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}e=Xi.prototype,e.add=function(g,S){ti(this),this.i=null,g=Ft(this,g);var C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(S),this.h+=1,this};function br(g,S){ti(g),S=Ft(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function Qi(g,S){return ti(g),S=Ft(g,S),g.g.has(S)}e.forEach=function(g,S){ti(this),this.g.forEach(function(C,O){C.forEach(function(et){g.call(S,et,O,this)},this)},this)},e.na=function(){ti(this);const g=Array.from(this.g.values()),S=Array.from(this.g.keys()),C=[];for(let O=0;O<S.length;O++){const et=g[O];for(let ft=0;ft<et.length;ft++)C.push(S[O])}return C},e.V=function(g){ti(this);let S=[];if(typeof g=="string")Qi(this,g)&&(S=S.concat(this.g.get(Ft(this,g))));else{g=Array.from(this.g.values());for(let C=0;C<g.length;C++)S=S.concat(g[C])}return S},e.set=function(g,S){return ti(this),this.i=null,g=Ft(this,g),Qi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},e.get=function(g,S){return g?(g=this.V(g),0<g.length?String(g[0]):S):S};function cl(g,S,C){br(g,S),0<C.length&&(g.i=null,g.g.set(Ft(g,S),N(C)),g.h+=C.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(var C=0;C<S.length;C++){var O=S[C];const ft=encodeURIComponent(String(O)),Rt=this.V(O);for(O=0;O<Rt.length;O++){var et=ft;Rt[O]!==""&&(et+="="+encodeURIComponent(String(Rt[O]))),g.push(et)}}return this.i=g.join("&")};function Ft(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function bi(g,S){S&&!g.j&&(ti(g),g.i=null,g.g.forEach(function(C,O){var et=O.toLowerCase();O!=et&&(br(this,O),cl(this,et,C))},g)),g.j=S}function _e(g,S){const C=new ki;if(d.Image){const O=new Image;O.onload=x(ui,C,"TestLoadImage: loaded",!0,S,O),O.onerror=x(ui,C,"TestLoadImage: error",!1,S,O),O.onabort=x(ui,C,"TestLoadImage: abort",!1,S,O),O.ontimeout=x(ui,C,"TestLoadImage: timeout",!1,S,O),d.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=g}else S(!1)}function Di(g,S){const C=new ki,O=new AbortController,et=setTimeout(()=>{O.abort(),ui(C,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:O.signal}).then(ft=>{clearTimeout(et),ft.ok?ui(C,"TestPingServer: ok",!0,S):ui(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(et),ui(C,"TestPingServer: error",!1,S)})}function ui(g,S,C,O,et){try{et&&(et.onload=null,et.onerror=null,et.onabort=null,et.ontimeout=null),O(C)}catch{}}function $r(){this.g=new vn}function Mi(g,S,C){const O=C||"";try{Jt(g,function(et,ft){let Rt=et;m(et)&&(Rt=_n(et)),S.push(O+ft+"="+encodeURIComponent(Rt))})}catch(et){throw S.push(O+"type="+encodeURIComponent("_badmap")),et}}function ci(g){this.l=g.Ub||null,this.j=g.eb||!1}D(ci,Xn),ci.prototype.g=function(){return new Ji(this.l,this.j)},ci.prototype.i=(function(g){return function(){return g}})({});function Ji(g,S){ut.call(this),this.D=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Ji,ut),e=Ji.prototype,e.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=S,this.readyState=1,Fn(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(S.body=g),(this.D||d).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pe(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wr(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wr(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?Pe(this):Fn(this),this.readyState==3&&Wr(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Pe(this))},e.Qa=function(g){this.g&&(this.response=g,Pe(this))},e.ga=function(){this.g&&Pe(this)};function Pe(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Fn(g)}e.setRequestHeader=function(g,S){this.u.append(g,S)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=S.next();return g.join(`\r
`)};function Fn(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ja(g){let S="";return Q(g,function(C,O){S+=O,S+=":",S+=C,S+=`\r
`}),S}function hn(g,S,C){t:{for(O in C){var O=!1;break t}O=!0}O||(C=ja(C),typeof g=="string"?C!=null&&encodeURIComponent(String(C)):Zt(g,S,C))}function we(g){ut.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(we,ut);var ra=/^https?$/i,Yr=["POST","PUT"];e=we.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,S,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ki.g(),this.v=this.o?il(this.o):il(Ki),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(ft){su(this,ft);return}if(g=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var et in O)C.set(et,O[et]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ft of O.keys())C.set(ft,O.get(ft));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(ft=>ft.toLowerCase()=="content-type"),et=d.FormData&&g instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Yr,S,void 0))||O||et||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ft,Rt]of C)this.g.setRequestHeader(ft,Rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mn(this),this.u=!0,this.g.send(g),this.u=!1}catch(ft){su(this,ft)}};function su(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.m=5,sa(g),Sr(g)}function sa(g){g.A||(g.A=!0,vt(g,"complete"),vt(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,vt(this,"complete"),vt(this,"abort"),Sr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),we.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ie(this):this.bb())},e.bb=function(){ie(this)};function ie(g){if(g.h&&typeof c<"u"&&(!g.v[1]||Hn(g)!=4||g.Z()!=2)){if(g.u&&Hn(g)==4)jt(g.Ea,0,g);else if(vt(g,"readystatechange"),Hn(g)==4){g.h=!1;try{const Rt=g.Z();t:switch(Rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var C;if(!(C=S)){var O;if(O=Rt===0){var et=String(g.D).match(Ce)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),O=!ra.test(et?et.toLowerCase():"")}C=O}if(C)vt(g,"complete"),vt(g,"success");else{g.m=6;try{var ft=2<Hn(g)?g.g.statusText:""}catch{ft=""}g.l=ft+" ["+g.Z()+"]",sa(g)}}finally{Sr(g)}}}}function Sr(g,S){if(g.g){Mn(g);const C=g.g,O=g.v[0]?()=>{}:null;g.g=null,g.v=null,S||vt(g,"ready");try{C.onreadystatechange=O}catch{}}}function Mn(g){g.I&&(d.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Hn(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),nn(S)}};function hl(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Dc(g){const S={};g=(g.g&&2<=Hn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<g.length;O++){if(X(g[O]))continue;var C=F(g[O]);const et=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ft=S[et]||[];S[et]=ft,ft.push(C)}j(S,function(O){return O.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(g,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||S}function Fa(g){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,g),this.cb=Xr("retryDelaySeedMs",1e4,g),this.Wa=Xr("forwardChannelMaxRetries",2,g),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Tr(g&&g.concurrentRequestLimit),this.Da=new $r,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Fa.prototype,e.la=8,e.G=1,e.connect=function(g,S,C,O){Ne(0),this.W=g,this.H=S||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.I=Wa(this,null,this.W),Ss(this)};function Ha(g){if(au(g),g.G==3){var S=g.U++,C=Ve(g.I);if(Zt(C,"SID",g.K),Zt(C,"RID",S),Zt(C,"TYPE","terminate"),aa(g,C),S=new Bn(g,g.j,S),S.L=2,S.v=Ei(Ve(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(S.v.toString(),"")}catch{}!C&&d.Image&&(new Image().src=S.v,C=!0),C||(S.g=lu(S.j,null),S.g.ea(S.v)),S.F=Date.now(),ta(S)}ou(g)}function qa(g){g.g&&(xs(g),g.g.cancel(),g.g=null)}function au(g){qa(g),g.u&&(d.clearTimeout(g.u),g.u=null),Ka(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&d.clearTimeout(g.s),g.s=null)}function Ss(g){if(!ea(g.h)&&!g.s){g.s=!0;var S=g.Ga;gt||R(),pt||(gt(),pt=!0),Ht.add(S,g),g.B=0}}function Mc(g,S){return wr(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=S.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=rn(b(g.Ga,g,S),$a(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const et=new Bn(this,this.j,g);let ft=this.o;if(this.S&&(ft?(ft=M(ft),G(ft,this.S)):ft=this.S),this.m!==null||this.O||(et.H=ft,ft=null),this.P)t:{for(var S=0,C=0;C<this.i.length;C++){e:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(S+=O,4096<S){S=C;break t}if(S===4096||C===this.i.length-1){S=C+1;break t}}S=1e3}else S=1e3;S=fl(this,et,S),C=Ve(this.I),Zt(C,"RID",g),Zt(C,"CVER",22),this.D&&Zt(C,"X-HTTP-Session-Id",this.D),aa(this,C),ft&&(this.O?S="headers="+encodeURIComponent(String(ja(ft)))+"&"+S:this.m&&hn(C,this.m,ft)),Se(this.h,et),this.Ua&&Zt(C,"TYPE","init"),this.P?(Zt(C,"$req",S),Zt(C,"SID","null"),et.T=!0,$i(et,C,null)):$i(et,C,S),this.G=2}}else this.G==3&&(g?hi(this,g):this.i.length==0||ea(this.h)||hi(this))};function hi(g,S){var C;S?C=S.l:C=g.U++;const O=Ve(g.I);Zt(O,"SID",g.K),Zt(O,"RID",C),Zt(O,"AID",g.T),aa(g,O),g.m&&g.o&&hn(O,g.m,g.o),C=new Bn(g,g.j,C,g.B+1),g.m===null&&(C.H=g.o),S&&(g.i=S.D.concat(g.i)),S=fl(g,C,1e3),C.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Se(g.h,C),$i(C,O,S)}function aa(g,S){g.H&&Q(g.H,function(C,O){Zt(S,O,C)}),g.l&&Jt({},function(C,O){Zt(S,O,C)})}function fl(g,S,C){C=Math.min(g.i.length,C);var O=g.l?b(g.l.Na,g.l,g):null;t:{var et=g.i;let ft=-1;for(;;){const Rt=["count="+C];ft==-1?0<C?(ft=et[0].g,Rt.push("ofs="+ft)):ft=0:Rt.push("ofs="+ft);let he=!0;for(let sn=0;sn<C;sn++){let fe=et[sn].g;const xe=et[sn].map;if(fe-=ft,0>fe)ft=Math.max(0,et[sn].g-100),he=!1;else try{Mi(xe,Rt,"req"+fe+"_")}catch{O&&O(xe)}}if(he){O=Rt.join("&");break t}}}return g=g.i.splice(0,C),S.D=g,O}function tr(g){if(!g.g&&!g.u){g.Y=1;var S=g.Fa;gt||R(),pt||(gt(),pt=!0),Ht.add(S,g),g.v=0}}function Ga(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=rn(b(g.Fa,g),$a(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,Za(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=rn(b(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),qa(this),Za(this))};function xs(g){g.A!=null&&(d.clearTimeout(g.A),g.A=null)}function Za(g){g.g=new Bn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var S=Ve(g.qa);Zt(S,"RID","rpc"),Zt(S,"SID",g.K),Zt(S,"AID",g.T),Zt(S,"CI",g.F?"0":"1"),!g.F&&g.ja&&Zt(S,"TO",g.ja),Zt(S,"TYPE","xmlhttp"),aa(g,S),g.m&&g.o&&hn(S,g.m,g.o),g.L&&(g.g.I=g.L);var C=g.g;g=g.ia,C.L=1,C.v=Ei(Ve(S)),C.m=null,C.P=!0,_r(C,g)}e.Za=function(){this.C!=null&&(this.C=null,qa(this),Ga(this),Ne(19))};function Ka(g){g.C!=null&&(d.clearTimeout(g.C),g.C=null)}function dl(g,S){var C=null;if(g.g==S){Ka(g),xs(g),g.g=null;var O=2}else if(oe(g.h,S))C=S.D,Tn(g.h,S),O=1;else return;if(g.G!=0){if(S.o)if(O==1){C=S.m?S.m.length:0,S=Date.now()-S.F;var et=g.B;O=gs(),vt(O,new cn(O,C)),Ss(g)}else tr(g);else if(et=S.s,et==3||et==0&&0<S.X||!(O==1&&Mc(g,S)||O==2&&Ga(g)))switch(C&&0<C.length&&(S=g.h,S.i=S.i.concat(C)),et){case 1:Qr(g,5);break;case 4:Qr(g,10);break;case 3:Qr(g,6);break;default:Qr(g,2)}}}function $a(g,S){let C=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(C*=2),C*S}function Qr(g,S){if(g.j.info("Error code "+S),S==2){var C=b(g.fb,g),O=g.Xa;const et=!O;O=new qe(O||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||na(O,"https"),Ei(O),et?_e(O.toString(),C):Di(O.toString(),C)}else Ne(2);g.G=0,g.l&&g.l.sa(S),ou(g),au(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function ou(g){if(g.G=0,g.ka=[],g.l){const S=Er(g.h);(S.length!=0||g.i.length!=0)&&(H(g.ka,S),H(g.ka,g.i),g.h.i.length=0,N(g.i),g.i.length=0),g.l.ra()}}function Wa(g,S,C){var O=C instanceof qe?Ve(C):new qe(C);if(O.g!="")S&&(O.g=S+"."+O.g),Wi(O,O.s);else{var et=d.location;O=et.protocol,S=S?S+"."+et.hostname:et.hostname,et=+et.port;var ft=new qe(null);O&&na(ft,O),S&&(ft.g=S),et&&Wi(ft,et),C&&(ft.l=C),O=ft}return C=g.D,S=g.ya,C&&S&&Zt(O,C,S),Zt(O,"VER",g.la),aa(g,O),O}function lu(g,S,C){if(S&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Ca&&!g.pa?new we(new ci({eb:C})):new we(g.pa),S.Ha(g.J),S}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function pl(){}e=pl.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function oa(){}oa.prototype.g=function(g,S){return new wn(g,S)};function wn(g,S){ut.call(this),this.g=new Fa(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(g?g["X-WebChannel-Client-Profile"]=S.va:g={"X-WebChannel-Client-Profile":S.va}),this.g.S=g,(g=S&&S.Sb)&&!X(g)&&(this.g.m=g),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!X(S)&&(this.g.D=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new fi(this)}D(wn,ut),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ha(this.g)},wn.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.u&&(C={},C.__data__=_n(g),g=C);S.i.push(new Ts(S.Ya++,g)),S.G==3&&Ss(S)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ha(this.g),delete this.g,wn.aa.N.call(this)};function xr(g){gr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){t:{for(const C in S){g=C;break t}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}D(xr,gr);function uu(){rl.call(this),this.status=1}D(uu,rl);function fi(g){this.g=g}D(fi,pl),fi.prototype.ua=function(){vt(this.g,"a")},fi.prototype.ta=function(g){vt(this.g,new xr(g))},fi.prototype.sa=function(g){vt(this.g,new uu)},fi.prototype.ra=function(){vt(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,mI=function(){return new oa},pI=function(){return gs()},dI=yr,q_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,fp=Gr,Zi.COMPLETE="complete",fI=Zi,Oa.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Mh=Oa,we.prototype.listenOnce=we.prototype.L,we.prototype.getLastError=we.prototype.Ka,we.prototype.getLastErrorCode=we.prototype.Ba,we.prototype.getStatus=we.prototype.Z,we.prototype.getResponseJson=we.prototype.Oa,we.prototype.getResponseText=we.prototype.oa,we.prototype.send=we.prototype.ea,we.prototype.setWithCredentials=we.prototype.Ha,hI=we}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});const FS="@firebase/firestore",HS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new x0("@firebase/firestore");function Fu(){return Kl.logLevel}function Mt(e,...t){if(Kl.logLevel<=de.DEBUG){const n=t.map(R0);Kl.debug(`Firestore (${xc}): ${e}`,...n)}}function Ia(e,...t){if(Kl.logLevel<=de.ERROR){const n=t.map(R0);Kl.error(`Firestore (${xc}): ${e}`,...n)}}function uc(e,...t){if(Kl.logLevel<=de.WARN){const n=t.map(R0);Kl.warn(`Firestore (${xc}): ${e}`,...n)}}function R0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,gI(e,i,n)}function gI(e,t,n){let i=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ia(i),new Error(i)}function Ae(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||gI(t,s,i)}function ne(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends Xs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class C5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(gi.UNAUTHENTICATED)))}shutdown(){}}class R5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class I5{constructor(t){this.t=t,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ae(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Fl;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fl,t.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},d=p=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fl)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ae(typeof i.accessToken=="string",31837,{l:i}),new yI(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ae(t===null||typeof t=="string",2055,{h:t}),new gi(t)}}class P5{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k5{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new P5(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(gi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D5{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ae(this.o===void 0,3512);const i=l=>{l.error!=null&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const s=l=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=M5(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<n&&(i+=t.charAt(s[l]%62))}return i}}function pe(e,t){return e<t?-1:e>t?1:0}function G_(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),l=t.charAt(i);if(s!==l)return Wy(s)===Wy(l)?pe(s,l):Wy(s)?1:-1}return pe(e.length,t.length)}const L5=55296,O5=57343;function Wy(e){const t=e.charCodeAt(0);return t>=L5&&t<=O5}function cc(e,t,n){return e.length===t.length&&e.every(((i,s)=>n(i,t[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="__name__";class Os{constructor(t,n,i){n===void 0?n=0:n>t.length&&$t(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&$t(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Os.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Os?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const l=Os.compareSegments(t.get(s),n.get(s));if(l!==0)return l}return pe(t.length,n.length)}static compareSegments(t,n){const i=Os.isNumericId(t),s=Os.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Os.extractNumericId(t).compare(Os.extractNumericId(n)):G_(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zo.fromString(t.substring(4,t.length-2))}}class Fe extends Os{construct(t,n,i){return new Fe(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Dt(_t.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new Fe(n)}static emptyPath(){return new Fe([])}}const N5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ai extends Os{construct(t,n,i){return new ai(t,n,i)}static isValidIdentifier(t){return N5.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ai.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GS}static keyField(){return new ai([GS])}static fromServerFormat(t){const n=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Dt(_t.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;s<t.length;){const d=t[s];if(d==="\\"){if(s+1===t.length)throw new Dt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Dt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new Dt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ai(n)}static emptyPath(){return new ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.path=t}static fromPath(t){return new Bt(Fe.fromString(t))}static fromName(t){return new Bt(Fe.fromString(t).popFirst(5))}static empty(){return new Bt(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Fe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Bt(new Fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(e,t,n){if(!n)throw new Dt(_t.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function V5(e,t,n,i){if(t===!0&&i===!0)throw new Dt(_t.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ZS(e){if(!Bt.isDocumentKey(e))throw new Dt(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function KS(e){if(Bt.isDocumentKey(e))throw new Dt(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function vI(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function cm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":$t(12329,{type:typeof e})}function Uo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cm(e);throw new Dt(_t.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(e,t){const n={typeString:e};return t&&(n.value=t),n}function If(e,t){if(!vI(e))throw new Dt(_t.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const c=e[i];if(s&&typeof c!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Dt(_t.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=-62135596800,WS=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(t){return Ge.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*WS);return new Ge(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Dt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Dt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<$S)throw new Dt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WS}_compareTo(t){return this.seconds===t.seconds?pe(this.nanoseconds,t.nanoseconds):pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(If(t,Ge._jsonSchema))return new Ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$S;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:Rn("string",Ge._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(t){return new te(t)}static min(){return new te(new Ge(0,0))}static max(){return new te(new Ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=-1;function z5(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=te.fromTimestamp(i===1e9?new Ge(n+1,0):new Ge(n,i));return new Go(s,Bt.empty(),t)}function U5(e){return new Go(e.readTime,e.key,lf)}class Go{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Go(te.min(),Bt.empty(),lf)}static max(){return new Go(te.max(),Bt.empty(),lf)}}function B5(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Bt.comparator(e.documentKey,t.documentKey),n!==0?n:pe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(e){if(e.code!==_t.FAILED_PRECONDITION||e.message!==j5)throw e;Mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&$t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new wt(((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof wt?n:wt.resolve(n)}catch(n){return wt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):wt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):wt.reject(n)}static resolve(t){return new wt(((n,i)=>{n(t)}))}static reject(t){return new wt(((n,i)=>{i(t)}))}static waitFor(t){return new wt(((n,i)=>{let s=0,l=0,c=!1;t.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&n()}),(p=>i(p)))})),c=!0,l===s&&n()}))}static or(t){let n=wt.resolve(!1);for(const i of t)n=n.next((s=>s?wt.resolve(s):i()));return n}static forEach(t,n){const i=[];return t.forEach(((s,l)=>{i.push(n.call(this,s,l))})),this.waitFor(i)}static mapArray(t,n){return new wt(((i,s)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;n(t[m]).next((v=>{c[m]=v,++d,d===l&&i(c)}),(v=>s(v)))}}))}static doWhile(t,n){return new wt(((i,s)=>{const l=()=>{t()===!0?n().next((()=>{l()}),s):i()};l()}))}}function H5(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=-1;function fm(e){return e==null}function Mp(e){return e===0&&1/e==-1/0}function q5(e){return typeof e=="number"&&Number.isInteger(e)&&!Mp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="";function G5(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=YS(t)),t=Z5(e.get(n),t);return YS(t)}function Z5(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const l=e.charAt(s);switch(l){case"\0":n+="";break;case TI:n+="";break;default:n+=l}}return n}function YS(e){return e+TI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,n){this.comparator=t,this.root=n||si.EMPTY}insert(t,n){return new en(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,si.BLACK,null,null))}remove(t){return new en(this.comparator,this.root.remove(t,this.comparator).copy(null,null,si.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,i)=>(t(n,i),!1)))}toString(){const t=[];return this.inorderTraversal(((n,i)=>(t.push(`${n}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wd(this.root,t,this.comparator,!0)}}class Wd{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?i(t.key,n):1,n&&s&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class si{constructor(t,n,i,s,l){this.key=t,this.value=n,this.color=i??si.RED,this.left=s??si.EMPTY,this.right=l??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,l){return new si(t??this.key,n??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const l=i(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,n,i),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return si.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw $t(27949);return t+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1;si.EMPTY=new class{constructor(){this.size=0}get key(){throw $t(57766)}get value(){throw $t(16141)}get color(){throw $t(16727)}get left(){throw $t(29726)}get right(){throw $t(36894)}copy(t,n,i,s,l){return this}insert(t,n,i){return new si(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.comparator=t,this.data=new en(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,i)=>(t(n),!1)))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new QS(this.data.getIterator())}getIteratorFrom(t){return new QS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((i=>{n=n.add(i)})),n}isEqual(t){if(!(t instanceof Nn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Nn(this.comparator);return n.data=t,n}}class QS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.fields=t,t.sort(ai.comparator)}static empty(){return new fr([])}unionWith(t){let n=new Nn(ai.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new fr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return cc(this.fields,t.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new EI("Invalid base64 string: "+l):l}})(t);return new oi(n)}static fromUint8Array(t){const n=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(t);return new oi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}oi.EMPTY_BYTE_STRING=new oi("");const K5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(e){if(Ae(!!e,39018),typeof e=="string"){let t=0;const n=K5.exec(e);if(Ae(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mn(e.seconds),nanos:mn(e.nanos)}}function mn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ko(e){return typeof e=="string"?oi.fromBase64String(e):oi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="server_timestamp",SI="__type__",xI="__previous_value__",AI="__local_write_time__";function k0(e){return(e?.mapValue?.fields||{})[SI]?.stringValue===bI}function dm(e){const t=e.mapValue.fields[xI];return k0(t)?dm(t):t}function uf(e){const t=Zo(e.mapValue.fields[AI].timestampValue);return new Ge(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(t,n,i,s,l,c,d,p,m,v){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const Lp="(default)";class cf{constructor(t,n){this.projectId=t,this.database=n||Lp}static empty(){return new cf("","")}get isDefaultDatabase(){return this.database===Lp}isEqual(t){return t instanceof cf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="__type__",W5="__max__",Yd={mapValue:{}},RI="__vector__",Op="value";function $o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?k0(e)?4:X5(e)?9007199254740991:Y5(e)?10:11:$t(28295,{value:e})}function Ws(e,t){if(e===t)return!0;const n=$o(e);if(n!==$o(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uf(e).isEqual(uf(t));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Zo(s.timestampValue),d=Zo(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(s,l){return Ko(s.bytesValue).isEqual(Ko(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(s,l){return mn(s.geoPointValue.latitude)===mn(l.geoPointValue.latitude)&&mn(s.geoPointValue.longitude)===mn(l.geoPointValue.longitude)})(e,t);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return mn(s.integerValue)===mn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=mn(s.doubleValue),d=mn(l.doubleValue);return c===d?Mp(c)===Mp(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return cc(e.arrayValue.values||[],t.arrayValue.values||[],Ws);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(XS(c)!==XS(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Ws(c[p],d[p])))return!1;return!0})(e,t);default:return $t(52216,{left:e})}}function hf(e,t){return(e.values||[]).find((n=>Ws(n,t)))!==void 0}function hc(e,t){if(e===t)return 0;const n=$o(e),i=$o(t);if(n!==i)return pe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=mn(l.integerValue||l.doubleValue),p=mn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return JS(e.timestampValue,t.timestampValue);case 4:return JS(uf(e),uf(t));case 5:return G_(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Ko(l),p=Ko(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const v=pe(d[m],p[m]);if(v!==0)return v}return pe(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=pe(mn(l.latitude),mn(c.latitude));return d!==0?d:pe(mn(l.longitude),mn(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return tx(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},m=d[Op]?.arrayValue,v=p[Op]?.arrayValue,w=pe(m?.values?.length||0,v?.values?.length||0);return w!==0?w:tx(m,v)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Yd.mapValue&&c===Yd.mapValue)return 0;if(l===Yd.mapValue)return 1;if(c===Yd.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const b=G_(p[w],v[w]);if(b!==0)return b;const x=hc(d[p[w]],m[v[w]]);if(x!==0)return x}return pe(p.length,v.length)})(e.mapValue,t.mapValue);default:throw $t(23264,{he:n})}}function JS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return pe(e,t);const n=Zo(e),i=Zo(t),s=pe(n.seconds,i.seconds);return s!==0?s:pe(n.nanos,i.nanos)}function tx(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const l=hc(n[s],i[s]);if(l)return l}return pe(n.length,i.length)}function fc(e){return Z_(e)}function Z_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const i=Zo(n);return`time(${i.seconds},${i.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Ko(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Bt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let i="[",s=!0;for(const l of n.values||[])s?s=!1:i+=",",i+=Z_(l);return i+"]"})(e.arrayValue):"mapValue"in e?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${Z_(n.fields[c])}`;return s+"}"})(e.mapValue):$t(61005,{value:e})}function dp(e){switch($o(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dm(e);return t?16+dp(t):16;case 5:return 2*e.stringValue.length;case 6:return Ko(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,l)=>s+dp(l)),0)})(e.arrayValue);case 10:case 11:return(function(i){let s=0;return tl(i.fields,((l,c)=>{s+=l.length+dp(c)})),s})(e.mapValue);default:throw $t(13486,{value:e})}}function ex(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function K_(e){return!!e&&"integerValue"in e}function D0(e){return!!e&&"arrayValue"in e}function nx(e){return!!e&&"nullValue"in e}function ix(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pp(e){return!!e&&"mapValue"in e}function Y5(e){return(e?.mapValue?.fields||{})[CI]?.stringValue===RI}function Zh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return tl(e.mapValue.fields,((n,i)=>t.mapValue.fields[n]=Zh(i))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zh(e.arrayValue.values[n]);return t}return{...e}}function X5(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===W5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this.value=t}static empty(){return new Bi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!pp(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zh(n)}setAll(t){let n=ai.emptyPath(),i={},s=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,i,s),i={},s=[],n=d.popLast()}c?i[d.lastSegment()]=Zh(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,s)}delete(t){const n=this.field(t.popLast());pp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ws(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];pp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){tl(n,((s,l)=>t[s]=l));for(const s of i)delete t[s]}clone(){return new Bi(Zh(this.value))}}function II(e){const t=[];return tl(e.fields,((n,i)=>{const s=new ai([n]);if(pp(i)){const l=II(i.mapValue).fields;if(l.length===0)t.push(s);else for(const c of l)t.push(s.child(c))}else t.push(s)})),new fr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n,i,s,l,c,d){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new yi(t,0,te.min(),te.min(),te.min(),Bi.empty(),0)}static newFoundDocument(t,n,i,s){return new yi(t,1,n,te.min(),i,s,0)}static newNoDocument(t,n){return new yi(t,2,n,te.min(),te.min(),Bi.empty(),0)}static newUnknownDocument(t,n){return new yi(t,3,n,te.min(),te.min(),Bi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,n){this.position=t,this.inclusive=n}}function rx(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const l=t[s],c=e.position[s];if(l.field.isKeyField()?i=Bt.comparator(Bt.fromName(c.referenceValue),n.key):i=hc(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function sx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ws(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,n="asc"){this.field=t,this.dir=n}}function Q5(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{}class Cn extends PI{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new tj(t,n,i):n==="array-contains"?new ij(t,i):n==="in"?new rj(t,i):n==="not-in"?new sj(t,i):n==="array-contains-any"?new aj(t,i):new Cn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new ej(t,i):new nj(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hc(n,this.value)):n!==null&&$o(this.value)===$o(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return $t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cs extends PI{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new cs(t,n)}matches(t){return kI(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kI(e){return e.op==="and"}function DI(e){return J5(e)&&kI(e)}function J5(e){for(const t of e.filters)if(t instanceof cs)return!1;return!0}function $_(e){if(e instanceof Cn)return e.field.canonicalString()+e.op.toString()+fc(e.value);if(DI(e))return e.filters.map((t=>$_(t))).join(",");{const t=e.filters.map((n=>$_(n))).join(",");return`${e.op}(${t})`}}function MI(e,t){return e instanceof Cn?(function(i,s){return s instanceof Cn&&i.op===s.op&&i.field.isEqual(s.field)&&Ws(i.value,s.value)})(e,t):e instanceof cs?(function(i,s){return s instanceof cs&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((l,c,d)=>l&&MI(c,s.filters[d])),!0):!1})(e,t):void $t(19439)}function LI(e){return e instanceof Cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`})(e):e instanceof cs?(function(n){return n.op.toString()+" {"+n.getFilters().map(LI).join(" ,")+"}"})(e):"Filter"}class tj extends Cn{constructor(t,n,i){super(t,n,i),this.key=Bt.fromName(i.referenceValue)}matches(t){const n=Bt.comparator(t.key,this.key);return this.matchesComparison(n)}}class ej extends Cn{constructor(t,n){super(t,"in",n),this.keys=OI("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class nj extends Cn{constructor(t,n){super(t,"not-in",n),this.keys=OI("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function OI(e,t){return(t.arrayValue?.values||[]).map((n=>Bt.fromName(n.referenceValue)))}class ij extends Cn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return D0(n)&&hf(n.arrayValue,this.value)}}class rj extends Cn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&hf(this.value.arrayValue,n)}}class sj extends Cn{constructor(t,n){super(t,"not-in",n)}matches(t){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hf(this.value.arrayValue,n)}}class aj extends Cn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!D0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>hf(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(t,n=null,i=[],s=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function ax(e,t=null,n=[],i=[],s=null,l=null,c=null){return new oj(e,t,n,i,s,l,c)}function M0(e){const t=ne(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((i=>$_(i))).join(","),n+="|ob:",n+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),fm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>fc(i))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>fc(i))).join(",")),t.Te=n}return t.Te}function L0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Q5(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!MI(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sx(e.startAt,t.startAt)&&sx(e.endAt,t.endAt)}function W_(e){return Bt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n=null,i=[],s=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lj(e,t,n,i,s,l,c,d){return new Rc(e,t,n,i,s,l,c,d)}function O0(e){return new Rc(e)}function ox(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function NI(e){return e.collectionGroup!==null}function Kh(e){const t=ne(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Nn(ai.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new ff(l,i))})),n.has(ai.keyField().canonicalString())||t.Ie.push(new ff(ai.keyField(),i))}return t.Ie}function Fs(e){const t=ne(e);return t.Ee||(t.Ee=uj(t,Kh(e))),t.Ee}function uj(e,t){if(e.limitType==="F")return ax(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new ff(s.field,l)}));const n=e.endAt?new Np(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Np(e.startAt.position,e.startAt.inclusive):null;return ax(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Y_(e,t){const n=e.filters.concat([t]);return new Rc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function X_(e,t,n){return new Rc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pm(e,t){return L0(Fs(e),Fs(t))&&e.limitType===t.limitType}function VI(e){return`${M0(Fs(e))}|lt:${e.limitType}`}function Hu(e){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>LI(s))).join(", ")}]`),fm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>fc(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>fc(s))).join(",")),`Target(${i})`})(Fs(e))}; limitType=${e.limitType})`}function mm(e,t){return t.isFoundDocument()&&(function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Bt.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(e,t)&&(function(i,s){for(const l of Kh(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0})(e,t)&&(function(i,s){return!(i.startAt&&!(function(c,d,p){const m=rx(c,d,p);return c.inclusive?m<=0:m<0})(i.startAt,Kh(i),s)||i.endAt&&!(function(c,d,p){const m=rx(c,d,p);return c.inclusive?m>=0:m>0})(i.endAt,Kh(i),s))})(e,t)}function cj(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zI(e){return(t,n)=>{let i=!1;for(const s of Kh(e)){const l=hj(s,t,n);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function hj(e,t,n){const i=e.field.isKeyField()?Bt.comparator(t.key,n.key):(function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?hc(p,m):$t(42886)})(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return $t(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return void(s[l]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){tl(this.inner,((n,i)=>{for(const[s,l]of i)t(s,l)}))}isEmpty(){return wI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=new en(Bt.comparator);function Pa(){return fj}const UI=new en(Bt.comparator);function Lh(...e){let t=UI;for(const n of e)t=t.insert(n.key,n);return t}function BI(e){let t=UI;return e.forEach(((n,i)=>t=t.insert(n,i.overlayedDocument))),t}function Ul(){return $h()}function jI(){return $h()}function $h(){return new Jl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const dj=new en(Bt.comparator),pj=new Nn(Bt.comparator);function me(...e){let t=pj;for(const n of e)t=t.add(n);return t}const mj=new Nn(pe);function gj(){return mj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mp(t)?"-0":t}}function FI(e){return{integerValue:""+e}}function yj(e,t){return q5(t)?FI(t):N0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function _j(e,t,n){return e instanceof df?(function(s,l){const c={fields:{[SI]:{stringValue:bI},[AI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&k0(l)&&(l=dm(l)),l&&(c.fields[xI]=l),{mapValue:c}})(n,t):e instanceof pf?qI(e,t):e instanceof mf?GI(e,t):(function(s,l){const c=HI(s,l),d=lx(c)+lx(s.Ae);return K_(c)&&K_(s.Ae)?FI(d):N0(s.serializer,d)})(e,t)}function vj(e,t,n){return e instanceof pf?qI(e,t):e instanceof mf?GI(e,t):n}function HI(e,t){return e instanceof Vp?(function(i){return K_(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class df extends gm{}class pf extends gm{constructor(t){super(),this.elements=t}}function qI(e,t){const n=ZI(t);for(const i of e.elements)n.some((s=>Ws(s,i)))||n.push(i);return{arrayValue:{values:n}}}class mf extends gm{constructor(t){super(),this.elements=t}}function GI(e,t){let n=ZI(t);for(const i of e.elements)n=n.filter((s=>!Ws(s,i)));return{arrayValue:{values:n}}}class Vp extends gm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function lx(e){return mn(e.integerValue||e.doubleValue)}function ZI(e){return D0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(t,n){this.field=t,this.transform=n}}function wj(e,t){return e.field.isEqual(t.field)&&(function(i,s){return i instanceof pf&&s instanceof pf||i instanceof mf&&s instanceof mf?cc(i.elements,s.elements,Ws):i instanceof Vp&&s instanceof Vp?Ws(i.Ae,s.Ae):i instanceof df&&s instanceof df})(e.transform,t.transform)}class Ej{constructor(t,n){this.version=t,this.transformResults=n}}class ls{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ls}static exists(t){return new ls(void 0,t)}static updateTime(t){return new ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ym{}function KI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new V0(e.key,ls.none()):new Pf(e.key,e.data,ls.none());{const n=e.data,i=Bi.empty();let s=new Nn(ai.comparator);for(let l of t.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new el(e.key,i,new fr(s.toArray()),ls.none())}}function bj(e,t,n){e instanceof Pf?(function(s,l,c){const d=s.value.clone(),p=cx(s.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof el?(function(s,l,c){if(!mp(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=cx(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll($I(s)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Wh(e,t,n,i){return e instanceof Pf?(function(l,c,d,p){if(!mp(l.precondition,c))return d;const m=l.value.clone(),v=hx(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(e,t,n,i):e instanceof el?(function(l,c,d,p){if(!mp(l.precondition,c))return d;const m=hx(l.fieldTransforms,p,c),v=c.data;return v.setAll($I(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(e,t,n,i):(function(l,c,d){return mp(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function Sj(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),l=HI(i.transform,s||null);l!=null&&(n===null&&(n=Bi.empty()),n.set(i.field,l))}return n||null}function ux(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&cc(i,s,((l,c)=>wj(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Pf extends ym{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class el extends ym{constructor(t,n,i,s,l=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $I(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function cx(e,t,n){const i=new Map;Ae(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const l=e[s],c=l.transform,d=t.data.field(l.field);i.set(l.field,vj(c,d,n[s]))}return i}function hx(e,t,n){const i=new Map;for(const s of e){const l=s.transform,c=n.data.field(s.field);i.set(s.field,_j(l,c,t))}return i}class V0 extends ym{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xj extends ym{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(t.key)&&bj(l,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Wh(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Wh(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=jI();return this.mutations.forEach((s=>{const l=t.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(s.key)?null:d;const p=KI(c,d);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(te.min())})),i}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),me())}isEqual(t){return this.batchId===t.batchId&&cc(this.mutations,t.mutations,((n,i)=>ux(n,i)))&&cc(this.baseMutations,t.baseMutations,((n,i)=>ux(n,i)))}}class z0{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Ae(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=(function(){return dj})();const l=t.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new z0(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,Te;function Ij(e){switch(e){case _t.OK:return $t(64938);case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0;default:return $t(15467,{code:e})}}function WI(e){if(e===void 0)return Ia("GRPC error has no .code"),_t.UNKNOWN;switch(e){case Sn.OK:return _t.OK;case Sn.CANCELLED:return _t.CANCELLED;case Sn.UNKNOWN:return _t.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return _t.INTERNAL;case Sn.UNAVAILABLE:return _t.UNAVAILABLE;case Sn.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case Sn.NOT_FOUND:return _t.NOT_FOUND;case Sn.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case Sn.ABORTED:return _t.ABORTED;case Sn.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case Sn.DATA_LOSS:return _t.DATA_LOSS;default:return $t(39323,{code:e})}}(Te=Sn||(Sn={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=new zo([4294967295,4294967295],0);function fx(e){const t=Pj().encode(e),n=new cI;return n.update(t),new Uint8Array(n.digest())}function dx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new zo([n,i],0),new zo([s,l],0)]}class U0{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Oh(`Invalid padding: ${n}`);if(i<0)throw new Oh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Oh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Oh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=zo.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(zo.fromNumber(i)));return s.compare(kj)===1&&(s=new zo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=fx(t),[i,s]=dx(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);if(!this.we(c))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new U0(l,s,n);return i.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=fx(t),[i,s]=dx(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,n,i,s,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,kf.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new _m(te.min(),s,new en(pe),Pa(),me())}}class kf{constructor(t,n,i,s,l){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new kf(i,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class YI{constructor(t,n){this.targetId=t,this.Ce=n}}class XI{constructor(t,n,i=oi.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class px{constructor(){this.ve=0,this.Fe=mx(),this.Me=oi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=me(),n=me(),i=me();return this.Fe.forEach(((s,l)=>{switch(l){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:$t(38017,{changeType:l})}})),new kf(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=mx()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dj{constructor(t){this.Ge=t,this.ze=new Map,this.je=Pa(),this.Je=Xd(),this.He=Xd(),this.Ye=new en(pe)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:$t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const l=s.target;if(W_(l))if(i===0){const c=new Bt(l.path);this.et(n,c,yi.newNoDocument(c,te.min()))}else Ae(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=n;let c,d;try{c=Ko(i).toUint8Array()}catch(p){if(p instanceof EI)return uc("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new U0(c,s,l)}catch(p){return uc(p instanceof Oh?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&W_(d.target)){const p=new Bt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,yi.newNoDocument(p,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=me();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const s=new _m(t,n,this.Ye,this.je,i);return this.je=Pa(),this.Je=Xd(),this.He=Xd(),this.Ye=new en(pe),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new px,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Nn(pe),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Nn(pe),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new px),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Xd(){return new en(Bt.comparator)}function mx(){return new en(Bt.comparator)}const Mj={asc:"ASCENDING",desc:"DESCENDING"},Lj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oj={and:"AND",or:"OR"};class Nj{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Q_(e,t){return e.useProto3Json||fm(t)?t:{value:t}}function zp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Vj(e,t){return zp(e,t.toTimestamp())}function Hs(e){return Ae(!!e,49232),te.fromTimestamp((function(n){const i=Zo(n);return new Ge(i.seconds,i.nanos)})(e))}function B0(e,t){return J_(e,t).canonicalString()}function J_(e,t){const n=(function(s){return new Fe(["projects",s.projectId,"databases",s.database])})(e).child("documents");return t===void 0?n:n.child(t)}function JI(e){const t=Fe.fromString(e);return Ae(rP(t),10190,{key:t.toString()}),t}function tv(e,t){return B0(e.databaseId,t.path)}function Yy(e,t){const n=JI(t);if(n.get(1)!==e.databaseId.projectId)throw new Dt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Dt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bt(eP(n))}function tP(e,t){return B0(e.databaseId,t)}function zj(e){const t=JI(e);return t.length===4?Fe.emptyPath():eP(t)}function ev(e){return new Fe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function eP(e){return Ae(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function gx(e,t,n){return{name:tv(e,t),fields:n.value.mapValue.fields}}function Uj(e,t){let n;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:$t(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(Ae(v===void 0||typeof v=="string",58123),oi.fromBase64String(v||"")):(Ae(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),oi.fromUint8Array(v||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(m){const v=m.code===void 0?_t.UNKNOWN:WI(m.code);return new Dt(v,m.message||"")})(c);n=new XI(i,s,l,d||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Yy(e,i.document.name),l=Hs(i.document.updateTime),c=i.document.createTime?Hs(i.document.createTime):te.min(),d=new Bi({mapValue:{fields:i.document.fields}}),p=yi.newFoundDocument(s,l,c,d),m=i.targetIds||[],v=i.removedTargetIds||[];n=new gp(m,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Yy(e,i.document),l=i.readTime?Hs(i.readTime):te.min(),c=yi.newNoDocument(s,l),d=i.removedTargetIds||[];n=new gp([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Yy(e,i.document),l=i.removedTargetIds||[];n=new gp([],l,s,null)}else{if(!("filter"in t))return $t(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new Rj(s,l),d=i.targetId;n=new YI(d,c)}}return n}function Bj(e,t){let n;if(t instanceof Pf)n={update:gx(e,t.key,t.value)};else if(t instanceof V0)n={delete:tv(e,t.key)};else if(t instanceof el)n={update:gx(e,t.key,t.data),updateMask:Wj(t.fieldMask)};else{if(!(t instanceof xj))return $t(16599,{Vt:t.type});n={verify:tv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof df)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof mf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Vp)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw $t(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(n.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:Vj(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:$t(27497)})(e,t.precondition)),n}function jj(e,t){return e&&e.length>0?(Ae(t!==void 0,14353),e.map((n=>(function(s,l){let c=s.updateTime?Hs(s.updateTime):Hs(l);return c.isEqual(te.min())&&(c=Hs(l)),new Ej(c,s.transformResults||[])})(n,t)))):[]}function Fj(e,t){return{documents:[tP(e,t.path)]}}function Hj(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=tP(e,s);const l=(function(m){if(m.length!==0)return iP(cs.create(m,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((v=>(function(b){return{field:qu(b.field),direction:Zj(b.dir)}})(v)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Q_(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:n,parent:s}}function qj(e){let t=zj(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Ae(i===1,65062);const v=n.from[0];v.allDescendants?s=v.collectionId:t=t.child(v.collectionId)}let l=[];n.where&&(l=(function(w){const b=nP(w);return b instanceof cs&&DI(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(w){return w.map((b=>(function(D){return new ff(Gu(D.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(w){let b;return b=typeof w=="object"?w.value:w,fm(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(w){const b=!!w.before,x=w.values||[];return new Np(x,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(w){const b=!w.before,x=w.values||[];return new Np(x,b)})(n.endAt)),lj(t,s,c,l,d,"F",p,m)}function Gj(e,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function nP(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Gu(n.unaryFilter.field);return Cn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Gu(n.unaryFilter.field);return Cn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Gu(n.unaryFilter.field);return Cn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Gu(n.unaryFilter.field);return Cn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $t(61313);default:return $t(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Cn.create(Gu(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $t(58110);default:return $t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return cs.create(n.compositeFilter.filters.map((i=>nP(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return $t(1026)}})(n.compositeFilter.op))})(e):$t(30097,{filter:e})}function Zj(e){return Mj[e]}function Kj(e){return Lj[e]}function $j(e){return Oj[e]}function qu(e){return{fieldPath:e.canonicalString()}}function Gu(e){return ai.fromServerFormat(e.fieldPath)}function iP(e){return e instanceof Cn?(function(n){if(n.op==="=="){if(ix(n.value))return{unaryFilter:{field:qu(n.field),op:"IS_NAN"}};if(nx(n.value))return{unaryFilter:{field:qu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ix(n.value))return{unaryFilter:{field:qu(n.field),op:"IS_NOT_NAN"}};if(nx(n.value))return{unaryFilter:{field:qu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qu(n.field),op:Kj(n.op),value:n.value}}})(e):e instanceof cs?(function(n){const i=n.getFilters().map((s=>iP(s)));return i.length===1?i[0]:{compositeFilter:{op:$j(n.op),filters:i}}})(e):$t(54877,{filter:e})}function Wj(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function rP(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,n,i,s,l=te.min(),c=te.min(),d=oi.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Oo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(t){this.yt=t}}function Xj(e){const t=qj({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?X_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.Cn=new Jj}addToCollectionParentIndex(t,n){return this.Cn.add(n),wt.resolve()}getCollectionParents(t,n){return wt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return wt.resolve()}deleteFieldIndex(t,n){return wt.resolve()}deleteAllFieldIndexes(t){return wt.resolve()}createTargetIndexes(t,n){return wt.resolve()}getDocumentsMatchingTarget(t,n){return wt.resolve(null)}getIndexType(t,n){return wt.resolve(0)}getFieldIndexes(t,n){return wt.resolve([])}getNextCollectionGroupToUpdate(t){return wt.resolve(null)}getMinOffset(t,n){return wt.resolve(Go.min())}getMinOffsetFromCollectionGroup(t,n){return wt.resolve(Go.min())}updateCollectionGroup(t,n,i){return wt.resolve()}updateIndexEntries(t,n){return wt.resolve()}}class Jj{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Nn(Fe.comparator),l=!s.has(i);return this.index[n]=s.add(i),l}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Nn(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sP=41943040;class Ui{static withCacheSize(t){return new Ui(t,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui.DEFAULT_COLLECTION_PERCENTILE=10,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ui.DEFAULT=new Ui(sP,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ui.DISABLED=new Ui(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new dc(0)}static cr(){return new dc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="LruGarbageCollector",tF=1048576;function vx([e,t],[n,i]){const s=pe(e,n);return s===0?pe(t,i):s}class eF{constructor(t){this.Ir=t,this.buffer=new Nn(vx),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();vx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nF{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Mt(_x,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cc(n)?Mt(_x,"Ignoring IndexedDB error during garbage collection: ",n):await Ac(n)}await this.Vr(3e5)}))}}class iF{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(t,n){if(n===0)return wt.resolve(hm.ce);const i=new eF(n);return this.mr.forEachTarget(t,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),wt.resolve(yx)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yx):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,l,c,d,p,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,c=Date.now(),this.nthSequenceNumber(t,s)))).next((w=>(i=w,d=Date.now(),this.removeTargets(t,i,n)))).next((w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(t,i)))).next((w=>(m=Date.now(),Fu()<=de.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),wt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:w}))))}}function rF(e,t){return new iF(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.changes=new Jl((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?wt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(i!==null&&Wh(i.mutation,s,fr.empty(),Ge.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.getLocalViewOfDocuments(t,i,me()).next((()=>i))))}getLocalViewOfDocuments(t,n,i=me()){const s=Ul();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,i).next((l=>{let c=Lh();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const i=Ul();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,me())))}populateOverlays(t,n,i){const s=[];return i.forEach((l=>{n.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(t,s).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,i,s){let l=Pa();const c=$h(),d=(function(){return $h()})();return n.forEach(((p,m)=>{const v=i.get(m.key);s.has(m.key)&&(v===void 0||v.mutation instanceof el)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),Wh(v.mutation,m,v.mutation.getFieldMask(),Ge.now())):c.set(m.key,fr.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((m,v)=>c.set(m,v))),n.forEach(((m,v)=>d.set(m,new aF(v,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(t,n){const i=$h();let s=new en(((c,d)=>c-d)),l=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let v=i.get(p)||fr.empty();v=d.applyToLocalView(m,v),i.set(p,v);const w=(s.get(d.batchId)||me()).add(p);s=s.insert(d.batchId,w)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,v=p.value,w=jI();v.forEach((b=>{if(!l.has(b)){const x=KI(n.get(b),i.get(b));x!==null&&w.set(b,x),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,w))}return wt.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,n,i,s){return(function(c){return Bt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):NI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-l.size):wt.resolve(Ul());let d=lf,p=l;return c.next((m=>wt.forEach(m,((v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(v)?wt.resolve():this.remoteDocumentCache.getEntry(t,v).next((b=>{p=p.insert(v,b)}))))).next((()=>this.populateOverlays(t,m,l))).next((()=>this.computeViews(t,p,m,me()))).next((v=>({batchId:d,changes:BI(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Bt(n)).next((i=>{let s=Lh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const l=n.collectionGroup;let c=Lh();return this.indexManager.getCollectionParents(t,l).next((d=>wt.forEach(d,(p=>{const m=(function(w,b){return new Rc(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,i,s).next((v=>{v.forEach(((w,b)=>{c=c.insert(w,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,l,s)))).next((c=>{l.forEach(((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,yi.newInvalidDocument(v)))}));let d=Lh();return c.forEach(((p,m)=>{const v=l.get(p);v!==void 0&&Wh(v.mutation,m,fr.empty(),Ge.now()),mm(n,m)&&(d=d.insert(p,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return wt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Hs(s.createTime)}})(n)),wt.resolve()}getNamedQuery(t,n){return wt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:Xj(s.bundledQuery),readTime:Hs(s.readTime)}})(n)),wt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.overlays=new en(Bt.comparator),this.qr=new Map}getOverlay(t,n){return wt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ul();return wt.forEach(n,(s=>this.getOverlay(t,s).next((l=>{l!==null&&i.set(s,l)})))).next((()=>i))}saveOverlays(t,n,i){return i.forEach(((s,l)=>{this.St(t,n,l)})),wt.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),wt.resolve()}getOverlaysForCollection(t,n,i){const s=Ul(),l=n.length+1,c=new Bt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&s.set(p.getKey(),p)}return wt.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let l=new en(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=Ul(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Ul(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=s)););return wt.resolve(d)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Cj(n,i));let l=this.qr.get(n);l===void 0&&(l=me(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.sessionToken=oi.EMPTY_BYTE_STRING}getSessionToken(t){return wt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,wt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.Qr=new Nn($n.$r),this.Ur=new Nn($n.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new $n(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach((i=>this.addReference(i,n)))}removeReference(t,n){this.Gr(new $n(t,n))}zr(t,n){t.forEach((i=>this.removeReference(i,n)))}jr(t){const n=new Bt(new Fe([])),i=new $n(n,t),s=new $n(n,t+1),l=[];return this.Ur.forEachInRange([i,s],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Bt(new Fe([])),i=new $n(n,t),s=new $n(n,t+1);let l=me();return this.Ur.forEachInRange([i,s],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new $n(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class $n{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Bt.comparator(t.key,n.key)||pe(t.Yr,n.Yr)}static Kr(t,n){return pe(t.Yr,n.Yr)||Bt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nn($n.$r)}checkEmpty(t){return wt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Aj(l,n,i,s);this.mutationQueue.push(c);for(const d of s)this.Zr=this.Zr.add(new $n(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return wt.resolve(c)}lookupMutationBatch(t,n){return wt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),l=s<0?0:s;return wt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return wt.resolve(this.mutationQueue.length===0?P0:this.tr-1)}getAllMutationBatches(t){return wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new $n(n,0),s=new $n(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,s],(c=>{const d=this.Xr(c.Yr);l.push(d)})),wt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Nn(pe);return n.forEach((s=>{const l=new $n(s,0),c=new $n(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),wt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let l=i;Bt.isDocumentKey(l)||(l=l.child(""));const c=new $n(new Bt(l),0);let d=new Nn(pe);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(d=d.add(p.Yr)),!0)}),c),wt.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return wt.forEach(n.mutations,(s=>{const l=new $n(s.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,n){const i=new $n(n,0),s=this.Zr.firstAfterOrEqual(i);return wt.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,wt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(t){this.ri=t,this.docs=(function(){return new en(Bt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),l=s?s.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return wt.resolve(i?i.document.mutableCopy():yi.newInvalidDocument(n))}getEntries(t,n){let i=Pa();return n.forEach((s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():yi.newInvalidDocument(s))})),wt.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let l=Pa();const c=n.path,d=new Bt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||B5(U5(v),i)<=0||(s.has(v.key)||mm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return wt.resolve(l)}getAllFromCollectionGroup(t,n,i,s){$t(9500)}ii(t,n){return wt.forEach(this.docs,(i=>n(i)))}newChangeBuffer(t){return new dF(this)}getSize(t){return wt.resolve(this.size)}}class dF extends sF{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)})),wt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(t){this.persistence=t,this.si=new Jl((n=>M0(n)),L0),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new j0,this.targetCount=0,this.ai=dc.ur()}forEachTarget(t,n){return this.si.forEach(((i,s)=>n(s))),wt.resolve()}getLastRemoteSnapshotVersion(t){return wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return wt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),wt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),wt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new dc(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,wt.resolve()}updateTargetData(t,n){return this.Pr(n),wt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,wt.resolve()}removeTargets(t,n,i){let s=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),s++)})),wt.waitFor(l).next((()=>s))}getTargetCount(t){return wt.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return wt.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),wt.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach((c=>{l.push(s.markPotentiallyOrphaned(t,c))})),wt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),wt.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return wt.resolve(i)}containsKey(t,n){return wt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(t,n){this.ui={},this.overlays={},this.ci=new hm(0),this.li=!1,this.li=!0,this.hi=new cF,this.referenceDelegate=t(this),this.Pi=new pF(this),this.indexManager=new Qj,this.remoteDocumentCache=(function(s){return new fF(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Yj(n),this.Ii=new lF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new uF,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new hF(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){Mt("MemoryPersistence","Starting transaction:",t);const s=new mF(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((l=>this.referenceDelegate.di(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ai(t,n){return wt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,n))))}}class mF extends F5{constructor(t){super(),this.currentSequenceNumber=t}}class F0{constructor(t){this.persistence=t,this.Ri=new j0,this.Vi=null}static mi(t){return new F0(t)}get fi(){if(this.Vi)return this.Vi;throw $t(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),wt.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),wt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),wt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wt.forEach(this.fi,(i=>{const s=Bt.fromPath(i);return this.gi(t,s).next((l=>{l||n.removeEntry(s,te.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return wt.or([()=>wt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Up{constructor(t,n){this.persistence=t,this.pi=new Jl((i=>G5(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=rF(this,n)}static mi(t,n){return new Up(t,n)}Ei(){}di(t){return wt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>n.next((s=>i+s))))}wr(t){let n=0;return this.pr(t,(i=>{n++})).next((()=>n))}pr(t,n){return wt.forEach(this.pi,((i,s)=>this.br(t,i,s).next((l=>l?wt.resolve():n(s)))))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ii(t,(c=>this.br(t,c,n).next((d=>{d||(i++,l.removeEntry(c,te.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),wt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),wt.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),wt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),wt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=dp(t.data.value)),n}br(t,n,i){return wt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return wt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=me(),s=me();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new H0(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return o9()?8:H5(vi())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,s,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new gF;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,i,s){return i.documentReadCount<this.fs?(Fu()<=de.DEBUG&&Mt("QueryEngine","SDK will not create cache indexes for query:",Hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),wt.resolve()):(Fu()<=de.DEBUG&&Mt("QueryEngine","Query:",Hu(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Fu()<=de.DEBUG&&Mt("QueryEngine","The SDK decides to create cache indexes for query:",Hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fs(n))):wt.resolve())}ys(t,n){if(ox(n))return wt.resolve(null);let i=Fs(n);return this.indexManager.getIndexType(t,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=X_(n,null,"F"),i=Fs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const c=me(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,i).next((p=>{const m=this.Ds(n,d);return this.Cs(n,m,c,p.readTime)?this.ys(t,X_(n,null,"F")):this.vs(t,m,n,p)}))))})))))}ws(t,n,i,s){return ox(n)||s.isEqual(te.min())?wt.resolve(null):this.ps.getDocuments(t,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,s)?wt.resolve(null):(Fu()<=de.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hu(n)),this.vs(t,c,n,z5(s,lf)).next((d=>d)))}))}Ds(t,n){let i=new Nn(zI(t));return n.forEach(((s,l)=>{mm(t,l)&&(i=i.add(l))})),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(t,n,i){return Fu()<=de.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",Hu(n)),this.ps.getDocumentsMatchingQuery(t,n,Go.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="LocalStore",_F=3e8;class vF{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new en(pe),this.xs=new Jl((l=>M0(l)),L0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new oF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function TF(e,t,n,i){return new vF(e,t,n,i)}async function oP(e,t){const n=ne(e);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((l=>(s=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=me();for(const m of s){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function wF(e,t){const n=ne(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,v){const w=m.batch,b=w.keys();let x=wt.resolve();return b.forEach((D=>{x=x.next((()=>v.getEntry(p,D))).next((N=>{const H=m.docVersions.get(D);Ae(H!==null,48541),N.version.compareTo(H)<0&&(w.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),v.addEntry(N)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(p,w)))})(n,i,t,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=me();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function lP(e){const t=ne(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function EF(e,t){const n=ne(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const d=[];t.targetChanges.forEach(((v,w)=>{const b=s.get(w);if(!b)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,w))));let x=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(w)!==null?x=x.withResumeToken(oi.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),s=s.insert(w,x),(function(N,H,U){return N.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=_F?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(b,x,v)&&d.push(n.Pi.updateTargetData(l,x))}));let p=Pa(),m=me();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(bF(l,c,t.documentUpdates).next((v=>{p=v.ks,m=v.qs}))),!i.isEqual(te.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((w=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return wt.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(n.Ms=s,l)))}function bF(e,t,n){let i=me(),s=me();return n.forEach((l=>i=i.add(l))),t.getEntries(e,i).next((l=>{let c=Pa();return n.forEach(((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(te.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Mt(q0,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:s}}))}function SF(e,t){const n=ne(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=P0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function xF(e,t){const n=ne(e);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,t).next((l=>l?(s=l,wt.resolve(s)):n.Pi.allocateTargetId(i).next((c=>(s=new Oo(t,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i}))}async function nv(e,t,n){const i=ne(e),s=i.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Cc(c))throw c;Mt(q0,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function Tx(e,t,n){const i=ne(e);let s=te.min(),l=me();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,v){const w=ne(p),b=w.xs.get(v);return b!==void 0?wt.resolve(w.Ms.get(b)):w.Pi.getTargetData(m,v)})(i,c,Fs(t)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,n?s:te.min(),n?l:me()))).next((d=>(AF(i,cj(t),d),{documents:d,Qs:l})))))}function AF(e,t,n){let i=e.Os.get(t)||te.min();n.forEach(((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),e.Os.set(t,i)}class wx{constructor(){this.activeTargetIds=gj()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CF{constructor(){this.Mo=new wx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new wx,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="ConnectivityMonitor";class bx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Mt(Ex,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Mt(Ex,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd=null;function iv(){return Qd===null?Qd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qd++,"0x"+Qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="RestConnection",IF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PF{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Lp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,l){const c=iv(),d=this.zo(t,n.toUriEncodedString());Mt(Xy,`Sending RPC '${t}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,l);const{host:m}=new URL(d),v=Jo(m);return this.Jo(t,d,p,i,v).then((w=>(Mt(Xy,`Received RPC '${t}' ${c}: `,w),w)),(w=>{throw uc(Xy,`RPC '${t}' ${c} failed with error: `,w,"url: ",d,"request:",i),w}))}Ho(t,n,i,s,l,c){return this.Go(t,n,i,s,l)}jo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,l)=>t[l]=s)),i&&i.headers.forEach(((s,l)=>t[l]=s))}zo(t,n){const i=IF[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="WebChannelConnection";class DF extends PF{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,l){const c=iv();return new Promise(((d,p)=>{const m=new hI;m.setWithCredentials(!0),m.listenOnce(fI.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case fp.NO_ERROR:const w=m.getResponseJson();Mt(mi,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(w)),d(w);break;case fp.TIMEOUT:Mt(mi,`RPC '${t}' ${c} timed out`),p(new Dt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case fp.HTTP_ERROR:const b=m.getStatus();if(Mt(mi,`RPC '${t}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x?.error;if(D&&D.status&&D.message){const N=(function(U){const X=U.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(X)>=0?X:_t.UNKNOWN})(D.status);p(new Dt(N,D.message))}else p(new Dt(_t.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Dt(_t.UNAVAILABLE,"Connection failed."));break;default:$t(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Mt(mi,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(s);Mt(mi,`RPC '${t}' ${c} sending request:`,s),m.send(n,"POST",v,i,15)}))}T_(t,n,i){const s=iv(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=mI(),d=pI(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=l.join("");Mt(mi,`Creating RPC '${t}' stream ${s}: ${v}`,p);const w=c.createWebChannel(v,p);this.I_(w);let b=!1,x=!1;const D=new kF({Yo:H=>{x?Mt(mi,`Not sending because RPC '${t}' stream ${s} is closed:`,H):(b||(Mt(mi,`Opening RPC '${t}' stream ${s} transport.`),w.open(),b=!0),Mt(mi,`RPC '${t}' stream ${s} sending:`,H),w.send(H))},Zo:()=>w.close()}),N=(H,U,X)=>{H.listen(U,(W=>{try{X(W)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return N(w,Mh.EventType.OPEN,(()=>{x||(Mt(mi,`RPC '${t}' stream ${s} transport opened.`),D.o_())})),N(w,Mh.EventType.CLOSE,(()=>{x||(x=!0,Mt(mi,`RPC '${t}' stream ${s} transport closed`),D.a_(),this.E_(w))})),N(w,Mh.EventType.ERROR,(H=>{x||(x=!0,uc(mi,`RPC '${t}' stream ${s} transport errored. Name:`,H.name,"Message:",H.message),D.a_(new Dt(_t.UNAVAILABLE,"The operation could not be completed")))})),N(w,Mh.EventType.MESSAGE,(H=>{if(!x){const U=H.data[0];Ae(!!U,16349);const X=U,W=X?.error||X[0]?.error;if(W){Mt(mi,`RPC '${t}' stream ${s} received error:`,W);const dt=W.status;let ct=(function(M){const z=Sn[M];if(z!==void 0)return WI(z)})(dt),Q=W.message;ct===void 0&&(ct=_t.INTERNAL,Q="Unknown error status: "+dt+" with message "+W.message),x=!0,D.a_(new Dt(ct,Q)),w.close()}else Mt(mi,`RPC '${t}' stream ${s} received:`,U),D.u_(U)}})),N(d,dI.STAT_EVENT,(H=>{H.stat===q_.PROXY?Mt(mi,`RPC '${t}' stream ${s} detected buffering proxy`):H.stat===q_.NOPROXY&&Mt(mi,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Qy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(e){return new Nj(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(t,n,i=1e3,s=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Mt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="PersistentStream";class cP{constructor(t,n,i,s,l,c,d,p){this.Mi=t,this.S_=i,this.b_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uP(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===_t.RESOURCE_EXHAUSTED?(Ia(n.toString()),Ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{t((()=>{const s=new Dt(_t.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Mt(Sx,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Mt(Sx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MF extends cP{constructor(t,n,i,s,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Uj(this.serializer,t),i=(function(l){if(!("targetChange"in l))return te.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?te.min():c.readTime?Hs(c.readTime):te.min()})(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=ev(this.serializer),n.addTarget=(function(l,c){let d;const p=c.target;if(d=W_(p)?{documents:Fj(l,p)}:{query:Hj(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=QI(l,c.resumeToken);const m=Q_(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(te.min())>0){d.readTime=zp(l,c.snapshotVersion.toTimestamp());const m=Q_(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,t);const i=Gj(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=ev(this.serializer),n.removeTarget=t,this.q_(n)}}class LF extends cP{constructor(t,n,i,s,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ae(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ae(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ae(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=jj(t.writeResults,t.commitTime),i=Hs(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=ev(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((i=>Bj(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{}class NF extends OF{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Dt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,J_(n,i),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Dt(_t.UNKNOWN,l.toString())}))}Ho(t,n,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,J_(n,i),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Dt(_t.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VF{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ia(n),this.aa=!1):Mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="RemoteStore";class zF{constructor(t,n,i,s,l){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{tu(this)&&(Mt($l,"Restarting streams for network reachability change."),await(async function(p){const m=ne(p);m.Ea.add(4),await Df(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Tm(m)})(this))}))})),this.Ra=new VF(i,s)}}async function Tm(e){if(tu(e))for(const t of e.da)await t(!0)}async function Df(e){for(const t of e.da)await t(!1)}function hP(e,t){const n=ne(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),$0(n)?K0(n):Ic(n).O_()&&Z0(n,t))}function G0(e,t){const n=ne(e),i=Ic(n);n.Ia.delete(t),i.O_()&&fP(n,t),n.Ia.size===0&&(i.O_()?i.L_():tu(n)&&n.Ra.set("Unknown"))}function Z0(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(te.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ic(e).Y_(t)}function fP(e,t){e.Va.Ue(t),Ic(e).Z_(t)}function K0(e){e.Va=new Dj({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ic(e).start(),e.Ra.ua()}function $0(e){return tu(e)&&!Ic(e).x_()&&e.Ia.size>0}function tu(e){return ne(e).Ea.size===0}function dP(e){e.Va=void 0}async function UF(e){e.Ra.set("Online")}async function BF(e){e.Ia.forEach(((t,n)=>{Z0(e,t)}))}async function jF(e,t){dP(e),$0(e)?(e.Ra.ha(t),K0(e)):e.Ra.set("Unknown")}async function FF(e,t,n){if(e.Ra.set("Online"),t instanceof XI&&t.state===2&&t.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.Va.removeTarget(d))})(e,t)}catch(i){Mt($l,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Bp(e,i)}else if(t instanceof gp?e.Va.Ze(t):t instanceof YI?e.Va.st(t):e.Va.tt(t),!n.isEqual(te.min()))try{const i=await lP(e.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(oi.EMPTY_BYTE_STRING,v.snapshotVersion)),fP(l,p);const w=new Oo(v.target,p,m,v.sequenceNumber);Z0(l,w)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(i){Mt($l,"Failed to raise snapshot:",i),await Bp(e,i)}}async function Bp(e,t,n){if(!Cc(t))throw t;e.Ea.add(1),await Df(e),e.Ra.set("Offline"),n||(n=()=>lP(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Mt($l,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Tm(e)}))}function pP(e,t){return t().catch((n=>Bp(e,n,t)))}async function wm(e){const t=ne(e),n=Wo(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:P0;for(;HF(t);)try{const s=await SF(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,qF(t,s)}catch(s){await Bp(t,s)}mP(t)&&gP(t)}function HF(e){return tu(e)&&e.Ta.length<10}function qF(e,t){e.Ta.push(t);const n=Wo(e);n.O_()&&n.X_&&n.ea(t.mutations)}function mP(e){return tu(e)&&!Wo(e).x_()&&e.Ta.length>0}function gP(e){Wo(e).start()}async function GF(e){Wo(e).ra()}async function ZF(e){const t=Wo(e);for(const n of e.Ta)t.ea(n.mutations)}async function KF(e,t,n){const i=e.Ta.shift(),s=z0.from(i,t,n);await pP(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await wm(e)}async function $F(e,t){t&&Wo(e).X_&&await(async function(i,s){if((function(c){return Ij(c)&&c!==_t.ABORTED})(s.code)){const l=i.Ta.shift();Wo(i).B_(),await pP(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s))),await wm(i)}})(e,t),mP(e)&&gP(e)}async function xx(e,t){const n=ne(e);n.asyncQueue.verifyOperationInProgress(),Mt($l,"RemoteStore received new credentials");const i=tu(n);n.Ea.add(3),await Df(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Tm(n)}async function WF(e,t){const n=ne(e);t?(n.Ea.delete(2),await Tm(n)):t||(n.Ea.add(2),await Df(n),n.Ra.set("Unknown"))}function Ic(e){return e.ma||(e.ma=(function(n,i,s){const l=ne(n);return l.sa(),new MF(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(e.datastore,e.asyncQueue,{Xo:UF.bind(null,e),t_:BF.bind(null,e),r_:jF.bind(null,e),H_:FF.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),$0(e)?K0(e):e.Ra.set("Unknown")):(await e.ma.stop(),dP(e))}))),e.ma}function Wo(e){return e.fa||(e.fa=(function(n,i,s){const l=ne(n);return l.sa(),new LF(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:GF.bind(null,e),r_:$F.bind(null,e),ta:ZF.bind(null,e),na:KF.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await wm(e)):(await e.fa.stop(),e.Ta.length>0&&(Mt($l,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,n,i,s,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,l){const c=Date.now()+i,d=new W0(t,n,c,s,l);return d.start(i),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Dt(_t.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y0(e,t){if(Ia("AsyncQueue",`${t}: ${e}`),Cc(e))return new Dt(_t.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{static emptySet(t){return new nc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Bt.comparator(n.key,i.key):(n,i)=>Bt.comparator(n.key,i.key),this.keyedMap=Lh(),this.sortedSet=new en(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,i)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof nc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new nc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.ga=new en(Bt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):$t(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,i)=>{t.push(i)})),t}}class pc{constructor(t,n,i,s,l,c,d,p,m){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,n,i,s,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new pc(t,n,nc.emptySet(n),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class XF{constructor(){this.queries=Cx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=ne(n),l=s.queries;s.queries=Cx(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(i)}))})(this,new Dt(_t.ABORTED,"Firestore shutting down"))}}function Cx(){return new Jl((e=>VI(e)),pm)}async function QF(e,t){const n=ne(e);let i=3;const s=t.query;let l=n.queries.get(s);l?!l.ba()&&t.Da()&&(i=2):(l=new YF,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(s,!0);break;case 1:l.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=Y0(c,`Initialization of query '${Hu(t.query)}' failed`);return void t.onError(d)}n.queries.set(s,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&X0(n)}async function JF(e,t){const n=ne(e),i=t.query;let s=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?s=t.Da()?0:1:!l.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function tH(e,t){const n=ne(e);let i=!1;for(const s of t){const l=s.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(s)&&(i=!0);c.wa=s}}i&&X0(n)}function eH(e,t,n){const i=ne(e),s=i.queries.get(t);if(s)for(const l of s.Sa)l.onError(n);i.queries.delete(t)}function X0(e){e.Ca.forEach((t=>{t.next()}))}var rv,Rx;(Rx=rv||(rv={})).Ma="default",Rx.Cache="cache";class nH{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new pc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=pc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(t){this.key=t}}class _P{constructor(t){this.key=t}}class iH{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=me(),this.mutatedKeys=me(),this.eu=zI(t),this.tu=new nc(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new Ax,s=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((v,w)=>{const b=s.get(v),x=mm(this.query,w)?w:null,D=!!b&&this.mutatedKeys.has(b.key),N=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let H=!1;b&&x?b.data.isEqual(x.data)?D!==N&&(i.track({type:3,doc:x}),H=!0):this.su(b,x)||(i.track({type:2,doc:x}),H=!0,(p&&this.eu(x,p)>0||m&&this.eu(x,m)<0)&&(d=!0)):!b&&x?(i.track({type:0,doc:x}),H=!0):b&&!x&&(i.track({type:1,doc:b}),H=!0,(p||m)&&(d=!0)),H&&(x?(c=c.add(x),l=N?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,w)=>(function(x,D){const N=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t(20277,{Rt:H})}};return N(x)-N(D)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(i),s=s??!1;const d=n&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new pc(this.query,t.tu,l,c,t.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ax,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=me(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return t.forEach((i=>{this.Xa.has(i)||n.push(new _P(i))})),this.Xa.forEach((i=>{t.has(i)||n.push(new yP(i))})),n}cu(t){this.Ya=t.Qs,this.Xa=me();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return pc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Q0="SyncEngine";class rH{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class sH{constructor(t){this.key=t,this.hu=!1}}class aH{constructor(t,n,i,s,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Jl((d=>VI(d)),pm),this.Iu=new Map,this.Eu=new Set,this.du=new en(Bt.comparator),this.Au=new Map,this.Ru=new j0,this.Vu={},this.mu=new Map,this.fu=dc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oH(e,t,n=!0){const i=SP(e);let s;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await vP(i,t,n,!0),s}async function lH(e,t){const n=SP(e);await vP(n,t,!0,!1)}async function vP(e,t,n,i){const s=await xF(e.localStore,Fs(t)),l=s.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await uH(e,t,l,c==="current",s.resumeToken)),e.isPrimaryClient&&n&&hP(e.remoteStore,s),d}async function uH(e,t,n,i,s){e.pu=(w,b,x)=>(async function(N,H,U,X){let W=H.view.ru(U);W.Cs&&(W=await Tx(N.localStore,H.query,!1).then((({documents:j})=>H.view.ru(j,W))));const dt=X&&X.targetChanges.get(H.targetId),ct=X&&X.targetMismatches.get(H.targetId)!=null,Q=H.view.applyChanges(W,N.isPrimaryClient,dt,ct);return Px(N,H.targetId,Q.au),Q.snapshot})(e,w,b,x);const l=await Tx(e.localStore,t,!0),c=new iH(t,l.Qs),d=c.ru(l.documents),p=kf.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),m=c.applyChanges(d,e.isPrimaryClient,p);Px(e,n,m.au);const v=new rH(t,n,c);return e.Tu.set(t,v),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),m.snapshot}async function cH(e,t,n){const i=ne(e),s=i.Tu.get(t),l=i.Iu.get(s.targetId);if(l.length>1)return i.Iu.set(s.targetId,l.filter((c=>!pm(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await nv(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&G0(i.remoteStore,s.targetId),sv(i,s.targetId)})).catch(Ac)):(sv(i,s.targetId),await nv(i.localStore,s.targetId,!0))}async function hH(e,t){const n=ne(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),G0(n.remoteStore,i.targetId))}async function fH(e,t,n){const i=vH(e);try{const s=await(function(c,d){const p=ne(c),m=Ge.now(),v=d.reduce(((x,D)=>x.add(D.key)),me());let w,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let D=Pa(),N=me();return p.Ns.getEntries(x,v).next((H=>{D=H,D.forEach(((U,X)=>{X.isValidDocument()||(N=N.add(U))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,D))).next((H=>{w=H;const U=[];for(const X of d){const W=Sj(X,w.get(X.key).overlayedDocument);W!=null&&U.push(new el(X.key,W,II(W.value.mapValue),ls.exists(!0)))}return p.mutationQueue.addMutationBatch(x,m,U,d)})).next((H=>{b=H;const U=H.applyToLocalDocumentSet(w,N);return p.documentOverlayCache.saveOverlays(x,H.batchId,U)}))})).then((()=>({batchId:b.batchId,changes:BI(w)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),(function(c,d,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new en(pe)),m=m.insert(d,p),c.Vu[c.currentUser.toKey()]=m})(i,s.batchId,n),await Mf(i,s.changes),await wm(i.remoteStore)}catch(s){const l=Y0(s,"Failed to persist write");n.reject(l)}}async function TP(e,t){const n=ne(e);try{const i=await EF(n.localStore,t);t.targetChanges.forEach(((s,l)=>{const c=n.Au.get(l);c&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Ae(c.hu,14607):s.removedDocuments.size>0&&(Ae(c.hu,42227),c.hu=!1))})),await Mf(n,i,t)}catch(i){await Ac(i)}}function Ix(e,t,n){const i=ne(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const p=ne(c);p.onlineState=d;let m=!1;p.queries.forEach(((v,w)=>{for(const b of w.Sa)b.va(d)&&(m=!0)})),m&&X0(p)})(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function dH(e,t,n){const i=ne(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),l=s&&s.key;if(l){let c=new en(Bt.comparator);c=c.insert(l,yi.newNoDocument(l,te.min()));const d=me().add(l),p=new _m(te.min(),new Map,new en(pe),c,d);await TP(i,p),i.du=i.du.remove(l),i.Au.delete(t),J0(i)}else await nv(i.localStore,t,!1).then((()=>sv(i,t,n))).catch(Ac)}async function pH(e,t){const n=ne(e),i=t.batch.batchId;try{const s=await wF(n.localStore,t);EP(n,i,null),wP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Mf(n,s)}catch(s){await Ac(s)}}async function mH(e,t,n){const i=ne(e);try{const s=await(function(c,d){const p=ne(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return p.mutationQueue.lookupMutationBatch(m,d).next((w=>(Ae(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(m,w)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>p.localDocuments.getDocuments(m,v)))}))})(i.localStore,t);EP(i,t,n),wP(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Mf(i,s)}catch(s){await Ac(s)}}function wP(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function EP(e,t,n){const i=ne(e);let s=i.Vu[i.currentUser.toKey()];if(s){const l=s.get(t);l&&(n?l.reject(n):l.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function sv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((i=>{e.Ru.containsKey(i)||bP(e,i)}))}function bP(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(G0(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),J0(e))}function Px(e,t,n){for(const i of n)i instanceof yP?(e.Ru.addReference(i.key,t),gH(e,i)):i instanceof _P?(Mt(Q0,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||bP(e,i.key)):$t(19791,{wu:i})}function gH(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(Mt(Q0,"New document in limbo: "+n),e.Eu.add(i),J0(e))}function J0(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Bt(Fe.fromString(t)),i=e.fu.next();e.Au.set(i,new sH(n)),e.du=e.du.insert(n,i),hP(e.remoteStore,new Oo(Fs(O0(n.path)),i,"TargetPurposeLimboResolution",hm.ce))}}async function Mf(e,t,n){const i=ne(e),s=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,t,n).then((m=>{if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){s.push(m);const v=H0.As(p.targetId,m);l.push(v)}})))})),await Promise.all(c),i.Pu.H_(s),await(async function(p,m){const v=ne(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>wt.forEach(m,(b=>wt.forEach(b.Es,(x=>v.persistence.referenceDelegate.addReference(w,b.targetId,x))).next((()=>wt.forEach(b.ds,(x=>v.persistence.referenceDelegate.removeReference(w,b.targetId,x)))))))))}catch(w){if(!Cc(w))throw w;Mt(q0,"Failed to update sequence numbers: "+w)}for(const w of m){const b=w.targetId;if(!w.fromCache){const x=v.Ms.get(b),D=x.snapshotVersion,N=x.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(b,N)}}})(i.localStore,l))}async function yH(e,t){const n=ne(e);if(!n.currentUser.isEqual(t)){Mt(Q0,"User change. New user:",t.toKey());const i=await oP(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new Dt(_t.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Mf(n,i.Ls)}}function _H(e,t){const n=ne(e),i=n.Au.get(t);if(i&&i.hu)return me().add(i.key);{let s=me();const l=n.Iu.get(t);if(!l)return s;for(const c of l){const d=n.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function SP(e){const t=ne(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_H.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dH.bind(null,t),t.Pu.H_=tH.bind(null,t.eventManager),t.Pu.yu=eH.bind(null,t.eventManager),t}function vH(e){const t=ne(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pH.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mH.bind(null,t),t}class jp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return TF(this.persistence,new yF,t.initialUser,this.serializer)}Cu(t){return new aP(F0.mi,this.serializer)}Du(t){return new CF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jp.provider={build:()=>new jp};class TH extends jp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ae(this.persistence.referenceDelegate instanceof Up,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new nF(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ui.withCacheSize(this.cacheSizeBytes):Ui.DEFAULT;return new aP((i=>Up.mi(i,n)),this.serializer)}}class av{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ix(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yH.bind(null,this.syncEngine),await WF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XF})()}createDatastore(t){const n=vm(t.databaseInfo.databaseId),i=(function(l){return new DF(l)})(t.databaseInfo);return(function(l,c,d,p){return new NF(l,c,d,p)})(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return(function(i,s,l,c,d){return new zF(i,s,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>Ix(this.syncEngine,n,0)),(function(){return bx.v()?new bx:new RF})())}createSyncEngine(t,n){return(function(s,l,c,d,p,m,v){const w=new aH(s,l,c,d,p,m);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=ne(n);Mt($l,"RemoteStore shutting down."),i.Ea.add(5),await Df(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}av.provider={build:()=>new av};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ia("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="FirestoreClient";class EH{constructor(t,n,i,s,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=gi.UNAUTHENTICATED,this.clientId=I0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Mt(Yo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Mt(Yo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Y0(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Jy(e,t){e.asyncQueue.verifyOperationInProgress(),Mt(Yo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async s=>{i.isEqual(s)||(await oP(t.localStore,s),i=s)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function kx(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bH(e);Mt(Yo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((i=>xx(t.remoteStore,i))),e.setAppCheckTokenChangeListener(((i,s)=>xx(t.remoteStore,s))),e._onlineComponents=t}async function bH(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Mt(Yo,"Using user provided OfflineComponentProvider");try{await Jy(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===_t.FAILED_PRECONDITION||s.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;uc("Error using user provided cache. Falling back to memory cache: "+n),await Jy(e,new jp)}}else Mt(Yo,"Using default OfflineComponentProvider"),await Jy(e,new TH(void 0));return e._offlineComponents}async function xP(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Mt(Yo,"Using user provided OnlineComponentProvider"),await kx(e,e._uninitializedComponentsProvider._online)):(Mt(Yo,"Using default OnlineComponentProvider"),await kx(e,new av))),e._onlineComponents}function SH(e){return xP(e).then((t=>t.syncEngine))}async function Dx(e){const t=await xP(e),n=t.eventManager;return n.onListen=oH.bind(null,t.syncEngine),n.onUnlisten=cH.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=lH.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hH.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="firestore.googleapis.com",Lx=!0;class Ox{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Dt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CP,this.ssl=Lx}else this.host=t.host,this.ssl=t.ssl??Lx;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sP;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<tF)throw new Dt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}V5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AP(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Dt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Dt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Dt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Em{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ox({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Dt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Dt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ox(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new C5;switch(i.type){case"firstParty":return new k5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Dt(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Mx.get(n);i&&(Mt("ComponentProvider","Removing Datastore"),Mx.delete(n),i.terminate())})(this),Promise.resolve()}}function xH(e,t,n,i={}){e=Uo(e,Em);const s=Jo(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;s&&(b0(`https://${d}`),S0("Firestore",!0)),l.host!==CP&&l.host!==d&&uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:s,emulatorOptions:i};if(!Gl(p,c)&&(e._setSettings(p),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=gi.MOCK_USER;else{m=rI(i.mockUserToken,e._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Dt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gi(w)}e._authCredentials=new R5(new yI(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new eu(this.firestore,t,this._query)}}class In{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new In(this.firestore,t,this._key)}toJSON(){return{type:In._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(If(n,In._jsonSchema))return new In(t,i||null,new Bt(Fe.fromString(n.referencePath)))}}In._jsonSchemaVersion="firestore/documentReference/1.0",In._jsonSchema={type:Rn("string",In._jsonSchemaVersion),referencePath:Rn("string")};class Bo extends eu{constructor(t,n,i){super(t,n,O0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new In(this.firestore,null,new Bt(t))}withConverter(t){return new Bo(this.firestore,t,this._path)}}function RP(e,t,...n){if(e=Ye(e),_I("collection","path",t),e instanceof Em){const i=Fe.fromString(t,...n);return KS(i),new Bo(e,null,i)}{if(!(e instanceof In||e instanceof Bo))throw new Dt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Fe.fromString(t,...n));return KS(i),new Bo(e.firestore,null,i)}}function tT(e,t,...n){if(e=Ye(e),arguments.length===1&&(t=I0.newId()),_I("doc","path",t),e instanceof Em){const i=Fe.fromString(t,...n);return ZS(i),new In(e,null,new Bt(i))}{if(!(e instanceof In||e instanceof Bo))throw new Dt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Fe.fromString(t,...n));return ZS(i),new In(e.firestore,e instanceof Bo?e.converter:null,new Bt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="AsyncQueue";class Vx{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uP(this,"async_queue_retry"),this._c=()=>{const i=Qy();i&&Mt(Nx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Qy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Qy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Cc(t))throw t;Mt(Nx,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ia("INTERNAL UNHANDLED ERROR: ",zx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=W0.createAndSchedule(this,t,n,i,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&$t(47125,{Pc:zx(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function zx(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(e){return(function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1})(e,["next","error","complete"])}class mc extends Em{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new Vx,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Vx(t),this._firestoreClient=void 0,await t}}}function AH(e,t){const n=typeof e=="object"?e:C0(),i=typeof e=="string"?e:Lp,s=um(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=eI("firestore");l&&xH(s,...l)}return s}function IP(e){if(e._terminated)throw new Dt(_t.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||CH(e),e._firestoreClient}function CH(e){const t=e._freezeSettings(),n=(function(s,l,c,d){return new $5(s,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AP(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new EH(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ur(oi.fromBase64String(t))}catch(n){throw new Dt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ur(oi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(If(t,Ur._jsonSchema))return Ur.fromBase64String(t.bytes)}}Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:Rn("string",Ur._jsonSchemaVersion),bytes:Rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Dt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Dt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Dt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return pe(this._lat,t._lat)||pe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qs._jsonSchemaVersion}}static fromJSON(t){if(If(t,qs._jsonSchema))return new qs(t.latitude,t.longitude)}}qs._jsonSchemaVersion="firestore/geoPoint/1.0",qs._jsonSchema={type:Rn("string",qs._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(If(t,Gs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Gs(t.vectorValues);throw new Dt(_t.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gs._jsonSchemaVersion="firestore/vectorValue/1.0",Gs._jsonSchema={type:Rn("string",Gs._jsonSchemaVersion),vectorValues:Rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=/^__.*__$/;class IH{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new el(t,this.data,this.fieldMask,n,this.fieldTransforms):new Pf(t,this.data,n,this.fieldTransforms)}}class PP{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new el(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function kP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t(40011,{Ac:e})}}class eT{constructor(t,n,i,s,l,c){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new eT({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Fp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kP(this.Ac)&&RH.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class PH{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||vm(t)}Cc(t,n,i,s=!1){return new eT({Ac:t,methodName:n,Dc:i,path:ai.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nT(e){const t=e._freezeSettings(),n=vm(e._databaseId);return new PH(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kH(e,t,n,i,s,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,s);rT("Data must be an object, but it was:",c,i);const d=DP(i,c);let p,m;if(l.merge)p=new fr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const b=ov(t,w,n);if(!c.contains(b))throw new Dt(_t.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);LP(v,b)||v.push(b)}p=new fr(v),m=c.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,m=c.fieldTransforms;return new IH(new Bi(d),p,m)}class xm extends Sm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xm}}class iT extends Sm{_toFieldTransform(t){return new Tj(t.path,new df)}isEqual(t){return t instanceof iT}}function DH(e,t,n,i){const s=e.Cc(1,t,n);rT("Data must be an object, but it was:",s,i);const l=[],c=Bi.empty();tl(i,((p,m)=>{const v=sT(t,p,n);m=Ye(m);const w=s.yc(v);if(m instanceof xm)l.push(v);else{const b=Lf(m,w);b!=null&&(l.push(v),c.set(v,b))}}));const d=new fr(l);return new PP(c,d,s.fieldTransforms)}function MH(e,t,n,i,s,l){const c=e.Cc(1,t,n),d=[ov(t,i,n)],p=[s];if(l.length%2!=0)throw new Dt(_t.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(ov(t,l[b])),p.push(l[b+1]);const m=[],v=Bi.empty();for(let b=d.length-1;b>=0;--b)if(!LP(m,d[b])){const x=d[b];let D=p[b];D=Ye(D);const N=c.yc(x);if(D instanceof xm)m.push(x);else{const H=Lf(D,N);H!=null&&(m.push(x),v.set(x,H))}}const w=new fr(m);return new PP(v,w,c.fieldTransforms)}function LH(e,t,n,i=!1){return Lf(n,e.Cc(i?4:3,t))}function Lf(e,t){if(MP(e=Ye(e)))return rT("Unsupported field value:",t,e),DP(e,t);if(e instanceof Sm)return(function(i,s){if(!kP(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,s){const l=[];let c=0;for(const d of i){let p=Lf(d,s.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(e,t)}return(function(i,s){if((i=Ye(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return yj(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ge.fromDate(i);return{timestampValue:zp(s.serializer,l)}}if(i instanceof Ge){const l=new Ge(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zp(s.serializer,l)}}if(i instanceof qs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ur)return{bytesValue:QI(s.serializer,i._byteString)};if(i instanceof In){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:B0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Gs)return(function(c,d){return{mapValue:{fields:{[CI]:{stringValue:RI},[Op]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return N0(d.serializer,m)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${cm(i)}`)})(e,t)}function DP(e,t){const n={};return wI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tl(e,((i,s)=>{const l=Lf(s,t.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function MP(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ge||e instanceof qs||e instanceof Ur||e instanceof In||e instanceof Sm||e instanceof Gs)}function rT(e,t,n){if(!MP(n)||!vI(n)){const i=cm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function ov(e,t,n){if((t=Ye(t))instanceof bm)return t._internalPath;if(typeof t=="string")return sT(e,t);throw Fp("Field path arguments must be of type string or ",e,!1,void 0,n)}const OH=new RegExp("[~\\*/\\[\\]]");function sT(e,t,n){if(t.search(OH)>=0)throw Fp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new bm(...t.split("."))._internalPath}catch{throw Fp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Fp(e,t,n,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new Dt(_t.INVALID_ARGUMENT,d+e+p)}function LP(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(t,n,i,s,l){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(aT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NH extends OP{data(){return super.data()}}function aT(e,t){return typeof t=="string"?sT(e,t):t instanceof bm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Dt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oT{}class NP extends oT{}function zH(e,t,...n){let i=[];t instanceof oT&&i.push(t),i=i.concat(n),(function(l){const c=l.filter((p=>p instanceof uT)).length,d=l.filter((p=>p instanceof lT)).length;if(c>1||c>0&&d>0)throw new Dt(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)e=s._apply(e);return e}class lT extends NP{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new lT(t,n,i)}_apply(t){const n=this._parse(t);return VP(t._query,n),new eu(t.firestore,t.converter,Y_(t._query,n))}_parse(t){const n=nT(t.firestore);return(function(l,c,d,p,m,v,w){let b;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Dt(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){jx(w,v);const D=[];for(const N of w)D.push(Bx(p,l,N));b={arrayValue:{values:D}}}else b=Bx(p,l,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||jx(w,v),b=LH(d,c,w,v==="in"||v==="not-in");return Cn.create(m,v,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class uT extends oT{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new uT(t,n)}_parse(t){const n=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:cs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(s,l){let c=s;const d=l.getFlattenedFilters();for(const p of d)VP(c,p),c=Y_(c,p)})(t._query,n),new eu(t.firestore,t.converter,Y_(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cT extends NP{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new cT(t,n)}_apply(t){const n=(function(s,l,c){if(s.startAt!==null)throw new Dt(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Dt(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ff(l,c)})(t._query,this._field,this._direction);return new eu(t.firestore,t.converter,(function(s,l){const c=s.explicitOrderBy.concat([l]);return new Rc(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,n))}}function UH(e,t="asc"){const n=t,i=aT("orderBy",e);return cT._create(i,n)}function Bx(e,t,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new Dt(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NI(t)&&n.indexOf("/")!==-1)throw new Dt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Fe.fromString(n));if(!Bt.isDocumentKey(i))throw new Dt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ex(e,new Bt(i))}if(n instanceof In)return ex(e,n._key);throw new Dt(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cm(n)}.`)}function jx(e,t){if(!Array.isArray(e)||e.length===0)throw new Dt(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VP(e,t){const n=(function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Dt(_t.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Dt(_t.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class BH{convertValue(t,n="none"){switch($o(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ko(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw $t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return tl(t,((s,l)=>{i[s]=this.convertValue(l,n)})),i}convertVectorValue(t){const n=t.fields?.[Op].arrayValue?.values?.map((i=>mn(i.doubleValue)));return new Gs(n)}convertGeoPoint(t){return new qs(mn(t.latitude),mn(t.longitude))}convertArray(t,n){return(t.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const i=dm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(uf(t));default:return null}}convertTimestamp(t){const n=Zo(t);return new Ge(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Fe.fromString(t);Ae(rP(i),9688,{name:t});const s=new cf(i.get(1),i.get(3)),l=new Bt(i.popFirst(5));return s.isEqual(n)||Ia(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class Nh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hl extends OP{constructor(t,n,i,s,l,c){super(t,n,i,s,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(aT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Dt(_t.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Hl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hl._jsonSchema={type:Rn("string",Hl._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class yp extends Hl{data(t={}){return super.data(t)}}class ic{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new yp(this._firestore,this._userDataWriter,i.key,i,new Nh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Dt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const p=new yp(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Nh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new yp(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Nh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:FH(d.type),doc:p,oldIndex:m,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Dt(_t.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ic._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=I0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function FH(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t(61501,{type:e})}}ic._jsonSchemaVersion="firestore/querySnapshot/1.0",ic._jsonSchema={type:Rn("string",ic._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class zP extends BH{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ur(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new In(this.firestore,null,n)}}function HH(e,t,n,...i){e=Uo(e,In);const s=Uo(e.firestore,mc),l=nT(s);let c;return c=typeof(t=Ye(t))=="string"||t instanceof bm?MH(l,"updateDoc",e._key,t,n,i):DH(l,"updateDoc",e._key,t),hT(s,[c.toMutation(e._key,ls.exists(!0))])}function qH(e){return hT(Uo(e.firestore,mc),[new V0(e._key,ls.none())])}function GH(e,t){const n=Uo(e.firestore,mc),i=tT(e),s=jH(e.converter,t);return hT(n,[kH(nT(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,ls.exists(!1))]).then((()=>i))}function ZH(e,...t){e=Ye(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||Ux(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ux(t[i])){const p=t[i];t[i]=p.next?.bind(p),t[i+1]=p.error?.bind(p),t[i+2]=p.complete?.bind(p)}let l,c,d;if(e instanceof In)c=Uo(e.firestore,mc),d=O0(e._key.path),l={next:p=>{t[i]&&t[i](KH(c,e,p))},error:t[i+1],complete:t[i+2]};else{const p=Uo(e,eu);c=Uo(p.firestore,mc),d=p._query;const m=new zP(c);l={next:v=>{t[i]&&t[i](new ic(c,m,p,v))},error:t[i+1],complete:t[i+2]},VH(e._query)}return(function(m,v,w,b){const x=new wH(b),D=new nH(v,x,w);return m.asyncQueue.enqueueAndForget((async()=>QF(await Dx(m),D))),()=>{x.Nu(),m.asyncQueue.enqueueAndForget((async()=>JF(await Dx(m),D)))}})(IP(c),d,s,l)}function hT(e,t){return(function(i,s){const l=new Fl;return i.asyncQueue.enqueueAndForget((async()=>fH(await SH(i),s,l))),l.promise})(IP(e),t)}function KH(e,t,n){const i=n.docs.get(t._key),s=new zP(e);return new Hl(e,s,t._key,i,new Nh(n.hasPendingWrites,n.fromCache),t.converter)}function $H(){return new iT("serverTimestamp")}(function(t,n=!0){(function(s){xc=s})(Ql),Zl(new qo("firestore",((i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new mc(new I5(i.getProvider("auth-internal")),new D5(c,i.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Dt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(m.options.projectId,v)})(c,s),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),js(FS,HS,t),js(FS,HS,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="firebasestorage.googleapis.com",BP="storageBucket",WH=120*1e3,YH=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un extends Xs{constructor(t,n,i=0){super(t_(t),`Firebase Storage: ${n} (${t_(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,un.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return t_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function t_(e){return"storage/"+e}function fT(){const e="An unknown error occurred, please check the error payload for server response.";return new un(ln.UNKNOWN,e)}function XH(e){return new un(ln.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function QH(e){return new un(ln.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JH(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new un(ln.UNAUTHENTICATED,e)}function t8(){return new un(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function e8(e){return new un(ln.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function n8(){return new un(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i8(){return new un(ln.CANCELED,"User canceled the upload/download.")}function r8(e){return new un(ln.INVALID_URL,"Invalid URL '"+e+"'.")}function s8(e){return new un(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function a8(){return new un(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BP+"' property when initializing the app?")}function o8(){return new un(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l8(){return new un(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function u8(e){return new un(ln.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lv(e){return new un(ln.INVALID_ARGUMENT,e)}function jP(){return new un(ln.APP_DELETED,"The Firebase app was deleted.")}function c8(e){return new un(ln.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yh(e,t){return new un(ln.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Rh(e){throw new un(ln.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=dr.makeFromUrl(t,n)}catch{return new dr(t,"")}if(i.path==="")return i;throw s8(t)}static makeFromUrl(t,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function l(dt){dt.path.charAt(dt.path.length-1)==="/"&&(dt.path_=dt.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),p={bucket:1,path:3};function m(dt){dt.path_=decodeURIComponent(dt.path)}const v="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",x=new RegExp(`^https?://${w}/${v}/b/${s}/o${b}`,"i"),D={bucket:1,path:3},N=n===UP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,H="([^?#]*)",U=new RegExp(`^https?://${N}/${s}/${H}`,"i"),W=[{regex:d,indices:p,postModify:l},{regex:x,indices:D,postModify:m},{regex:U,indices:{bucket:1,path:2},postModify:m}];for(let dt=0;dt<W.length;dt++){const ct=W[dt],Q=ct.regex.exec(t);if(Q){const j=Q[ct.indices.bucket];let M=Q[ct.indices.path];M||(M=""),i=new dr(j,M),ct.postModify(i);break}}if(i==null)throw r8(t);return i}}class h8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(e,t,n){let i=1,s=null,l=null,c=!1,d=0;function p(){return d===2}let m=!1;function v(...H){m||(m=!0,t.apply(null,H))}function w(H){s=setTimeout(()=>{s=null,e(x,p())},H)}function b(){l&&clearTimeout(l)}function x(H,...U){if(m){b();return}if(H){b(),v.call(null,H,...U);return}if(p()||c){b(),v.call(null,H,...U);return}i<64&&(i*=2);let W;d===1?(d=2,W=0):W=(i+Math.random())*1e3,w(W)}let D=!1;function N(H){D||(D=!0,b(),!m&&(s!==null?(H||(d=2),clearTimeout(s),w(0)):H||(d=1)))}return w(0),l=setTimeout(()=>{c=!0,N(!0)},n),N}function d8(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(e){return e!==void 0}function m8(e){return typeof e=="object"&&!Array.isArray(e)}function dT(e){return typeof e=="string"||e instanceof String}function Fx(e){return pT()&&e instanceof Blob}function pT(){return typeof Blob<"u"}function Hx(e,t,n,i){if(i<t)throw lv(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw lv(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function FP(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const s=t(i)+"="+t(e[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var ql;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ql||(ql={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(t,n,i,s,l,c,d,p,m,v,w,b=!0,x=!1){this.url_=t,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=w,this.retry=b,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,N)=>{this.resolve_=D,this.reject_=N,this.start_()})}start_(){const t=(i,s)=>{if(s){i(!1,new Jd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===ql.NO_ERROR,p=l.getStatus();if(!d||g8(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===ql.ABORT;i(!1,new Jd(!1,null,v));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new Jd(m,l))})},n=(i,s)=>{const l=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());p8(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=fT();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(s.canceled){const p=this.appDelete_?jP():i8();c(p)}else{const p=n8();c(p)}};this.canceled_?n(!1,new Jd(!1,null,!0)):this.backoffId_=f8(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&d8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jd{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function _8(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function v8(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function T8(e,t){t&&(e["X-Firebase-GMPID"]=t)}function w8(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function E8(e,t,n,i,s,l,c=!0,d=!1){const p=FP(e.urlParams),m=e.url+p,v=Object.assign({},e.headers);return T8(v,t),_8(v,n),v8(v,l),w8(v,i),new y8(m,e.method,v,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function S8(...e){const t=b8();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(pT())return new Blob(e);throw new un(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function x8(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(e){if(typeof atob>"u")throw u8("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class e_{constructor(t,n){this.data=t,this.contentType=n||null}}function C8(e,t){switch(e){case Vs.RAW:return new e_(HP(t));case Vs.BASE64:case Vs.BASE64URL:return new e_(qP(e,t));case Vs.DATA_URL:return new e_(I8(t),P8(t))}throw fT()}function HP(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const l=i,c=e.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function R8(e){let t;try{t=decodeURIComponent(e)}catch{throw Yh(Vs.DATA_URL,"Malformed data URL.")}return HP(t)}function qP(e,t){switch(e){case Vs.BASE64:{const s=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(s||l)throw Yh(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Vs.BASE64URL:{const s=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(s||l)throw Yh(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=A8(t)}catch(s){throw s.message.includes("polyfill")?s:Yh(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class GP{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Yh(Vs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=k8(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function I8(e){const t=new GP(e);return t.base64?qP(Vs.BASE64,t.rest):R8(t.rest)}function P8(e){return new GP(e).contentType}function k8(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n){let i=0,s="";Fx(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(Fx(this.data_)){const i=this.data_,s=x8(i,t,n);return s===null?null:new Po(s)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new Po(i,!0)}}static getBlob(...t){if(pT()){const n=t.map(i=>i instanceof Po?i.data_:i);return new Po(S8.apply(null,n))}else{const n=t.map(c=>dT(c)?C8(Vs.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const s=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)s[l++]=c[d]}),new Po(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(e){let t;try{t=JSON.parse(e)}catch{return null}return m8(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function M8(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function KP(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(e,t){return t}class Ii{constructor(t,n,i,s){this.server=t,this.local=n||t,this.writable=!!i,this.xform=s||L8}}let tp=null;function O8(e){return!dT(e)||e.length<2?e:KP(e)}function $P(){if(tp)return tp;const e=[];e.push(new Ii("bucket")),e.push(new Ii("generation")),e.push(new Ii("metageneration")),e.push(new Ii("name","fullPath",!0));function t(l,c){return O8(c)}const n=new Ii("name");n.xform=t,e.push(n);function i(l,c){return c!==void 0?Number(c):c}const s=new Ii("size");return s.xform=i,e.push(s),e.push(new Ii("timeCreated")),e.push(new Ii("updated")),e.push(new Ii("md5Hash",null,!0)),e.push(new Ii("cacheControl",null,!0)),e.push(new Ii("contentDisposition",null,!0)),e.push(new Ii("contentEncoding",null,!0)),e.push(new Ii("contentLanguage",null,!0)),e.push(new Ii("contentType",null,!0)),e.push(new Ii("metadata","customMetadata",!0)),tp=e,tp}function N8(e,t){function n(){const i=e.bucket,s=e.fullPath,l=new dr(i,s);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:n})}function V8(e,t,n){const i={};i.type="file";const s=n.length;for(let l=0;l<s;l++){const c=n[l];i[c.local]=c.xform(i,t[c.server])}return N8(i,e),i}function WP(e,t,n){const i=ZP(t);return i===null?null:V8(e,i,n)}function z8(e,t,n,i){const s=ZP(t);if(s===null||!dT(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const v=e.bucket,w=e.fullPath,b="/b/"+c(v)+"/o/"+c(w),x=Am(b,n,i),D=FP({alt:"media",token:m});return x+D})[0]}function U8(e,t){const n={},i=t.length;for(let s=0;s<i;s++){const l=t[s];l.writable&&(n[l.server]=e[l.local])}return JSON.stringify(n)}class mT{constructor(t,n,i,s){this.url=t,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(e){if(!e)throw fT()}function B8(e,t){function n(i,s){const l=WP(e,s,t);return YP(l!==null),l}return n}function j8(e,t){function n(i,s){const l=WP(e,s,t);return YP(l!==null),z8(l,s,e.host,e._protocol)}return n}function XP(e){function t(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=t8():s=JH():n.getStatus()===402?s=QH(e.bucket):n.getStatus()===403?s=e8(e.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return t}function QP(e){const t=XP(e);function n(i,s){let l=t(i,s);return i.getStatus()===404&&(l=XH(e.path)),l.serverResponse=s.serverResponse,l}return n}function F8(e,t,n){const i=t.fullServerUrl(),s=Am(i,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,d=new mT(s,l,j8(e,n),c);return d.errorHandler=QP(t),d}function H8(e,t){const n=t.fullServerUrl(),i=Am(n,e.host,e._protocol),s="DELETE",l=e.maxOperationRetryTime;function c(p,m){}const d=new mT(i,s,c,l);return d.successCodes=[200,204],d.errorHandler=QP(t),d}function q8(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function G8(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=q8(null,t)),i}function Z8(e,t,n,i,s){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let W="";for(let dt=0;dt<2;dt++)W=W+Math.random().toString().slice(2);return W}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const m=G8(t,i,s),v=U8(m,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,b=`\r
--`+p+"--",x=Po.getBlob(w,i,b);if(x===null)throw o8();const D={name:m.fullPath},N=Am(l,e.host,e._protocol),H="POST",U=e.maxUploadRetryTime,X=new mT(N,H,B8(e,n),U);return X.urlParams=D,X.headers=c,X.body=x.uploadData(),X.errorHandler=XP(t),X}class K8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ql.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ql.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ql.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,s,l){if(this.sent_)throw Rh("cannot .send() more than once");if(Jo(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class $8 extends K8{initXhr(){this.xhr_.responseType="text"}}function gT(){return new $8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this._service=t,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Wl(t,n)}get root(){const t=new dr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KP(this._location.path)}get storage(){return this._service}get parent(){const t=D8(this._location.path);if(t===null)return null;const n=new dr(this._location.bucket,t);return new Wl(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw c8(t)}}function W8(e,t,n){e._throwIfRoot("uploadBytes");const i=Z8(e.storage,e._location,$P(),new Po(t,!0),n);return e.storage.makeRequestWithTokens(i,gT).then(s=>({metadata:s,ref:e}))}function Y8(e){e._throwIfRoot("getDownloadURL");const t=F8(e.storage,e._location,$P());return e.storage.makeRequestWithTokens(t,gT).then(n=>{if(n===null)throw l8();return n})}function X8(e){e._throwIfRoot("deleteObject");const t=H8(e.storage,e._location);return e.storage.makeRequestWithTokens(t,gT)}function Q8(e,t){const n=M8(e._location.path,t),i=new dr(e._location.bucket,n);return new Wl(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(e){return/^[A-Za-z]+:\/\//.test(e)}function t7(e,t){return new Wl(e,t)}function JP(e,t){if(e instanceof yT){const n=e;if(n._bucket==null)throw a8();const i=new Wl(n,n._bucket);return t!=null?JP(i,t):i}else return t!==void 0?Q8(e,t):e}function e7(e,t){if(t&&J8(t)){if(e instanceof yT)return t7(e,t);throw lv("To use ref(service, url), the first argument must be a Storage instance.")}else return JP(e,t)}function qx(e,t){const n=t?.[BP];return n==null?null:dr.makeFromBucketSpec(n,e)}function n7(e,t,n,i={}){e.host=`${t}:${n}`;const s=Jo(t);s&&(b0(`https://${e.host}/b`),S0("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:l}=i;l&&(e._overrideAuthToken=typeof l=="string"?l:rI(l,e.app.options.projectId))}class yT{constructor(t,n,i,s,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=UP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WH,this._maxUploadRetryTime=YH,this._requests=new Set,s!=null?this._bucket=dr.makeFromBucketSpec(s,this._host):this._bucket=qx(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,t):this._bucket=qx(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Hx("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Hx("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Wl(this,t)}_makeRequest(t,n,i,s,l=!0){if(this._deleted)return new h8(jP());{const c=E8(t,this._appId,i,s,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,s).getPromise()}}const Gx="@firebase/storage",Zx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="storage";function i7(e,t,n){return e=Ye(e),W8(e,t,n)}function r7(e){return e=Ye(e),Y8(e)}function ek(e){return e=Ye(e),X8(e)}function uv(e,t){return e=Ye(e),e7(e,t)}function s7(e=C0(),t){e=Ye(e);const i=um(e,tk).getImmediate({identifier:t}),s=eI("storage");return s&&a7(i,...s),i}function a7(e,t,n,i={}){n7(e,t,n,i)}function o7(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new yT(n,i,s,t,Ql)}function l7(){Zl(new qo(tk,o7,"PUBLIC").setMultipleInstances(!0)),js(Gx,Zx,""),js(Gx,Zx,"esm2020")}l7();function nk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u7=nk,ik=new Cf("auth","Firebase",nk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new x0("@firebase/auth");function c7(e,...t){Hp.logLevel<=de.WARN&&Hp.warn(`Auth (${Ql}): ${e}`,...t)}function _p(e,...t){Hp.logLevel<=de.ERROR&&Hp.error(`Auth (${Ql}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e,...t){throw _T(e,...t)}function Zs(e,...t){return _T(e,...t)}function rk(e,t,n){const i={...u7(),[t]:n};return new Cf("auth","Firebase",i).create(t,{appName:e.name})}function jo(e){return rk(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _T(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return ik.create(e,...t)}function Kt(e,t,...n){if(!e)throw _T(t,...n)}function Ea(e){const t="INTERNAL ASSERTION FAILED: "+e;throw _p(t),new Error(t)}function ka(e,t){e||Ea(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(){return typeof self<"u"&&self.location?.href||""}function h7(){return Kx()==="http:"||Kx()==="https:"}function Kx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h7()||r9()||"connection"in navigator)?navigator.onLine:!0}function d7(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,n){this.shortDelay=t,this.longDelay=n,ka(n>t,"Short delay should be less than long delay!"),this.isMobile=e9()||s9()}get(){return f7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(e,t){ka(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g7=new Of(3e4,6e4);function nu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function nl(e,t,n,i,s={}){return ak(e,s,async()=>{let l={},c={};i&&(t==="GET"?c=i:l={body:JSON.stringify(i)});const d=Rf({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const m={method:t,headers:p,...l};return i9()||(m.referrerPolicy="no-referrer"),e.emulatorConfig&&Jo(e.emulatorConfig.host)&&(m.credentials="include"),sk.fetch()(await ok(e,e.config.apiHost,n,d),m)})}async function ak(e,t,n){e._canInitEmulator=!1;const i={...p7,...t};try{const s=new _7(e),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ep(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ep(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ep(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw ep(e,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw rk(e,v,m);hs(e,v)}}catch(s){if(s instanceof Xs)throw s;hs(e,"network-request-failed",{message:String(s)})}}async function Cm(e,t,n,i,s={}){const l=await nl(e,t,n,i,s);return"mfaPendingCredential"in l&&hs(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function ok(e,t,n,i){const s=`${t}${n}?${i}`,l=e,c=l.config.emulator?vT(e.config,s):`${e.config.apiScheme}://${s}`;return m7.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function y7(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Zs(this.auth,"network-request-failed")),g7.get())})}}function ep(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Zs(e,t,i);return s.customData._tokenResponse=n,s}function $x(e){return e!==void 0&&e.enterprise!==void 0}class v7{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return y7(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T7(e,t){return nl(e,"GET","/v2/recaptchaConfig",nu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(e,t){return nl(e,"POST","/v1/accounts:delete",t)}async function qp(e,t){return nl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function E7(e,t=!1){const n=Ye(e),i=await n.getIdToken(t),s=TT(i);Kt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l?.sign_in_provider;return{claims:s,token:i,authTime:Xh(n_(s.auth_time)),issuedAtTime:Xh(n_(s.iat)),expirationTime:Xh(n_(s.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function n_(e){return Number(e)*1e3}function TT(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const s=JR(n);return s?JSON.parse(s):(_p("Failed to decode base64 JWT payload"),null)}catch(s){return _p("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Wx(e){const t=TT(e);return Kt(t,"internal-error"),Kt(typeof t.exp<"u","internal-error"),Kt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Xs&&b7(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function b7({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xh(this.lastLoginAt),this.creationTime=Xh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(e){const t=e.auth,n=await e.getIdToken(),i=await gf(e,qp(t,{idToken:n}));Kt(i?.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const l=s.providerUserInfo?.length?lk(s.providerUserInfo):[],c=A7(e.providerData,l),d=e.isAnonymous,p=!(e.email&&s.passwordHash)&&!c?.length,m=d?p:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new hv(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(e,v)}async function x7(e){const t=Ye(e);await Gp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function A7(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function lk(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C7(e,t){const n=await ak(e,{},async()=>{const i=Rf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:l}=e.config,c=await ok(e,s,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return e.emulatorConfig&&Jo(e.emulatorConfig.host)&&(p.credentials="include"),sk.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R7(e,t){return nl(e,"POST","/v2/accounts:revokeToken",nu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Kt(t.idToken,"internal-error"),Kt(typeof t.idToken<"u","internal-error"),Kt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Wx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Kt(t.length!==0,"internal-error");const n=Wx(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Kt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:l}=await C7(t,n);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:l}=n,c=new rc;return i&&(Kt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),s&&(Kt(typeof s=="string","internal-error",{appName:t}),c.accessToken=s),l&&(Kt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new rc,this.toJSON())}_performRefresh(){return Ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e,t){Kt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class os{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new S7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await gf(this,this.stsTokenManager.getToken(this.auth,t));return Kt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return E7(this,t)}reload(){return x7(this)}_assign(t){this!==t&&(Kt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new os({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Gp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(jo(this.auth));const t=await this.getIdToken();return await gf(this,w7(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,m=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:w,emailVerified:b,isAnonymous:x,providerData:D,stsTokenManager:N}=n;Kt(w&&N,t,"internal-error");const H=rc.fromJSON(this.name,N);Kt(typeof w=="string",t,"internal-error"),Ro(i,t.name),Ro(s,t.name),Kt(typeof b=="boolean",t,"internal-error"),Kt(typeof x=="boolean",t,"internal-error"),Ro(l,t.name),Ro(c,t.name),Ro(d,t.name),Ro(p,t.name),Ro(m,t.name),Ro(v,t.name);const U=new os({uid:w,auth:t,email:s,emailVerified:b,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:H,createdAt:m,lastLoginAt:v});return D&&Array.isArray(D)&&(U.providerData=D.map(X=>({...X}))),p&&(U._redirectEventId=p),U}static async _fromIdTokenResponse(t,n,i=!1){const s=new rc;s.updateFromServerResponse(n);const l=new os({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Gp(l),l}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Kt(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?lk(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!l?.length,d=new rc;d.updateFromIdToken(i);const p=new os({uid:s.localId,auth:t,stsTokenManager:d,isAnonymous:c}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new hv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Map;function ba(e){ka(e instanceof Function,"Expected a class definition");let t=Yx.get(e);return t?(ka(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yx.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}uk.type="NONE";const Xx=uk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(e,t,n){return`firebase:${e}:${t}:${n}`}class sc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=vp(this.userKey,s.apiKey,l),this.fullPersistenceKey=vp("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await qp(this.auth,{idToken:t}).catch(()=>{});return n?os._fromGetAccountInfoResponse(this.auth,n,t):null}return os._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new sc(ba(Xx),t,i);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=s[0]||ba(Xx);const c=vp(i,t.config.apiKey,t.name);let d=null;for(const m of n)try{const v=await m._get(c);if(v){let w;if(typeof v=="string"){const b=await qp(t,{idToken:v}).catch(()=>{});if(!b)break;w=await os._fromGetAccountInfoResponse(t,b,v)}else w=os._fromJSON(t,v);m!==l&&(d=w),l=m;break}}catch{}const p=s.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new sc(l,t,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new sc(l,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ck(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mk(t))return"Blackberry";if(gk(t))return"Webos";if(hk(t))return"Safari";if((t.includes("chrome/")||fk(t))&&!t.includes("edge/"))return"Chrome";if(pk(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function ck(e=vi()){return/firefox\//i.test(e)}function hk(e=vi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fk(e=vi()){return/crios\//i.test(e)}function dk(e=vi()){return/iemobile/i.test(e)}function pk(e=vi()){return/android/i.test(e)}function mk(e=vi()){return/blackberry/i.test(e)}function gk(e=vi()){return/webos/i.test(e)}function wT(e=vi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function I7(e=vi()){return wT(e)&&!!window.navigator?.standalone}function P7(){return a9()&&document.documentMode===10}function yk(e=vi()){return wT(e)||pk(e)||gk(e)||mk(e)||/windows phone/i.test(e)||dk(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e,t=[]){let n;switch(e){case"Browser":n=Qx(vi());break;case"Worker":n=`${Qx(vi())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ql}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=l=>new Promise((c,d)=>{try{const p=t(l);c(p)}catch(p){d(p)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D7(e,t={}){return nl(e,"GET","/v2/passwordPolicy",nu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=6;class L7{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??M7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jx(this),this.idTokenSubscription=new Jx(this),this.beforeStateQueue=new k7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ik,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ba(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sc.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await qp(this,{idToken:t}),i=await os._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Gp(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=d7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zr(this.app))return Promise.reject(jo(this));const n=t?Ye(t):null;return n&&Kt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Kt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zr(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ba(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await D7(this),n=new L7(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Cf("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await R7(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ba(t)||this._popupRedirectResolver;Kt(n,this,"argument-error"),this.redirectPersistenceManager=await sc.create(this,[ba(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Kt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,i,s);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_k(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&c7(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Pc(e){return Ye(e)}class Jx{constructor(t){this.auth=t,this.observer=null,this.addObserver=p9(n=>this.observer=n)}get next(){return Kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N7(e){Rm=e}function vk(e){return Rm.loadJS(e)}function V7(){return Rm.recaptchaEnterpriseScript}function z7(){return Rm.gapiScript}function U7(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class B7{constructor(){this.enterprise=new j7}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class j7{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const F7="recaptcha-enterprise",Tk="NO_RECAPTCHA";class H7{constructor(t){this.type=F7,this.auth=Pc(t)}async verify(t="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{T7(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new v7(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function s(l,c,d){const p=window.grecaptcha;$x(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(m=>{c(m)}).catch(()=>{c(Tk)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B7().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&$x(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=V7();p.length!==0&&(p+=d),vk(p).then(()=>{s(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function tA(e,t,n,i=!1,s=!1){const l=new H7(e);let c;if(s)c=Tk;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function eA(e,t,n,i,s){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await tA(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await tA(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(e,t){const n=um(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(Gl(l,t??{}))return s;hs(s,"already-initialized")}return n.initialize({options:t})}function G7(e,t){const n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ba);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function Z7(e,t,n){const i=Pc(e);Kt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,l=wk(t),{host:c,port:d}=K7(t),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Kt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Kt(Gl(m,i.config.emulator)&&Gl(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Jo(c)?(b0(`${l}//${c}${p}`),S0("Auth",!0)):$7()}function wk(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function K7(e){const t=wk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:nA(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:nA(c)}}}function nA(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function $7(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ea("not implemented")}_getIdTokenResponse(t){return Ea("not implemented")}_linkToIdToken(t,n){return Ea("not implemented")}_getReauthenticationResolver(t){return Ea("not implemented")}}async function W7(e,t){return nl(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(e,t){return Cm(e,"POST","/v1/accounts:signInWithPassword",nu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X7(e,t){return Cm(e,"POST","/v1/accounts:signInWithEmailLink",nu(e,t))}async function Q7(e,t){return Cm(e,"POST","/v1/accounts:signInWithEmailLink",nu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends ET{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new yf(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new yf(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eA(t,n,"signInWithPassword",Y7);case"emailLink":return X7(t,{email:this._email,oobCode:this._password});default:hs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eA(t,i,"signUpPassword",W7);case"emailLink":return Q7(t,{idToken:n,email:this._email,oobCode:this._password});default:hs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(e,t){return Cm(e,"POST","/v1/accounts:signInWithIdp",nu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="http://localhost";class Yl extends ET{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Yl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...l}=n;if(!i||!s)return null;const c=new Yl(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return ac(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ac(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ac(t,n)}buildRequest(){const t={requestUri:J7,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Rf(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eq(e){const t=kh(Dh(e)).link,n=t?kh(Dh(t)).deep_link_id:null,i=kh(Dh(e)).deep_link_id;return(i?kh(Dh(i)).link:null)||i||n||t||e}class bT{constructor(t){const n=kh(Dh(t)),i=n.apiKey??null,s=n.oobCode??null,l=tq(n.mode??null);Kt(i&&s&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=eq(t);try{return new bT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.providerId=kc.PROVIDER_ID}static credential(t,n){return yf._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=bT.parseLink(n);return Kt(i,"argument-error"),yf._fromEmailAndCode(t,i.code,i.tenantId)}}kc.PROVIDER_ID="password";kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends Ek{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Nf{constructor(){super("facebook.com")}static credential(t){return Yl._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ko.credentialFromTaggedObject(t)}static credentialFromError(t){return ko.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ko.credential(t.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Nf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Yl._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Do.credentialFromTaggedObject(t)}static credentialFromError(t){return Do.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Do.credential(n,i)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Nf{constructor(){super("github.com")}static credential(t){return Yl._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mo.credentialFromTaggedObject(t)}static credentialFromError(t){return Mo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mo.credential(t.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Nf{constructor(){super("twitter.com")}static credential(t,n){return Yl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Lo.credentialFromTaggedObject(t)}static credentialFromError(t){return Lo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Lo.credential(n,i)}catch{return null}}}Lo.TWITTER_SIGN_IN_METHOD="twitter.com";Lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const l=await os._fromIdTokenResponse(t,i,s),c=iA(i);return new gc({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=iA(i);return new gc({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function iA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends Xs{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Zp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Zp(t,n,i,s)}}function bk(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Zp._fromErrorAndOperation(e,l,t,i):l})}async function nq(e,t,n=!1){const i=await gf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gc._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iq(e,t,n=!1){const{auth:i}=e;if(zr(i.app))return Promise.reject(jo(i));const s="reauthenticate";try{const l=await gf(e,bk(i,s,t,e),n);Kt(l.idToken,i,"internal-error");const c=TT(l.idToken);Kt(c,i,"internal-error");const{sub:d}=c;return Kt(e.uid===d,i,"user-mismatch"),gc._forOperation(e,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&hs(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(e,t,n=!1){if(zr(e.app))return Promise.reject(jo(e));const i="signIn",s=await bk(e,i,t),l=await gc._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(l.user),l}async function rq(e,t){return Sk(Pc(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sq(e){const t=Pc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function aq(e,t,n){return zr(e.app)?Promise.reject(jo(e)):rq(Ye(e),kc.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&sq(e),i})}function oq(e,t,n,i){return Ye(e).onIdTokenChanged(t,n,i)}function lq(e,t,n){return Ye(e).beforeAuthStateChanged(t,n)}function uq(e,t,n,i){return Ye(e).onAuthStateChanged(t,n,i)}function cq(e){return Ye(e).signOut()}const Kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kp,"1"),this.storage.removeItem(Kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=1e3,fq=10;class Ak extends xk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);P7()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,fq):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},hq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ak.type="LOCAL";const dq=Ak;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck extends xk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Ck.type="SESSION";const Rk=Ck;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Im(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:l}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async m=>m(n.origin,l)),p=await pq(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=ST("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(w){const b=w;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(){return window}function gq(e){Ks().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){return typeof Ks().WorkerGlobalScope<"u"&&typeof Ks().importScripts=="function"}async function yq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _q(){return navigator?.serviceWorker?.controller||null}function vq(){return Ik()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="firebaseLocalStorageDb",Tq=1,$p="firebaseLocalStorage",kk="fbase_key";class Vf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pm(e,t){return e.transaction([$p],t?"readwrite":"readonly").objectStore($p)}function wq(){const e=indexedDB.deleteDatabase(Pk);return new Vf(e).toPromise()}function fv(){const e=indexedDB.open(Pk,Tq);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore($p,{keyPath:kk})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains($p)?t(i):(i.close(),await wq(),t(await fv()))})})}async function rA(e,t,n){const i=Pm(e,!0).put({[kk]:t,value:n});return new Vf(i).toPromise()}async function Eq(e,t){const n=Pm(e,!1).get(t),i=await new Vf(n).toPromise();return i===void 0?null:i.value}function sA(e,t){const n=Pm(e,!0).delete(t);return new Vf(n).toPromise()}const bq=800,Sq=3;class Dk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>Sq)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ik()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(vq()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yq(),!this.activeServiceWorker)return;this.sender=new mq(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_q()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fv();return await rA(t,Kp,"1"),await sA(t,Kp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>rA(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>Eq(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sA(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const l=Pm(s,!1).getAll();return new Vf(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:l}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dk.type="LOCAL";const xq=Dk;new Of(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(e,t){return t?ba(t):(Kt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends ET{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ac(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ac(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ac(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Cq(e){return Sk(e.auth,new xT(e),e.bypassAuthState)}function Rq(e){const{auth:t,user:n}=e;return Kt(n,t,"internal-error"),iq(n,new xT(e),e.bypassAuthState)}async function Iq(e){const{auth:t,user:n}=e;return Kt(n,t,"internal-error"),nq(n,new xT(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t,n,i,s,l=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Cq;case"linkViaPopup":case"linkViaRedirect":return Iq;case"reauthViaPopup":case"reauthViaRedirect":return Rq;default:hs(this.auth,"internal-error")}}resolve(t){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=new Of(2e3,1e4);class Xu extends Mk{constructor(t,n,i,s,l){super(t,n,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Xu.currentPopupAction&&Xu.currentPopupAction.cancel(),Xu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Kt(t,this.auth,"internal-error"),t}async onExecution(){ka(this.filter.length===1,"Popup operations only handle one event");const t=ST();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xu.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Pq.get())};t()}}Xu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq="pendingRedirect",Tp=new Map;class Dq extends Mk{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Tp.get(this.auth._key());if(!t){try{const i=await Mq(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Tp.set(this.auth._key(),t)}return this.bypassAuthState||Tp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mq(e,t){const n=Nq(t),i=Oq(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function Lq(e,t){Tp.set(e._key(),t)}function Oq(e){return ba(e._redirectPersistence)}function Nq(e){return vp(kq,e.config.apiKey,e.name)}async function Vq(e,t,n=!1){if(zr(e.app))return Promise.reject(jo(e));const i=Pc(e),s=Aq(i,t),c=await new Dq(i,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=600*1e3;class Uq{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Bq(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Lk(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Zs(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zq&&this.cachedEventUids.clear(),this.cachedEventUids.has(aA(t))}saveEventToCache(t){this.cachedEventUids.add(aA(t)),this.lastProcessedEventTime=Date.now()}}function aA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Lk({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function Bq(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lk(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jq(e,t={}){return nl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hq=/^https?/;async function qq(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jq(e);for(const n of t)try{if(Gq(n))return}catch{}hs(e,"unauthorized-domain")}function Gq(e){const t=cv(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!Hq.test(n))return!1;if(Fq.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=new Of(3e4,6e4);function oA(){const e=Ks().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Kq(e){return new Promise((t,n)=>{function i(){oA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oA(),n(Zs(e,"network-request-failed"))},timeout:Zq.get()})}if(Ks().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ks().gapi?.load)i();else{const s=U7("iframefcb");return Ks()[s]=()=>{gapi.load?i():n(Zs(e,"network-request-failed"))},vk(`${z7()}?onload=${s}`).catch(l=>n(l))}}).catch(t=>{throw wp=null,t})}let wp=null;function $q(e){return wp=wp||Kq(e),wp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=new Of(5e3,15e3),Yq="__/auth/iframe",Xq="emulator/auth/iframe",Qq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tG(e){const t=e.config;Kt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vT(t,Xq):`https://${e.config.authDomain}/${Yq}`,i={apiKey:t.apiKey,appName:e.name,v:Ql},s=Jq.get(e.config.apiHost);s&&(i.eid=s);const l=e._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Rf(i).slice(1)}`}async function eG(e){const t=await $q(e),n=Ks().gapi;return Kt(n,e,"internal-error"),t.open({where:document.body,url:tG(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qq,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Zs(e,"network-request-failed"),d=Ks().setTimeout(()=>{l(c)},Wq.get());function p(){Ks().clearTimeout(d),s(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iG=500,rG=600,sG="_blank",aG="http://localhost";class lA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oG(e,t,n,i=iG,s=rG){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...nG,width:i.toString(),height:s.toString(),top:l,left:c},m=vi().toLowerCase();n&&(d=fk(m)?sG:n),ck(m)&&(t=t||aG,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[x,D])=>`${b}${x}=${D},`,"");if(I7(m)&&d!=="_self")return lG(t||"",d),new lA(null);const w=window.open(t||"",d,v);Kt(w,e,"popup-blocked");try{w.focus()}catch{}return new lA(w)}function lG(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG="__/auth/handler",cG="emulator/auth/handler",hG=encodeURIComponent("fac");async function uA(e,t,n,i,s,l){Kt(e.config.authDomain,e,"auth-domain-config-required"),Kt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ql,eventId:s};if(t instanceof Ek){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",d9(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,w]of Object.entries({}))c[v]=w}if(t instanceof Nf){const v=t.getScopes().filter(w=>w!=="");v.length>0&&(c.scopes=v.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await e._getAppCheckToken(),m=p?`#${hG}=${encodeURIComponent(p)}`:"";return`${fG(e)}?${Rf(d).slice(1)}${m}`}function fG({config:e}){return e.emulator?vT(e,cG):`https://${e.authDomain}/${uG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="webStorageSupport";class dG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rk,this._completeRedirectFn=Vq,this._overrideRedirectResult=Lq}async _openPopup(t,n,i,s){ka(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await uA(t,n,i,cv(),s);return oG(t,l,ST())}async _openRedirect(t,n,i,s){await this._originValidation(t);const l=await uA(t,n,i,cv(),s);return gq(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(ka(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await eG(t),i=new Uq(t);return n.register("authEvent",s=>(Kt(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(i_,{type:i_},s=>{const l=s?.[0]?.[i_];l!==void 0&&n(!!l),hs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qq(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return yk()||hk()||wT()}}const pG=dG;var cA="@firebase/auth",hA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yG(e){Zl(new qo("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Kt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_k(e)},m=new O7(i,s,l,p);return G7(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Zl(new qo("auth-internal",t=>{const n=Pc(t.getProvider("auth").getImmediate());return(i=>new mG(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(cA,hA,gG(e)),js(cA,hA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=300,vG=iI("authIdTokenMaxAge")||_G;let fA=null;const TG=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>vG)return;const s=n?.token;fA!==s&&(fA=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function wG(e=C0()){const t=um(e,"auth");if(t.isInitialized())return t.getImmediate();const n=q7(e,{popupRedirectResolver:pG,persistence:[xq,dq,Rk]}),i=iI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=TG(l.toString());lq(n,c,()=>c(n.currentUser)),oq(n,d=>c(d))}}const s=tI("auth");return s&&Z7(n,`http://${s}`),n}function EG(){return document.getElementsByTagName("head")?.[0]??document}N7({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const l=Zs("internal-error");l.customData=s,n(l)},i.type="text/javascript",i.charset="UTF-8",EG().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yG("Browser");const bG={apiKey:"AIzaSyDea9j3FwUYCr4MmtUGeN1Dbrd8KXiQEOo",authDomain:"love-letters-portal.firebaseapp.com",projectId:"love-letters-portal",storageBucket:"love-letters-portal.firebasestorage.app",messagingSenderId:"1007931164401",appId:"1:1007931164401:web:da528413d39af4ce024b50",measurementId:"G-V0TZG964T8"},AT=oI(bG),Wp=AH(AT),dv=s7(AT),_f=wG(AT);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function SG(e,t,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(i.next(v))}catch(w){c(w)}}function p(v){try{m(i.throw(v))}catch(w){c(w)}}function m(v){v.done?l(v.value):s(v.value).then(d,p)}m((i=i.apply(e,[])).next())})}function xG(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,s,l,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(v){return p([m,v])}}function p(m){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(l=m[0]&2?s.return:m[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,m[1])).done)return l;switch(s=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],s=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qu=function(){return Qu=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Qu.apply(this,arguments)},Ok=function(e){return{loading:e==null,value:e}},AG=function(){return function(e,t){switch(t.type){case"error":return Qu(Qu({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Ok(t.defaultValue);case"value":return Qu(Qu({},e),{error:void 0,loading:!1,value:t.value});default:return e}}},CG=(function(e){var t=e?e():void 0,n=$.useReducer(AG(),Ok(t)),i=n[0],s=n[1],l=$.useCallback(function(){var p=e?e():void 0;s({type:"reset",defaultValue:p})},[e]),c=$.useCallback(function(p){s({type:"error",error:p})},[]),d=$.useCallback(function(p){s({type:"value",value:p})},[]);return $.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:c,setValue:d,value:i.value}},[i.error,i.loading,l,c,d,i.value])}),CT=(function(e,t){var n=CG(function(){return e.currentUser}),i=n.error,s=n.loading,l=n.setError,c=n.setValue,d=n.value;return $.useEffect(function(){var p=uq(e,function(m){return SG(void 0,void 0,void 0,function(){var v;return xG(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,t.onUserChanged(m)];case 2:return w.sent(),[3,4];case 3:return v=w.sent(),l(v),[3,4];case 4:return c(m),[2]}})})},l);return function(){p()}},[e]),[d,s,i]});function RG({onLocationSelect:e}){return j6({click(t){e(t.latlng)}}),null}function IG({post:e,onEdit:t,onDelete:n,isAdmin:i}){return $.useEffect(()=>{(async()=>(delete L.Icon.Default.prototype._getIconUrl,L.Icon.Default.mergeOptions({iconRetinaUrl:(await Hy(async()=>{const{default:s}=await import("./marker-icon-2x-D4k_ikNW.js");return{default:s}},[])).default,iconUrl:(await Hy(async()=>{const{default:s}=await import("./marker-icon-C2eJqgqv.js");return{default:s}},[])).default,shadowUrl:(await Hy(async()=>{const{default:s}=await import("./marker-shadow-DU6CIJ0p.js");return{default:s}},[])).default})))()},[]),J.jsxs(Nr.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative bg-white rounded-2xl shadow-lg p-4 break-inside-avoid mb-4",children:[i&&J.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[J.jsx("button",{onClick:()=>t(e),className:"bg-blue-100 text-blue-600 p-1.5 rounded-full hover:bg-blue-200 transition",children:J.jsx(s6,{size:14})}),J.jsx("button",{onClick:()=>n(e),className:"bg-red-100 text-red-600 p-1.5 rounded-full hover:bg-red-200 transition",children:J.jsx(o6,{size:14})})]}),e.mediaUrl&&(e.mediaType.startsWith("image/")?J.jsx("img",{src:e.mediaUrl,alt:"Blog-Bild",className:"rounded-lg mb-3 w-full"}):J.jsx("video",{src:e.mediaUrl,controls:!0,className:"rounded-lg mb-3 w-full"})),e.text&&J.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:e.text}),e.location&&J.jsx("div",{className:"mt-3 rounded-lg overflow-hidden h-48 border",children:J.jsxs($R,{center:[e.location.lat,e.location.lng],zoom:14,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[J.jsx(YR,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),J.jsx(WR,{position:[e.location.lat,e.location.lng],children:J.jsx(H6,{children:"Hier war ich!"})})]})}),J.jsx("p",{className:"text-xs text-gray-400 text-right mt-2",children:new Date(e.createdAt?.toDate()).toLocaleString()})]})}function PG(){const[e,t]=CT(_f),[n,i]=$.useState([]),[s,l]=$.useState(!1),[c,d]=$.useState(!0),[p,m]=$.useState(!1),[v,w]=$.useState(null);$.useEffect(()=>{if(t){d(!0);return}e?e.getIdTokenResult(!0).then(D=>{l(D.claims.admin===!0),d(!1)}):(l(!1),d(!1))},[e,t]),$.useEffect(()=>{const D=zH(RP(Wp,"blogPosts"),UH("createdAt","desc")),N=ZH(D,H=>{i(H.docs.map(U=>({...U.data(),id:U.id})))});return()=>N()},[]);const b=D=>{w(D),m(!0)},x=async D=>{if(window.confirm(`Soll der Post "${D.text.substring(0,20)}..." wirklich gelöscht werden?`))try{D.mediaUrl&&await ek(uv(dv,D.mediaUrl)),await qH(tT(Wp,"blogPosts",D.id))}catch(N){alert("Fehler beim Löschen des Posts. Grund: "+N.message)}};return t||c?J.jsx("div",{className:"flex justify-center mt-10",children:J.jsx(y0,{className:"animate-spin text-pink-500",size:48})}):J.jsxs("div",{className:`w-full max-w-xl ${p?"maps-in-background":""}`,children:[J.jsxs("header",{className:"mb-6 text-center",children:[J.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center justify-center gap-3",children:[J.jsx(HR,{className:"text-purple-500",size:32}),J.jsx("span",{children:"Blog"})]}),J.jsx("p",{className:"text-gray-500 mt-1",children:"Kleine und große Momente aus Porto."})]}),s&&J.jsx(Nk,{}),J.jsx("main",{children:J.jsx("div",{className:"columns-1 md:columns-2 gap-4",children:n.map(D=>J.jsx(IG,{post:D,onEdit:b,onDelete:x,isAdmin:s},D.id))})}),J.jsx(Kv,{children:p&&J.jsx(kG,{post:v,onClose:()=>m(!1)})})]})}function Nk({postToEdit:e,onFormSubmit:t}){const[n,i]=$.useState(e?.text||""),[s,l]=$.useState(null),[c,d]=$.useState(e?.location||null),[p,m]=$.useState(!1),[v,w]=$.useState(""),b=$.useRef(null),x=N=>d({lat:N.lat,lng:N.lng}),D=async N=>{if(N.preventDefault(),!(!n&&!s&&!c&&!e)){m(!0),w("");try{let H=e?.mediaUrl||"",U=e?.mediaType||"";if(s){e?.mediaUrl&&await ek(uv(dv,e.mediaUrl)).catch(Q=>console.warn(Q));const W=`blog-media/${Date.now()}-${s.name}`,dt=uv(dv,W),ct=await i7(dt,s);H=await r7(ct.ref),U=s.type}const X={text:n,mediaUrl:H,mediaType:U,location:c};e?await HH(tT(Wp,"blogPosts",e.id),X):await GH(RP(Wp,"blogPosts"),{...X,createdAt:$H()}),e||(i(""),l(null),d(null),b.current&&(b.current.value="")),t&&t()}catch(H){w(`Fehler: ${H.message}.`)}finally{m(!1)}}};return J.jsxs("form",{onSubmit:D,className:"bg-white/90 rounded-2xl shadow-lg p-4 mb-8 flex flex-col gap-4",children:[J.jsx("textarea",{value:n,onChange:N=>i(N.target.value),placeholder:"Was ist heute Schönes passiert?",className:"w-full p-3 border rounded-lg",rows:"3"}),J.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[J.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex items-center gap-2 p-2 rounded-lg bg-gray-100 hover:bg-gray-200",children:[s?J.jsx(h6,{className:"text-purple-500"}):J.jsx(FB,{className:"text-purple-500"}),J.jsx("span",{children:s?s.name:e?.mediaUrl?"Neues Bild/Video":"Bild/Video..."})]}),J.jsx("input",{id:"file-upload",type:"file",ref:b,onChange:N=>l(N.target.files[0]),accept:"image/*,video/*",className:"hidden"})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Ort auswählen"}),J.jsx("div",{className:"h-64 rounded-lg overflow-hidden border",children:J.jsxs($R,{center:c?[c.lat,c.lng]:[41.1579,-8.6291],zoom:13,style:{height:"100%",width:"100%"},children:[J.jsx(YR,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),J.jsx(RG,{onLocationSelect:x}),c&&J.jsx(WR,{position:[c.lat,c.lng]})]})}),c&&J.jsxs("div",{className:"mt-2 flex items-center gap-1.5 text-sm text-green-600 font-medium",children:[" ",J.jsx(e6,{size:14})," Standort ausgewählt!"," "]})]}),v&&J.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-100 p-3 rounded-lg",children:[" ",J.jsx(u6,{size:18})," ",J.jsx("span",{children:v})," "]}),J.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center items-center gap-2 bg-purple-600 text-white font-bold py-3 rounded-lg hover:bg-purple-700 disabled:bg-purple-300",children:p?J.jsxs(J.Fragment,{children:[J.jsx(y0,{className:"animate-spin"})," ",J.jsx("span",{children:"Wird gespeichert..."})]}):J.jsxs(J.Fragment,{children:[J.jsx(i6,{size:18})," ",J.jsx("span",{children:e?"Änderungen speichern":"Posten"})]})})]})}function kG({post:e,onClose:t}){return J.jsx(Nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:t,children:J.jsxs(Nr.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-gray-50 rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:n=>n.stopPropagation(),children:[J.jsxs("div",{className:"sticky top-0 bg-gray-50/80 backdrop-blur-sm p-4 border-b flex justify-between items-center z-10",children:[J.jsx("h3",{className:"font-bold text-lg",children:"Post bearbeiten"}),J.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200",children:J.jsx(d6,{size:20})})]}),J.jsx("div",{className:"p-4",children:J.jsx(Nk,{postToEdit:e,onFormSubmit:t})})]})})}function DG(){const[e,t]=$.useState(""),[n,i]=$.useState(""),[s,l]=$.useState(""),c=Qp(),d=async p=>{p.preventDefault(),l("");try{await aq(_f,e,n),c("/")}catch(m){l("Login fehlgeschlagen. Bitte überprüfe E-Mail und Passwort."),console.error("Firebase Login Error:",m)}};return J.jsx("div",{className:"w-full max-w-sm mx-auto mt-10",children:J.jsxs("form",{onSubmit:d,className:"bg-white/90 shadow-lg rounded-2xl px-8 pt-6 pb-8 mb-4",children:[J.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Admin Login"}),J.jsxs("div",{className:"mb-4",children:[J.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),J.jsx("input",{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),className:"shadow-inner appearance-none border rounded-lg w-full py-2 px-3 text-gray-700",required:!0})]}),J.jsxs("div",{className:"mb-6",children:[J.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Passwort"}),J.jsx("input",{id:"password",type:"password",value:n,onChange:p=>i(p.target.value),className:"shadow-inner appearance-none border rounded-lg w-full py-2 px-3 text-gray-700",required:!0})]}),s&&J.jsx("p",{className:"text-red-500 text-xs italic text-center mb-4",children:s}),J.jsx("div",{className:"flex items-center justify-between",children:J.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg w-full",children:"Anmelden"})})]})})}function MG(){const[e]=CT(_f),t=Qp(),n=Da(),i=()=>{cq(_f),t("/")},s={color:"#db2777",fontWeight:"bold"};return J.jsx("nav",{className:"w-full max-w-xl bg-white/80 backdrop-blur-sm rounded-full shadow-md p-2 sticky top-4 z-50 mb-6",children:J.jsxs("div",{className:"flex justify-around items-center",children:[J.jsxs(sp,{to:"/",style:({isActive:l})=>l?s:void 0,className:"flex flex-col items-center text-gray-600 hover:text-pink-500 transition-colors",children:[J.jsx(BB,{size:24}),J.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),J.jsxs(sp,{to:"/blog",style:({isActive:l})=>l?s:void 0,className:"flex flex-col items-center text-gray-600 hover:text-pink-500 transition-colors",children:[J.jsx(HR,{size:24}),J.jsx("span",{className:"text-xs mt-1",children:"Blog"})]}),e?J.jsxs("button",{onClick:i,className:"flex flex-col items-center text-gray-600 hover:text-pink-500 transition-colors",children:[J.jsx(WB,{size:24}),J.jsx("span",{className:"text-xs mt-1",children:"Logout"})]}):n.pathname!=="/login"&&J.jsxs(sp,{to:"/login",className:"flex flex-col items-center text-gray-600 hover:text-pink-500 transition-colors",children:[J.jsx(KB,{size:24}),J.jsx("span",{className:"text-xs mt-1",children:"Admin"})]})]})})}function LG({children:e}){const[t,n,i]=CT(_f);return n?J.jsx("div",{className:"flex justify-center items-center h-screen",children:J.jsx(y0,{className:"animate-spin text-pink-500",size:48})}):t?e:J.jsx(WD,{to:"/login",replace:!0})}function OG(){return J.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-pink-100 via-white to-purple-50 flex flex-col items-center p-4 font-sans",children:[J.jsx(MG,{}),J.jsxs(XD,{children:[J.jsx(np,{path:"/",element:J.jsx(LG,{children:J.jsx(b6,{})})}),J.jsx(np,{path:"/blog",element:J.jsx(PG,{})}),J.jsx(np,{path:"/login",element:J.jsx(DG,{})})]})]})}aD.createRoot(document.getElementById("root")).render(J.jsx(Ep.StrictMode,{children:J.jsx(TM,{basename:"/loveletter/",children:J.jsx(OG,{})})}));
