(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Xm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d_={exports:{}},Hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function ZO(){if(KE)return Hh;KE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:e,type:i,key:u,ref:r!==void 0?r:null,props:o}}return Hh.Fragment=t,Hh.jsx=n,Hh.jsxs=n,Hh}var ZE;function $O(){return ZE||(ZE=1,d_.exports=ZO()),d_.exports}var ot=$O(),p_={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function YO(){if($E)return de;$E=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function F(C,at,lt){this.props=C,this.context=at,this.refs=M,this.updater=lt||T}F.prototype.isReactComponent={},F.prototype.setState=function(C,at){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,at,"setState")},F.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function N(){}N.prototype=F.prototype;function K(C,at,lt){this.props=C,this.context=at,this.refs=M,this.updater=lt||T}var W=K.prototype=new N;W.constructor=K,R(W,F.prototype),W.isPureReactComponent=!0;var tt=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function q(C,at,lt,$,ht,ut){return lt=ut.ref,{$$typeof:e,type:C,key:at,ref:lt!==void 0?lt:null,props:ut}}function x(C,at){return q(C.type,at,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function U(C){var at={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(lt){return at[lt]})}var k=/\/+/g;function P(C,at){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):at.toString(36)}function D(){}function Z(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(D,D):(C.status="pending",C.then(function(at){C.status==="pending"&&(C.status="fulfilled",C.value=at)},function(at){C.status==="pending"&&(C.status="rejected",C.reason=at)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function G(C,at,lt,$,ht){var ut=typeof C;(ut==="undefined"||ut==="boolean")&&(C=null);var yt=!1;if(C===null)yt=!0;else switch(ut){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(C.$$typeof){case e:case t:yt=!0;break;case g:return yt=C._init,G(yt(C._payload),at,lt,$,ht)}}if(yt)return ht=ht(C),yt=$===""?"."+P(C,0):$,tt(ht)?(lt="",yt!=null&&(lt=yt.replace(k,"$&/")+"/"),G(ht,at,lt,"",function(Ht){return Ht})):ht!=null&&(A(ht)&&(ht=x(ht,lt+(ht.key==null||C&&C.key===ht.key?"":(""+ht.key).replace(k,"$&/")+"/")+yt)),at.push(ht)),1;yt=0;var Bt=$===""?".":$+":";if(tt(C))for(var Mt=0;Mt<C.length;Mt++)$=C[Mt],ut=Bt+P($,Mt),yt+=G($,at,lt,ut,ht);else if(Mt=v(C),typeof Mt=="function")for(C=Mt.call(C),Mt=0;!($=C.next()).done;)$=$.value,ut=Bt+P($,Mt++),yt+=G($,at,lt,ut,ht);else if(ut==="object"){if(typeof C.then=="function")return G(Z(C),at,lt,$,ht);throw at=String(C),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return yt}function B(C,at,lt){if(C==null)return C;var $=[],ht=0;return G(C,$,"","",function(ut){return at.call(lt,ut,ht++)}),$}function V(C){if(C._status===-1){var at=C._result;at=at(),at.then(function(lt){(C._status===0||C._status===-1)&&(C._status=1,C._result=lt)},function(lt){(C._status===0||C._status===-1)&&(C._status=2,C._result=lt)}),C._status===-1&&(C._status=0,C._result=at)}if(C._status===1)return C._result.default;throw C._result}var nt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function it(){}return de.Children={map:B,forEach:function(C,at,lt){B(C,function(){at.apply(this,arguments)},lt)},count:function(C){var at=0;return B(C,function(){at++}),at},toArray:function(C){return B(C,function(at){return at})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},de.Component=F,de.Fragment=n,de.Profiler=r,de.PureComponent=K,de.StrictMode=i,de.Suspense=d,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,de.__COMPILER_RUNTIME={__proto__:null,c:function(C){return X.H.useMemoCache(C)}},de.cache=function(C){return function(){return C.apply(null,arguments)}},de.cloneElement=function(C,at,lt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=R({},C.props),ht=C.key,ut=void 0;if(at!=null)for(yt in at.ref!==void 0&&(ut=void 0),at.key!==void 0&&(ht=""+at.key),at)!z.call(at,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&at.ref===void 0||($[yt]=at[yt]);var yt=arguments.length-2;if(yt===1)$.children=lt;else if(1<yt){for(var Bt=Array(yt),Mt=0;Mt<yt;Mt++)Bt[Mt]=arguments[Mt+2];$.children=Bt}return q(C.type,ht,void 0,void 0,ut,$)},de.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},de.createElement=function(C,at,lt){var $,ht={},ut=null;if(at!=null)for($ in at.key!==void 0&&(ut=""+at.key),at)z.call(at,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ht[$]=at[$]);var yt=arguments.length-2;if(yt===1)ht.children=lt;else if(1<yt){for(var Bt=Array(yt),Mt=0;Mt<yt;Mt++)Bt[Mt]=arguments[Mt+2];ht.children=Bt}if(C&&C.defaultProps)for($ in yt=C.defaultProps,yt)ht[$]===void 0&&(ht[$]=yt[$]);return q(C,ut,void 0,void 0,null,ht)},de.createRef=function(){return{current:null}},de.forwardRef=function(C){return{$$typeof:h,render:C}},de.isValidElement=A,de.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:V}},de.memo=function(C,at){return{$$typeof:m,type:C,compare:at===void 0?null:at}},de.startTransition=function(C){var at=X.T,lt={};X.T=lt;try{var $=C(),ht=X.S;ht!==null&&ht(lt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(it,nt)}catch(ut){nt(ut)}finally{X.T=at}},de.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},de.use=function(C){return X.H.use(C)},de.useActionState=function(C,at,lt){return X.H.useActionState(C,at,lt)},de.useCallback=function(C,at){return X.H.useCallback(C,at)},de.useContext=function(C){return X.H.useContext(C)},de.useDebugValue=function(){},de.useDeferredValue=function(C,at){return X.H.useDeferredValue(C,at)},de.useEffect=function(C,at,lt){var $=X.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,at)},de.useId=function(){return X.H.useId()},de.useImperativeHandle=function(C,at,lt){return X.H.useImperativeHandle(C,at,lt)},de.useInsertionEffect=function(C,at){return X.H.useInsertionEffect(C,at)},de.useLayoutEffect=function(C,at){return X.H.useLayoutEffect(C,at)},de.useMemo=function(C,at){return X.H.useMemo(C,at)},de.useOptimistic=function(C,at){return X.H.useOptimistic(C,at)},de.useReducer=function(C,at,lt){return X.H.useReducer(C,at,lt)},de.useRef=function(C){return X.H.useRef(C)},de.useState=function(C){return X.H.useState(C)},de.useSyncExternalStore=function(C,at,lt){return X.H.useSyncExternalStore(C,at,lt)},de.useTransition=function(){return X.H.useTransition()},de.version="19.1.1",de}var YE;function ml(){return YE||(YE=1,p_.exports=YO()),p_.exports}var Q=ml();const Si=Xm(Q);var m_={exports:{}},qh={},g_={exports:{}},y_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function XO(){return XE||(XE=1,(function(e){function t(B,V){var nt=B.length;B.push(V);t:for(;0<nt;){var it=nt-1>>>1,C=B[it];if(0<r(C,V))B[it]=V,B[nt]=C,nt=it;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var V=B[0],nt=B.pop();if(nt!==V){B[0]=nt;t:for(var it=0,C=B.length,at=C>>>1;it<at;){var lt=2*(it+1)-1,$=B[lt],ht=lt+1,ut=B[ht];if(0>r($,nt))ht<C&&0>r(ut,$)?(B[it]=ut,B[ht]=nt,it=ht):(B[it]=$,B[lt]=nt,it=lt);else if(ht<C&&0>r(ut,nt))B[it]=ut,B[ht]=nt,it=ht;else break t}}return V}function r(B,V){var nt=B.sortIndex-V.sortIndex;return nt!==0?nt:B.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var d=[],m=[],g=1,y=null,v=3,T=!1,R=!1,M=!1,F=!1,N=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function tt(B){for(var V=n(m);V!==null;){if(V.callback===null)i(m);else if(V.startTime<=B)i(m),V.sortIndex=V.expirationTime,t(d,V);else break;V=n(m)}}function X(B){if(M=!1,tt(B),!R)if(n(d)!==null)R=!0,z||(z=!0,P());else{var V=n(m);V!==null&&G(X,V.startTime-B)}}var z=!1,q=-1,x=5,A=-1;function U(){return F?!0:!(e.unstable_now()-A<x)}function k(){if(F=!1,z){var B=e.unstable_now();A=B;var V=!0;try{t:{R=!1,M&&(M=!1,K(q),q=-1),T=!0;var nt=v;try{e:{for(tt(B),y=n(d);y!==null&&!(y.expirationTime>B&&U());){var it=y.callback;if(typeof it=="function"){y.callback=null,v=y.priorityLevel;var C=it(y.expirationTime<=B);if(B=e.unstable_now(),typeof C=="function"){y.callback=C,tt(B),V=!0;break e}y===n(d)&&i(d),tt(B)}else i(d);y=n(d)}if(y!==null)V=!0;else{var at=n(m);at!==null&&G(X,at.startTime-B),V=!1}}break t}finally{y=null,v=nt,T=!1}V=void 0}}finally{V?P():z=!1}}}var P;if(typeof W=="function")P=function(){W(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Z=D.port2;D.port1.onmessage=k,P=function(){Z.postMessage(null)}}else P=function(){N(k,0)};function G(B,V){q=N(function(){B(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var nt=v;v=V;try{return B()}finally{v=nt}},e.unstable_requestPaint=function(){F=!0},e.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var nt=v;v=B;try{return V()}finally{v=nt}},e.unstable_scheduleCallback=function(B,V,nt){var it=e.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?it+nt:it):nt=it,B){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=nt+C,B={id:g++,callback:V,priorityLevel:B,startTime:nt,expirationTime:C,sortIndex:-1},nt>it?(B.sortIndex=nt,t(m,B),n(d)===null&&B===n(m)&&(M?(K(q),q=-1):M=!0,G(X,nt-it))):(B.sortIndex=C,t(d,B),R||T||(R=!0,z||(z=!0,P()))),B},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(B){var V=v;return function(){var nt=v;v=V;try{return B.apply(this,arguments)}finally{v=nt}}}})(y_)),y_}var QE;function QO(){return QE||(QE=1,g_.exports=XO()),g_.exports}var __={exports:{}},ji={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function JO(){if(JE)return ji;JE=1;var e=ml();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ji.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ji.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,g)},ji.flushSync=function(d){var m=u.T,g=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=m,i.p=g,i.d.f()}},ji.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},ji.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},ji.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:T}):g==="script"&&i.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ji.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},ji.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin);i.d.L(d,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ji.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},ji.requestFormReset=function(d){i.d.r(d)},ji.unstable_batchedUpdates=function(d,m){return d(m)},ji.useFormState=function(d,m,g){return u.H.useFormState(d,m,g)},ji.useFormStatus=function(){return u.H.useHostTransitionStatus()},ji.version="19.1.1",ji}var tS;function SC(){if(tS)return __.exports;tS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),__.exports=JO(),__.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function tL(){if(eS)return qh;eS=1;var e=QO(),t=ml(),n=SC();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,p=a;;){var b=c.return;if(b===null)break;var E=b.alternate;if(E===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===c)return h(b),s;if(E===p)return h(b),a;E=E.sibling}throw Error(i(188))}if(c.return!==p.return)c=b,p=E;else{for(var H=!1,J=b.child;J;){if(J===c){H=!0,c=b,p=E;break}if(J===p){H=!0,p=b,c=E;break}J=J.sibling}if(!H){for(J=E.child;J;){if(J===c){H=!0,c=E,p=b;break}if(J===p){H=!0,p=E,c=b;break}J=J.sibling}if(!H)throw Error(i(189))}}if(c.alternate!==p)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),W=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function Z(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case F:return"Profiler";case M:return"StrictMode";case X:return"Suspense";case z:return"SuspenseList";case A:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case W:return(s.displayName||"Context")+".Provider";case K:return(s._context.displayName||"Context")+".Consumer";case tt:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case q:return a=s.displayName||null,a!==null?a:Z(s.type)||"Memo";case x:a=s._payload,s=s._init;try{return Z(s(a))}catch{}}return null}var G=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},it=[],C=-1;function at(s){return{current:s}}function lt(s){0>C||(s.current=it[C],it[C]=null,C--)}function $(s,a){C++,it[C]=s.current,s.current=a}var ht=at(null),ut=at(null),yt=at(null),Bt=at(null);function Mt(s,a){switch($(yt,a),$(ut,s),$(ht,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?bE(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=bE(a),s=TE(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}lt(ht),$(ht,s)}function Ht(){lt(ht),lt(ut),lt(yt)}function Ot(s){s.memoizedState!==null&&$(Bt,s);var a=ht.current,c=TE(a,s.type);a!==c&&($(ut,s),$(ht,c))}function se(s){ut.current===s&&(lt(ht),lt(ut)),Bt.current===s&&(lt(Bt),zh._currentValue=nt)}var oe=Object.prototype.hasOwnProperty,on=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,he=e.unstable_shouldYield,Me=e.unstable_requestPaint,ne=e.unstable_now,me=e.unstable_getCurrentPriorityLevel,Fe=e.unstable_ImmediatePriority,Ee=e.unstable_UserBlockingPriority,ge=e.unstable_NormalPriority,hn=e.unstable_LowPriority,ke=e.unstable_IdlePriority,ve=e.log,Sn=e.unstable_setDisableYieldValue,_t=null,Et=null;function Dt(s){if(typeof ve=="function"&&Sn(s),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(_t,s)}catch{}}var Vt=Math.clz32?Math.clz32:Ve,Kt=Math.log,ye=Math.LN2;function Ve(s){return s>>>=0,s===0?32:31-(Kt(s)/ye|0)|0}var je=256,Ke=4194304;function He(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function tn(s,a,c){var p=s.pendingLanes;if(p===0)return 0;var b=0,E=s.suspendedLanes,H=s.pingedLanes;s=s.warmLanes;var J=p&134217727;return J!==0?(p=J&~E,p!==0?b=He(p):(H&=J,H!==0?b=He(H):c||(c=J&~s,c!==0&&(b=He(c))))):(J=p&~E,J!==0?b=He(J):H!==0?b=He(H):c||(c=p&~s,c!==0&&(b=He(c)))),b===0?0:a!==0&&a!==b&&(a&E)===0&&(E=b&-b,c=a&-a,E>=c||E===32&&(c&4194048)!==0)?a:b}function xn(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function An(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var s=je;return je<<=1,(je&4194048)===0&&(je=256),s}function Li(){var s=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),s}function Ni(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function we(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ze(s,a,c,p,b,E){var H=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var J=s.entanglements,st=s.expirationTimes,gt=s.hiddenUpdates;for(c=H&~c;0<c;){var St=31-Vt(c),Rt=1<<St;J[St]=0,st[St]=-1;var vt=gt[St];if(vt!==null)for(gt[St]=null,St=0;St<vt.length;St++){var wt=vt[St];wt!==null&&(wt.lane&=-536870913)}c&=~Rt}p!==0&&ze(s,p,0),E!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=E&~(H&~a))}function ze(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var p=31-Vt(a);s.entangledLanes|=a,s.entanglements[p]=s.entanglements[p]|1073741824|c&4194090}function zn(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-Vt(c),b=1<<p;b&a|s[p]&a&&(s[p]|=a),c&=~b}}function mn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function $e(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function en(){var s=V.p;return s!==0?s:(s=window.event,s===void 0?32:FE(s.type))}function Yi(s,a){var c=V.p;try{return V.p=s,a()}finally{V.p=c}}var ue=Math.random().toString(36).slice(2),Ye="__reactFiber$"+ue,Ue="__reactProps$"+ue,Rn="__reactContainer$"+ue,Un="__reactEvents$"+ue,Ut="__reactListeners$"+ue,Yn="__reactHandles$"+ue,Tr="__reactResources$"+ue,ar="__reactMarker$"+ue;function gs(s){delete s[Ye],delete s[Ue],delete s[Un],delete s[Ut],delete s[Yn]}function Er(s){var a=s[Ye];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Rn]||c[Ye]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=AE(s);s!==null;){if(c=s[Ye])return c;s=AE(s)}return a}s=c,c=s.parentNode}return null}function Sr(s){if(s=s[Ye]||s[Rn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function xi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function pi(s){var a=s[Tr];return a||(a=s[Tr]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Mn(s){s[ar]=!0}var El=new Set,na={};function xr(s,a){Kr(s,a),Kr(s+"Capture",a)}function Kr(s,a){for(na[s]=a,s=0;s<a.length;s++)El.add(a[s])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},So={};function bu(s){return oe.call(So,s)?!0:oe.call(Eo,s)?!1:wu.test(s)?So[s]=!0:(Eo[s]=!0,!1)}function Fs(s,a,c){if(bu(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var p=a.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function Zr(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function li(s,a,c,p){if(p===null)s.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+p)}}var ys,js;function $r(s){if(ys===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);ys=a&&a[1]||"",js=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+s+js}var xo=!1;function Yr(s,a){if(!s||xo)return"";xo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(a){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(wt){var vt=wt}Reflect.construct(s,[],Rt)}else{try{Rt.call()}catch(wt){vt=wt}s.call(Rt.prototype)}}else{try{throw Error()}catch(wt){vt=wt}(Rt=s())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(wt){if(wt&&vt&&typeof wt.stack=="string")return[wt.stack,vt.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=p.DetermineComponentFrameRoot(),H=E[0],J=E[1];if(H&&J){var st=H.split(`
`),gt=J.split(`
`);for(b=p=0;p<st.length&&!st[p].includes("DetermineComponentFrameRoot");)p++;for(;b<gt.length&&!gt[b].includes("DetermineComponentFrameRoot");)b++;if(p===st.length||b===gt.length)for(p=st.length-1,b=gt.length-1;1<=p&&0<=b&&st[p]!==gt[b];)b--;for(;1<=p&&0<=b;p--,b--)if(st[p]!==gt[b]){if(p!==1||b!==1)do if(p--,b--,0>b||st[p]!==gt[b]){var St=`
`+st[p].replace(" at new "," at ");return s.displayName&&St.includes("<anonymous>")&&(St=St.replace("<anonymous>",s.displayName)),St}while(1<=p&&0<=b);break}}}finally{xo=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?$r(c):""}function be(s){switch(s.tag){case 26:case 27:case 5:return $r(s.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 15:return Yr(s.type,!1);case 11:return Yr(s.type.render,!1);case 1:return Yr(s.type,!0);case 31:return $r("Activity");default:return""}}function Xe(s){try{var a="";do a+=be(s),s=s.return;while(s);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Xn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xr(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Hs(s){var a=Xr(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var b=c.get,E=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return b.call(this)},set:function(H){p=""+H,E.call(this,H)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(H){p=""+H},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function qs(s){s._valueTracker||(s._valueTracker=Hs(s))}function ae(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=Xr(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function nn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Sl=/[\n"\\]/g;function En(s){return s.replace(Sl,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function gn(s,a,c,p,b,E,H,J){s.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?s.type=H:s.removeAttribute("type"),a!=null?H==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Xn(a)):s.value!==""+Xn(a)&&(s.value=""+Xn(a)):H!=="submit"&&H!=="reset"||s.removeAttribute("value"),a!=null?Ar(s,H,Xn(a)):c!=null?Ar(s,H,Xn(c)):p!=null&&s.removeAttribute("value"),b==null&&E!=null&&(s.defaultChecked=!!E),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?s.name=""+Xn(J):s.removeAttribute("name")}function Ao(s,a,c,p,b,E,H,J){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),a!=null||c!=null){if(!(E!=="submit"&&E!=="reset"||a!=null))return;c=c!=null?""+Xn(c):"",a=a!=null?""+Xn(a):c,J||a===s.value||(s.value=a),s.defaultValue=a}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=J?s.checked:!!p,s.defaultChecked=!!p,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(s.name=H)}function Ar(s,a,c){a==="number"&&nn(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ai(s,a,c,p){if(s=s.options,a){a={};for(var b=0;b<c.length;b++)a["$"+c[b]]=!0;for(c=0;c<s.length;c++)b=a.hasOwnProperty("$"+s[c].value),s[c].selected!==b&&(s[c].selected=b),b&&p&&(s[c].defaultSelected=!0)}else{for(c=""+Xn(c),a=null,b=0;b<s.length;b++){if(s[b].value===c){s[b].selected=!0,p&&(s[b].defaultSelected=!0);return}a!==null||s[b].disabled||(a=s[b])}a!==null&&(a.selected=!0)}}function Xt(s,a,c){if(a!=null&&(a=""+Xn(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Xn(c):""}function Xi(s,a,c,p){if(a==null){if(p!=null){if(c!=null)throw Error(i(92));if(G(p)){if(1<p.length)throw Error(i(93));p=p[0]}c=p}c==null&&(c=""),a=c}c=Xn(a),s.defaultValue=c,p=s.textContent,p===c&&p!==""&&p!==null&&(s.value=p)}function mi(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Rr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ia(s,a,c){var p=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":p?s.setProperty(a,c):typeof c!="number"||c===0||Rr.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function _s(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||a!=null&&a.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var b in a)p=a[b],a.hasOwnProperty(b)&&c[b]!==p&&ia(s,b,p)}else for(var E in a)a.hasOwnProperty(E)&&ia(s,E,a[E])}function Ro(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(s){return ra.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Cr=null;function Ri(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Qr=null,Ir=null;function Al(s){var a=Sr(s);if(a&&(s=a.stateNode)){var c=s[Ue]||null;t:switch(s=a.stateNode,a.type){case"input":if(gn(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+En(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var b=p[Ue]||null;if(!b)throw Error(i(90));gn(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(a=0;a<c.length;a++)p=c[a],p.form===s.form&&ae(p)}break t;case"textarea":Xt(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Ai(s,!!c.multiple,a,!1)}}}var Zt=!1;function Qi(s,a,c){if(Zt)return s(a,c);Zt=!0;try{var p=s(a);return p}finally{if(Zt=!1,(Qr!==null||Ir!==null)&&(up(),Qr&&(a=Qr,s=Ir,Ir=Qr=null,Al(a),s)))for(a=0;a<s.length;a++)Al(s[a])}}function Oe(s,a){var c=s.stateNode;if(c===null)return null;var p=c[Ue]||null;if(p===null)return null;c=p[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=!1;if(lr)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Vi=!1}var ur=null,zi=null,Pr=null;function ws(){if(Pr)return Pr;var s,a=zi,c=a.length,p,b="value"in ur?ur.value:ur.textContent,E=b.length;for(s=0;s<c&&a[s]===b[s];s++);var H=c-s;for(p=1;p<=H&&a[c-p]===b[E-p];p++);return Pr=b.slice(s,1<p?1-p:void 0)}function an(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function gi(){return!0}function sa(){return!1}function Gn(s){function a(c,p,b,E,H){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=E,this.target=H,this.currentTarget=null;for(var J in s)s.hasOwnProperty(J)&&(c=s[J],this[J]=c?c(E):E[J]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?gi:sa,this.isPropagationStopped=sa,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),a}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=Gn(qe),bs=g({},qe,{view:0,detail:0}),Tu=Gn(bs),Io,fe,Jr,ui=g({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Jr&&(Jr&&s.type==="mousemove"?(Io=s.screenX-Jr.screenX,fe=s.screenY-Jr.screenY):fe=Io=0,Jr=s),Io)},movementY:function(s){return"movementY"in s?s.movementY:fe}}),yi=Gn(ui),Rl=g({},ui,{dataTransfer:0}),eh=Gn(Rl),Ts=g({},bs,{relatedTarget:0}),oa=Gn(Ts),aa=g({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),la=Gn(aa),Eu=g({},qe,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ws=Gn(Eu),nh=g({},qe,{data:0}),Ui=Gn(nh),Po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ua(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=kr[s])?!!a[s]:!1}function Ks(){return ua}var ca=g({},bs,{key:function(s){if(s.key){var a=Po[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=an(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Cl[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(s){return s.type==="keypress"?an(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?an(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ha=Gn(ca),Il=g({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fa=Gn(Il),Es=g({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),Su=Gn(Es),da=g({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),xu=Gn(da),Pl=g({},ui,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ko=Gn(Pl),Qn=g({},qe,{newState:0,oldState:0}),ts=Gn(Qn),Au=[9,13,27,32],Bi=lr&&"CompositionEvent"in window,_=null;lr&&"documentMode"in document&&(_=document.documentMode);var I=lr&&"TextEvent"in window&&!_,j=lr&&(!Bi||_&&8<_&&11>=_),et=" ",dt=!1;function Tt(s,a){switch(s){case"keyup":return Au.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ae=!1;function Bn(s,a){switch(s){case"compositionend":return kt(a);case"keypress":return a.which!==32?null:(dt=!0,et);case"textInput":return s=a.data,s===et&&dt?null:s;default:return null}}function Re(s,a){if(Ae)return s==="compositionend"||!Bi&&Tt(s,a)?(s=ws(),Pr=zi=ur=null,Ae=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return j&&a.locale!=="ko"?null:a.data;default:return null}}var Qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Qe[s.type]:a==="textarea"}function Ss(s,a,c,p){Qr?Ir?Ir.push(p):Ir=[p]:Qr=p,a=mp(a,"onChange"),0<a.length&&(c=new Co("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var fn=null,es=null;function ns(s){gE(s,0)}function Ru(s){var a=xi(s);if(ae(a))return s}function pa(s,a){if(s==="change")return a}var ih=!1;if(lr){var ma;if(lr){var rh="oninput"in document;if(!rh){var xs=document.createElement("div");xs.setAttribute("oninput","return;"),rh=typeof xs.oninput=="function"}ma=rh}else ma=!1;ih=ma&&(!document.documentMode||9<document.documentMode)}function kl(){fn&&(fn.detachEvent("onpropertychange",Cd),es=fn=null)}function Cd(s){if(s.propertyName==="value"&&Ru(es)){var a=[];Ss(a,es,s,Ri(s)),Qi(ns,a)}}function sh(s,a,c){s==="focusin"?(kl(),fn=a,es=c,fn.attachEvent("onpropertychange",Cd)):s==="focusout"&&kl()}function Vg(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ru(es)}function As(s,a){if(s==="click")return Ru(a)}function zg(s,a){if(s==="input"||s==="change")return Ru(a)}function ga(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ji=typeof Object.is=="function"?Object.is:ga;function tr(s,a){if(Ji(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!oe.call(a,b)||!Ji(s[b],a[b]))return!1}return!0}function Dl(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function oh(s,a){var c=Dl(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Dl(c)}}function Cu(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Cu(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Ml(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=nn(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=nn(s.document)}return a}function Ol(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Iu=lr&&"documentMode"in document&&11>=document.documentMode,Dr=null,ya=null,Do=null,Pu=!1;function Id(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pu||Dr==null||Dr!==nn(p)||(p=Dr,"selectionStart"in p&&Ol(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Do&&tr(Do,p)||(Do=p,p=mp(ya,"onSelect"),0<p.length&&(a=new Co("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Dr)))}function is(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var _a={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},ku={},Pd={};lr&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Zs(s){if(ku[s])return ku[s];if(!_a[s])return s;var a=_a[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Pd)return ku[s]=a[c];return s}var kd=Zs("animationend"),Mr=Zs("animationiteration"),Ll=Zs("animationstart"),Ug=Zs("transitionrun"),Du=Zs("transitionstart"),Bg=Zs("transitioncancel"),ah=Zs("transitionend"),Dd=new Map,Mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mo.push("scrollEnd");function Or(s,a){Dd.set(s,a),xr(a,[s])}var Oo=new WeakMap;function er(s,a){if(typeof s=="object"&&s!==null){var c=Oo.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Xe(a)},Oo.set(s,a),a)}return{value:s,source:a,stack:Xe(a)}}var nr=[],va=0,Lr=0;function Nl(){for(var s=va,a=Lr=va=0;a<s;){var c=nr[a];nr[a++]=null;var p=nr[a];nr[a++]=null;var b=nr[a];nr[a++]=null;var E=nr[a];if(nr[a++]=null,p!==null&&b!==null){var H=p.pending;H===null?b.next=b:(b.next=H.next,H.next=b),p.pending=b}E!==0&&zl(c,b,E)}}function Vl(s,a,c,p){nr[va++]=s,nr[va++]=a,nr[va++]=c,nr[va++]=p,Lr|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function Lo(s,a,c,p){return Vl(s,a,c,p),$s(s)}function wa(s,a){return Vl(s,null,null,a),$s(s)}function zl(s,a,c){s.lanes|=c;var p=s.alternate;p!==null&&(p.lanes|=c);for(var b=!1,E=s.return;E!==null;)E.childLanes|=c,p=E.alternate,p!==null&&(p.childLanes|=c),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(b=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,b&&a!==null&&(b=31-Vt(c),s=E.hiddenUpdates,p=s[b],p===null?s[b]=[a]:p.push(a),a.lane=c|536870912),E):null}function $s(s){if(50<Ph)throw Ph=0,Vy=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var No={};function Md(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(s,a,c,p){return new Md(s,a,c,p)}function Mu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rs(s,a){var c=s.alternate;return c===null?(c=ir(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function lh(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Ul(s,a,c,p,b,E){var H=0;if(p=s,typeof s=="function")Mu(s)&&(H=1);else if(typeof s=="string")H=LO(s,c,ht.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case A:return s=ir(31,c,a,b),s.elementType=A,s.lanes=E,s;case R:return Ys(c.children,b,E,a);case M:H=8,b|=24;break;case F:return s=ir(12,c,a,b|2),s.elementType=F,s.lanes=E,s;case X:return s=ir(13,c,a,b),s.elementType=X,s.lanes=E,s;case z:return s=ir(19,c,a,b),s.elementType=z,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:case W:H=10;break t;case K:H=9;break t;case tt:H=11;break t;case q:H=14;break t;case x:H=16,p=null;break t}H=29,c=Error(i(130,s===null?"null":typeof s,"")),p=null}return a=ir(H,c,a,b),a.elementType=s,a.type=p,a.lanes=E,a}function Ys(s,a,c,p){return s=ir(7,s,p,a),s.lanes=c,s}function uh(s,a,c){return s=ir(6,s,null,a),s.lanes=c,s}function Ou(s,a,c){return a=ir(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Vo=[],ba=0,l=null,f=0,w=[],S=0,O=null,Y=1,rt="";function pt(s,a){Vo[ba++]=f,Vo[ba++]=l,l=s,f=a}function bt(s,a,c){w[S++]=Y,w[S++]=rt,w[S++]=O,O=s;var p=Y;s=rt;var b=32-Vt(p)-1;p&=~(1<<b),c+=1;var E=32-Vt(a)+b;if(30<E){var H=b-b%5;E=(p&(1<<H)-1).toString(32),p>>=H,b-=H,Y=1<<32-Vt(a)+b|c<<b|p,rt=E+s}else Y=1<<E|c<<b|p,rt=s}function It(s){s.return!==null&&(pt(s,1),bt(s,1,0))}function Lt(s){for(;s===l;)l=Vo[--ba],Vo[ba]=null,f=Vo[--ba],Vo[ba]=null;for(;s===O;)O=w[--S],w[S]=null,rt=w[--S],w[S]=null,Y=w[--S],w[S]=null}var Ft=null,qt=null,ie=!1,_n=null,On=!1,_i=Error(i(519));function cr(s){var a=Error(i(418,""));throw Ea(er(a,s)),_i}function Od(s){var a=s.stateNode,c=s.type,p=s.memoizedProps;switch(a[Ye]=s,a[Ue]=p,c){case"dialog":xe("cancel",a),xe("close",a);break;case"iframe":case"object":case"embed":xe("load",a);break;case"video":case"audio":for(c=0;c<Dh.length;c++)xe(Dh[c],a);break;case"source":xe("error",a);break;case"img":case"image":case"link":xe("error",a),xe("load",a);break;case"details":xe("toggle",a);break;case"input":xe("invalid",a),Ao(a,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),qs(a);break;case"select":xe("invalid",a);break;case"textarea":xe("invalid",a),Xi(a,p.value,p.defaultValue,p.children),qs(a)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||p.suppressHydrationWarning===!0||wE(a.textContent,c)?(p.popover!=null&&(xe("beforetoggle",a),xe("toggle",a)),p.onScroll!=null&&xe("scroll",a),p.onScrollEnd!=null&&xe("scrollend",a),p.onClick!=null&&(a.onclick=gp),a=!0):a=!1,a||cr(s)}function Ld(s){for(Ft=s.return;Ft;)switch(Ft.tag){case 5:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Ft=Ft.return}}function Bl(s){if(s!==Ft)return!1;if(!ie)return Ld(s),ie=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Jy(s.type,s.memoizedProps)),c=!c),c&&qt&&cr(s),Ld(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(a===0){qt=Ps(s.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;s=s.nextSibling}qt=null}}else a===27?(a=qt,za(s.type)?(s=i_,i_=null,qt=s):qt=a):qt=Ft?Ps(s.stateNode.nextSibling):null;return!0}function Ta(){qt=Ft=null,ie=!1}function Nd(){var s=_n;return s!==null&&(dr===null?dr=s:dr.push.apply(dr,s),_n=null),s}function Ea(s){_n===null?_n=[s]:_n.push(s)}var Cn=at(null),ss=null,Rs=null;function Xs(s,a,c){$(Cn,a._currentValue),a._currentValue=c}function Cs(s){s._currentValue=Cn.current,lt(Cn)}function Fl(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function Lu(s,a,c,p){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var E=b.dependencies;if(E!==null){var H=b.child;E=E.firstContext;t:for(;E!==null;){var J=E;E=b;for(var st=0;st<a.length;st++)if(J.context===a[st]){E.lanes|=c,J=E.alternate,J!==null&&(J.lanes|=c),Fl(E.return,c,s),p||(H=null);break t}E=J.next}}else if(b.tag===18){if(H=b.return,H===null)throw Error(i(341));H.lanes|=c,E=H.alternate,E!==null&&(E.lanes|=c),Fl(H,c,s),H=null}else H=b.child;if(H!==null)H.return=b;else for(H=b;H!==null;){if(H===s){H=null;break}if(b=H.sibling,b!==null){b.return=H.return,H=b;break}H=H.return}b=H}}function jl(s,a,c,p){s=null;for(var b=a,E=!1;b!==null;){if(!E){if((b.flags&524288)!==0)E=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var H=b.alternate;if(H===null)throw Error(i(387));if(H=H.memoizedProps,H!==null){var J=b.type;Ji(b.pendingProps.value,H.value)||(s!==null?s.push(J):s=[J])}}else if(b===Bt.current){if(H=b.alternate,H===null)throw Error(i(387));H.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(zh):s=[zh])}b=b.return}s!==null&&Lu(a,s,c,p),a.flags|=262144}function Vd(s){for(s=s.firstContext;s!==null;){if(!Ji(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Hl(s){ss=s,Rs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Fi(s){return o1(ss,s)}function zd(s,a){return ss===null&&Hl(s),o1(s,a)}function o1(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Rs===null){if(s===null)throw Error(i(308));Rs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Rs=Rs.next=a;return c}var OM=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,p){s.push(p)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},LM=e.unstable_scheduleCallback,NM=e.unstable_NormalPriority,ci={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fg(){return{controller:new OM,data:new Map,refCount:0}}function ch(s){s.refCount--,s.refCount===0&&LM(NM,function(){s.controller.abort()})}var hh=null,jg=0,Nu=0,Vu=null;function VM(s,a){if(hh===null){var c=hh=[];jg=0,Nu=qy(),Vu={status:"pending",value:void 0,then:function(p){c.push(p)}}}return jg++,a.then(a1,a1),a}function a1(){if(--jg===0&&hh!==null){Vu!==null&&(Vu.status="fulfilled");var s=hh;hh=null,Nu=0,Vu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function zM(s,a){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return s.then(function(){p.status="fulfilled",p.value=a;for(var b=0;b<c.length;b++)(0,c[b])(a)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var l1=B.S;B.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&VM(s,a),l1!==null&&l1(s,a)};var ql=at(null);function Hg(){var s=ql.current;return s!==null?s:vn.pooledCache}function Ud(s,a){a===null?$(ql,ql.current):$(ql,a.pool)}function u1(){var s=Hg();return s===null?null:{parent:ci._currentValue,pool:s}}var fh=Error(i(460)),c1=Error(i(474)),Bd=Error(i(542)),qg={then:function(){}};function h1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Fd(){}function f1(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Fd,Fd),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,p1(s),s;default:if(typeof a.status=="string")a.then(Fd,Fd);else{if(s=vn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(p){if(a.status==="pending"){var b=a;b.status="fulfilled",b.value=p}},function(p){if(a.status==="pending"){var b=a;b.status="rejected",b.reason=p}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,p1(s),s}throw dh=a,fh}}var dh=null;function d1(){if(dh===null)throw Error(i(459));var s=dh;return dh=null,s}function p1(s){if(s===fh||s===Bd)throw Error(i(483))}var Sa=!1;function Gg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Aa(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(rn&2)!==0){var b=p.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),p.pending=a,a=$s(s),zl(s,null,c),a}return Vl(s,p,a,c),$s(s)}function ph(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,zn(s,c)}}function Kg(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var H={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};E===null?b=E=H:E=E.next=H,c=c.next}while(c!==null);E===null?b=E=a:E=E.next=a}else b=E=a;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:p.shared,callbacks:p.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Zg=!1;function mh(){if(Zg){var s=Vu;if(s!==null)throw s}}function gh(s,a,c,p){Zg=!1;var b=s.updateQueue;Sa=!1;var E=b.firstBaseUpdate,H=b.lastBaseUpdate,J=b.shared.pending;if(J!==null){b.shared.pending=null;var st=J,gt=st.next;st.next=null,H===null?E=gt:H.next=gt,H=st;var St=s.alternate;St!==null&&(St=St.updateQueue,J=St.lastBaseUpdate,J!==H&&(J===null?St.firstBaseUpdate=gt:J.next=gt,St.lastBaseUpdate=st))}if(E!==null){var Rt=b.baseState;H=0,St=gt=st=null,J=E;do{var vt=J.lane&-536870913,wt=vt!==J.lane;if(wt?(Le&vt)===vt:(p&vt)===vt){vt!==0&&vt===Nu&&(Zg=!0),St!==null&&(St=St.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});t:{var te=s,$t=J;vt=a;var cn=c;switch($t.tag){case 1:if(te=$t.payload,typeof te=="function"){Rt=te.call(cn,Rt,vt);break t}Rt=te;break t;case 3:te.flags=te.flags&-65537|128;case 0:if(te=$t.payload,vt=typeof te=="function"?te.call(cn,Rt,vt):te,vt==null)break t;Rt=g({},Rt,vt);break t;case 2:Sa=!0}}vt=J.callback,vt!==null&&(s.flags|=64,wt&&(s.flags|=8192),wt=b.callbacks,wt===null?b.callbacks=[vt]:wt.push(vt))}else wt={lane:vt,tag:J.tag,payload:J.payload,callback:J.callback,next:null},St===null?(gt=St=wt,st=Rt):St=St.next=wt,H|=vt;if(J=J.next,J===null){if(J=b.shared.pending,J===null)break;wt=J,J=wt.next,wt.next=null,b.lastBaseUpdate=wt,b.shared.pending=null}}while(!0);St===null&&(st=Rt),b.baseState=st,b.firstBaseUpdate=gt,b.lastBaseUpdate=St,E===null&&(b.shared.lanes=0),Oa|=H,s.lanes=H,s.memoizedState=Rt}}function m1(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function g1(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)m1(c[s],a)}var zu=at(null),jd=at(0);function y1(s,a){s=qo,$(jd,s),$(zu,a),qo=s|a.baseLanes}function $g(){$(jd,qo),$(zu,zu.current)}function Yg(){qo=jd.current,lt(zu),lt(jd)}var Ra=0,_e=null,ln=null,Jn=null,Hd=!1,Uu=!1,Gl=!1,qd=0,yh=0,Bu=null,UM=0;function Wn(){throw Error(i(321))}function Xg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Ji(s[c],a[c]))return!1;return!0}function Qg(s,a,c,p,b,E){return Ra=E,_e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=s===null||s.memoizedState===null?tT:eT,Gl=!1,E=c(p,b),Gl=!1,Uu&&(E=v1(a,c,p,b)),_1(s),E}function _1(s){B.H=Yd;var a=ln!==null&&ln.next!==null;if(Ra=0,Jn=ln=_e=null,Hd=!1,yh=0,Bu=null,a)throw Error(i(300));s===null||vi||(s=s.dependencies,s!==null&&Vd(s)&&(vi=!0))}function v1(s,a,c,p){_e=s;var b=0;do{if(Uu&&(Bu=null),yh=0,Uu=!1,25<=b)throw Error(i(301));if(b+=1,Jn=ln=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}B.H=WM,E=a(c,p)}while(Uu);return E}function BM(){var s=B.H,a=s.useState()[0];return a=typeof a.then=="function"?_h(a):a,s=s.useState()[0],(ln!==null?ln.memoizedState:null)!==s&&(_e.flags|=1024),a}function Jg(){var s=qd!==0;return qd=0,s}function ty(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function ey(s){if(Hd){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Hd=!1}Ra=0,Jn=ln=_e=null,Uu=!1,yh=qd=0,Bu=null}function hr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?_e.memoizedState=Jn=s:Jn=Jn.next=s,Jn}function ti(){if(ln===null){var s=_e.alternate;s=s!==null?s.memoizedState:null}else s=ln.next;var a=Jn===null?_e.memoizedState:Jn.next;if(a!==null)Jn=a,ln=s;else{if(s===null)throw _e.alternate===null?Error(i(467)):Error(i(310));ln=s,s={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},Jn===null?_e.memoizedState=Jn=s:Jn=Jn.next=s}return Jn}function ny(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _h(s){var a=yh;return yh+=1,Bu===null&&(Bu=[]),s=f1(Bu,s,a),a=_e,(Jn===null?a.memoizedState:Jn.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?tT:eT),s}function Gd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return _h(s);if(s.$$typeof===W)return Fi(s)}throw Error(i(438,String(s)))}function iy(s){var a=null,c=_e.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var p=_e.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(a={data:p.data.map(function(b){return b.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=ny(),_e.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),p=0;p<s;p++)c[p]=U;return a.index++,c}function zo(s,a){return typeof a=="function"?a(s):a}function Wd(s){var a=ti();return ry(a,ln,s)}function ry(s,a,c){var p=s.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=c;var b=s.baseQueue,E=p.pending;if(E!==null){if(b!==null){var H=b.next;b.next=E.next,E.next=H}a.baseQueue=b=E,p.pending=null}if(E=s.baseState,b===null)s.memoizedState=E;else{a=b.next;var J=H=null,st=null,gt=a,St=!1;do{var Rt=gt.lane&-536870913;if(Rt!==gt.lane?(Le&Rt)===Rt:(Ra&Rt)===Rt){var vt=gt.revertLane;if(vt===0)st!==null&&(st=st.next={lane:0,revertLane:0,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),Rt===Nu&&(St=!0);else if((Ra&vt)===vt){gt=gt.next,vt===Nu&&(St=!0);continue}else Rt={lane:0,revertLane:gt.revertLane,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},st===null?(J=st=Rt,H=E):st=st.next=Rt,_e.lanes|=vt,Oa|=vt;Rt=gt.action,Gl&&c(E,Rt),E=gt.hasEagerState?gt.eagerState:c(E,Rt)}else vt={lane:Rt,revertLane:gt.revertLane,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},st===null?(J=st=vt,H=E):st=st.next=vt,_e.lanes|=Rt,Oa|=Rt;gt=gt.next}while(gt!==null&&gt!==a);if(st===null?H=E:st.next=J,!Ji(E,s.memoizedState)&&(vi=!0,St&&(c=Vu,c!==null)))throw c;s.memoizedState=E,s.baseState=H,s.baseQueue=st,p.lastRenderedState=E}return b===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function sy(s){var a=ti(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var p=c.dispatch,b=c.pending,E=a.memoizedState;if(b!==null){c.pending=null;var H=b=b.next;do E=s(E,H.action),H=H.next;while(H!==b);Ji(E,a.memoizedState)||(vi=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,p]}function w1(s,a,c){var p=_e,b=ti(),E=ie;if(E){if(c===void 0)throw Error(i(407));c=c()}else c=a();var H=!Ji((ln||b).memoizedState,c);H&&(b.memoizedState=c,vi=!0),b=b.queue;var J=E1.bind(null,p,b,s);if(vh(2048,8,J,[s]),b.getSnapshot!==a||H||Jn!==null&&Jn.memoizedState.tag&1){if(p.flags|=2048,Fu(9,Kd(),T1.bind(null,p,b,c,a),null),vn===null)throw Error(i(349));E||(Ra&124)!==0||b1(p,a,c)}return c}function b1(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=_e.updateQueue,a===null?(a=ny(),_e.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function T1(s,a,c,p){a.value=c,a.getSnapshot=p,S1(a)&&x1(s)}function E1(s,a,c){return c(function(){S1(a)&&x1(s)})}function S1(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Ji(s,c)}catch{return!0}}function x1(s){var a=wa(s,2);a!==null&&Br(a,s,2)}function oy(s){var a=hr();if(typeof s=="function"){var c=s;if(s=c(),Gl){Dt(!0);try{c()}finally{Dt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:s},a}function A1(s,a,c,p){return s.baseState=c,ry(s,ln,typeof p=="function"?p:zo)}function FM(s,a,c,p,b){if($d(s))throw Error(i(485));if(s=a.action,s!==null){var E={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){E.listeners.push(H)}};B.T!==null?c(!0):E.isTransition=!1,p(E),c=a.pending,c===null?(E.next=a.pending=E,R1(a,E)):(E.next=c.next,a.pending=c.next=E)}}function R1(s,a){var c=a.action,p=a.payload,b=s.state;if(a.isTransition){var E=B.T,H={};B.T=H;try{var J=c(b,p),st=B.S;st!==null&&st(H,J),C1(s,a,J)}catch(gt){ay(s,a,gt)}finally{B.T=E}}else try{E=c(b,p),C1(s,a,E)}catch(gt){ay(s,a,gt)}}function C1(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){I1(s,a,p)},function(p){return ay(s,a,p)}):I1(s,a,c)}function I1(s,a,c){a.status="fulfilled",a.value=c,P1(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,R1(s,c)))}function ay(s,a,c){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do a.status="rejected",a.reason=c,P1(a),a=a.next;while(a!==p)}s.action=null}function P1(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function k1(s,a){return a}function D1(s,a){if(ie){var c=vn.formState;if(c!==null){t:{var p=_e;if(ie){if(qt){e:{for(var b=qt,E=On;b.nodeType!==8;){if(!E){b=null;break e}if(b=Ps(b.nextSibling),b===null){b=null;break e}}E=b.data,b=E==="F!"||E==="F"?b:null}if(b){qt=Ps(b.nextSibling),p=b.data==="F!";break t}}cr(p)}p=!1}p&&(a=c[0])}}return c=hr(),c.memoizedState=c.baseState=a,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k1,lastRenderedState:a},c.queue=p,c=X1.bind(null,_e,p),p.dispatch=c,p=oy(!1),E=fy.bind(null,_e,!1,p.queue),p=hr(),b={state:a,dispatch:null,action:s,pending:null},p.queue=b,c=FM.bind(null,_e,b,E,c),b.dispatch=c,p.memoizedState=s,[a,c,!1]}function M1(s){var a=ti();return O1(a,ln,s)}function O1(s,a,c){if(a=ry(s,a,k1)[0],s=Wd(zo)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var p=_h(a)}catch(H){throw H===fh?Bd:H}else p=a;a=ti();var b=a.queue,E=b.dispatch;return c!==a.memoizedState&&(_e.flags|=2048,Fu(9,Kd(),jM.bind(null,b,c),null)),[p,E,s]}function jM(s,a){s.action=a}function L1(s){var a=ti(),c=ln;if(c!==null)return O1(a,c,s);ti(),a=a.memoizedState,c=ti();var p=c.queue.dispatch;return c.memoizedState=s,[a,p,!1]}function Fu(s,a,c,p){return s={tag:s,create:c,deps:p,inst:a,next:null},a=_e.updateQueue,a===null&&(a=ny(),_e.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s),s}function Kd(){return{destroy:void 0,resource:void 0}}function N1(){return ti().memoizedState}function Zd(s,a,c,p){var b=hr();p=p===void 0?null:p,_e.flags|=s,b.memoizedState=Fu(1|a,Kd(),c,p)}function vh(s,a,c,p){var b=ti();p=p===void 0?null:p;var E=b.memoizedState.inst;ln!==null&&p!==null&&Xg(p,ln.memoizedState.deps)?b.memoizedState=Fu(a,E,c,p):(_e.flags|=s,b.memoizedState=Fu(1|a,E,c,p))}function V1(s,a){Zd(8390656,8,s,a)}function z1(s,a){vh(2048,8,s,a)}function U1(s,a){return vh(4,2,s,a)}function B1(s,a){return vh(4,4,s,a)}function F1(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function j1(s,a,c){c=c!=null?c.concat([s]):null,vh(4,4,F1.bind(null,a,s),c)}function ly(){}function H1(s,a){var c=ti();a=a===void 0?null:a;var p=c.memoizedState;return a!==null&&Xg(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function q1(s,a){var c=ti();a=a===void 0?null:a;var p=c.memoizedState;if(a!==null&&Xg(a,p[1]))return p[0];if(p=s(),Gl){Dt(!0);try{s()}finally{Dt(!1)}}return c.memoizedState=[p,a],p}function uy(s,a,c){return c===void 0||(Ra&1073741824)!==0?s.memoizedState=a:(s.memoizedState=c,s=KT(),_e.lanes|=s,Oa|=s,c)}function G1(s,a,c,p){return Ji(c,a)?c:zu.current!==null?(s=uy(s,c,p),Ji(s,a)||(vi=!0),s):(Ra&42)===0?(vi=!0,s.memoizedState=c):(s=KT(),_e.lanes|=s,Oa|=s,a)}function W1(s,a,c,p,b){var E=V.p;V.p=E!==0&&8>E?E:8;var H=B.T,J={};B.T=J,fy(s,!1,a,c);try{var st=b(),gt=B.S;if(gt!==null&&gt(J,st),st!==null&&typeof st=="object"&&typeof st.then=="function"){var St=zM(st,p);wh(s,a,St,Ur(s))}else wh(s,a,p,Ur(s))}catch(Rt){wh(s,a,{then:function(){},status:"rejected",reason:Rt},Ur())}finally{V.p=E,B.T=H}}function HM(){}function cy(s,a,c,p){if(s.tag!==5)throw Error(i(476));var b=K1(s).queue;W1(s,b,a,nt,c===null?HM:function(){return Z1(s),c(p)})}function K1(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:nt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Z1(s){var a=K1(s).next.queue;wh(s,a,{},Ur())}function hy(){return Fi(zh)}function $1(){return ti().memoizedState}function Y1(){return ti().memoizedState}function qM(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=Ur();s=xa(c);var p=Aa(a,s,c);p!==null&&(Br(p,a,c),ph(p,a,c)),a={cache:Fg()},s.payload=a;return}a=a.return}}function GM(s,a,c){var p=Ur();c={lane:p,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},$d(s)?Q1(a,c):(c=Lo(s,a,c,p),c!==null&&(Br(c,s,p),J1(c,a,p)))}function X1(s,a,c){var p=Ur();wh(s,a,c,p)}function wh(s,a,c,p){var b={lane:p,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if($d(s))Q1(a,b);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var H=a.lastRenderedState,J=E(H,c);if(b.hasEagerState=!0,b.eagerState=J,Ji(J,H))return Vl(s,a,b,0),vn===null&&Nl(),!1}catch{}finally{}if(c=Lo(s,a,b,p),c!==null)return Br(c,s,p),J1(c,a,p),!0}return!1}function fy(s,a,c,p){if(p={lane:2,revertLane:qy(),action:p,hasEagerState:!1,eagerState:null,next:null},$d(s)){if(a)throw Error(i(479))}else a=Lo(s,c,p,2),a!==null&&Br(a,s,2)}function $d(s){var a=s.alternate;return s===_e||a!==null&&a===_e}function Q1(s,a){Uu=Hd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function J1(s,a,c){if((c&4194048)!==0){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,zn(s,c)}}var Yd={readContext:Fi,use:Gd,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn,useHostTransitionStatus:Wn,useFormState:Wn,useActionState:Wn,useOptimistic:Wn,useMemoCache:Wn,useCacheRefresh:Wn},tT={readContext:Fi,use:Gd,useCallback:function(s,a){return hr().memoizedState=[s,a===void 0?null:a],s},useContext:Fi,useEffect:V1,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,Zd(4194308,4,F1.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Zd(4194308,4,s,a)},useInsertionEffect:function(s,a){Zd(4,2,s,a)},useMemo:function(s,a){var c=hr();a=a===void 0?null:a;var p=s();if(Gl){Dt(!0);try{s()}finally{Dt(!1)}}return c.memoizedState=[p,a],p},useReducer:function(s,a,c){var p=hr();if(c!==void 0){var b=c(a);if(Gl){Dt(!0);try{c(a)}finally{Dt(!1)}}}else b=a;return p.memoizedState=p.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},p.queue=s,s=s.dispatch=GM.bind(null,_e,s),[p.memoizedState,s]},useRef:function(s){var a=hr();return s={current:s},a.memoizedState=s},useState:function(s){s=oy(s);var a=s.queue,c=X1.bind(null,_e,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:ly,useDeferredValue:function(s,a){var c=hr();return uy(c,s,a)},useTransition:function(){var s=oy(!1);return s=W1.bind(null,_e,s.queue,!0,!1),hr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var p=_e,b=hr();if(ie){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),vn===null)throw Error(i(349));(Le&124)!==0||b1(p,a,c)}b.memoizedState=c;var E={value:c,getSnapshot:a};return b.queue=E,V1(E1.bind(null,p,E,s),[s]),p.flags|=2048,Fu(9,Kd(),T1.bind(null,p,E,c,a),null),c},useId:function(){var s=hr(),a=vn.identifierPrefix;if(ie){var c=rt,p=Y;c=(p&~(1<<32-Vt(p)-1)).toString(32)+c,a="«"+a+"R"+c,c=qd++,0<c&&(a+="H"+c.toString(32)),a+="»"}else c=UM++,a="«"+a+"r"+c.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:hy,useFormState:D1,useActionState:D1,useOptimistic:function(s){var a=hr();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=fy.bind(null,_e,!0,c),c.dispatch=a,[s,a]},useMemoCache:iy,useCacheRefresh:function(){return hr().memoizedState=qM.bind(null,_e)}},eT={readContext:Fi,use:Gd,useCallback:H1,useContext:Fi,useEffect:z1,useImperativeHandle:j1,useInsertionEffect:U1,useLayoutEffect:B1,useMemo:q1,useReducer:Wd,useRef:N1,useState:function(){return Wd(zo)},useDebugValue:ly,useDeferredValue:function(s,a){var c=ti();return G1(c,ln.memoizedState,s,a)},useTransition:function(){var s=Wd(zo)[0],a=ti().memoizedState;return[typeof s=="boolean"?s:_h(s),a]},useSyncExternalStore:w1,useId:$1,useHostTransitionStatus:hy,useFormState:M1,useActionState:M1,useOptimistic:function(s,a){var c=ti();return A1(c,ln,s,a)},useMemoCache:iy,useCacheRefresh:Y1},WM={readContext:Fi,use:Gd,useCallback:H1,useContext:Fi,useEffect:z1,useImperativeHandle:j1,useInsertionEffect:U1,useLayoutEffect:B1,useMemo:q1,useReducer:sy,useRef:N1,useState:function(){return sy(zo)},useDebugValue:ly,useDeferredValue:function(s,a){var c=ti();return ln===null?uy(c,s,a):G1(c,ln.memoizedState,s,a)},useTransition:function(){var s=sy(zo)[0],a=ti().memoizedState;return[typeof s=="boolean"?s:_h(s),a]},useSyncExternalStore:w1,useId:$1,useHostTransitionStatus:hy,useFormState:L1,useActionState:L1,useOptimistic:function(s,a){var c=ti();return ln!==null?A1(c,ln,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:iy,useCacheRefresh:Y1},ju=null,bh=0;function Xd(s){var a=bh;return bh+=1,ju===null&&(ju=[]),f1(ju,s,a)}function Th(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Qd(s,a){throw a.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function nT(s){var a=s._init;return a(s._payload)}function iT(s){function a(ft,ct){if(s){var mt=ft.deletions;mt===null?(ft.deletions=[ct],ft.flags|=16):mt.push(ct)}}function c(ft,ct){if(!s)return null;for(;ct!==null;)a(ft,ct),ct=ct.sibling;return null}function p(ft){for(var ct=new Map;ft!==null;)ft.key!==null?ct.set(ft.key,ft):ct.set(ft.index,ft),ft=ft.sibling;return ct}function b(ft,ct){return ft=rs(ft,ct),ft.index=0,ft.sibling=null,ft}function E(ft,ct,mt){return ft.index=mt,s?(mt=ft.alternate,mt!==null?(mt=mt.index,mt<ct?(ft.flags|=67108866,ct):mt):(ft.flags|=67108866,ct)):(ft.flags|=1048576,ct)}function H(ft){return s&&ft.alternate===null&&(ft.flags|=67108866),ft}function J(ft,ct,mt,xt){return ct===null||ct.tag!==6?(ct=uh(mt,ft.mode,xt),ct.return=ft,ct):(ct=b(ct,mt),ct.return=ft,ct)}function st(ft,ct,mt,xt){var jt=mt.type;return jt===R?St(ft,ct,mt.props.children,xt,mt.key):ct!==null&&(ct.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===x&&nT(jt)===ct.type)?(ct=b(ct,mt.props),Th(ct,mt),ct.return=ft,ct):(ct=Ul(mt.type,mt.key,mt.props,null,ft.mode,xt),Th(ct,mt),ct.return=ft,ct)}function gt(ft,ct,mt,xt){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==mt.containerInfo||ct.stateNode.implementation!==mt.implementation?(ct=Ou(mt,ft.mode,xt),ct.return=ft,ct):(ct=b(ct,mt.children||[]),ct.return=ft,ct)}function St(ft,ct,mt,xt,jt){return ct===null||ct.tag!==7?(ct=Ys(mt,ft.mode,xt,jt),ct.return=ft,ct):(ct=b(ct,mt),ct.return=ft,ct)}function Rt(ft,ct,mt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ct=uh(""+ct,ft.mode,mt),ct.return=ft,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case v:return mt=Ul(ct.type,ct.key,ct.props,null,ft.mode,mt),Th(mt,ct),mt.return=ft,mt;case T:return ct=Ou(ct,ft.mode,mt),ct.return=ft,ct;case x:var xt=ct._init;return ct=xt(ct._payload),Rt(ft,ct,mt)}if(G(ct)||P(ct))return ct=Ys(ct,ft.mode,mt,null),ct.return=ft,ct;if(typeof ct.then=="function")return Rt(ft,Xd(ct),mt);if(ct.$$typeof===W)return Rt(ft,zd(ft,ct),mt);Qd(ft,ct)}return null}function vt(ft,ct,mt,xt){var jt=ct!==null?ct.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return jt!==null?null:J(ft,ct,""+mt,xt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case v:return mt.key===jt?st(ft,ct,mt,xt):null;case T:return mt.key===jt?gt(ft,ct,mt,xt):null;case x:return jt=mt._init,mt=jt(mt._payload),vt(ft,ct,mt,xt)}if(G(mt)||P(mt))return jt!==null?null:St(ft,ct,mt,xt,null);if(typeof mt.then=="function")return vt(ft,ct,Xd(mt),xt);if(mt.$$typeof===W)return vt(ft,ct,zd(ft,mt),xt);Qd(ft,mt)}return null}function wt(ft,ct,mt,xt,jt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return ft=ft.get(mt)||null,J(ct,ft,""+xt,jt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case v:return ft=ft.get(xt.key===null?mt:xt.key)||null,st(ct,ft,xt,jt);case T:return ft=ft.get(xt.key===null?mt:xt.key)||null,gt(ct,ft,xt,jt);case x:var Te=xt._init;return xt=Te(xt._payload),wt(ft,ct,mt,xt,jt)}if(G(xt)||P(xt))return ft=ft.get(mt)||null,St(ct,ft,xt,jt,null);if(typeof xt.then=="function")return wt(ft,ct,mt,Xd(xt),jt);if(xt.$$typeof===W)return wt(ft,ct,mt,zd(ct,xt),jt);Qd(ct,xt)}return null}function te(ft,ct,mt,xt){for(var jt=null,Te=null,Gt=ct,Yt=ct=0,bi=null;Gt!==null&&Yt<mt.length;Yt++){Gt.index>Yt?(bi=Gt,Gt=null):bi=Gt.sibling;var Ge=vt(ft,Gt,mt[Yt],xt);if(Ge===null){Gt===null&&(Gt=bi);break}s&&Gt&&Ge.alternate===null&&a(ft,Gt),ct=E(Ge,ct,Yt),Te===null?jt=Ge:Te.sibling=Ge,Te=Ge,Gt=bi}if(Yt===mt.length)return c(ft,Gt),ie&&pt(ft,Yt),jt;if(Gt===null){for(;Yt<mt.length;Yt++)Gt=Rt(ft,mt[Yt],xt),Gt!==null&&(ct=E(Gt,ct,Yt),Te===null?jt=Gt:Te.sibling=Gt,Te=Gt);return ie&&pt(ft,Yt),jt}for(Gt=p(Gt);Yt<mt.length;Yt++)bi=wt(Gt,ft,Yt,mt[Yt],xt),bi!==null&&(s&&bi.alternate!==null&&Gt.delete(bi.key===null?Yt:bi.key),ct=E(bi,ct,Yt),Te===null?jt=bi:Te.sibling=bi,Te=bi);return s&&Gt.forEach(function(Ha){return a(ft,Ha)}),ie&&pt(ft,Yt),jt}function $t(ft,ct,mt,xt){if(mt==null)throw Error(i(151));for(var jt=null,Te=null,Gt=ct,Yt=ct=0,bi=null,Ge=mt.next();Gt!==null&&!Ge.done;Yt++,Ge=mt.next()){Gt.index>Yt?(bi=Gt,Gt=null):bi=Gt.sibling;var Ha=vt(ft,Gt,Ge.value,xt);if(Ha===null){Gt===null&&(Gt=bi);break}s&&Gt&&Ha.alternate===null&&a(ft,Gt),ct=E(Ha,ct,Yt),Te===null?jt=Ha:Te.sibling=Ha,Te=Ha,Gt=bi}if(Ge.done)return c(ft,Gt),ie&&pt(ft,Yt),jt;if(Gt===null){for(;!Ge.done;Yt++,Ge=mt.next())Ge=Rt(ft,Ge.value,xt),Ge!==null&&(ct=E(Ge,ct,Yt),Te===null?jt=Ge:Te.sibling=Ge,Te=Ge);return ie&&pt(ft,Yt),jt}for(Gt=p(Gt);!Ge.done;Yt++,Ge=mt.next())Ge=wt(Gt,ft,Yt,Ge.value,xt),Ge!==null&&(s&&Ge.alternate!==null&&Gt.delete(Ge.key===null?Yt:Ge.key),ct=E(Ge,ct,Yt),Te===null?jt=Ge:Te.sibling=Ge,Te=Ge);return s&&Gt.forEach(function(KO){return a(ft,KO)}),ie&&pt(ft,Yt),jt}function cn(ft,ct,mt,xt){if(typeof mt=="object"&&mt!==null&&mt.type===R&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case v:t:{for(var jt=mt.key;ct!==null;){if(ct.key===jt){if(jt=mt.type,jt===R){if(ct.tag===7){c(ft,ct.sibling),xt=b(ct,mt.props.children),xt.return=ft,ft=xt;break t}}else if(ct.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===x&&nT(jt)===ct.type){c(ft,ct.sibling),xt=b(ct,mt.props),Th(xt,mt),xt.return=ft,ft=xt;break t}c(ft,ct);break}else a(ft,ct);ct=ct.sibling}mt.type===R?(xt=Ys(mt.props.children,ft.mode,xt,mt.key),xt.return=ft,ft=xt):(xt=Ul(mt.type,mt.key,mt.props,null,ft.mode,xt),Th(xt,mt),xt.return=ft,ft=xt)}return H(ft);case T:t:{for(jt=mt.key;ct!==null;){if(ct.key===jt)if(ct.tag===4&&ct.stateNode.containerInfo===mt.containerInfo&&ct.stateNode.implementation===mt.implementation){c(ft,ct.sibling),xt=b(ct,mt.children||[]),xt.return=ft,ft=xt;break t}else{c(ft,ct);break}else a(ft,ct);ct=ct.sibling}xt=Ou(mt,ft.mode,xt),xt.return=ft,ft=xt}return H(ft);case x:return jt=mt._init,mt=jt(mt._payload),cn(ft,ct,mt,xt)}if(G(mt))return te(ft,ct,mt,xt);if(P(mt)){if(jt=P(mt),typeof jt!="function")throw Error(i(150));return mt=jt.call(mt),$t(ft,ct,mt,xt)}if(typeof mt.then=="function")return cn(ft,ct,Xd(mt),xt);if(mt.$$typeof===W)return cn(ft,ct,zd(ft,mt),xt);Qd(ft,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint"?(mt=""+mt,ct!==null&&ct.tag===6?(c(ft,ct.sibling),xt=b(ct,mt),xt.return=ft,ft=xt):(c(ft,ct),xt=uh(mt,ft.mode,xt),xt.return=ft,ft=xt),H(ft)):c(ft,ct)}return function(ft,ct,mt,xt){try{bh=0;var jt=cn(ft,ct,mt,xt);return ju=null,jt}catch(Gt){if(Gt===fh||Gt===Bd)throw Gt;var Te=ir(29,Gt,null,ft.mode);return Te.lanes=xt,Te.return=ft,Te}finally{}}}var Hu=iT(!0),rT=iT(!1),os=at(null),Qs=null;function Ca(s){var a=s.alternate;$(hi,hi.current&1),$(os,s),Qs===null&&(a===null||zu.current!==null||a.memoizedState!==null)&&(Qs=s)}function sT(s){if(s.tag===22){if($(hi,hi.current),$(os,s),Qs===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Qs=s)}}else Ia()}function Ia(){$(hi,hi.current),$(os,os.current)}function Uo(s){lt(os),Qs===s&&(Qs=null),lt(hi)}var hi=at(0);function Jd(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||n_(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function dy(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:g({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var py={enqueueSetState:function(s,a,c){s=s._reactInternals;var p=Ur(),b=xa(p);b.payload=a,c!=null&&(b.callback=c),a=Aa(s,b,p),a!==null&&(Br(a,s,p),ph(a,s,p))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=Ur(),b=xa(p);b.tag=1,b.payload=a,c!=null&&(b.callback=c),a=Aa(s,b,p),a!==null&&(Br(a,s,p),ph(a,s,p))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Ur(),p=xa(c);p.tag=2,a!=null&&(p.callback=a),a=Aa(s,p,c),a!==null&&(Br(a,s,c),ph(a,s,c))}};function oT(s,a,c,p,b,E,H){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,H):a.prototype&&a.prototype.isPureReactComponent?!tr(c,p)||!tr(b,E):!0}function aT(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&py.enqueueReplaceState(a,a.state,null)}function Wl(s,a){var c=a;if("ref"in a){c={};for(var p in a)p!=="ref"&&(c[p]=a[p])}if(s=s.defaultProps){c===a&&(c=g({},c));for(var b in s)c[b]===void 0&&(c[b]=s[b])}return c}var tp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function lT(s){tp(s)}function uT(s){console.error(s)}function cT(s){tp(s)}function ep(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(p){setTimeout(function(){throw p})}}function hT(s,a,c){try{var p=s.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function my(s,a,c){return c=xa(c),c.tag=3,c.payload={element:null},c.callback=function(){ep(s,a)},c}function fT(s){return s=xa(s),s.tag=3,s}function dT(s,a,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var E=p.value;s.payload=function(){return b(E)},s.callback=function(){hT(a,c,p)}}var H=c.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(s.callback=function(){hT(a,c,p),typeof b!="function"&&(La===null?La=new Set([this]):La.add(this));var J=p.stack;this.componentDidCatch(p.value,{componentStack:J!==null?J:""})})}function KM(s,a,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(a=c.alternate,a!==null&&jl(a,c,b,!0),c=os.current,c!==null){switch(c.tag){case 13:return Qs===null?Uy():c.alternate===null&&Fn===0&&(Fn=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===qg?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([p]):a.add(p),Fy(s,p,b)),!1;case 22:return c.flags|=65536,p===qg?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([p]):c.add(p)),Fy(s,p,b)),!1}throw Error(i(435,c.tag))}return Fy(s,p,b),Uy(),!1}if(ie)return a=os.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=b,p!==_i&&(s=Error(i(422),{cause:p}),Ea(er(s,c)))):(p!==_i&&(a=Error(i(423),{cause:p}),Ea(er(a,c))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,p=er(p,c),b=my(s.stateNode,p,b),Kg(s,b),Fn!==4&&(Fn=2)),!1;var E=Error(i(520),{cause:p});if(E=er(E,c),Ih===null?Ih=[E]:Ih.push(E),Fn!==4&&(Fn=2),a===null)return!0;p=er(p,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=b&-b,c.lanes|=s,s=my(c.stateNode,p,s),Kg(c,s),!1;case 1:if(a=c.type,E=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(La===null||!La.has(E))))return c.flags|=65536,b&=-b,c.lanes|=b,b=fT(b),dT(b,s,c,p),Kg(c,b),!1}c=c.return}while(c!==null);return!1}var pT=Error(i(461)),vi=!1;function Ci(s,a,c,p){a.child=s===null?rT(a,null,c,p):Hu(a,s.child,c,p)}function mT(s,a,c,p,b){c=c.render;var E=a.ref;if("ref"in p){var H={};for(var J in p)J!=="ref"&&(H[J]=p[J])}else H=p;return Hl(a),p=Qg(s,a,c,H,E,b),J=Jg(),s!==null&&!vi?(ty(s,a,b),Bo(s,a,b)):(ie&&J&&It(a),a.flags|=1,Ci(s,a,p,b),a.child)}function gT(s,a,c,p,b){if(s===null){var E=c.type;return typeof E=="function"&&!Mu(E)&&E.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=E,yT(s,a,E,p,b)):(s=Ul(c.type,null,p,a,a.mode,b),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,!Ey(s,b)){var H=E.memoizedProps;if(c=c.compare,c=c!==null?c:tr,c(H,p)&&s.ref===a.ref)return Bo(s,a,b)}return a.flags|=1,s=rs(E,p),s.ref=a.ref,s.return=a,a.child=s}function yT(s,a,c,p,b){if(s!==null){var E=s.memoizedProps;if(tr(E,p)&&s.ref===a.ref)if(vi=!1,a.pendingProps=p=E,Ey(s,b))(s.flags&131072)!==0&&(vi=!0);else return a.lanes=s.lanes,Bo(s,a,b)}return gy(s,a,c,p,b)}function _T(s,a,c){var p=a.pendingProps,b=p.children,E=s!==null?s.memoizedState:null;if(p.mode==="hidden"){if((a.flags&128)!==0){if(p=E!==null?E.baseLanes|c:c,s!==null){for(b=a.child=s.child,E=0;b!==null;)E=E|b.lanes|b.childLanes,b=b.sibling;a.childLanes=E&~p}else a.childLanes=0,a.child=null;return vT(s,a,p,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ud(a,E!==null?E.cachePool:null),E!==null?y1(a,E):$g(),sT(a);else return a.lanes=a.childLanes=536870912,vT(s,a,E!==null?E.baseLanes|c:c,c)}else E!==null?(Ud(a,E.cachePool),y1(a,E),Ia(),a.memoizedState=null):(s!==null&&Ud(a,null),$g(),Ia());return Ci(s,a,b,c),a.child}function vT(s,a,c,p){var b=Hg();return b=b===null?null:{parent:ci._currentValue,pool:b},a.memoizedState={baseLanes:c,cachePool:b},s!==null&&Ud(a,null),$g(),sT(a),s!==null&&jl(s,a,p,!0),null}function np(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function gy(s,a,c,p,b){return Hl(a),c=Qg(s,a,c,p,void 0,b),p=Jg(),s!==null&&!vi?(ty(s,a,b),Bo(s,a,b)):(ie&&p&&It(a),a.flags|=1,Ci(s,a,c,b),a.child)}function wT(s,a,c,p,b,E){return Hl(a),a.updateQueue=null,c=v1(a,p,c,b),_1(s),p=Jg(),s!==null&&!vi?(ty(s,a,E),Bo(s,a,E)):(ie&&p&&It(a),a.flags|=1,Ci(s,a,c,E),a.child)}function bT(s,a,c,p,b){if(Hl(a),a.stateNode===null){var E=No,H=c.contextType;typeof H=="object"&&H!==null&&(E=Fi(H)),E=new c(p,E),a.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=py,a.stateNode=E,E._reactInternals=a,E=a.stateNode,E.props=p,E.state=a.memoizedState,E.refs={},Gg(a),H=c.contextType,E.context=typeof H=="object"&&H!==null?Fi(H):No,E.state=a.memoizedState,H=c.getDerivedStateFromProps,typeof H=="function"&&(dy(a,c,H,p),E.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(H=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),H!==E.state&&py.enqueueReplaceState(E,E.state,null),gh(a,p,E,b),mh(),E.state=a.memoizedState),typeof E.componentDidMount=="function"&&(a.flags|=4194308),p=!0}else if(s===null){E=a.stateNode;var J=a.memoizedProps,st=Wl(c,J);E.props=st;var gt=E.context,St=c.contextType;H=No,typeof St=="object"&&St!==null&&(H=Fi(St));var Rt=c.getDerivedStateFromProps;St=typeof Rt=="function"||typeof E.getSnapshotBeforeUpdate=="function",J=a.pendingProps!==J,St||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(J||gt!==H)&&aT(a,E,p,H),Sa=!1;var vt=a.memoizedState;E.state=vt,gh(a,p,E,b),mh(),gt=a.memoizedState,J||vt!==gt||Sa?(typeof Rt=="function"&&(dy(a,c,Rt,p),gt=a.memoizedState),(st=Sa||oT(a,c,st,p,vt,gt,H))?(St||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=gt),E.props=p,E.state=gt,E.context=H,p=st):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{E=a.stateNode,Wg(s,a),H=a.memoizedProps,St=Wl(c,H),E.props=St,Rt=a.pendingProps,vt=E.context,gt=c.contextType,st=No,typeof gt=="object"&&gt!==null&&(st=Fi(gt)),J=c.getDerivedStateFromProps,(gt=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H!==Rt||vt!==st)&&aT(a,E,p,st),Sa=!1,vt=a.memoizedState,E.state=vt,gh(a,p,E,b),mh();var wt=a.memoizedState;H!==Rt||vt!==wt||Sa||s!==null&&s.dependencies!==null&&Vd(s.dependencies)?(typeof J=="function"&&(dy(a,c,J,p),wt=a.memoizedState),(St=Sa||oT(a,c,St,p,vt,wt,st)||s!==null&&s.dependencies!==null&&Vd(s.dependencies))?(gt||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,wt,st),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,wt,st)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||H===s.memoizedProps&&vt===s.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&vt===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=wt),E.props=p,E.state=wt,E.context=st,p=St):(typeof E.componentDidUpdate!="function"||H===s.memoizedProps&&vt===s.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&vt===s.memoizedState||(a.flags|=1024),p=!1)}return E=p,np(s,a),p=(a.flags&128)!==0,E||p?(E=a.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:E.render(),a.flags|=1,s!==null&&p?(a.child=Hu(a,s.child,null,b),a.child=Hu(a,null,c,b)):Ci(s,a,c,b),a.memoizedState=E.state,s=a.child):s=Bo(s,a,b),s}function TT(s,a,c,p){return Ta(),a.flags|=256,Ci(s,a,c,p),a.child}var yy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _y(s){return{baseLanes:s,cachePool:u1()}}function vy(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=as),s}function ET(s,a,c){var p=a.pendingProps,b=!1,E=(a.flags&128)!==0,H;if((H=E)||(H=s!==null&&s.memoizedState===null?!1:(hi.current&2)!==0),H&&(b=!0,a.flags&=-129),H=(a.flags&32)!==0,a.flags&=-33,s===null){if(ie){if(b?Ca(a):Ia(),ie){var J=qt,st;if(st=J){t:{for(st=J,J=On;st.nodeType!==8;){if(!J){J=null;break t}if(st=Ps(st.nextSibling),st===null){J=null;break t}}J=st}J!==null?(a.memoizedState={dehydrated:J,treeContext:O!==null?{id:Y,overflow:rt}:null,retryLane:536870912,hydrationErrors:null},st=ir(18,null,null,0),st.stateNode=J,st.return=a,a.child=st,Ft=a,qt=null,st=!0):st=!1}st||cr(a)}if(J=a.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return n_(J)?a.lanes=32:a.lanes=536870912,null;Uo(a)}return J=p.children,p=p.fallback,b?(Ia(),b=a.mode,J=ip({mode:"hidden",children:J},b),p=Ys(p,b,c,null),J.return=a,p.return=a,J.sibling=p,a.child=J,b=a.child,b.memoizedState=_y(c),b.childLanes=vy(s,H,c),a.memoizedState=yy,p):(Ca(a),wy(a,J))}if(st=s.memoizedState,st!==null&&(J=st.dehydrated,J!==null)){if(E)a.flags&256?(Ca(a),a.flags&=-257,a=by(s,a,c)):a.memoizedState!==null?(Ia(),a.child=s.child,a.flags|=128,a=null):(Ia(),b=p.fallback,J=a.mode,p=ip({mode:"visible",children:p.children},J),b=Ys(b,J,c,null),b.flags|=2,p.return=a,b.return=a,p.sibling=b,a.child=p,Hu(a,s.child,null,c),p=a.child,p.memoizedState=_y(c),p.childLanes=vy(s,H,c),a.memoizedState=yy,a=b);else if(Ca(a),n_(J)){if(H=J.nextSibling&&J.nextSibling.dataset,H)var gt=H.dgst;H=gt,p=Error(i(419)),p.stack="",p.digest=H,Ea({value:p,source:null,stack:null}),a=by(s,a,c)}else if(vi||jl(s,a,c,!1),H=(c&s.childLanes)!==0,vi||H){if(H=vn,H!==null&&(p=c&-c,p=(p&42)!==0?1:mn(p),p=(p&(H.suspendedLanes|c))!==0?0:p,p!==0&&p!==st.retryLane))throw st.retryLane=p,wa(s,p),Br(H,s,p),pT;J.data==="$?"||Uy(),a=by(s,a,c)}else J.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=st.treeContext,qt=Ps(J.nextSibling),Ft=a,ie=!0,_n=null,On=!1,s!==null&&(w[S++]=Y,w[S++]=rt,w[S++]=O,Y=s.id,rt=s.overflow,O=a),a=wy(a,p.children),a.flags|=4096);return a}return b?(Ia(),b=p.fallback,J=a.mode,st=s.child,gt=st.sibling,p=rs(st,{mode:"hidden",children:p.children}),p.subtreeFlags=st.subtreeFlags&65011712,gt!==null?b=rs(gt,b):(b=Ys(b,J,c,null),b.flags|=2),b.return=a,p.return=a,p.sibling=b,a.child=p,p=b,b=a.child,J=s.child.memoizedState,J===null?J=_y(c):(st=J.cachePool,st!==null?(gt=ci._currentValue,st=st.parent!==gt?{parent:gt,pool:gt}:st):st=u1(),J={baseLanes:J.baseLanes|c,cachePool:st}),b.memoizedState=J,b.childLanes=vy(s,H,c),a.memoizedState=yy,p):(Ca(a),c=s.child,s=c.sibling,c=rs(c,{mode:"visible",children:p.children}),c.return=a,c.sibling=null,s!==null&&(H=a.deletions,H===null?(a.deletions=[s],a.flags|=16):H.push(s)),a.child=c,a.memoizedState=null,c)}function wy(s,a){return a=ip({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function ip(s,a){return s=ir(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function by(s,a,c){return Hu(a,s.child,null,c),s=wy(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ST(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Fl(s.return,a,c)}function Ty(s,a,c,p,b){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=b)}function xT(s,a,c){var p=a.pendingProps,b=p.revealOrder,E=p.tail;if(Ci(s,a,p.children,c),p=hi.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ST(s,c,a);else if(s.tag===19)ST(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}switch($(hi,p),b){case"forwards":for(c=a.child,b=null;c!==null;)s=c.alternate,s!==null&&Jd(s)===null&&(b=c),c=c.sibling;c=b,c===null?(b=a.child,a.child=null):(b=c.sibling,c.sibling=null),Ty(a,!1,b,c,E);break;case"backwards":for(c=null,b=a.child,a.child=null;b!==null;){if(s=b.alternate,s!==null&&Jd(s)===null){a.child=b;break}s=b.sibling,b.sibling=c,c=b,b=s}Ty(a,!0,c,null,E);break;case"together":Ty(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bo(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Oa|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(jl(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=rs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=rs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Ey(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Vd(s)))}function ZM(s,a,c){switch(a.tag){case 3:Mt(a,a.stateNode.containerInfo),Xs(a,ci,s.memoizedState.cache),Ta();break;case 27:case 5:Ot(a);break;case 4:Mt(a,a.stateNode.containerInfo);break;case 10:Xs(a,a.type,a.memoizedProps.value);break;case 13:var p=a.memoizedState;if(p!==null)return p.dehydrated!==null?(Ca(a),a.flags|=128,null):(c&a.child.childLanes)!==0?ET(s,a,c):(Ca(a),s=Bo(s,a,c),s!==null?s.sibling:null);Ca(a);break;case 19:var b=(s.flags&128)!==0;if(p=(c&a.childLanes)!==0,p||(jl(s,a,c,!1),p=(c&a.childLanes)!==0),b){if(p)return xT(s,a,c);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),$(hi,hi.current),p)break;return null;case 22:case 23:return a.lanes=0,_T(s,a,c);case 24:Xs(a,ci,s.memoizedState.cache)}return Bo(s,a,c)}function AT(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)vi=!0;else{if(!Ey(s,c)&&(a.flags&128)===0)return vi=!1,ZM(s,a,c);vi=(s.flags&131072)!==0}else vi=!1,ie&&(a.flags&1048576)!==0&&bt(a,f,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var p=a.elementType,b=p._init;if(p=b(p._payload),a.type=p,typeof p=="function")Mu(p)?(s=Wl(p,s),a.tag=1,a=bT(null,a,p,s,c)):(a.tag=0,a=gy(null,a,p,s,c));else{if(p!=null){if(b=p.$$typeof,b===tt){a.tag=11,a=mT(null,a,p,s,c);break t}else if(b===q){a.tag=14,a=gT(null,a,p,s,c);break t}}throw a=Z(p)||p,Error(i(306,a,""))}}return a;case 0:return gy(s,a,a.type,a.pendingProps,c);case 1:return p=a.type,b=Wl(p,a.pendingProps),bT(s,a,p,b,c);case 3:t:{if(Mt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));p=a.pendingProps;var E=a.memoizedState;b=E.element,Wg(s,a),gh(a,p,null,c);var H=a.memoizedState;if(p=H.cache,Xs(a,ci,p),p!==E.cache&&Lu(a,[ci],c,!0),mh(),p=H.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:H.cache},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){a=TT(s,a,p,c);break t}else if(p!==b){b=er(Error(i(424)),a),Ea(b),a=TT(s,a,p,c);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(qt=Ps(s.firstChild),Ft=a,ie=!0,_n=null,On=!0,c=rT(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ta(),p===b){a=Bo(s,a,c);break t}Ci(s,a,p,c)}a=a.child}return a;case 26:return np(s,a),s===null?(c=PE(a.type,null,a.pendingProps,null))?a.memoizedState=c:ie||(c=a.type,s=a.pendingProps,p=yp(yt.current).createElement(c),p[Ye]=a,p[Ue]=s,Pi(p,c,s),Mn(p),a.stateNode=p):a.memoizedState=PE(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ot(a),s===null&&ie&&(p=a.stateNode=RE(a.type,a.pendingProps,yt.current),Ft=a,On=!0,b=qt,za(a.type)?(i_=b,qt=Ps(p.firstChild)):qt=b),Ci(s,a,a.pendingProps.children,c),np(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&ie&&((b=p=qt)&&(p=TO(p,a.type,a.pendingProps,On),p!==null?(a.stateNode=p,Ft=a,qt=Ps(p.firstChild),On=!1,b=!0):b=!1),b||cr(a)),Ot(a),b=a.type,E=a.pendingProps,H=s!==null?s.memoizedProps:null,p=E.children,Jy(b,E)?p=null:H!==null&&Jy(b,H)&&(a.flags|=32),a.memoizedState!==null&&(b=Qg(s,a,BM,null,null,c),zh._currentValue=b),np(s,a),Ci(s,a,p,c),a.child;case 6:return s===null&&ie&&((s=c=qt)&&(c=EO(c,a.pendingProps,On),c!==null?(a.stateNode=c,Ft=a,qt=null,s=!0):s=!1),s||cr(a)),null;case 13:return ET(s,a,c);case 4:return Mt(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Hu(a,null,p,c):Ci(s,a,p,c),a.child;case 11:return mT(s,a,a.type,a.pendingProps,c);case 7:return Ci(s,a,a.pendingProps,c),a.child;case 8:return Ci(s,a,a.pendingProps.children,c),a.child;case 12:return Ci(s,a,a.pendingProps.children,c),a.child;case 10:return p=a.pendingProps,Xs(a,a.type,p.value),Ci(s,a,p.children,c),a.child;case 9:return b=a.type._context,p=a.pendingProps.children,Hl(a),b=Fi(b),p=p(b),a.flags|=1,Ci(s,a,p,c),a.child;case 14:return gT(s,a,a.type,a.pendingProps,c);case 15:return yT(s,a,a.type,a.pendingProps,c);case 19:return xT(s,a,c);case 31:return p=a.pendingProps,c=a.mode,p={mode:p.mode,children:p.children},s===null?(c=ip(p,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=rs(s.child,p),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return _T(s,a,c);case 24:return Hl(a),p=Fi(ci),s===null?(b=Hg(),b===null&&(b=vn,E=Fg(),b.pooledCache=E,E.refCount++,E!==null&&(b.pooledCacheLanes|=c),b=E),a.memoizedState={parent:p,cache:b},Gg(a),Xs(a,ci,b)):((s.lanes&c)!==0&&(Wg(s,a),gh(a,null,null,c),mh()),b=s.memoizedState,E=a.memoizedState,b.parent!==p?(b={parent:p,cache:p},a.memoizedState=b,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=b),Xs(a,ci,p)):(p=E.cache,Xs(a,ci,p),p!==b.cache&&Lu(a,[ci],c,!0))),Ci(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Fo(s){s.flags|=4}function RT(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!LE(a)){if(a=os.current,a!==null&&((Le&4194048)===Le?Qs!==null:(Le&62914560)!==Le&&(Le&536870912)===0||a!==Qs))throw dh=qg,c1;s.flags|=8192}}function rp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Li():536870912,s.lanes|=a,Ku|=a)}function Eh(s,a){if(!ie)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Ln(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var b=s.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function $M(s,a,c){var p=a.pendingProps;switch(Lt(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(a),null;case 1:return Ln(a),null;case 3:return c=a.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),a.memoizedState.cache!==p&&(a.flags|=2048),Cs(ci),Ht(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Bl(a)?Fo(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nd())),Ln(a),null;case 26:return c=a.memoizedState,s===null?(Fo(a),c!==null?(Ln(a),RT(a,c)):(Ln(a),a.flags&=-16777217)):c?c!==s.memoizedState?(Fo(a),Ln(a),RT(a,c)):(Ln(a),a.flags&=-16777217):(s.memoizedProps!==p&&Fo(a),Ln(a),a.flags&=-16777217),null;case 27:se(a),c=yt.current;var b=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==p&&Fo(a);else{if(!p){if(a.stateNode===null)throw Error(i(166));return Ln(a),null}s=ht.current,Bl(a)?Od(a):(s=RE(b,p,c),a.stateNode=s,Fo(a))}return Ln(a),null;case 5:if(se(a),c=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==p&&Fo(a);else{if(!p){if(a.stateNode===null)throw Error(i(166));return Ln(a),null}if(s=ht.current,Bl(a))Od(a);else{switch(b=yp(yt.current),s){case 1:s=b.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=b.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof p.is=="string"?b.createElement("select",{is:p.is}):b.createElement("select"),p.multiple?s.multiple=!0:p.size&&(s.size=p.size);break;default:s=typeof p.is=="string"?b.createElement(c,{is:p.is}):b.createElement(c)}}s[Ye]=a,s[Ue]=p;t:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)s.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break t;for(;b.sibling===null;){if(b.return===null||b.return===a)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=s;t:switch(Pi(s,c,p),c){case"button":case"input":case"select":case"textarea":s=!!p.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Fo(a)}}return Ln(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==p&&Fo(a);else{if(typeof p!="string"&&a.stateNode===null)throw Error(i(166));if(s=yt.current,Bl(a)){if(s=a.stateNode,c=a.memoizedProps,p=null,b=Ft,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}s[Ye]=a,s=!!(s.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||wE(s.nodeValue,c)),s||cr(a)}else s=yp(s).createTextNode(p),s[Ye]=a,a.stateNode=s}return Ln(a),null;case 13:if(p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=Bl(a),p!==null&&p.dehydrated!==null){if(s===null){if(!b)throw Error(i(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Ye]=a}else Ta(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ln(a),b=!1}else b=Nd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return a.flags&256?(Uo(a),a):(Uo(a),null)}if(Uo(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=p!==null,s=s!==null&&s.memoizedState!==null,c){p=a.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool);var E=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),E!==b&&(p.flags|=2048)}return c!==s&&c&&(a.child.flags|=8192),rp(a,a.updateQueue),Ln(a),null;case 4:return Ht(),s===null&&Zy(a.stateNode.containerInfo),Ln(a),null;case 10:return Cs(a.type),Ln(a),null;case 19:if(lt(hi),b=a.memoizedState,b===null)return Ln(a),null;if(p=(a.flags&128)!==0,E=b.rendering,E===null)if(p)Eh(b,!1);else{if(Fn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(E=Jd(s),E!==null){for(a.flags|=128,Eh(b,!1),s=E.updateQueue,a.updateQueue=s,rp(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)lh(c,s),c=c.sibling;return $(hi,hi.current&1|2),a.child}s=s.sibling}b.tail!==null&&ne()>ap&&(a.flags|=128,p=!0,Eh(b,!1),a.lanes=4194304)}else{if(!p)if(s=Jd(E),s!==null){if(a.flags|=128,p=!0,s=s.updateQueue,a.updateQueue=s,rp(a,s),Eh(b,!0),b.tail===null&&b.tailMode==="hidden"&&!E.alternate&&!ie)return Ln(a),null}else 2*ne()-b.renderingStartTime>ap&&c!==536870912&&(a.flags|=128,p=!0,Eh(b,!1),a.lanes=4194304);b.isBackwards?(E.sibling=a.child,a.child=E):(s=b.last,s!==null?s.sibling=E:a.child=E,b.last=E)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=ne(),a.sibling=null,s=hi.current,$(hi,p?s&1|2:s&1),a):(Ln(a),null);case 22:case 23:return Uo(a),Yg(),p=a.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(a.flags|=8192):p&&(a.flags|=8192),p?(c&536870912)!==0&&(a.flags&128)===0&&(Ln(a),a.subtreeFlags&6&&(a.flags|=8192)):Ln(a),c=a.updateQueue,c!==null&&rp(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==c&&(a.flags|=2048),s!==null&&lt(ql),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Cs(ci),Ln(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function YM(s,a){switch(Lt(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Cs(ci),Ht(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return se(a),null;case 13:if(Uo(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ta()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return lt(hi),null;case 4:return Ht(),null;case 10:return Cs(a.type),null;case 22:case 23:return Uo(a),Yg(),s!==null&&lt(ql),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Cs(ci),null;case 25:return null;default:return null}}function CT(s,a){switch(Lt(a),a.tag){case 3:Cs(ci),Ht();break;case 26:case 27:case 5:se(a);break;case 4:Ht();break;case 13:Uo(a);break;case 19:lt(hi);break;case 10:Cs(a.type);break;case 22:case 23:Uo(a),Yg(),s!==null&&lt(ql);break;case 24:Cs(ci)}}function Sh(s,a){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&s)===s){p=void 0;var E=c.create,H=c.inst;p=E(),H.destroy=p}c=c.next}while(c!==b)}}catch(J){dn(a,a.return,J)}}function Pa(s,a,c){try{var p=a.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var E=b.next;p=E;do{if((p.tag&s)===s){var H=p.inst,J=H.destroy;if(J!==void 0){H.destroy=void 0,b=a;var st=c,gt=J;try{gt()}catch(St){dn(b,st,St)}}}p=p.next}while(p!==E)}}catch(St){dn(a,a.return,St)}}function IT(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{g1(a,c)}catch(p){dn(s,s.return,p)}}}function PT(s,a,c){c.props=Wl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(p){dn(s,a,p)}}function xh(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof c=="function"?s.refCleanup=c(p):c.current=p}}catch(b){dn(s,a,b)}}function Js(s,a){var c=s.ref,p=s.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){dn(s,a,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){dn(s,a,b)}else c.current=null}function kT(s){var a=s.type,c=s.memoizedProps,p=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break t;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){dn(s,s.return,b)}}function Sy(s,a,c){try{var p=s.stateNode;yO(p,s.type,c,a),p[Ue]=a}catch(b){dn(s,s.return,b)}}function DT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&za(s.type)||s.tag===4}function xy(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||DT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&za(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ay(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=gp));else if(p!==4&&(p===27&&za(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(Ay(s,a,c),s=s.sibling;s!==null;)Ay(s,a,c),s=s.sibling}function sp(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(p===27&&za(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(sp(s,a,c),s=s.sibling;s!==null;)sp(s,a,c),s=s.sibling}function MT(s){var a=s.stateNode,c=s.memoizedProps;try{for(var p=s.type,b=a.attributes;b.length;)a.removeAttributeNode(b[0]);Pi(a,p,c),a[Ye]=s,a[Ue]=c}catch(E){dn(s,s.return,E)}}var jo=!1,Kn=!1,Ry=!1,OT=typeof WeakSet=="function"?WeakSet:Set,wi=null;function XM(s,a){if(s=s.containerInfo,Xy=Ep,s=Ml(s),Ol(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break t}var H=0,J=-1,st=-1,gt=0,St=0,Rt=s,vt=null;e:for(;;){for(var wt;Rt!==c||b!==0&&Rt.nodeType!==3||(J=H+b),Rt!==E||p!==0&&Rt.nodeType!==3||(st=H+p),Rt.nodeType===3&&(H+=Rt.nodeValue.length),(wt=Rt.firstChild)!==null;)vt=Rt,Rt=wt;for(;;){if(Rt===s)break e;if(vt===c&&++gt===b&&(J=H),vt===E&&++St===p&&(st=H),(wt=Rt.nextSibling)!==null)break;Rt=vt,vt=Rt.parentNode}Rt=wt}c=J===-1||st===-1?null:{start:J,end:st}}else c=null}c=c||{start:0,end:0}}else c=null;for(Qy={focusedElem:s,selectionRange:c},Ep=!1,wi=a;wi!==null;)if(a=wi,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,wi=s;else for(;wi!==null;){switch(a=wi,E=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,c=a,b=E.memoizedProps,E=E.memoizedState,p=c.stateNode;try{var te=Wl(c.type,b,c.elementType===c.type);s=p.getSnapshotBeforeUpdate(te,E),p.__reactInternalSnapshotBeforeUpdate=s}catch($t){dn(c,c.return,$t)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)e_(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":e_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,wi=s;break}wi=a.return}}function LT(s,a,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:ka(s,c),p&4&&Sh(5,c);break;case 1:if(ka(s,c),p&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(H){dn(c,c.return,H)}else{var b=Wl(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(b,a,s.__reactInternalSnapshotBeforeUpdate)}catch(H){dn(c,c.return,H)}}p&64&&IT(c),p&512&&xh(c,c.return);break;case 3:if(ka(s,c),p&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{g1(s,a)}catch(H){dn(c,c.return,H)}}break;case 27:a===null&&p&4&&MT(c);case 26:case 5:ka(s,c),a===null&&p&4&&kT(c),p&512&&xh(c,c.return);break;case 12:ka(s,c);break;case 13:ka(s,c),p&4&&zT(s,c),p&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=oO.bind(null,c),SO(s,c))));break;case 22:if(p=c.memoizedState!==null||jo,!p){a=a!==null&&a.memoizedState!==null||Kn,b=jo;var E=Kn;jo=p,(Kn=a)&&!E?Da(s,c,(c.subtreeFlags&8772)!==0):ka(s,c),jo=b,Kn=E}break;case 30:break;default:ka(s,c)}}function NT(s){var a=s.alternate;a!==null&&(s.alternate=null,NT(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&gs(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var In=null,fr=!1;function Ho(s,a,c){for(c=c.child;c!==null;)VT(s,a,c),c=c.sibling}function VT(s,a,c){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(_t,c)}catch{}switch(c.tag){case 26:Kn||Js(c,a),Ho(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Kn||Js(c,a);var p=In,b=fr;za(c.type)&&(In=c.stateNode,fr=!1),Ho(s,a,c),Oh(c.stateNode),In=p,fr=b;break;case 5:Kn||Js(c,a);case 6:if(p=In,b=fr,In=null,Ho(s,a,c),In=p,fr=b,In!==null)if(fr)try{(In.nodeType===9?In.body:In.nodeName==="HTML"?In.ownerDocument.body:In).removeChild(c.stateNode)}catch(E){dn(c,a,E)}else try{In.removeChild(c.stateNode)}catch(E){dn(c,a,E)}break;case 18:In!==null&&(fr?(s=In,xE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),jh(s)):xE(In,c.stateNode));break;case 4:p=In,b=fr,In=c.stateNode.containerInfo,fr=!0,Ho(s,a,c),In=p,fr=b;break;case 0:case 11:case 14:case 15:Kn||Pa(2,c,a),Kn||Pa(4,c,a),Ho(s,a,c);break;case 1:Kn||(Js(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"&&PT(c,a,p)),Ho(s,a,c);break;case 21:Ho(s,a,c);break;case 22:Kn=(p=Kn)||c.memoizedState!==null,Ho(s,a,c),Kn=p;break;default:Ho(s,a,c)}}function zT(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{jh(s)}catch(c){dn(a,a.return,c)}}function QM(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new OT),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new OT),a;default:throw Error(i(435,s.tag))}}function Cy(s,a){var c=QM(s);a.forEach(function(p){var b=aO.bind(null,s,p);c.has(p)||(c.add(p),p.then(b,b))})}function Nr(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],E=s,H=a,J=H;t:for(;J!==null;){switch(J.tag){case 27:if(za(J.type)){In=J.stateNode,fr=!1;break t}break;case 5:In=J.stateNode,fr=!1;break t;case 3:case 4:In=J.stateNode.containerInfo,fr=!0;break t}J=J.return}if(In===null)throw Error(i(160));VT(E,H,b),In=null,fr=!1,E=b.alternate,E!==null&&(E.return=null),b.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)UT(a,s),a=a.sibling}var Is=null;function UT(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nr(a,s),Vr(s),p&4&&(Pa(3,s,s.return),Sh(3,s),Pa(5,s,s.return));break;case 1:Nr(a,s),Vr(s),p&512&&(Kn||c===null||Js(c,c.return)),p&64&&jo&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=Is;if(Nr(a,s),Vr(s),p&512&&(Kn||c===null||Js(c,c.return)),p&4){var E=c!==null?c.memoizedState:null;if(p=s.memoizedState,c===null)if(p===null)if(s.stateNode===null){t:{p=s.type,c=s.memoizedProps,b=b.ownerDocument||b;e:switch(p){case"title":E=b.getElementsByTagName("title")[0],(!E||E[ar]||E[Ye]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=b.createElement(p),b.head.insertBefore(E,b.querySelector("head > title"))),Pi(E,p,c),E[Ye]=s,Mn(E),p=E;break t;case"link":var H=ME("link","href",b).get(p+(c.href||""));if(H){for(var J=0;J<H.length;J++)if(E=H[J],E.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&E.getAttribute("rel")===(c.rel==null?null:c.rel)&&E.getAttribute("title")===(c.title==null?null:c.title)&&E.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){H.splice(J,1);break e}}E=b.createElement(p),Pi(E,p,c),b.head.appendChild(E);break;case"meta":if(H=ME("meta","content",b).get(p+(c.content||""))){for(J=0;J<H.length;J++)if(E=H[J],E.getAttribute("content")===(c.content==null?null:""+c.content)&&E.getAttribute("name")===(c.name==null?null:c.name)&&E.getAttribute("property")===(c.property==null?null:c.property)&&E.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&E.getAttribute("charset")===(c.charSet==null?null:c.charSet)){H.splice(J,1);break e}}E=b.createElement(p),Pi(E,p,c),b.head.appendChild(E);break;default:throw Error(i(468,p))}E[Ye]=s,Mn(E),p=E}s.stateNode=p}else OE(b,s.type,s.stateNode);else s.stateNode=DE(b,p,s.memoizedProps);else E!==p?(E===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):E.count--,p===null?OE(b,s.type,s.stateNode):DE(b,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Sy(s,s.memoizedProps,c.memoizedProps)}break;case 27:Nr(a,s),Vr(s),p&512&&(Kn||c===null||Js(c,c.return)),c!==null&&p&4&&Sy(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Nr(a,s),Vr(s),p&512&&(Kn||c===null||Js(c,c.return)),s.flags&32){b=s.stateNode;try{mi(b,"")}catch(wt){dn(s,s.return,wt)}}p&4&&s.stateNode!=null&&(b=s.memoizedProps,Sy(s,b,c!==null?c.memoizedProps:b)),p&1024&&(Ry=!0);break;case 6:if(Nr(a,s),Vr(s),p&4){if(s.stateNode===null)throw Error(i(162));p=s.memoizedProps,c=s.stateNode;try{c.nodeValue=p}catch(wt){dn(s,s.return,wt)}}break;case 3:if(wp=null,b=Is,Is=_p(a.containerInfo),Nr(a,s),Is=b,Vr(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{jh(a.containerInfo)}catch(wt){dn(s,s.return,wt)}Ry&&(Ry=!1,BT(s));break;case 4:p=Is,Is=_p(s.stateNode.containerInfo),Nr(a,s),Vr(s),Is=p;break;case 12:Nr(a,s),Vr(s);break;case 13:Nr(a,s),Vr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Oy=ne()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Cy(s,p)));break;case 22:b=s.memoizedState!==null;var st=c!==null&&c.memoizedState!==null,gt=jo,St=Kn;if(jo=gt||b,Kn=St||st,Nr(a,s),Kn=St,jo=gt,Vr(s),p&8192)t:for(a=s.stateNode,a._visibility=b?a._visibility&-2:a._visibility|1,b&&(c===null||st||jo||Kn||Kl(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){st=c=a;try{if(E=st.stateNode,b)H=E.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{J=st.stateNode;var Rt=st.memoizedProps.style,vt=Rt!=null&&Rt.hasOwnProperty("display")?Rt.display:null;J.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(wt){dn(st,st.return,wt)}}}else if(a.tag===6){if(c===null){st=a;try{st.stateNode.nodeValue=b?"":st.memoizedProps}catch(wt){dn(st,st.return,wt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}p&4&&(p=s.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,Cy(s,c))));break;case 19:Nr(a,s),Vr(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Cy(s,p)));break;case 30:break;case 21:break;default:Nr(a,s),Vr(s)}}function Vr(s){var a=s.flags;if(a&2){try{for(var c,p=s.return;p!==null;){if(DT(p)){c=p;break}p=p.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var b=c.stateNode,E=xy(s);sp(s,E,b);break;case 5:var H=c.stateNode;c.flags&32&&(mi(H,""),c.flags&=-33);var J=xy(s);sp(s,J,H);break;case 3:case 4:var st=c.stateNode.containerInfo,gt=xy(s);Ay(s,gt,st);break;default:throw Error(i(161))}}catch(St){dn(s,s.return,St)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function BT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;BT(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ka(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)LT(s,a.alternate,a),a=a.sibling}function Kl(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Pa(4,a,a.return),Kl(a);break;case 1:Js(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&PT(a,a.return,c),Kl(a);break;case 27:Oh(a.stateNode);case 26:case 5:Js(a,a.return),Kl(a);break;case 22:a.memoizedState===null&&Kl(a);break;case 30:Kl(a);break;default:Kl(a)}s=s.sibling}}function Da(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var p=a.alternate,b=s,E=a,H=E.flags;switch(E.tag){case 0:case 11:case 15:Da(b,E,c),Sh(4,E);break;case 1:if(Da(b,E,c),p=E,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(gt){dn(p,p.return,gt)}if(p=E,b=p.updateQueue,b!==null){var J=p.stateNode;try{var st=b.shared.hiddenCallbacks;if(st!==null)for(b.shared.hiddenCallbacks=null,b=0;b<st.length;b++)m1(st[b],J)}catch(gt){dn(p,p.return,gt)}}c&&H&64&&IT(E),xh(E,E.return);break;case 27:MT(E);case 26:case 5:Da(b,E,c),c&&p===null&&H&4&&kT(E),xh(E,E.return);break;case 12:Da(b,E,c);break;case 13:Da(b,E,c),c&&H&4&&zT(b,E);break;case 22:E.memoizedState===null&&Da(b,E,c),xh(E,E.return);break;case 30:break;default:Da(b,E,c)}a=a.sibling}}function Iy(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&ch(c))}function Py(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ch(s))}function to(s,a,c,p){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)FT(s,a,c,p),a=a.sibling}function FT(s,a,c,p){var b=a.flags;switch(a.tag){case 0:case 11:case 15:to(s,a,c,p),b&2048&&Sh(9,a);break;case 1:to(s,a,c,p);break;case 3:to(s,a,c,p),b&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ch(s)));break;case 12:if(b&2048){to(s,a,c,p),s=a.stateNode;try{var E=a.memoizedProps,H=E.id,J=E.onPostCommit;typeof J=="function"&&J(H,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(st){dn(a,a.return,st)}}else to(s,a,c,p);break;case 13:to(s,a,c,p);break;case 23:break;case 22:E=a.stateNode,H=a.alternate,a.memoizedState!==null?E._visibility&2?to(s,a,c,p):Ah(s,a):E._visibility&2?to(s,a,c,p):(E._visibility|=2,qu(s,a,c,p,(a.subtreeFlags&10256)!==0)),b&2048&&Iy(H,a);break;case 24:to(s,a,c,p),b&2048&&Py(a.alternate,a);break;default:to(s,a,c,p)}}function qu(s,a,c,p,b){for(b=b&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var E=s,H=a,J=c,st=p,gt=H.flags;switch(H.tag){case 0:case 11:case 15:qu(E,H,J,st,b),Sh(8,H);break;case 23:break;case 22:var St=H.stateNode;H.memoizedState!==null?St._visibility&2?qu(E,H,J,st,b):Ah(E,H):(St._visibility|=2,qu(E,H,J,st,b)),b&&gt&2048&&Iy(H.alternate,H);break;case 24:qu(E,H,J,st,b),b&&gt&2048&&Py(H.alternate,H);break;default:qu(E,H,J,st,b)}a=a.sibling}}function Ah(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,p=a,b=p.flags;switch(p.tag){case 22:Ah(c,p),b&2048&&Iy(p.alternate,p);break;case 24:Ah(c,p),b&2048&&Py(p.alternate,p);break;default:Ah(c,p)}a=a.sibling}}var Rh=8192;function Gu(s){if(s.subtreeFlags&Rh)for(s=s.child;s!==null;)jT(s),s=s.sibling}function jT(s){switch(s.tag){case 26:Gu(s),s.flags&Rh&&s.memoizedState!==null&&VO(Is,s.memoizedState,s.memoizedProps);break;case 5:Gu(s);break;case 3:case 4:var a=Is;Is=_p(s.stateNode.containerInfo),Gu(s),Is=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Rh,Rh=16777216,Gu(s),Rh=a):Gu(s));break;default:Gu(s)}}function HT(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Ch(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var p=a[c];wi=p,GT(p,s)}HT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qT(s),s=s.sibling}function qT(s){switch(s.tag){case 0:case 11:case 15:Ch(s),s.flags&2048&&Pa(9,s,s.return);break;case 3:Ch(s);break;case 12:Ch(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,op(s)):Ch(s);break;default:Ch(s)}}function op(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var p=a[c];wi=p,GT(p,s)}HT(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Pa(8,a,a.return),op(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,op(a));break;default:op(a)}s=s.sibling}}function GT(s,a){for(;wi!==null;){var c=wi;switch(c.tag){case 0:case 11:case 15:Pa(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:ch(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,wi=p;else t:for(c=s;wi!==null;){p=wi;var b=p.sibling,E=p.return;if(NT(p),p===c){wi=null;break t}if(b!==null){b.return=E,wi=b;break t}wi=E}}}var JM={getCacheForType:function(s){var a=Fi(ci),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c}},tO=typeof WeakMap=="function"?WeakMap:Map,rn=0,vn=null,Se=null,Le=0,sn=0,zr=null,Ma=!1,Wu=!1,ky=!1,qo=0,Fn=0,Oa=0,Zl=0,Dy=0,as=0,Ku=0,Ih=null,dr=null,My=!1,Oy=0,ap=1/0,lp=null,La=null,Ii=0,Na=null,Zu=null,$u=0,Ly=0,Ny=null,WT=null,Ph=0,Vy=null;function Ur(){if((rn&2)!==0&&Le!==0)return Le&-Le;if(B.T!==null){var s=Nu;return s!==0?s:qy()}return en()}function KT(){as===0&&(as=(Le&536870912)===0||ie?Wr():536870912);var s=os.current;return s!==null&&(s.flags|=32),as}function Br(s,a,c){(s===vn&&(sn===2||sn===9)||s.cancelPendingCommit!==null)&&(Yu(s,0),Va(s,Le,as,!1)),we(s,c),((rn&2)===0||s!==vn)&&(s===vn&&((rn&2)===0&&(Zl|=c),Fn===4&&Va(s,Le,as,!1)),eo(s))}function ZT(s,a,c){if((rn&6)!==0)throw Error(i(327));var p=!c&&(a&124)===0&&(a&s.expiredLanes)===0||xn(s,a),b=p?iO(s,a):By(s,a,!0),E=p;do{if(b===0){Wu&&!p&&Va(s,a,0,!1);break}else{if(c=s.current.alternate,E&&!eO(c)){b=By(s,a,!1),E=!1;continue}if(b===2){if(E=a,s.errorRecoveryDisabledLanes&E)var H=0;else H=s.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){a=H;t:{var J=s;b=Ih;var st=J.current.memoizedState.isDehydrated;if(st&&(Yu(J,H).flags|=256),H=By(J,H,!1),H!==2){if(ky&&!st){J.errorRecoveryDisabledLanes|=E,Zl|=E,b=4;break t}E=dr,dr=b,E!==null&&(dr===null?dr=E:dr.push.apply(dr,E))}b=H}if(E=!1,b!==2)continue}}if(b===1){Yu(s,0),Va(s,a,0,!0);break}t:{switch(p=s,E=b,E){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Va(p,a,as,!Ma);break t;case 2:dr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(b=Oy+300-ne(),10<b)){if(Va(p,a,as,!Ma),tn(p,0,!0)!==0)break t;p.timeoutHandle=EE($T.bind(null,p,c,dr,lp,My,a,as,Zl,Ku,Ma,E,2,-0,0),b);break t}$T(p,c,dr,lp,My,a,as,Zl,Ku,Ma,E,0,-0,0)}}break}while(!0);eo(s)}function $T(s,a,c,p,b,E,H,J,st,gt,St,Rt,vt,wt){if(s.timeoutHandle=-1,Rt=a.subtreeFlags,(Rt&8192||(Rt&16785408)===16785408)&&(Vh={stylesheets:null,count:0,unsuspend:NO},jT(a),Rt=zO(),Rt!==null)){s.cancelPendingCommit=Rt(nE.bind(null,s,a,E,c,p,b,H,J,st,St,1,vt,wt)),Va(s,E,H,!gt);return}nE(s,a,E,c,p,b,H,J,st)}function eO(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],E=b.getSnapshot;b=b.value;try{if(!Ji(E(),b))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Va(s,a,c,p){a&=~Dy,a&=~Zl,s.suspendedLanes|=a,s.pingedLanes&=~a,p&&(s.warmLanes|=a),p=s.expirationTimes;for(var b=a;0<b;){var E=31-Vt(b),H=1<<E;p[E]=-1,b&=~H}c!==0&&ze(s,c,a)}function up(){return(rn&6)===0?(kh(0),!1):!0}function zy(){if(Se!==null){if(sn===0)var s=Se.return;else s=Se,Rs=ss=null,ey(s),ju=null,bh=0,s=Se;for(;s!==null;)CT(s.alternate,s),s=s.return;Se=null}}function Yu(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,vO(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),zy(),vn=s,Se=c=rs(s.current,null),Le=a,sn=0,zr=null,Ma=!1,Wu=xn(s,a),ky=!1,Ku=as=Dy=Zl=Oa=Fn=0,dr=Ih=null,My=!1,(a&8)!==0&&(a|=a&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=a;0<p;){var b=31-Vt(p),E=1<<b;a|=s[b],p&=~E}return qo=a,Nl(),c}function YT(s,a){_e=null,B.H=Yd,a===fh||a===Bd?(a=d1(),sn=3):a===c1?(a=d1(),sn=4):sn=a===pT?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,zr=a,Se===null&&(Fn=1,ep(s,er(a,s.current)))}function XT(){var s=B.H;return B.H=Yd,s===null?Yd:s}function QT(){var s=B.A;return B.A=JM,s}function Uy(){Fn=4,Ma||(Le&4194048)!==Le&&os.current!==null||(Wu=!0),(Oa&134217727)===0&&(Zl&134217727)===0||vn===null||Va(vn,Le,as,!1)}function By(s,a,c){var p=rn;rn|=2;var b=XT(),E=QT();(vn!==s||Le!==a)&&(lp=null,Yu(s,a)),a=!1;var H=Fn;t:do try{if(sn!==0&&Se!==null){var J=Se,st=zr;switch(sn){case 8:zy(),H=6;break t;case 3:case 2:case 9:case 6:os.current===null&&(a=!0);var gt=sn;if(sn=0,zr=null,Xu(s,J,st,gt),c&&Wu){H=0;break t}break;default:gt=sn,sn=0,zr=null,Xu(s,J,st,gt)}}nO(),H=Fn;break}catch(St){YT(s,St)}while(!0);return a&&s.shellSuspendCounter++,Rs=ss=null,rn=p,B.H=b,B.A=E,Se===null&&(vn=null,Le=0,Nl()),H}function nO(){for(;Se!==null;)JT(Se)}function iO(s,a){var c=rn;rn|=2;var p=XT(),b=QT();vn!==s||Le!==a?(lp=null,ap=ne()+500,Yu(s,a)):Wu=xn(s,a);t:do try{if(sn!==0&&Se!==null){a=Se;var E=zr;e:switch(sn){case 1:sn=0,zr=null,Xu(s,a,E,1);break;case 2:case 9:if(h1(E)){sn=0,zr=null,tE(a);break}a=function(){sn!==2&&sn!==9||vn!==s||(sn=7),eo(s)},E.then(a,a);break t;case 3:sn=7;break t;case 4:sn=5;break t;case 7:h1(E)?(sn=0,zr=null,tE(a)):(sn=0,zr=null,Xu(s,a,E,7));break;case 5:var H=null;switch(Se.tag){case 26:H=Se.memoizedState;case 5:case 27:var J=Se;if(!H||LE(H)){sn=0,zr=null;var st=J.sibling;if(st!==null)Se=st;else{var gt=J.return;gt!==null?(Se=gt,cp(gt)):Se=null}break e}}sn=0,zr=null,Xu(s,a,E,5);break;case 6:sn=0,zr=null,Xu(s,a,E,6);break;case 8:zy(),Fn=6;break t;default:throw Error(i(462))}}rO();break}catch(St){YT(s,St)}while(!0);return Rs=ss=null,B.H=p,B.A=b,rn=c,Se!==null?0:(vn=null,Le=0,Nl(),Fn)}function rO(){for(;Se!==null&&!he();)JT(Se)}function JT(s){var a=AT(s.alternate,s,qo);s.memoizedProps=s.pendingProps,a===null?cp(s):Se=a}function tE(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=wT(c,a,a.pendingProps,a.type,void 0,Le);break;case 11:a=wT(c,a,a.pendingProps,a.type.render,a.ref,Le);break;case 5:ey(a);default:CT(c,a),a=Se=lh(a,qo),a=AT(c,a,qo)}s.memoizedProps=s.pendingProps,a===null?cp(s):Se=a}function Xu(s,a,c,p){Rs=ss=null,ey(a),ju=null,bh=0;var b=a.return;try{if(KM(s,b,a,c,Le)){Fn=1,ep(s,er(c,s.current)),Se=null;return}}catch(E){if(b!==null)throw Se=b,E;Fn=1,ep(s,er(c,s.current)),Se=null;return}a.flags&32768?(ie||p===1?s=!0:Wu||(Le&536870912)!==0?s=!1:(Ma=s=!0,(p===2||p===9||p===3||p===6)&&(p=os.current,p!==null&&p.tag===13&&(p.flags|=16384))),eE(a,s)):cp(a)}function cp(s){var a=s;do{if((a.flags&32768)!==0){eE(a,Ma);return}s=a.return;var c=$M(a.alternate,a,qo);if(c!==null){Se=c;return}if(a=a.sibling,a!==null){Se=a;return}Se=a=s}while(a!==null);Fn===0&&(Fn=5)}function eE(s,a){do{var c=YM(s.alternate,s);if(c!==null){c.flags&=32767,Se=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Se=s;return}Se=s=c}while(s!==null);Fn=6,Se=null}function nE(s,a,c,p,b,E,H,J,st){s.cancelPendingCommit=null;do hp();while(Ii!==0);if((rn&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(E=a.lanes|a.childLanes,E|=Lr,Ze(s,c,E,H,J,st),s===vn&&(Se=vn=null,Le=0),Zu=a,Na=s,$u=c,Ly=E,Ny=b,WT=p,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lO(ge,function(){return aE(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,b=V.p,V.p=2,H=rn,rn|=4;try{XM(s,a,c)}finally{rn=H,V.p=b,B.T=p}}Ii=1,iE(),rE(),sE()}}function iE(){if(Ii===1){Ii=0;var s=Na,a=Zu,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var p=V.p;V.p=2;var b=rn;rn|=4;try{UT(a,s);var E=Qy,H=Ml(s.containerInfo),J=E.focusedElem,st=E.selectionRange;if(H!==J&&J&&J.ownerDocument&&Cu(J.ownerDocument.documentElement,J)){if(st!==null&&Ol(J)){var gt=st.start,St=st.end;if(St===void 0&&(St=gt),"selectionStart"in J)J.selectionStart=gt,J.selectionEnd=Math.min(St,J.value.length);else{var Rt=J.ownerDocument||document,vt=Rt&&Rt.defaultView||window;if(vt.getSelection){var wt=vt.getSelection(),te=J.textContent.length,$t=Math.min(st.start,te),cn=st.end===void 0?$t:Math.min(st.end,te);!wt.extend&&$t>cn&&(H=cn,cn=$t,$t=H);var ft=oh(J,$t),ct=oh(J,cn);if(ft&&ct&&(wt.rangeCount!==1||wt.anchorNode!==ft.node||wt.anchorOffset!==ft.offset||wt.focusNode!==ct.node||wt.focusOffset!==ct.offset)){var mt=Rt.createRange();mt.setStart(ft.node,ft.offset),wt.removeAllRanges(),$t>cn?(wt.addRange(mt),wt.extend(ct.node,ct.offset)):(mt.setEnd(ct.node,ct.offset),wt.addRange(mt))}}}}for(Rt=[],wt=J;wt=wt.parentNode;)wt.nodeType===1&&Rt.push({element:wt,left:wt.scrollLeft,top:wt.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Rt.length;J++){var xt=Rt[J];xt.element.scrollLeft=xt.left,xt.element.scrollTop=xt.top}}Ep=!!Xy,Qy=Xy=null}finally{rn=b,V.p=p,B.T=c}}s.current=a,Ii=2}}function rE(){if(Ii===2){Ii=0;var s=Na,a=Zu,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var p=V.p;V.p=2;var b=rn;rn|=4;try{LT(s,a.alternate,a)}finally{rn=b,V.p=p,B.T=c}}Ii=3}}function sE(){if(Ii===4||Ii===3){Ii=0,Me();var s=Na,a=Zu,c=$u,p=WT;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ii=5:(Ii=0,Zu=Na=null,oE(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(La=null),$e(c),a=a.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(_t,a,void 0,(a.current.flags&128)===128)}catch{}if(p!==null){a=B.T,b=V.p,V.p=2,B.T=null;try{for(var E=s.onRecoverableError,H=0;H<p.length;H++){var J=p[H];E(J.value,{componentStack:J.stack})}}finally{B.T=a,V.p=b}}($u&3)!==0&&hp(),eo(s),b=s.pendingLanes,(c&4194090)!==0&&(b&42)!==0?s===Vy?Ph++:(Ph=0,Vy=s):Ph=0,kh(0)}}function oE(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ch(a)))}function hp(s){return iE(),rE(),sE(),aE()}function aE(){if(Ii!==5)return!1;var s=Na,a=Ly;Ly=0;var c=$e($u),p=B.T,b=V.p;try{V.p=32>c?32:c,B.T=null,c=Ny,Ny=null;var E=Na,H=$u;if(Ii=0,Zu=Na=null,$u=0,(rn&6)!==0)throw Error(i(331));var J=rn;if(rn|=4,qT(E.current),FT(E,E.current,H,c),rn=J,kh(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(_t,E)}catch{}return!0}finally{V.p=b,B.T=p,oE(s,a)}}function lE(s,a,c){a=er(c,a),a=my(s.stateNode,a,2),s=Aa(s,a,2),s!==null&&(we(s,2),eo(s))}function dn(s,a,c){if(s.tag===3)lE(s,s,c);else for(;a!==null;){if(a.tag===3){lE(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(La===null||!La.has(p))){s=er(c,s),c=fT(2),p=Aa(a,c,2),p!==null&&(dT(c,p,a,s),we(p,2),eo(p));break}}a=a.return}}function Fy(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new tO;var b=new Set;p.set(a,b)}else b=p.get(a),b===void 0&&(b=new Set,p.set(a,b));b.has(c)||(ky=!0,b.add(c),s=sO.bind(null,s,a,c),a.then(s,s))}function sO(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,vn===s&&(Le&c)===c&&(Fn===4||Fn===3&&(Le&62914560)===Le&&300>ne()-Oy?(rn&2)===0&&Yu(s,0):Dy|=c,Ku===Le&&(Ku=0)),eo(s)}function uE(s,a){a===0&&(a=Li()),s=wa(s,a),s!==null&&(we(s,a),eo(s))}function oO(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),uE(s,c)}function aO(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,b=s.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(a),uE(s,c)}function lO(s,a){return on(s,a)}var fp=null,Qu=null,jy=!1,dp=!1,Hy=!1,$l=0;function eo(s){s!==Qu&&s.next===null&&(Qu===null?fp=Qu=s:Qu=Qu.next=s),dp=!0,jy||(jy=!0,cO())}function kh(s,a){if(!Hy&&dp){Hy=!0;do for(var c=!1,p=fp;p!==null;){if(s!==0){var b=p.pendingLanes;if(b===0)var E=0;else{var H=p.suspendedLanes,J=p.pingedLanes;E=(1<<31-Vt(42|s)+1)-1,E&=b&~(H&~J),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(c=!0,dE(p,E))}else E=Le,E=tn(p,p===vn?E:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(E&3)===0||xn(p,E)||(c=!0,dE(p,E));p=p.next}while(c);Hy=!1}}function uO(){cE()}function cE(){dp=jy=!1;var s=0;$l!==0&&(_O()&&(s=$l),$l=0);for(var a=ne(),c=null,p=fp;p!==null;){var b=p.next,E=hE(p,a);E===0?(p.next=null,c===null?fp=b:c.next=b,b===null&&(Qu=c)):(c=p,(s!==0||(E&3)!==0)&&(dp=!0)),p=b}kh(s)}function hE(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,b=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var H=31-Vt(E),J=1<<H,st=b[H];st===-1?((J&c)===0||(J&p)!==0)&&(b[H]=An(J,a)):st<=a&&(s.expiredLanes|=J),E&=~J}if(a=vn,c=Le,c=tn(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,c===0||s===a&&(sn===2||sn===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Be(p),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||xn(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(p!==null&&Be(p),$e(c)){case 2:case 8:c=Ee;break;case 32:c=ge;break;case 268435456:c=ke;break;default:c=ge}return p=fE.bind(null,s),c=on(c,p),s.callbackPriority=a,s.callbackNode=c,a}return p!==null&&p!==null&&Be(p),s.callbackPriority=2,s.callbackNode=null,2}function fE(s,a){if(Ii!==0&&Ii!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(hp()&&s.callbackNode!==c)return null;var p=Le;return p=tn(s,s===vn?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(ZT(s,p,a),hE(s,ne()),s.callbackNode!=null&&s.callbackNode===c?fE.bind(null,s):null)}function dE(s,a){if(hp())return null;ZT(s,a,!0)}function cO(){wO(function(){(rn&6)!==0?on(Fe,uO):cE()})}function qy(){return $l===0&&($l=Wr()),$l}function pE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Gs(""+s)}function mE(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function hO(s,a,c,p,b){if(a==="submit"&&c&&c.stateNode===b){var E=pE((b[Ue]||null).action),H=p.submitter;H&&(a=(a=H[Ue]||null)?pE(a.formAction):H.getAttribute("formAction"),a!==null&&(E=a,H=null));var J=new Co("action","action",null,p,b);s.push({event:J,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if($l!==0){var st=H?mE(b,H):new FormData(b);cy(c,{pending:!0,data:st,method:b.method,action:E},null,st)}}else typeof E=="function"&&(J.preventDefault(),st=H?mE(b,H):new FormData(b),cy(c,{pending:!0,data:st,method:b.method,action:E},E,st))},currentTarget:b}]})}}for(var Gy=0;Gy<Mo.length;Gy++){var Wy=Mo[Gy],fO=Wy.toLowerCase(),dO=Wy[0].toUpperCase()+Wy.slice(1);Or(fO,"on"+dO)}Or(kd,"onAnimationEnd"),Or(Mr,"onAnimationIteration"),Or(Ll,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ug,"onTransitionRun"),Or(Du,"onTransitionStart"),Or(Bg,"onTransitionCancel"),Or(ah,"onTransitionEnd"),Kr("onMouseEnter",["mouseout","mouseover"]),Kr("onMouseLeave",["mouseout","mouseover"]),Kr("onPointerEnter",["pointerout","pointerover"]),Kr("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dh));function gE(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],b=p.event;p=p.listeners;t:{var E=void 0;if(a)for(var H=p.length-1;0<=H;H--){var J=p[H],st=J.instance,gt=J.currentTarget;if(J=J.listener,st!==E&&b.isPropagationStopped())break t;E=J,b.currentTarget=gt;try{E(b)}catch(St){tp(St)}b.currentTarget=null,E=st}else for(H=0;H<p.length;H++){if(J=p[H],st=J.instance,gt=J.currentTarget,J=J.listener,st!==E&&b.isPropagationStopped())break t;E=J,b.currentTarget=gt;try{E(b)}catch(St){tp(St)}b.currentTarget=null,E=st}}}}function xe(s,a){var c=a[Un];c===void 0&&(c=a[Un]=new Set);var p=s+"__bubble";c.has(p)||(yE(a,s,2,!1),c.add(p))}function Ky(s,a,c){var p=0;a&&(p|=4),yE(c,s,p,a)}var pp="_reactListening"+Math.random().toString(36).slice(2);function Zy(s){if(!s[pp]){s[pp]=!0,El.forEach(function(c){c!=="selectionchange"&&(pO.has(c)||Ky(c,!1,s),Ky(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[pp]||(a[pp]=!0,Ky("selectionchange",!1,a))}}function yE(s,a,c,p){switch(FE(a)){case 2:var b=FO;break;case 8:b=jO;break;default:b=l_}c=b.bind(null,a,c,s),b=void 0,!Vi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),p?b!==void 0?s.addEventListener(a,c,{capture:!0,passive:b}):s.addEventListener(a,c,!0):b!==void 0?s.addEventListener(a,c,{passive:b}):s.addEventListener(a,c,!1)}function $y(s,a,c,p,b){var E=p;if((a&1)===0&&(a&2)===0&&p!==null)t:for(;;){if(p===null)return;var H=p.tag;if(H===3||H===4){var J=p.stateNode.containerInfo;if(J===b)break;if(H===4)for(H=p.return;H!==null;){var st=H.tag;if((st===3||st===4)&&H.stateNode.containerInfo===b)return;H=H.return}for(;J!==null;){if(H=Er(J),H===null)return;if(st=H.tag,st===5||st===6||st===26||st===27){p=E=H;continue t}J=J.parentNode}}p=p.return}Qi(function(){var gt=E,St=Ri(c),Rt=[];t:{var vt=Dd.get(s);if(vt!==void 0){var wt=Co,te=s;switch(s){case"keypress":if(an(c)===0)break t;case"keydown":case"keyup":wt=ha;break;case"focusin":te="focus",wt=oa;break;case"focusout":te="blur",wt=oa;break;case"beforeblur":case"afterblur":wt=oa;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=Su;break;case kd:case Mr:case Ll:wt=la;break;case ah:wt=xu;break;case"scroll":case"scrollend":wt=Tu;break;case"wheel":wt=ko;break;case"copy":case"cut":case"paste":wt=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=fa;break;case"toggle":case"beforetoggle":wt=ts}var $t=(a&4)!==0,cn=!$t&&(s==="scroll"||s==="scrollend"),ft=$t?vt!==null?vt+"Capture":null:vt;$t=[];for(var ct=gt,mt;ct!==null;){var xt=ct;if(mt=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||mt===null||ft===null||(xt=Oe(ct,ft),xt!=null&&$t.push(Mh(ct,xt,mt))),cn)break;ct=ct.return}0<$t.length&&(vt=new wt(vt,te,null,c,St),Rt.push({event:vt,listeners:$t}))}}if((a&7)===0){t:{if(vt=s==="mouseover"||s==="pointerover",wt=s==="mouseout"||s==="pointerout",vt&&c!==Cr&&(te=c.relatedTarget||c.fromElement)&&(Er(te)||te[Rn]))break t;if((wt||vt)&&(vt=St.window===St?St:(vt=St.ownerDocument)?vt.defaultView||vt.parentWindow:window,wt?(te=c.relatedTarget||c.toElement,wt=gt,te=te?Er(te):null,te!==null&&(cn=o(te),$t=te.tag,te!==cn||$t!==5&&$t!==27&&$t!==6)&&(te=null)):(wt=null,te=gt),wt!==te)){if($t=yi,xt="onMouseLeave",ft="onMouseEnter",ct="mouse",(s==="pointerout"||s==="pointerover")&&($t=fa,xt="onPointerLeave",ft="onPointerEnter",ct="pointer"),cn=wt==null?vt:xi(wt),mt=te==null?vt:xi(te),vt=new $t(xt,ct+"leave",wt,c,St),vt.target=cn,vt.relatedTarget=mt,xt=null,Er(St)===gt&&($t=new $t(ft,ct+"enter",te,c,St),$t.target=mt,$t.relatedTarget=cn,xt=$t),cn=xt,wt&&te)e:{for($t=wt,ft=te,ct=0,mt=$t;mt;mt=Ju(mt))ct++;for(mt=0,xt=ft;xt;xt=Ju(xt))mt++;for(;0<ct-mt;)$t=Ju($t),ct--;for(;0<mt-ct;)ft=Ju(ft),mt--;for(;ct--;){if($t===ft||ft!==null&&$t===ft.alternate)break e;$t=Ju($t),ft=Ju(ft)}$t=null}else $t=null;wt!==null&&_E(Rt,vt,wt,$t,!1),te!==null&&cn!==null&&_E(Rt,cn,te,$t,!0)}}t:{if(vt=gt?xi(gt):window,wt=vt.nodeName&&vt.nodeName.toLowerCase(),wt==="select"||wt==="input"&&vt.type==="file")var jt=pa;else if(yn(vt))if(ih)jt=zg;else{jt=Vg;var Te=sh}else wt=vt.nodeName,!wt||wt.toLowerCase()!=="input"||vt.type!=="checkbox"&&vt.type!=="radio"?gt&&Ro(gt.elementType)&&(jt=pa):jt=As;if(jt&&(jt=jt(s,gt))){Ss(Rt,jt,c,St);break t}Te&&Te(s,vt,gt),s==="focusout"&&gt&&vt.type==="number"&&gt.memoizedProps.value!=null&&Ar(vt,"number",vt.value)}switch(Te=gt?xi(gt):window,s){case"focusin":(yn(Te)||Te.contentEditable==="true")&&(Dr=Te,ya=gt,Do=null);break;case"focusout":Do=ya=Dr=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,Id(Rt,c,St);break;case"selectionchange":if(Iu)break;case"keydown":case"keyup":Id(Rt,c,St)}var Gt;if(Bi)t:{switch(s){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Ae?Tt(s,c)&&(Yt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Yt="onCompositionStart");Yt&&(j&&c.locale!=="ko"&&(Ae||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Ae&&(Gt=ws()):(ur=St,zi="value"in ur?ur.value:ur.textContent,Ae=!0)),Te=mp(gt,Yt),0<Te.length&&(Yt=new Ui(Yt,s,null,c,St),Rt.push({event:Yt,listeners:Te}),Gt?Yt.data=Gt:(Gt=kt(c),Gt!==null&&(Yt.data=Gt)))),(Gt=I?Bn(s,c):Re(s,c))&&(Yt=mp(gt,"onBeforeInput"),0<Yt.length&&(Te=new Ui("onBeforeInput","beforeinput",null,c,St),Rt.push({event:Te,listeners:Yt}),Te.data=Gt)),hO(Rt,s,gt,c,St)}gE(Rt,a)})}function Mh(s,a,c){return{instance:s,listener:a,currentTarget:c}}function mp(s,a){for(var c=a+"Capture",p=[];s!==null;){var b=s,E=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||E===null||(b=Oe(s,c),b!=null&&p.unshift(Mh(s,b,E)),b=Oe(s,a),b!=null&&p.push(Mh(s,b,E))),s.tag===3)return p;s=s.return}return[]}function Ju(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function _E(s,a,c,p,b){for(var E=a._reactName,H=[];c!==null&&c!==p;){var J=c,st=J.alternate,gt=J.stateNode;if(J=J.tag,st!==null&&st===p)break;J!==5&&J!==26&&J!==27||gt===null||(st=gt,b?(gt=Oe(c,E),gt!=null&&H.unshift(Mh(c,gt,st))):b||(gt=Oe(c,E),gt!=null&&H.push(Mh(c,gt,st)))),c=c.return}H.length!==0&&s.push({event:a,listeners:H})}var mO=/\r\n?/g,gO=/\u0000|\uFFFD/g;function vE(s){return(typeof s=="string"?s:""+s).replace(mO,`
`).replace(gO,"")}function wE(s,a){return a=vE(a),vE(s)===a}function gp(){}function un(s,a,c,p,b,E){switch(c){case"children":typeof p=="string"?a==="body"||a==="textarea"&&p===""||mi(s,p):(typeof p=="number"||typeof p=="bigint")&&a!=="body"&&mi(s,""+p);break;case"className":Zr(s,"class",p);break;case"tabIndex":Zr(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(s,c,p);break;case"style":_s(s,p,E);break;case"data":if(a!=="object"){Zr(s,"data",p);break}case"src":case"href":if(p===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(c);break}p=Gs(""+p),s.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(c==="formAction"?(a!=="input"&&un(s,a,"name",b.name,b,null),un(s,a,"formEncType",b.formEncType,b,null),un(s,a,"formMethod",b.formMethod,b,null),un(s,a,"formTarget",b.formTarget,b,null)):(un(s,a,"encType",b.encType,b,null),un(s,a,"method",b.method,b,null),un(s,a,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(c);break}p=Gs(""+p),s.setAttribute(c,p);break;case"onClick":p!=null&&(s.onclick=gp);break;case"onScroll":p!=null&&xe("scroll",s);break;case"onScrollEnd":p!=null&&xe("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}c=Gs(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(c,""+p):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":p===!0?s.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(c,p):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(c,p):s.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(c):s.setAttribute(c,p);break;case"popover":xe("beforetoggle",s),xe("toggle",s),Fs(s,"popover",p);break;case"xlinkActuate":li(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":li(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":li(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":li(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":li(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":li(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":li(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":li(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":li(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Fs(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=xl.get(c)||c,Fs(s,c,p))}}function Yy(s,a,c,p,b,E){switch(c){case"style":_s(s,p,E);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof p=="string"?mi(s,p):(typeof p=="number"||typeof p=="bigint")&&mi(s,""+p);break;case"onScroll":p!=null&&xe("scroll",s);break;case"onScrollEnd":p!=null&&xe("scrollend",s);break;case"onClick":p!=null&&(s.onclick=gp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),a=c.slice(2,b?c.length-7:void 0),E=s[Ue]||null,E=E!=null?E[c]:null,typeof E=="function"&&s.removeEventListener(a,E,b),typeof p=="function")){typeof E!="function"&&E!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,p,b);break t}c in s?s[c]=p:p===!0?s.setAttribute(c,""):Fs(s,c,p)}}}function Pi(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",s),xe("load",s);var p=!1,b=!1,E;for(E in c)if(c.hasOwnProperty(E)){var H=c[E];if(H!=null)switch(E){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:un(s,a,E,H,c,null)}}b&&un(s,a,"srcSet",c.srcSet,c,null),p&&un(s,a,"src",c.src,c,null);return;case"input":xe("invalid",s);var J=E=H=b=null,st=null,gt=null;for(p in c)if(c.hasOwnProperty(p)){var St=c[p];if(St!=null)switch(p){case"name":b=St;break;case"type":H=St;break;case"checked":st=St;break;case"defaultChecked":gt=St;break;case"value":E=St;break;case"defaultValue":J=St;break;case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(i(137,a));break;default:un(s,a,p,St,c,null)}}Ao(s,E,J,st,gt,H,b,!1),qs(s);return;case"select":xe("invalid",s),p=H=E=null;for(b in c)if(c.hasOwnProperty(b)&&(J=c[b],J!=null))switch(b){case"value":E=J;break;case"defaultValue":H=J;break;case"multiple":p=J;default:un(s,a,b,J,c,null)}a=E,c=H,s.multiple=!!p,a!=null?Ai(s,!!p,a,!1):c!=null&&Ai(s,!!p,c,!0);return;case"textarea":xe("invalid",s),E=b=p=null;for(H in c)if(c.hasOwnProperty(H)&&(J=c[H],J!=null))switch(H){case"value":p=J;break;case"defaultValue":b=J;break;case"children":E=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(91));break;default:un(s,a,H,J,c,null)}Xi(s,p,b,E),qs(s);return;case"option":for(st in c)if(c.hasOwnProperty(st)&&(p=c[st],p!=null))switch(st){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:un(s,a,st,p,c,null)}return;case"dialog":xe("beforetoggle",s),xe("toggle",s),xe("cancel",s),xe("close",s);break;case"iframe":case"object":xe("load",s);break;case"video":case"audio":for(p=0;p<Dh.length;p++)xe(Dh[p],s);break;case"image":xe("error",s),xe("load",s);break;case"details":xe("toggle",s);break;case"embed":case"source":case"link":xe("error",s),xe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(gt in c)if(c.hasOwnProperty(gt)&&(p=c[gt],p!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:un(s,a,gt,p,c,null)}return;default:if(Ro(a)){for(St in c)c.hasOwnProperty(St)&&(p=c[St],p!==void 0&&Yy(s,a,St,p,c,void 0));return}}for(J in c)c.hasOwnProperty(J)&&(p=c[J],p!=null&&un(s,a,J,p,c,null))}function yO(s,a,c,p){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,E=null,H=null,J=null,st=null,gt=null,St=null;for(wt in c){var Rt=c[wt];if(c.hasOwnProperty(wt)&&Rt!=null)switch(wt){case"checked":break;case"value":break;case"defaultValue":st=Rt;default:p.hasOwnProperty(wt)||un(s,a,wt,null,p,Rt)}}for(var vt in p){var wt=p[vt];if(Rt=c[vt],p.hasOwnProperty(vt)&&(wt!=null||Rt!=null))switch(vt){case"type":E=wt;break;case"name":b=wt;break;case"checked":gt=wt;break;case"defaultChecked":St=wt;break;case"value":H=wt;break;case"defaultValue":J=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(i(137,a));break;default:wt!==Rt&&un(s,a,vt,wt,p,Rt)}}gn(s,H,J,st,gt,St,E,b);return;case"select":wt=H=J=vt=null;for(E in c)if(st=c[E],c.hasOwnProperty(E)&&st!=null)switch(E){case"value":break;case"multiple":wt=st;default:p.hasOwnProperty(E)||un(s,a,E,null,p,st)}for(b in p)if(E=p[b],st=c[b],p.hasOwnProperty(b)&&(E!=null||st!=null))switch(b){case"value":vt=E;break;case"defaultValue":J=E;break;case"multiple":H=E;default:E!==st&&un(s,a,b,E,p,st)}a=J,c=H,p=wt,vt!=null?Ai(s,!!c,vt,!1):!!p!=!!c&&(a!=null?Ai(s,!!c,a,!0):Ai(s,!!c,c?[]:"",!1));return;case"textarea":wt=vt=null;for(J in c)if(b=c[J],c.hasOwnProperty(J)&&b!=null&&!p.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:un(s,a,J,null,p,b)}for(H in p)if(b=p[H],E=c[H],p.hasOwnProperty(H)&&(b!=null||E!=null))switch(H){case"value":vt=b;break;case"defaultValue":wt=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==E&&un(s,a,H,b,p,E)}Xt(s,vt,wt);return;case"option":for(var te in c)if(vt=c[te],c.hasOwnProperty(te)&&vt!=null&&!p.hasOwnProperty(te))switch(te){case"selected":s.selected=!1;break;default:un(s,a,te,null,p,vt)}for(st in p)if(vt=p[st],wt=c[st],p.hasOwnProperty(st)&&vt!==wt&&(vt!=null||wt!=null))switch(st){case"selected":s.selected=vt&&typeof vt!="function"&&typeof vt!="symbol";break;default:un(s,a,st,vt,p,wt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in c)vt=c[$t],c.hasOwnProperty($t)&&vt!=null&&!p.hasOwnProperty($t)&&un(s,a,$t,null,p,vt);for(gt in p)if(vt=p[gt],wt=c[gt],p.hasOwnProperty(gt)&&vt!==wt&&(vt!=null||wt!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(i(137,a));break;default:un(s,a,gt,vt,p,wt)}return;default:if(Ro(a)){for(var cn in c)vt=c[cn],c.hasOwnProperty(cn)&&vt!==void 0&&!p.hasOwnProperty(cn)&&Yy(s,a,cn,void 0,p,vt);for(St in p)vt=p[St],wt=c[St],!p.hasOwnProperty(St)||vt===wt||vt===void 0&&wt===void 0||Yy(s,a,St,vt,p,wt);return}}for(var ft in c)vt=c[ft],c.hasOwnProperty(ft)&&vt!=null&&!p.hasOwnProperty(ft)&&un(s,a,ft,null,p,vt);for(Rt in p)vt=p[Rt],wt=c[Rt],!p.hasOwnProperty(Rt)||vt===wt||vt==null&&wt==null||un(s,a,Rt,vt,p,wt)}var Xy=null,Qy=null;function yp(s){return s.nodeType===9?s:s.ownerDocument}function bE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TE(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Jy(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var t_=null;function _O(){var s=window.event;return s&&s.type==="popstate"?s===t_?!1:(t_=s,!0):(t_=null,!1)}var EE=typeof setTimeout=="function"?setTimeout:void 0,vO=typeof clearTimeout=="function"?clearTimeout:void 0,SE=typeof Promise=="function"?Promise:void 0,wO=typeof queueMicrotask=="function"?queueMicrotask:typeof SE<"u"?function(s){return SE.resolve(null).then(s).catch(bO)}:EE;function bO(s){setTimeout(function(){throw s})}function za(s){return s==="head"}function xE(s,a){var c=a,p=0,b=0;do{var E=c.nextSibling;if(s.removeChild(c),E&&E.nodeType===8)if(c=E.data,c==="/$"){if(0<p&&8>p){c=p;var H=s.ownerDocument;if(c&1&&Oh(H.documentElement),c&2&&Oh(H.body),c&4)for(c=H.head,Oh(c),H=c.firstChild;H;){var J=H.nextSibling,st=H.nodeName;H[ar]||st==="SCRIPT"||st==="STYLE"||st==="LINK"&&H.rel.toLowerCase()==="stylesheet"||c.removeChild(H),H=J}}if(b===0){s.removeChild(E),jh(a);return}b--}else c==="$"||c==="$?"||c==="$!"?b++:p=c.charCodeAt(0)-48;else p=0;c=E}while(c);jh(a)}function e_(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":e_(c),gs(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function TO(s,a,c,p){for(;s.nodeType===1;){var b=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[ar])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var E=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Ps(s.nextSibling),s===null)break}return null}function EO(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Ps(s.nextSibling),s===null))return null;return s}function n_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function SO(s,a){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")a();else{var p=function(){a(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Ps(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var i_=null;function AE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}function RE(s,a,c){switch(a=yp(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Oh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);gs(s)}var ls=new Map,CE=new Set;function _p(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Go=V.d;V.d={f:xO,r:AO,D:RO,C:CO,L:IO,m:PO,X:DO,S:kO,M:MO};function xO(){var s=Go.f(),a=up();return s||a}function AO(s){var a=Sr(s);a!==null&&a.tag===5&&a.type==="form"?Z1(a):Go.r(s)}var tc=typeof document>"u"?null:document;function IE(s,a,c){var p=tc;if(p&&typeof a=="string"&&a){var b=En(a);b='link[rel="'+s+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),CE.has(b)||(CE.add(b),s={rel:s,crossOrigin:c,href:a},p.querySelector(b)===null&&(a=p.createElement("link"),Pi(a,"link",s),Mn(a),p.head.appendChild(a)))}}function RO(s){Go.D(s),IE("dns-prefetch",s,null)}function CO(s,a){Go.C(s,a),IE("preconnect",s,a)}function IO(s,a,c){Go.L(s,a,c);var p=tc;if(p&&s&&a){var b='link[rel="preload"][as="'+En(a)+'"]';a==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+En(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+En(c.imageSizes)+'"]')):b+='[href="'+En(s)+'"]';var E=b;switch(a){case"style":E=ec(s);break;case"script":E=nc(s)}ls.has(E)||(s=g({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),ls.set(E,s),p.querySelector(b)!==null||a==="style"&&p.querySelector(Lh(E))||a==="script"&&p.querySelector(Nh(E))||(a=p.createElement("link"),Pi(a,"link",s),Mn(a),p.head.appendChild(a)))}}function PO(s,a){Go.m(s,a);var c=tc;if(c&&s){var p=a&&typeof a.as=="string"?a.as:"script",b='link[rel="modulepreload"][as="'+En(p)+'"][href="'+En(s)+'"]',E=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=nc(s)}if(!ls.has(E)&&(s=g({rel:"modulepreload",href:s},a),ls.set(E,s),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Nh(E)))return}p=c.createElement("link"),Pi(p,"link",s),Mn(p),c.head.appendChild(p)}}}function kO(s,a,c){Go.S(s,a,c);var p=tc;if(p&&s){var b=pi(p).hoistableStyles,E=ec(s);a=a||"default";var H=b.get(E);if(!H){var J={loading:0,preload:null};if(H=p.querySelector(Lh(E)))J.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},c),(c=ls.get(E))&&r_(s,c);var st=H=p.createElement("link");Mn(st),Pi(st,"link",s),st._p=new Promise(function(gt,St){st.onload=gt,st.onerror=St}),st.addEventListener("load",function(){J.loading|=1}),st.addEventListener("error",function(){J.loading|=2}),J.loading|=4,vp(H,a,p)}H={type:"stylesheet",instance:H,count:1,state:J},b.set(E,H)}}}function DO(s,a){Go.X(s,a);var c=tc;if(c&&s){var p=pi(c).hoistableScripts,b=nc(s),E=p.get(b);E||(E=c.querySelector(Nh(b)),E||(s=g({src:s,async:!0},a),(a=ls.get(b))&&s_(s,a),E=c.createElement("script"),Mn(E),Pi(E,"link",s),c.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(b,E))}}function MO(s,a){Go.M(s,a);var c=tc;if(c&&s){var p=pi(c).hoistableScripts,b=nc(s),E=p.get(b);E||(E=c.querySelector(Nh(b)),E||(s=g({src:s,async:!0,type:"module"},a),(a=ls.get(b))&&s_(s,a),E=c.createElement("script"),Mn(E),Pi(E,"link",s),c.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(b,E))}}function PE(s,a,c,p){var b=(b=yt.current)?_p(b):null;if(!b)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=ec(c.href),c=pi(b).hoistableStyles,p=c.get(a),p||(p={type:"style",instance:null,count:0,state:null},c.set(a,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=ec(c.href);var E=pi(b).hoistableStyles,H=E.get(s);if(H||(b=b.ownerDocument||b,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,H),(E=b.querySelector(Lh(s)))&&!E._p&&(H.instance=E,H.state.loading=5),ls.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ls.set(s,c),E||OO(b,s,c,H.state))),a&&p===null)throw Error(i(528,""));return H}if(a&&p!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=nc(c),c=pi(b).hoistableScripts,p=c.get(a),p||(p={type:"script",instance:null,count:0,state:null},c.set(a,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ec(s){return'href="'+En(s)+'"'}function Lh(s){return'link[rel="stylesheet"]['+s+"]"}function kE(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function OO(s,a,c,p){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?p.loading=1:(a=s.createElement("link"),p.preload=a,a.addEventListener("load",function(){return p.loading|=1}),a.addEventListener("error",function(){return p.loading|=2}),Pi(a,"link",c),Mn(a),s.head.appendChild(a))}function nc(s){return'[src="'+En(s)+'"]'}function Nh(s){return"script[async]"+s}function DE(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var p=s.querySelector('style[data-href~="'+En(c.href)+'"]');if(p)return a.instance=p,Mn(p),p;var b=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),Mn(p),Pi(p,"style",b),vp(p,c.precedence,s),a.instance=p;case"stylesheet":b=ec(c.href);var E=s.querySelector(Lh(b));if(E)return a.state.loading|=4,a.instance=E,Mn(E),E;p=kE(c),(b=ls.get(b))&&r_(p,b),E=(s.ownerDocument||s).createElement("link"),Mn(E);var H=E;return H._p=new Promise(function(J,st){H.onload=J,H.onerror=st}),Pi(E,"link",p),a.state.loading|=4,vp(E,c.precedence,s),a.instance=E;case"script":return E=nc(c.src),(b=s.querySelector(Nh(E)))?(a.instance=b,Mn(b),b):(p=c,(b=ls.get(E))&&(p=g({},c),s_(p,b)),s=s.ownerDocument||s,b=s.createElement("script"),Mn(b),Pi(b,"link",p),s.head.appendChild(b),a.instance=b);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(p=a.instance,a.state.loading|=4,vp(p,c.precedence,s));return a.instance}function vp(s,a,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,E=b,H=0;H<p.length;H++){var J=p[H];if(J.dataset.precedence===a)E=J;else if(E!==b)break}E?E.parentNode.insertBefore(s,E.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function r_(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function s_(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var wp=null;function ME(s,a,c){if(wp===null){var p=new Map,b=wp=new Map;b.set(c,p)}else b=wp,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(s))return p;for(p.set(s,null),c=c.getElementsByTagName(s),b=0;b<c.length;b++){var E=c[b];if(!(E[ar]||E[Ye]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var H=E.getAttribute(a)||"";H=s+H;var J=p.get(H);J?J.push(E):p.set(H,[E])}}return p}function OE(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function LO(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function LE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Vh=null;function NO(){}function VO(s,a,c){if(Vh===null)throw Error(i(475));var p=Vh;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var b=ec(c.href),E=s.querySelector(Lh(b));if(E){s=E._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(p.count++,p=bp.bind(p),s.then(p,p)),a.state.loading|=4,a.instance=E,Mn(E);return}E=s.ownerDocument||s,c=kE(c),(b=ls.get(b))&&r_(c,b),E=E.createElement("link"),Mn(E);var H=E;H._p=new Promise(function(J,st){H.onload=J,H.onerror=st}),Pi(E,"link",c),a.instance=E}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(p.count++,a=bp.bind(p),s.addEventListener("load",a),s.addEventListener("error",a))}}function zO(){if(Vh===null)throw Error(i(475));var s=Vh;return s.stylesheets&&s.count===0&&o_(s,s.stylesheets),0<s.count?function(a){var c=setTimeout(function(){if(s.stylesheets&&o_(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(c)}}:null}function bp(){if(this.count--,this.count===0){if(this.stylesheets)o_(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Tp=null;function o_(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Tp=new Map,a.forEach(UO,s),Tp=null,bp.call(s))}function UO(s,a){if(!(a.state.loading&4)){var c=Tp.get(s);if(c)var p=c.get(null);else{c=new Map,Tp.set(s,c);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<b.length;E++){var H=b[E];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(c.set(H.dataset.precedence,H),p=H)}p&&c.set(null,p)}b=a.instance,H=b.getAttribute("data-precedence"),E=c.get(H)||p,E===p&&c.set(null,b),c.set(H,b),this.count++,p=bp.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),E?E.parentNode.insertBefore(b,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),a.state.loading|=4}}var zh={$$typeof:W,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function BO(s,a,c,p,b,E,H,J){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=E,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function NE(s,a,c,p,b,E,H,J,st,gt,St,Rt){return s=new BO(s,a,c,H,J,st,gt,Rt),a=1,E===!0&&(a|=24),E=ir(3,null,null,a),s.current=E,E.stateNode=s,a=Fg(),a.refCount++,s.pooledCache=a,a.refCount++,E.memoizedState={element:p,isDehydrated:c,cache:a},Gg(E),s}function VE(s){return s?(s=No,s):No}function zE(s,a,c,p,b,E){b=VE(b),p.context===null?p.context=b:p.pendingContext=b,p=xa(a),p.payload={element:c},E=E===void 0?null:E,E!==null&&(p.callback=E),c=Aa(s,p,a),c!==null&&(Br(c,s,a),ph(c,s,a))}function UE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function a_(s,a){UE(s,a),(s=s.alternate)&&UE(s,a)}function BE(s){if(s.tag===13){var a=wa(s,67108864);a!==null&&Br(a,s,67108864),a_(s,67108864)}}var Ep=!0;function FO(s,a,c,p){var b=B.T;B.T=null;var E=V.p;try{V.p=2,l_(s,a,c,p)}finally{V.p=E,B.T=b}}function jO(s,a,c,p){var b=B.T;B.T=null;var E=V.p;try{V.p=8,l_(s,a,c,p)}finally{V.p=E,B.T=b}}function l_(s,a,c,p){if(Ep){var b=u_(p);if(b===null)$y(s,a,p,Sp,c),jE(s,p);else if(qO(b,s,a,c,p))p.stopPropagation();else if(jE(s,p),a&4&&-1<HO.indexOf(s)){for(;b!==null;){var E=Sr(b);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var H=He(E.pendingLanes);if(H!==0){var J=E;for(J.pendingLanes|=2,J.entangledLanes|=2;H;){var st=1<<31-Vt(H);J.entanglements[1]|=st,H&=~st}eo(E),(rn&6)===0&&(ap=ne()+500,kh(0))}}break;case 13:J=wa(E,2),J!==null&&Br(J,E,2),up(),a_(E,2)}if(E=u_(p),E===null&&$y(s,a,p,Sp,c),E===b)break;b=E}b!==null&&p.stopPropagation()}else $y(s,a,p,null,c)}}function u_(s){return s=Ri(s),c_(s)}var Sp=null;function c_(s){if(Sp=null,s=Er(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Sp=s,null}function FE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case Fe:return 2;case Ee:return 8;case ge:case hn:return 32;case ke:return 268435456;default:return 32}default:return 32}}var h_=!1,Ua=null,Ba=null,Fa=null,Uh=new Map,Bh=new Map,ja=[],HO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jE(s,a){switch(s){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Uh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bh.delete(a.pointerId)}}function Fh(s,a,c,p,b,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[b]},a!==null&&(a=Sr(a),a!==null&&BE(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),s)}function qO(s,a,c,p,b){switch(a){case"focusin":return Ua=Fh(Ua,s,a,c,p,b),!0;case"dragenter":return Ba=Fh(Ba,s,a,c,p,b),!0;case"mouseover":return Fa=Fh(Fa,s,a,c,p,b),!0;case"pointerover":var E=b.pointerId;return Uh.set(E,Fh(Uh.get(E)||null,s,a,c,p,b)),!0;case"gotpointercapture":return E=b.pointerId,Bh.set(E,Fh(Bh.get(E)||null,s,a,c,p,b)),!0}return!1}function HE(s){var a=Er(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=u(c),a!==null){s.blockedOn=a,Yi(s.priority,function(){if(c.tag===13){var p=Ur();p=mn(p);var b=wa(c,p);b!==null&&Br(b,c,p),a_(c,p)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xp(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=u_(s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Cr=p,c.target.dispatchEvent(p),Cr=null}else return a=Sr(c),a!==null&&BE(a),s.blockedOn=c,!1;a.shift()}return!0}function qE(s,a,c){xp(s)&&c.delete(a)}function GO(){h_=!1,Ua!==null&&xp(Ua)&&(Ua=null),Ba!==null&&xp(Ba)&&(Ba=null),Fa!==null&&xp(Fa)&&(Fa=null),Uh.forEach(qE),Bh.forEach(qE)}function Ap(s,a){s.blockedOn===a&&(s.blockedOn=null,h_||(h_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GO)))}var Rp=null;function GE(s){Rp!==s&&(Rp=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Rp===s&&(Rp=null);for(var a=0;a<s.length;a+=3){var c=s[a],p=s[a+1],b=s[a+2];if(typeof p!="function"){if(c_(p||c)===null)continue;break}var E=Sr(c);E!==null&&(s.splice(a,3),a-=3,cy(E,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function jh(s){function a(st){return Ap(st,s)}Ua!==null&&Ap(Ua,s),Ba!==null&&Ap(Ba,s),Fa!==null&&Ap(Fa,s),Uh.forEach(a),Bh.forEach(a);for(var c=0;c<ja.length;c++){var p=ja[c];p.blockedOn===s&&(p.blockedOn=null)}for(;0<ja.length&&(c=ja[0],c.blockedOn===null);)HE(c),c.blockedOn===null&&ja.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],E=c[p+1],H=b[Ue]||null;if(typeof E=="function")H||GE(c);else if(H){var J=null;if(E&&E.hasAttribute("formAction")){if(b=E,H=E[Ue]||null)J=H.formAction;else if(c_(b)!==null)continue}else J=H.action;typeof J=="function"?c[p+1]=J:(c.splice(p,3),p-=3),GE(c)}}}function f_(s){this._internalRoot=s}Cp.prototype.render=f_.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,p=Ur();zE(c,p,s,a,null,null)},Cp.prototype.unmount=f_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;zE(s.current,2,null,s,null,null),up(),a[Rn]=null}};function Cp(s){this._internalRoot=s}Cp.prototype.unstable_scheduleHydration=function(s){if(s){var a=en();s={blockedOn:null,target:s,priority:a};for(var c=0;c<ja.length&&a!==0&&a<ja[c].priority;c++);ja.splice(c,0,s),c===0&&HE(s)}};var WE=t.version;if(WE!=="19.1.1")throw Error(i(527,WE,"19.1.1"));V.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var WO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{_t=Ip.inject(WO),Et=Ip}catch{}}return qh.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,p="",b=lT,E=uT,H=cT,J=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(H=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(J=a.unstable_transitionCallbacks)),a=NE(s,1,!1,null,null,c,p,b,E,H,J,null),s[Rn]=a.current,Zy(s),new f_(a)},qh.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var p=!1,b="",E=lT,H=uT,J=cT,st=null,gt=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(H=c.onCaughtError),c.onRecoverableError!==void 0&&(J=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(st=c.unstable_transitionCallbacks),c.formState!==void 0&&(gt=c.formState)),a=NE(s,1,!0,a,c??null,p,b,E,H,J,st,gt),a.context=VE(null),c=a.current,p=Ur(),p=mn(p),b=xa(p),b.callback=null,Aa(c,b,p),c=p,a.current.lanes=c,we(a,c),eo(a),s[Rn]=a.current,Zy(s),new Cp(a)},qh.version="19.1.1",qh}var nS;function eL(){if(nS)return m_.exports;nS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),m_.exports=tL(),m_.exports}var nL=eL();const iL=Xm(nL);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iS="popstate";function rL(e={}){function t(i,r){let{pathname:o,search:u,hash:h}=i.location;return wv("",{pathname:o,search:u,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Nf(r)}return oL(t,n,null,e)}function kn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ns(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sL(){return Math.random().toString(36).substring(2,10)}function rS(e,t){return{usr:e.state,key:e.key,idx:t}}function wv(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vc(t):t,state:n,key:t&&t.key||i||sL()}}function Nf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function oL(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,u=r.history,h="POP",d=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let F=g(),N=F==null?null:F-m;m=F,d&&d({action:h,location:M.location,delta:N})}function v(F,N){h="PUSH";let K=wv(M.location,F,N);m=g()+1;let W=rS(K,m),tt=M.createHref(K);try{u.pushState(W,"",tt)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;r.location.assign(tt)}o&&d&&d({action:h,location:M.location,delta:1})}function T(F,N){h="REPLACE";let K=wv(M.location,F,N);m=g();let W=rS(K,m),tt=M.createHref(K);u.replaceState(W,"",tt),o&&d&&d({action:h,location:M.location,delta:0})}function R(F){return aL(F)}let M={get action(){return h},get location(){return e(r,u)},listen(F){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(iS,y),d=F,()=>{r.removeEventListener(iS,y),d=null}},createHref(F){return t(r,F)},createURL:R,encodeLocation(F){let N=R(F);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:T,go(F){return u.go(F)}};return M}function aL(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),kn(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Nf(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function xC(e,t,n="/"){return lL(e,t,n,!1)}function lL(e,t,n,i){let r=typeof t=="string"?Vc(t):t,o=$o(r.pathname||"/",n);if(o==null)return null;let u=AC(e);uL(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=wL(o);h=_L(u[d],m,i)}return h}function AC(e,t=[],n=[],i=""){let r=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(kn(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let m=Zo([i,d.relativePath]),g=n.concat(d);o.children&&o.children.length>0&&(kn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),AC(o.children,t,g,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:gL(m,o.index),routesMeta:g})};return e.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))r(o,u);else for(let h of RC(o.path))r(o,u,h)}),t}function RC(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let u=RC(i.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...u),h.map(d=>e.startsWith("/")&&d===""?"/":d)}function uL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yL(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var cL=/^:[\w-]+$/,hL=3,fL=2,dL=1,pL=10,mL=-2,sS=e=>e==="*";function gL(e,t){let n=e.split("/"),i=n.length;return n.some(sS)&&(i+=mL),t&&(i+=fL),n.filter(r=>!sS(r)).reduce((r,o)=>r+(cL.test(o)?hL:o===""?dL:pL),i)}function yL(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function _L(e,t,n=!1){let{routesMeta:i}=e,r={},o="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=pm({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),v=d.route;if(!y&&m&&n&&!i[i.length-1].route.index&&(y=pm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(r,y.params),u.push({params:r,pathname:Zo([o,y.pathname]),pathnameBase:SL(Zo([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Zo([o,y.pathnameBase]))}return u}function pm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=vL(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:y},v)=>{if(g==="*"){let R=h[v]||"";u=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const T=h[v];return y&&!T?m[g]=void 0:m[g]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function vL(e,t=!1,n=!0){Ns(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function wL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ns(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $o(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function bL(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?Vc(e):e;return{pathname:n?n.startsWith("/")?n:TL(n,t):t,search:xL(i),hash:AL(r)}}function TL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function v_(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function L0(e){let t=EL(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function N0(e,t,n,i=!1){let r;typeof e=="string"?r=Vc(e):(r={...e},kn(!r.pathname||!r.pathname.includes("?"),v_("?","pathname","search",r)),kn(!r.pathname||!r.pathname.includes("#"),v_("#","pathname","hash",r)),kn(!r.search||!r.search.includes("#"),v_("#","search","hash",r)));let o=e===""||r.pathname==="",u=o?"/":r.pathname,h;if(u==null)h=n;else{let y=t.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;r.pathname=v.join("/")}h=y>=0?t[y]:"/"}let d=bL(r,h),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Zo=e=>e.join("/").replace(/\/\/+/g,"/"),SL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var CC=["POST","PUT","PATCH","DELETE"];new Set(CC);var CL=["GET",...CC];new Set(CL);var zc=Q.createContext(null);zc.displayName="DataRouter";var Qm=Q.createContext(null);Qm.displayName="DataRouterState";Q.createContext(!1);var IC=Q.createContext({isTransitioning:!1});IC.displayName="ViewTransition";var IL=Q.createContext(new Map);IL.displayName="Fetchers";var PL=Q.createContext(null);PL.displayName="Await";var Bs=Q.createContext(null);Bs.displayName="Navigation";var od=Q.createContext(null);od.displayName="Location";var bo=Q.createContext({outlet:null,matches:[],isDataRoute:!1});bo.displayName="Route";var V0=Q.createContext(null);V0.displayName="RouteError";function kL(e,{relative:t}={}){kn(Uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=Q.useContext(Bs),{hash:r,pathname:o,search:u}=ad(e,{relative:t}),h=o;return n!=="/"&&(h=o==="/"?n:Zo([n,o])),i.createHref({pathname:h,search:u,hash:r})}function Uc(){return Q.useContext(od)!=null}function gl(){return kn(Uc(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(od).location}var PC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kC(e){Q.useContext(Bs).static||Q.useLayoutEffect(e)}function Jm(){let{isDataRoute:e}=Q.useContext(bo);return e?qL():DL()}function DL(){kn(Uc(),"useNavigate() may be used only in the context of a <Router> component.");let e=Q.useContext(zc),{basename:t,navigator:n}=Q.useContext(Bs),{matches:i}=Q.useContext(bo),{pathname:r}=gl(),o=JSON.stringify(L0(i)),u=Q.useRef(!1);return kC(()=>{u.current=!0}),Q.useCallback((d,m={})=>{if(Ns(u.current,PC),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=N0(d,JSON.parse(o),r,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Zo([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,o,r,e])}Q.createContext(null);function ad(e,{relative:t}={}){let{matches:n}=Q.useContext(bo),{pathname:i}=gl(),r=JSON.stringify(L0(n));return Q.useMemo(()=>N0(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function ML(e,t){return DC(e,t)}function DC(e,t,n,i){kn(Uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=Q.useContext(Bs),{matches:o}=Q.useContext(bo),u=o[o.length-1],h=u?u.params:{},d=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let N=g&&g.path||"";MC(d,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=gl(),v;if(t){let N=typeof t=="string"?Vc(t):t;kn(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=y;let T=v.pathname||"/",R=T;if(m!=="/"){let N=m.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(N.length).join("/")}let M=xC(e,{pathname:R});Ns(g||M!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ns(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=zL(M&&M.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:Zo([m,r.encodeLocation?r.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:Zo([m,r.encodeLocation?r.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,n,i);return t&&F?Q.createElement(od.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},F):F}function OL(){let e=HL(),t=RL(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:o},"ErrorBoundary")," or"," ",Q.createElement("code",{style:o},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),n?Q.createElement("pre",{style:r},n):null,u)}var LL=Q.createElement(OL,null),NL=class extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Q.createElement(bo.Provider,{value:this.props.routeContext},Q.createElement(V0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VL({routeContext:e,match:t,children:n}){let i=Q.useContext(zc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(bo.Provider,{value:e},n)}function zL(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,o=n?.errors;if(o!=null){let d=r.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);kn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<r.length;d++){let m=r[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:y}=n,v=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((d,m,g)=>{let y,v=!1,T=null,R=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,T=m.route.errorElement||LL,u&&(h<0&&g===0?(MC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,R=null):h===g&&(v=!0,R=m.route.hydrateFallbackElement||null)));let M=t.concat(r.slice(0,g+1)),F=()=>{let N;return y?N=T:v?N=R:m.route.Component?N=Q.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=d,Q.createElement(VL,{match:m,routeContext:{outlet:d,matches:M,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?Q.createElement(NL,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:F(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):F()},null)}function z0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UL(e){let t=Q.useContext(zc);return kn(t,z0(e)),t}function BL(e){let t=Q.useContext(Qm);return kn(t,z0(e)),t}function FL(e){let t=Q.useContext(bo);return kn(t,z0(e)),t}function U0(e){let t=FL(e),n=t.matches[t.matches.length-1];return kn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function jL(){return U0("useRouteId")}function HL(){let e=Q.useContext(V0),t=BL("useRouteError"),n=U0("useRouteError");return e!==void 0?e:t.errors?.[n]}function qL(){let{router:e}=UL("useNavigate"),t=U0("useNavigate"),n=Q.useRef(!1);return kC(()=>{n.current=!0}),Q.useCallback(async(r,o={})=>{Ns(n.current,PC),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))},[e,t])}var oS={};function MC(e,t,n){!t&&!oS[e]&&(oS[e]=!0,Ns(!1,n))}Q.memo(GL);function GL({routes:e,future:t,state:n}){return DC(e,void 0,n,t)}function WL({to:e,replace:t,state:n,relative:i}){kn(Uc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Q.useContext(Bs);Ns(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Q.useContext(bo),{pathname:u}=gl(),h=Jm(),d=N0(e,L0(o),u,i==="path"),m=JSON.stringify(d);return Q.useEffect(()=>{h(JSON.parse(m),{replace:t,state:n,relative:i})},[h,m,i,t,n]),null}function of(e){kn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KL({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:o=!1}){kn(!Uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=Q.useMemo(()=>({basename:u,navigator:r,static:o,future:{}}),[u,r,o]);typeof n=="string"&&(n=Vc(n));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:v="default"}=n,T=Q.useMemo(()=>{let R=$o(d,u);return R==null?null:{location:{pathname:R,search:m,hash:g,state:y,key:v},navigationType:i}},[u,d,m,g,y,v,i]);return Ns(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:Q.createElement(Bs.Provider,{value:h},Q.createElement(od.Provider,{children:t,value:T}))}function ZL({children:e,location:t}){return ML(bv(e),t)}function bv(e,t=[]){let n=[];return Q.Children.forEach(e,(i,r)=>{if(!Q.isValidElement(i))return;let o=[...t,r];if(i.type===Q.Fragment){n.push.apply(n,bv(i.props.children,o));return}kn(i.type===of,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=bv(i.props.children,o)),n.push(u)}),n}var $p="get",Yp="application/x-www-form-urlencoded";function tg(e){return e!=null&&typeof e.tagName=="string"}function $L(e){return tg(e)&&e.tagName.toLowerCase()==="button"}function YL(e){return tg(e)&&e.tagName.toLowerCase()==="form"}function XL(e){return tg(e)&&e.tagName.toLowerCase()==="input"}function QL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function JL(e,t){return e.button===0&&(!t||t==="_self")&&!QL(e)}var Pp=null;function tN(){if(Pp===null)try{new FormData(document.createElement("form"),0),Pp=!1}catch{Pp=!0}return Pp}var eN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function w_(e){return e!=null&&!eN.has(e)?(Ns(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yp}"`),null):e}function nN(e,t){let n,i,r,o,u;if(YL(e)){let h=e.getAttribute("action");i=h?$o(h,t):null,n=e.getAttribute("method")||$p,r=w_(e.getAttribute("enctype"))||Yp,o=new FormData(e)}else if($L(e)||XL(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||h.getAttribute("action");if(i=d?$o(d,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||$p,r=w_(e.getAttribute("formenctype"))||w_(h.getAttribute("enctype"))||Yp,o=new FormData(h,e),!tN()){let{name:m,type:g,value:y}=e;if(g==="image"){let v=m?`${m}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else m&&o.append(m,y)}}else{if(tg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$p,i=null,r=Yp,u=e}return o&&r==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function B0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iN(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&$o(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function rN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function oN(e,t,n){let i=await Promise.all(e.map(async r=>{let o=t.routes[r.route.id];if(o){let u=await rN(o,n);return u.links?u.links():[]}return[]}));return cN(i.flat(1).filter(sN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function aS(e,t,n,i,r,o){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?t.filter((d,m)=>{let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function aN(e,t,{includeHydrateFallback:n}={}){return lN(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function lN(e){return[...new Set(e)]}function uN(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function cN(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let o=JSON.stringify(uN(r));return n.has(o)||(n.add(o),i.push({key:o,link:r})),i},[])}function OC(){let e=Q.useContext(zc);return B0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hN(){let e=Q.useContext(Qm);return B0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var F0=Q.createContext(void 0);F0.displayName="FrameworkContext";function LC(){let e=Q.useContext(F0);return B0(e,"You must render this element inside a <HydratedRouter> element"),e}function fN(e,t){let n=Q.useContext(F0),[i,r]=Q.useState(!1),[o,u]=Q.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=t,v=Q.useRef(null);Q.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let M=N=>{N.forEach(K=>{u(K.isIntersecting)})},F=new IntersectionObserver(M,{threshold:.5});return v.current&&F.observe(v.current),()=>{F.disconnect()}}},[e]),Q.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let T=()=>{r(!0)},R=()=>{r(!1),u(!1)};return n?e!=="intent"?[o,v,{}]:[o,v,{onFocus:Gh(h,T),onBlur:Gh(d,R),onMouseEnter:Gh(m,T),onMouseLeave:Gh(g,R),onTouchStart:Gh(y,T)}]:[!1,v,{}]}function Gh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function dN({page:e,...t}){let{router:n}=OC(),i=Q.useMemo(()=>xC(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?Q.createElement(mN,{page:e,matches:i,...t}):null}function pN(e){let{manifest:t,routeModules:n}=LC(),[i,r]=Q.useState([]);return Q.useEffect(()=>{let o=!1;return oN(e,t,n).then(u=>{o||r(u)}),()=>{o=!0}},[e,t,n]),i}function mN({page:e,matches:t,...n}){let i=gl(),{manifest:r,routeModules:o}=LC(),{basename:u}=OC(),{loaderData:h,matches:d}=hN(),m=Q.useMemo(()=>aS(e,t,d,r,i,"data"),[e,t,d,r,i]),g=Q.useMemo(()=>aS(e,t,d,r,i,"assets"),[e,t,d,r,i]),y=Q.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let R=new Set,M=!1;if(t.forEach(N=>{let K=r.routes[N.route.id];!K||!K.hasLoader||(!m.some(W=>W.route.id===N.route.id)&&N.route.id in h&&o[N.route.id]?.shouldRevalidate||K.hasClientLoader?M=!0:R.add(N.route.id))}),R.size===0)return[];let F=iN(e,u,"data");return M&&R.size>0&&F.searchParams.set("_routes",t.filter(N=>R.has(N.route.id)).map(N=>N.route.id).join(",")),[F.pathname+F.search]},[u,h,i,r,m,t,e,o]),v=Q.useMemo(()=>aN(g,r),[g,r]),T=pN(g);return Q.createElement(Q.Fragment,null,y.map(R=>Q.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),v.map(R=>Q.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),T.map(({key:R,link:M})=>Q.createElement("link",{key:R,nonce:n.nonce,...M})))}function gN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var NC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NC&&(window.__reactRouterVersion="7.8.0")}catch{}function yN({basename:e,children:t,window:n}){let i=Q.useRef();i.current==null&&(i.current=rL({window:n,v5Compat:!0}));let r=i.current,[o,u]=Q.useState({action:r.action,location:r.location}),h=Q.useCallback(d=>{Q.startTransition(()=>u(d))},[u]);return Q.useLayoutEffect(()=>r.listen(h),[r,h]),Q.createElement(KL,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}var VC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mm=Q.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:g,viewTransition:y,...v},T){let{basename:R}=Q.useContext(Bs),M=typeof m=="string"&&VC.test(m),F,N=!1;if(typeof m=="string"&&M&&(F=m,NC))try{let A=new URL(window.location.href),U=m.startsWith("//")?new URL(A.protocol+m):new URL(m),k=$o(U.pathname,R);U.origin===A.origin&&k!=null?m=k+U.search+U.hash:N=!0}catch{Ns(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=kL(m,{relative:r}),[W,tt,X]=fN(i,v),z=wN(m,{replace:u,state:h,target:d,preventScrollReset:g,relative:r,viewTransition:y});function q(A){t&&t(A),A.defaultPrevented||z(A)}let x=Q.createElement("a",{...v,...X,href:F||K,onClick:N||o?t:q,ref:gN(T,tt),target:d,"data-discover":!M&&n==="render"?"true":void 0});return W&&!M?Q.createElement(Q.Fragment,null,x,Q.createElement(dN,{page:K})):x});mm.displayName="Link";var af=Q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:o,to:u,viewTransition:h,children:d,...m},g){let y=ad(u,{relative:m.relative}),v=gl(),T=Q.useContext(Qm),{navigator:R,basename:M}=Q.useContext(Bs),F=T!=null&&xN(y)&&h===!0,N=R.encodeLocation?R.encodeLocation(y).pathname:y.pathname,K=v.pathname,W=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(K=K.toLowerCase(),W=W?W.toLowerCase():null,N=N.toLowerCase()),W&&M&&(W=$o(W,M)||W);const tt=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let X=K===N||!r&&K.startsWith(N)&&K.charAt(tt)==="/",z=W!=null&&(W===N||!r&&W.startsWith(N)&&W.charAt(N.length)==="/"),q={isActive:X,isPending:z,isTransitioning:F},x=X?t:void 0,A;typeof i=="function"?A=i(q):A=[i,X?"active":null,z?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(q):o;return Q.createElement(mm,{...m,"aria-current":x,className:A,ref:g,style:U,to:u,viewTransition:h},typeof d=="function"?d(q):d)});af.displayName="NavLink";var _N=Q.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:o,method:u=$p,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:y,...v},T)=>{let R=EN(),M=SN(h,{relative:m}),F=u.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&VC.test(h),K=W=>{if(d&&d(W),W.defaultPrevented)return;W.preventDefault();let tt=W.nativeEvent.submitter,X=tt?.getAttribute("formmethod")||u;R(tt||W.currentTarget,{fetcherKey:t,method:X,navigate:n,replace:r,state:o,relative:m,preventScrollReset:g,viewTransition:y})};return Q.createElement("form",{ref:T,method:F,action:M,onSubmit:i?d:K,...v,"data-discover":!N&&e==="render"?"true":void 0})});_N.displayName="Form";function vN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zC(e){let t=Q.useContext(zc);return kn(t,vN(e)),t}function wN(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:u}={}){let h=Jm(),d=gl(),m=ad(e,{relative:o});return Q.useCallback(g=>{if(JL(g,t)){g.preventDefault();let y=n!==void 0?n:Nf(d)===Nf(m);h(e,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:u})}},[d,h,m,n,i,t,e,r,o,u])}var bN=0,TN=()=>`__${String(++bN)}__`;function EN(){let{router:e}=zC("useSubmit"),{basename:t}=Q.useContext(Bs),n=jL();return Q.useCallback(async(i,r={})=>{let{action:o,method:u,encType:h,formData:d,body:m}=nN(i,t);if(r.navigate===!1){let g=r.fetcherKey||TN();await e.fetch(g,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:m,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await e.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:m,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function SN(e,{relative:t}={}){let{basename:n}=Q.useContext(Bs),i=Q.useContext(bo);kn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...ad(e||".",{relative:t})},u=gl();if(e==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Zo([n,o.pathname])),Nf(o)}function xN(e,{relative:t}={}){let n=Q.useContext(IC);kn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zC("useViewTransitionState"),r=ad(e,{relative:t});if(!n.isTransitioning)return!1;let o=$o(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=$o(n.nextLocation.pathname,i)||n.nextLocation.pathname;return pm(r.pathname,u)!=null||pm(r.pathname,o)!=null}var uc=SC();/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),lS=e=>{const t=RN(e);return t.charAt(0).toUpperCase()+t.slice(1)},UC=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),CN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=Q.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:u,...h},d)=>Q.createElement("svg",{ref:d,...IN,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:UC("lucide",r),...!o&&!CN(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,g])=>Q.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=(e,t)=>{const n=Q.forwardRef(({className:i,...r},o)=>Q.createElement(PN,{ref:o,iconNode:t,className:UC(`lucide-${AN(lS(e))}`,`lucide-${e}`,i),...r}));return n.displayName=lS(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gm=ai("book-open",kN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gf=ai("calendar",DN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BC=ai("clock",MN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],LN=ai("grip-vertical",ON);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],VN=ai("heart",NN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],UN=ai("house",zN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],FN=ai("image",BN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],yf=ai("loader",jN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qN=ai("locate-fixed",HN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WN=ai("lock",GN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],FC=ai("log-in",KN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$N=ai("log-out",ZN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],XN=ai("mail-open",YN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],JN=ai("mail",QN);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jC=ai("map-pin",t4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],n4=ai("send",e4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],r4=ai("square-pen",i4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],o4=ai("trash-2",s4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],l4=ai("triangle-alert",a4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HC=ai("x",u4),j0=Q.createContext({});function H0(e){const t=Q.useRef(null);return t.current===null&&(t.current=e()),t.current}const q0=typeof window<"u",qC=q0?Q.useLayoutEffect:Q.useEffect,eg=Q.createContext(null);function G0(e,t){e.indexOf(t)===-1&&e.push(t)}function W0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Yo=(e,t,n)=>n>t?t:n<e?e:n;let K0=()=>{};const Xo={},GC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function WC(e){return typeof e=="object"&&e!==null}const KC=e=>/^0[^.\s]+$/u.test(e);function Z0(e){let t;return()=>(t===void 0&&(t=e()),t)}const ms=e=>e,c4=(e,t)=>n=>t(e(n)),ld=(...e)=>e.reduce(c4),Vf=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class $0{constructor(){this.subscriptions=[]}add(t){return G0(this.subscriptions,t),()=>W0(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let o=0;o<r;o++){const u=this.subscriptions[o];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ao=e=>e*1e3,lo=e=>e/1e3;function ZC(e,t){return t?e*(1e3/t):0}const $C=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,h4=1e-7,f4=12;function d4(e,t,n,i,r){let o,u,h=0;do u=t+(n-t)/2,o=$C(u,i,r)-e,o>0?n=u:t=u;while(Math.abs(o)>h4&&++h<f4);return u}function ud(e,t,n,i){if(e===t&&n===i)return ms;const r=o=>d4(o,0,1,e,n);return o=>o===0||o===1?o:$C(r(o),t,i)}const YC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,XC=e=>t=>1-e(1-t),QC=ud(.33,1.53,.69,.99),Y0=XC(QC),JC=YC(Y0),t2=e=>(e*=2)<1?.5*Y0(e):.5*(2-Math.pow(2,-10*(e-1))),X0=e=>1-Math.sin(Math.acos(e)),e2=XC(X0),n2=YC(X0),p4=ud(.42,0,1,1),m4=ud(0,0,.58,1),i2=ud(.42,0,.58,1),g4=e=>Array.isArray(e)&&typeof e[0]!="number",r2=e=>Array.isArray(e)&&typeof e[0]=="number",y4={linear:ms,easeIn:p4,easeInOut:i2,easeOut:m4,circIn:X0,circInOut:n2,circOut:e2,backIn:Y0,backInOut:JC,backOut:QC,anticipate:t2},_4=e=>typeof e=="string",uS=e=>{if(r2(e)){K0(e.length===4);const[t,n,i,r]=e;return ud(t,n,i,r)}else if(_4(e))return y4[e];return e},kp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function v4(e,t){let n=new Set,i=new Set,r=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){u.has(g)&&(m.schedule(g),e()),g(h)}const m={schedule:(g,y=!1,v=!1)=>{const R=v&&r?n:i;return y&&u.add(g),R.has(g)||R.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,r){o=!0;return}r=!0,[n,i]=[i,n],n.forEach(d),n.clear(),r=!1,o&&(o=!1,m.process(g))}};return m}const w4=40;function s2(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=kp.reduce((W,tt)=>(W[tt]=v4(o),W),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:y,preRender:v,render:T,postRender:R}=u,M=()=>{const W=Xo.useManualTiming?r.timestamp:performance.now();n=!1,Xo.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(W-r.timestamp,w4),1)),r.timestamp=W,r.isProcessing=!0,h.process(r),d.process(r),m.process(r),g.process(r),y.process(r),v.process(r),T.process(r),R.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(M))},F=()=>{n=!0,i=!0,r.isProcessing||e(M)};return{schedule:kp.reduce((W,tt)=>{const X=u[tt];return W[tt]=(z,q=!1,x=!1)=>(n||F(),X.schedule(z,q,x)),W},{}),cancel:W=>{for(let tt=0;tt<kp.length;tt++)u[kp[tt]].cancel(W)},state:r,steps:u}}const{schedule:Pn,cancel:ol,state:ki,steps:b_}=s2(typeof requestAnimationFrame<"u"?requestAnimationFrame:ms,!0);let Xp;function b4(){Xp=void 0}const _r={now:()=>(Xp===void 0&&_r.set(ki.isProcessing||Xo.useManualTiming?ki.timestamp:performance.now()),Xp),set:e=>{Xp=e,queueMicrotask(b4)}},o2=e=>t=>typeof t=="string"&&t.startsWith(e),Q0=o2("--"),T4=o2("var(--"),J0=e=>T4(e)?E4.test(e.split("/*")[0].trim()):!1,E4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zf={...Bc,transform:e=>Yo(0,1,e)},Dp={...Bc,default:1},_f=e=>Math.round(e*1e5)/1e5,tw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S4(e){return e==null}const x4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ew=(e,t)=>n=>!!(typeof n=="string"&&x4.test(n)&&n.startsWith(e)||t&&!S4(n)&&Object.prototype.hasOwnProperty.call(n,t)),a2=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,o,u,h]=i.match(tw);return{[e]:parseFloat(r),[t]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},A4=e=>Yo(0,255,e),T_={...Bc,transform:e=>Math.round(A4(e))},Jl={test:ew("rgb","red"),parse:a2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+T_.transform(e)+", "+T_.transform(t)+", "+T_.transform(n)+", "+_f(zf.transform(i))+")"};function R4(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Tv={test:ew("#"),parse:R4,transform:Jl.transform},cd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wa=cd("deg"),uo=cd("%"),ee=cd("px"),C4=cd("vh"),I4=cd("vw"),cS={...uo,parse:e=>uo.parse(e)/100,transform:e=>uo.transform(e*100)},cc={test:ew("hsl","hue"),parse:a2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+uo.transform(_f(t))+", "+uo.transform(_f(n))+", "+_f(zf.transform(i))+")"},ii={test:e=>Jl.test(e)||Tv.test(e)||cc.test(e),parse:e=>Jl.test(e)?Jl.parse(e):cc.test(e)?cc.parse(e):Tv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Jl.transform(e):cc.transform(e),getAnimatableNone:e=>{const t=ii.parse(e);return t.alpha=0,ii.transform(t)}},P4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k4(e){return isNaN(e)&&typeof e=="string"&&(e.match(tw)?.length||0)+(e.match(P4)?.length||0)>0}const l2="number",u2="color",D4="var",M4="var(",hS="${}",O4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uf(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const h=t.replace(O4,d=>(ii.test(d)?(i.color.push(o),r.push(u2),n.push(ii.parse(d))):d.startsWith(M4)?(i.var.push(o),r.push(D4),n.push(d)):(i.number.push(o),r.push(l2),n.push(parseFloat(d))),++o,hS)).split(hS);return{values:n,split:h,indexes:i,types:r}}function c2(e){return Uf(e).values}function h2(e){const{split:t,types:n}=Uf(e),i=t.length;return r=>{let o="";for(let u=0;u<i;u++)if(o+=t[u],r[u]!==void 0){const h=n[u];h===l2?o+=_f(r[u]):h===u2?o+=ii.transform(r[u]):o+=r[u]}return o}}const L4=e=>typeof e=="number"?0:ii.test(e)?ii.getAnimatableNone(e):e;function N4(e){const t=c2(e);return h2(e)(t.map(L4))}const al={test:k4,parse:c2,createTransformer:h2,getAnimatableNone:N4};function E_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function V4({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,o=0,u=0;if(!t)r=o=u=n;else{const h=n<.5?n*(1+t):n+t-n*t,d=2*n-h;r=E_(d,h,e+1/3),o=E_(d,h,e),u=E_(d,h,e-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function ym(e,t){return n=>n>0?t:e}const Nn=(e,t,n)=>e+(t-e)*n,S_=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},z4=[Tv,Jl,cc],U4=e=>z4.find(t=>t.test(e));function fS(e){const t=U4(e);if(!t)return!1;let n=t.parse(e);return t===cc&&(n=V4(n)),n}const dS=(e,t)=>{const n=fS(e),i=fS(t);if(!n||!i)return ym(e,t);const r={...n};return o=>(r.red=S_(n.red,i.red,o),r.green=S_(n.green,i.green,o),r.blue=S_(n.blue,i.blue,o),r.alpha=Nn(n.alpha,i.alpha,o),Jl.transform(r))},Ev=new Set(["none","hidden"]);function B4(e,t){return Ev.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function F4(e,t){return n=>Nn(e,t,n)}function nw(e){return typeof e=="number"?F4:typeof e=="string"?J0(e)?ym:ii.test(e)?dS:q4:Array.isArray(e)?f2:typeof e=="object"?ii.test(e)?dS:j4:ym}function f2(e,t){const n=[...e],i=n.length,r=e.map((o,u)=>nw(o)(o,t[u]));return o=>{for(let u=0;u<i;u++)n[u]=r[u](o);return n}}function j4(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=nw(e[r])(e[r],t[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function H4(e,t){const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],u=e.indexes[o][i[o]],h=e.values[u]??0;n[r]=h,i[o]++}return n}const q4=(e,t)=>{const n=al.createTransformer(t),i=Uf(e),r=Uf(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Ev.has(e)&&!r.values.length||Ev.has(t)&&!i.values.length?B4(e,t):ld(f2(H4(i,r),r.values),n):ym(e,t)};function d2(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Nn(e,t,n):nw(e)(e,t)}const G4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Pn.update(t,n),stop:()=>ol(t),now:()=>ki.isProcessing?ki.timestamp:_r.now()}},p2=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let o=0;o<r;o++)i+=Math.round(e(o/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},_m=2e4;function iw(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<_m;)t+=n,i=e.next(t);return t>=_m?1/0:t}function W4(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min(iw(i),_m);return{type:"keyframes",ease:o=>i.next(r*o).value/t,duration:lo(r)}}const K4=5;function m2(e,t,n){const i=Math.max(t-K4,0);return ZC(n-e(i),t-i)}const jn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},x_=.001;function Z4({duration:e=jn.duration,bounce:t=jn.bounce,velocity:n=jn.velocity,mass:i=jn.mass}){let r,o,u=1-t;u=Yo(jn.minDamping,jn.maxDamping,u),e=Yo(jn.minDuration,jn.maxDuration,lo(e)),u<1?(r=m=>{const g=m*u,y=g*e,v=g-n,T=Sv(m,u),R=Math.exp(-y);return x_-v/T*R},o=m=>{const y=m*u*e,v=y*n+n,T=Math.pow(u,2)*Math.pow(m,2)*e,R=Math.exp(-y),M=Sv(Math.pow(m,2),u);return(-r(m)+x_>0?-1:1)*((v-T)*R)/M}):(r=m=>{const g=Math.exp(-m*e),y=(m-n)*e+1;return-x_+g*y},o=m=>{const g=Math.exp(-m*e),y=(n-m)*(e*e);return g*y});const h=5/e,d=Y4(r,o,h);if(e=ao(e),isNaN(d))return{stiffness:jn.stiffness,damping:jn.damping,duration:e};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:e}}}const $4=12;function Y4(e,t,n){let i=n;for(let r=1;r<$4;r++)i=i-e(i)/t(i);return i}function Sv(e,t){return e*Math.sqrt(1-t*t)}const X4=["duration","bounce"],Q4=["stiffness","damping","mass"];function pS(e,t){return t.some(n=>e[n]!==void 0)}function J4(e){let t={velocity:jn.velocity,stiffness:jn.stiffness,damping:jn.damping,mass:jn.mass,isResolvedFromDuration:!1,...e};if(!pS(e,Q4)&&pS(e,X4))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*Yo(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:jn.mass,stiffness:r,damping:o}}else{const n=Z4(e);t={...t,...n,mass:jn.mass},t.isResolvedFromDuration=!0}return t}function vm(e=jn.visualDuration,t=jn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:T}=J4({...n,velocity:-lo(n.velocity||0)}),R=v||0,M=m/(2*Math.sqrt(d*g)),F=u-o,N=lo(Math.sqrt(d/g)),K=Math.abs(F)<5;i||(i=K?jn.restSpeed.granular:jn.restSpeed.default),r||(r=K?jn.restDelta.granular:jn.restDelta.default);let W;if(M<1){const X=Sv(N,M);W=z=>{const q=Math.exp(-M*N*z);return u-q*((R+M*N*F)/X*Math.sin(X*z)+F*Math.cos(X*z))}}else if(M===1)W=X=>u-Math.exp(-N*X)*(F+(R+N*F)*X);else{const X=N*Math.sqrt(M*M-1);W=z=>{const q=Math.exp(-M*N*z),x=Math.min(X*z,300);return u-q*((R+M*N*F)*Math.sinh(x)+X*F*Math.cosh(x))/X}}const tt={calculatedDuration:T&&y||null,next:X=>{const z=W(X);if(T)h.done=X>=y;else{let q=X===0?R:0;M<1&&(q=X===0?ao(R):m2(W,X,z));const x=Math.abs(q)<=i,A=Math.abs(u-z)<=r;h.done=x&&A}return h.value=h.done?u:z,h},toString:()=>{const X=Math.min(iw(tt),_m),z=p2(q=>tt.next(X*q).value,X,30);return X+"ms "+z},toTransition:()=>{}};return tt}vm.applyToOptions=e=>{const t=W4(e,100,vm);return e.ease=t.ease,e.duration=ao(t.duration),e.type="keyframes",e};function xv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:g}){const y=e[0],v={done:!1,value:y},T=x=>h!==void 0&&x<h||d!==void 0&&x>d,R=x=>h===void 0?d:d===void 0||Math.abs(h-x)<Math.abs(d-x)?h:d;let M=n*t;const F=y+M,N=u===void 0?F:u(F);N!==F&&(M=N-y);const K=x=>-M*Math.exp(-x/i),W=x=>N+K(x),tt=x=>{const A=K(x),U=W(x);v.done=Math.abs(A)<=m,v.value=v.done?N:U};let X,z;const q=x=>{T(v.value)&&(X=x,z=vm({keyframes:[v.value,R(v.value)],velocity:m2(W,x,v.value),damping:r,stiffness:o,restDelta:m,restSpeed:g}))};return q(0),{calculatedDuration:null,next:x=>{let A=!1;return!z&&X===void 0&&(A=!0,tt(x),q(x)),X!==void 0&&x>=X?z.next(x-X):(!A&&tt(x),v)}}}function t3(e,t,n){const i=[],r=n||Xo.mix||d2,o=e.length-1;for(let u=0;u<o;u++){let h=r(e[u],e[u+1]);if(t){const d=Array.isArray(t)?t[u]||ms:t;h=ld(d,h)}i.push(h)}return i}function e3(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const o=e.length;if(K0(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=t3(t,i,r),d=h.length,m=g=>{if(u&&g<e[0])return t[0];let y=0;if(d>1)for(;y<e.length-2&&!(g<e[y+1]);y++);const v=Vf(e[y],e[y+1],g);return h[y](v)};return n?g=>m(Yo(e[0],e[o-1],g)):m}function n3(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=Vf(0,t,i);e.push(Nn(n,1,r))}}function i3(e){const t=[0];return n3(t,e.length-1),t}function r3(e,t){return e.map(n=>n*t)}function s3(e,t){return e.map(()=>t||i2).splice(0,e.length-1)}function vf({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=g4(i)?i.map(uS):uS(i),o={done:!1,value:t[0]},u=r3(n&&n.length===t.length?n:i3(t),e),h=e3(u,t,{ease:Array.isArray(r)?r:s3(t,r)});return{calculatedDuration:e,next:d=>(o.value=h(d),o.done=d>=e,o)}}const o3=e=>e!==null;function rw(e,{repeat:t,repeatType:n="loop"},i,r=1){const o=e.filter(o3),h=r<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const a3={decay:xv,inertia:xv,tween:vf,keyframes:vf,spring:vm};function g2(e){typeof e.type=="string"&&(e.type=a3[e.type])}class sw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const l3=e=>e/100;class ow extends sw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==_r.now()&&this.tick(_r.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;g2(t);const{type:n=vf,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:u=0}=t;let{keyframes:h}=t;const d=n||vf;d!==vf&&typeof h[0]!="number"&&(this.mixKeyframes=ld(l3,d2(h[0],h[1])),h=[0,100]);const m=d({...t,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=iw(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:T,type:R,onUpdate:M,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-m*(this.playbackSpeed>=0?1:-1),K=this.playbackSpeed>=0?N<0:N>r;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let W=this.currentTime,tt=i;if(y){const x=Math.min(this.currentTime,r)/h;let A=Math.floor(x),U=x%1;!U&&x>=1&&(U=1),U===1&&A--,A=Math.min(A,y+1),!!(A%2)&&(v==="reverse"?(U=1-U,T&&(U-=T/h)):v==="mirror"&&(tt=u)),W=Yo(0,1,U)*h}const X=K?{done:!1,value:g[0]}:tt.next(W);o&&(X.value=o(X.value));let{done:z}=X;!K&&d!==null&&(z=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return q&&R!==xv&&(X.value=rw(g,this.options,F,this.speed)),M&&M(X.value),q&&this.finish(),X}then(t,n){return this.finished.then(t,n)}get duration(){return lo(this.calculatedDuration)}get time(){return lo(this.currentTime)}set time(t){t=ao(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_r.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=lo(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=G4,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_r.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function u3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const tu=e=>e*180/Math.PI,Av=e=>{const t=tu(Math.atan2(e[1],e[0]));return Rv(t)},c3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Av,rotateZ:Av,skewX:e=>tu(Math.atan(e[1])),skewY:e=>tu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Rv=e=>(e=e%360,e<0&&(e+=360),e),mS=Av,gS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),yS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),h3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gS,scaleY:yS,scale:e=>(gS(e)+yS(e))/2,rotateX:e=>Rv(tu(Math.atan2(e[6],e[5]))),rotateY:e=>Rv(tu(Math.atan2(-e[2],e[0]))),rotateZ:mS,rotate:mS,skewX:e=>tu(Math.atan(e[4])),skewY:e=>tu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Cv(e){return e.includes("scale")?1:0}function Iv(e,t){if(!e||e==="none")return Cv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=h3,r=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=c3,r=h}if(!r)return Cv(t);const o=i[t],u=r[1].split(",").map(d3);return typeof o=="function"?o(u):u[o]}const f3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Iv(n,t)};function d3(e){return parseFloat(e.trim())}const Fc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jc=new Set(Fc),_S=e=>e===Bc||e===ee,p3=new Set(["x","y","z"]),m3=Fc.filter(e=>!p3.has(e));function g3(e){const t=[];return m3.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const iu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Iv(t,"x"),y:(e,{transform:t})=>Iv(t,"y")};iu.translateX=iu.x;iu.translateY=iu.y;const ru=new Set;let Pv=!1,kv=!1,Dv=!1;function y2(){if(kv){const e=Array.from(ru).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=g3(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}kv=!1,Pv=!1,ru.forEach(e=>e.complete(Dv)),ru.clear()}function _2(){ru.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(kv=!0)})}function y3(){Dv=!0,_2(),y2(),Dv=!1}class aw{constructor(t,n,i,r,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ru.add(this),Pv||(Pv=!0,Pn.read(_2),Pn.resolveKeyframes(y2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;if(t[0]===null){const o=r?.get(),u=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const h=i.readValue(n,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),r&&o===void 0&&r.set(t[0])}u3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ru.delete(this)}cancel(){this.state==="scheduled"&&(ru.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _3=e=>e.startsWith("--");function v3(e,t,n){_3(t)?e.style.setProperty(t,n):e.style[t]=n}const w3=Z0(()=>window.ScrollTimeline!==void 0),b3={};function T3(e,t){const n=Z0(e);return()=>b3[t]??n()}const v2=T3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lf=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,vS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lf([0,.65,.55,1]),circOut:lf([.55,0,1,.45]),backIn:lf([.31,.01,.66,-.59]),backOut:lf([.33,1.53,.69,.99])};function w2(e,t){if(e)return typeof e=="function"?v2()?p2(e,t):"ease-out":r2(e)?lf(e):Array.isArray(e)?e.map(n=>w2(n,t)||vS.easeOut):vS[e]}function E3(e,t,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[t]:n};d&&(g.offset=d);const y=w2(h,r);Array.isArray(y)&&(g.easing=y);const v={delay:i,duration:r,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),e.animate(g,v)}function b2(e){return typeof e=="function"&&"applyToOptions"in e}function S3({type:e,...t}){return b2(e)&&v2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class x3 extends sw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:r,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=t,K0(typeof t.type!="string");const m=S3(t);this.animation=E3(n,i,r,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=rw(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):v3(n,i,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return lo(Number(t))}get time(){return lo(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ao(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&w3()?(this.animation.timeline=t,ms):n(this)}}const T2={anticipate:t2,backInOut:JC,circInOut:n2};function A3(e){return e in T2}function R3(e){typeof e.ease=="string"&&A3(e.ease)&&(e.ease=T2[e.ease])}const wS=10;class C3 extends x3{constructor(t){R3(t),g2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:r,element:o,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new ow({...u,autoplay:!1}),d=ao(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-wS).value,h.sample(d).value,wS),h.stop()}}const bS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(al.test(e)||e==="0")&&!e.startsWith("url("));function I3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function P3(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=bS(r,t),h=bS(o,t);return!u||!h?!1:I3(e)||(n==="spring"||b2(n))&&i}function Mv(e){e.duration=0,e.type}const k3=new Set(["opacity","clipPath","filter","transform"]),D3=Z0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function M3(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:o,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=t.owner.getProps();return D3()&&n&&k3.has(n)&&(n!=="transform"||!m)&&!d&&!i&&r!=="mirror"&&o!==0&&u!=="inertia"}const O3=40;class L3 extends sw{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_r.now();const v={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:u,name:d,motionValue:m,element:g,...y},T=g?.KeyframeResolver||aw;this.keyframeResolver=new T(h,(R,M,F)=>this.onKeyframesResolved(R,M,v,!F),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,r){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:g}=i;this.resolvedAt=_r.now(),P3(t,o,u,h)||((Xo.instantAnimations||!d)&&g?.(rw(t,i,n)),t[0]=t[t.length-1],Mv(i),i.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>O3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},T=!m&&M3(v)?new C3({...v,element:v.motionValue.owner.current}):new ow(v);T.finished.then(()=>this.notifyFinished()).catch(ms),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),y3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const N3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V3(e){const t=N3.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function E2(e,t,n=1){const[i,r]=V3(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const u=o.trim();return GC(u)?parseFloat(u):u}return J0(r)?E2(r,t,n+1):r}function lw(e,t){return e?.[t]??e?.default??e}const S2=new Set(["width","height","top","left","right","bottom",...Fc]),z3={test:e=>e==="auto",parse:e=>e},x2=e=>t=>t.test(e),A2=[Bc,ee,uo,Wa,I4,C4,z3],TS=e=>A2.find(x2(e));function U3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||KC(e):!0}const B3=new Set(["brightness","contrast","saturate","opacity"]);function F3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(tw)||[];if(!i)return e;const r=n.replace(i,"");let o=B3.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+r+")"}const j3=/\b([a-z-]*)\(.*?\)/gu,Ov={...al,getAnimatableNone:e=>{const t=e.match(j3);return t?t.map(F3).join(" "):e}},ES={...Bc,transform:Math.round},H3={rotate:Wa,rotateX:Wa,rotateY:Wa,rotateZ:Wa,scale:Dp,scaleX:Dp,scaleY:Dp,scaleZ:Dp,skew:Wa,skewX:Wa,skewY:Wa,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:zf,originX:cS,originY:cS,originZ:ee},uw={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee,...H3,zIndex:ES,fillOpacity:zf,strokeOpacity:zf,numOctaves:ES},q3={...uw,color:ii,backgroundColor:ii,outlineColor:ii,fill:ii,stroke:ii,borderColor:ii,borderTopColor:ii,borderRightColor:ii,borderBottomColor:ii,borderLeftColor:ii,filter:Ov,WebkitFilter:Ov},R2=e=>q3[e];function C2(e,t){let n=R2(e);return n!==Ov&&(n=al),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const G3=new Set(["auto","none","0"]);function W3(e,t,n){let i=0,r;for(;i<e.length&&!r;){const o=e[i];typeof o=="string"&&!G3.has(o)&&Uf(o).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=C2(n,r)}class K3 extends aw{constructor(t,n,i,r,o){super(t,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let m=t[d];if(typeof m=="string"&&(m=m.trim(),J0(m))){const g=E2(m,n.current);g!==void 0&&(t[d]=g),d===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!S2.has(i)||t.length!==2)return;const[r,o]=t,u=TS(r),h=TS(o);if(u!==h)if(_S(u)&&_S(h))for(let d=0;d<t.length;d++){const m=t[d];typeof m=="string"&&(t[d]=parseFloat(m))}else iu[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||U3(t[r]))&&i.push(r);i.length&&W3(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=iu[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=iu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function Z3(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const r=n?.[e]??i.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const I2=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function P2(e){return WC(e)&&"offsetHeight"in e}const SS=30,$3=e=>!isNaN(parseFloat(e));class Y3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=_r.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=_r.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new $0);const i=this.events[t].add(n);return t==="change"?()=>{i(),Pn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_r.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>SS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,SS);return ZC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rc(e,t){return new Y3(e,t)}const{schedule:cw}=s2(queueMicrotask,!1),Ms={x:!1,y:!1};function k2(){return Ms.x||Ms.y}function X3(e){return e==="x"||e==="y"?Ms[e]?null:(Ms[e]=!0,()=>{Ms[e]=!1}):Ms.x||Ms.y?null:(Ms.x=Ms.y=!0,()=>{Ms.x=Ms.y=!1})}function D2(e,t){const n=Z3(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function xS(e){return!(e.pointerType==="touch"||k2())}function Q3(e,t,n={}){const[i,r,o]=D2(e,n),u=h=>{if(!xS(h))return;const{target:d}=h,m=t(d,h);if(typeof m!="function"||!d)return;const g=y=>{xS(y)&&(m(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,r)};return i.forEach(h=>{h.addEventListener("pointerenter",u,r)}),o}const M2=(e,t)=>t?e===t?!0:M2(e,t.parentElement):!1,hw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,J3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tV(e){return J3.has(e.tagName)||e.tabIndex!==-1}const Qp=new WeakSet;function AS(e){return t=>{t.key==="Enter"&&e(t)}}function A_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const eV=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=AS(()=>{if(Qp.has(n))return;A_(n,"down");const r=AS(()=>{A_(n,"up")}),o=()=>A_(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function RS(e){return hw(e)&&!k2()}function nV(e,t,n={}){const[i,r,o]=D2(e,n),u=h=>{const d=h.currentTarget;if(!RS(h))return;Qp.add(d);const m=t(d,h),g=(T,R)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Qp.has(d)&&Qp.delete(d),RS(T)&&typeof m=="function"&&m(T,{success:R})},y=T=>{g(T,d===window||d===document||n.useGlobalTarget||M2(d,T.target))},v=T=>{g(T,!1)};window.addEventListener("pointerup",y,r),window.addEventListener("pointercancel",v,r)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,r),P2(h)&&(h.addEventListener("focus",m=>eV(m,r)),!tV(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function O2(e){return WC(e)&&"ownerSVGElement"in e}function iV(e){return O2(e)&&e.tagName==="svg"}const Ki=e=>!!(e&&e.getVelocity),rV=[...A2,ii,al],sV=e=>rV.find(x2(e)),fw=Q.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class oV extends Q.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=P2(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function aV({children:e,isPresent:t,anchorX:n,root:i}){const r=Q.useId(),o=Q.useRef(null),u=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=Q.useContext(fw);return Q.useInsertionEffect(()=>{const{width:d,height:m,top:g,left:y,right:v}=u.current;if(t||!o.current||!d||!m)return;const T=n==="left"?`left: ${y}`:`right: ${v}`;o.current.dataset.motionPopId=r;const R=document.createElement("style");h&&(R.nonce=h);const M=i??document.head;return M.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${T}px !important;
            top: ${g}px !important;
          }
        `),()=>{M.contains(R)&&M.removeChild(R)}},[t]),ot.jsx(oV,{isPresent:t,childRef:o,sizeRef:u,children:Q.cloneElement(e,{ref:o})})}const lV=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:u,anchorX:h,root:d})=>{const m=H0(uV),g=Q.useId();let y=!0,v=Q.useMemo(()=>(y=!1,{id:g,initial:t,isPresent:n,custom:r,onExitComplete:T=>{m.set(T,!0);for(const R of m.values())if(!R)return;i&&i()},register:T=>(m.set(T,!1),()=>m.delete(T))}),[n,m,i]);return o&&y&&(v={...v}),Q.useMemo(()=>{m.forEach((T,R)=>m.set(R,!1))},[n]),Q.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),u==="popLayout"&&(e=ot.jsx(aV,{isPresent:n,anchorX:h,root:d,children:e})),ot.jsx(eg.Provider,{value:v,children:e})};function uV(){return new Map}function L2(e=!0){const t=Q.useContext(eg);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,o=Q.useId();Q.useEffect(()=>{if(e)return r(o)},[e]);const u=Q.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,u]:[!0]}const Mp=e=>e.key||"";function CS(e){const t=[];return Q.Children.forEach(e,n=>{Q.isValidElement(n)&&t.push(n)}),t}const dw=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[m,g]=L2(u),y=Q.useMemo(()=>CS(e),[e]),v=u&&!m?[]:y.map(Mp),T=Q.useRef(!0),R=Q.useRef(y),M=H0(()=>new Map),[F,N]=Q.useState(y),[K,W]=Q.useState(y);qC(()=>{T.current=!1,R.current=y;for(let z=0;z<K.length;z++){const q=Mp(K[z]);v.includes(q)?M.delete(q):M.get(q)!==!0&&M.set(q,!1)}},[K,v.length,v.join("-")]);const tt=[];if(y!==F){let z=[...y];for(let q=0;q<K.length;q++){const x=K[q],A=Mp(x);v.includes(A)||(z.splice(q,0,x),tt.push(x))}return o==="wait"&&tt.length&&(z=tt),W(CS(z)),N(y),null}const{forceRender:X}=Q.useContext(j0);return ot.jsx(ot.Fragment,{children:K.map(z=>{const q=Mp(z),x=u&&!m?!1:y===K||v.includes(q),A=()=>{if(M.has(q))M.set(q,!0);else return;let U=!0;M.forEach(k=>{k||(U=!1)}),U&&(X?.(),W(R.current),u&&g?.(),i&&i())};return ot.jsx(lV,{isPresent:x,initial:!T.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:d,onExitComplete:x?void 0:A,anchorX:h,children:z},q)})})},N2=Q.createContext({strict:!1}),IS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cc={};for(const e in IS)Cc[e]={isEnabled:t=>IS[e].some(n=>!!t[n])};function cV(e){for(const t in e)Cc[t]={...Cc[t],...e[t]}}const hV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hV.has(e)}let V2=e=>!wm(e);function fV(e){typeof e=="function"&&(V2=t=>t.startsWith("on")?!wm(t):e(t))}try{fV(require("@emotion/is-prop-valid").default)}catch{}function dV(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(V2(r)||n===!0&&wm(r)||!t&&!wm(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}const ng=Q.createContext({});function ig(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bf(e){return typeof e=="string"||Array.isArray(e)}const pw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mw=["initial",...pw];function rg(e){return ig(e.animate)||mw.some(t=>Bf(e[t]))}function z2(e){return!!(rg(e)||e.variants)}function pV(e,t){if(rg(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Bf(n)?n:void 0,animate:Bf(i)?i:void 0}}return e.inherit!==!1?t:{}}function mV(e){const{initial:t,animate:n}=pV(e,Q.useContext(ng));return Q.useMemo(()=>({initial:t,animate:n}),[PS(t),PS(n)])}function PS(e){return Array.isArray(e)?e.join(" "):e}const Ff={};function gV(e){for(const t in e)Ff[t]=e[t],Q0(t)&&(Ff[t].isCSSVariable=!0)}function U2(e,{layout:t,layoutId:n}){return jc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ff[e]||e==="opacity")}const yV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_V=Fc.length;function vV(e,t,n){let i="",r=!0;for(let o=0;o<_V;o++){const u=Fc[o],h=e[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=I2(h,uw[u]);if(!d){r=!1;const g=yV[u]||u;i+=`${g}(${m}) `}n&&(t[u]=m)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function gw(e,t,n){const{style:i,vars:r,transformOrigin:o}=e;let u=!1,h=!1;for(const d in t){const m=t[d];if(jc.has(d)){u=!0;continue}else if(Q0(d)){r[d]=m;continue}else{const g=I2(m,uw[d]);d.startsWith("origin")?(h=!0,o[d]=g):i[d]=g}}if(t.transform||(u||n?i.transform=vV(t,e.transform,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=o;i.transformOrigin=`${d} ${m} ${g}`}}const yw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function B2(e,t,n){for(const i in t)!Ki(t[i])&&!U2(i,n)&&(e[i]=t[i])}function wV({transformTemplate:e},t){return Q.useMemo(()=>{const n=yw();return gw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function bV(e,t){const n=e.style||{},i={};return B2(i,n,e),Object.assign(i,wV(e,t)),i}function TV(e,t){const n={},i=bV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const EV={offset:"stroke-dashoffset",array:"stroke-dasharray"},SV={offset:"strokeDashoffset",array:"strokeDasharray"};function xV(e,t,n=1,i=0,r=!0){e.pathLength=1;const o=r?EV:SV;e[o.offset]=ee.transform(-i);const u=ee.transform(t),h=ee.transform(n);e[o.array]=`${u} ${h}`}function F2(e,{attrX:t,attrY:n,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:u=0,...h},d,m,g){if(gw(e,h,m),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:v}=e;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),r!==void 0&&xV(y,r,o,u,!1)}const j2=()=>({...yw(),attrs:{}}),H2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function AV(e,t,n,i){const r=Q.useMemo(()=>{const o=j2();return F2(o,t,H2(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};B2(o,e.style,e),r.style={...o,...r.style}}return r}const RV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _w(e){return typeof e!="string"||e.includes("-")?!1:!!(RV.indexOf(e)>-1||/[A-Z]/u.test(e))}function CV(e,t,n,{latestValues:i},r,o=!1){const h=(_w(e)?AV:TV)(t,i,r,e),d=dV(t,typeof e=="string",o),m=e!==Q.Fragment?{...d,...h,ref:n}:{},{children:g}=t,y=Q.useMemo(()=>Ki(g)?g.get():g,[g]);return Q.createElement(e,{...m,children:y})}function kS(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function vw(e,t,n,i){if(typeof t=="function"){const[r,o]=kS(i);t=t(n!==void 0?n:e.custom,r,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,o]=kS(i);t=t(n!==void 0?n:e.custom,r,o)}return t}function Jp(e){return Ki(e)?e.get():e}function IV({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,r){return{latestValues:PV(n,i,r,e),renderState:t()}}function PV(e,t,n,i){const r={},o=i(e,{});for(const v in o)r[v]=Jp(o[v]);let{initial:u,animate:h}=e;const d=rg(e),m=z2(e);t&&m&&!d&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?h:u;if(y&&typeof y!="boolean"&&!ig(y)){const v=Array.isArray(y)?y:[y];for(let T=0;T<v.length;T++){const R=vw(e,v[T]);if(R){const{transitionEnd:M,transition:F,...N}=R;for(const K in N){let W=N[K];if(Array.isArray(W)){const tt=g?W.length-1:0;W=W[tt]}W!==null&&(r[K]=W)}for(const K in M)r[K]=M[K]}}}return r}const q2=e=>(t,n)=>{const i=Q.useContext(ng),r=Q.useContext(eg),o=()=>IV(e,t,i,r);return n?o():H0(o)};function ww(e,t,n){const{style:i}=e,r={};for(const o in i)(Ki(i[o])||t.style&&Ki(t.style[o])||U2(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(r[o]=i[o]);return r}const kV=q2({scrapeMotionValuesFromProps:ww,createRenderState:yw});function G2(e,t,n){const i=ww(e,t,n);for(const r in e)if(Ki(e[r])||Ki(t[r])){const o=Fc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=e[r]}return i}const DV=q2({scrapeMotionValuesFromProps:G2,createRenderState:j2}),MV=Symbol.for("motionComponentSymbol");function hc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function OV(e,t,n){return Q.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):hc(n)&&(n.current=i))},[t])}const bw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LV="framerAppearId",W2="data-"+bw(LV),K2=Q.createContext({});function NV(e,t,n,i,r){const{visualElement:o}=Q.useContext(ng),u=Q.useContext(N2),h=Q.useContext(eg),d=Q.useContext(fw).reducedMotion,m=Q.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:o,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=m.current,y=Q.useContext(K2);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&VV(m.current,n,r,y);const v=Q.useRef(!1);Q.useInsertionEffect(()=>{g&&v.current&&g.update(n,h)});const T=n[W2],R=Q.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return qC(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),R.current&&g.animationState&&g.animationState.animateChanges())}),Q.useEffect(()=>{g&&(!R.current&&g.animationState&&g.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),R.current=!1),g.enteringChildren=void 0)}),g}function VV(e,t,n,i){const{layoutId:r,layout:o,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Z2(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!u||h&&hc(h),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:m})}function Z2(e){if(e)return e.options.allowProjection!==!1?e.projection:Z2(e.parent)}function R_(e,{forwardMotionProps:t=!1}={},n,i){n&&cV(n);const r=_w(e)?DV:kV;function o(h,d){let m;const g={...Q.useContext(fw),...h,layoutId:zV(h)},{isStatic:y}=g,v=mV(h),T=r(h,y);if(!y&&q0){UV();const R=BV(g);m=R.MeasureLayout,v.visualElement=NV(e,T,g,i,R.ProjectionNode)}return ot.jsxs(ng.Provider,{value:v,children:[m&&v.visualElement?ot.jsx(m,{visualElement:v.visualElement,...g}):null,CV(e,h,OV(T,v.visualElement,d),T,y,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=Q.forwardRef(o);return u[MV]=e,u}function zV({layoutId:e}){const t=Q.useContext(j0).id;return t&&e!==void 0?t+"-"+e:e}function UV(e,t){Q.useContext(N2).strict}function BV(e){const{drag:t,layout:n}=Cc;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function FV(e,t){if(typeof Proxy>"u")return R_;const n=new Map,i=(o,u)=>R_(o,u,e,t),r=(o,u)=>i(o,u);return new Proxy(r,{get:(o,u)=>u==="create"?i:(n.has(u)||n.set(u,R_(u,void 0,e,t)),n.get(u))})}function $2({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function jV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function HV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function C_(e){return e===void 0||e===1}function Lv({scale:e,scaleX:t,scaleY:n}){return!C_(e)||!C_(t)||!C_(n)}function Xl(e){return Lv(e)||Y2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Y2(e){return DS(e.x)||DS(e.y)}function DS(e){return e&&e!=="0%"}function bm(e,t,n){const i=e-n,r=t*i;return n+r}function MS(e,t,n,i,r){return r!==void 0&&(e=bm(e,r,i)),bm(e,n,i)+t}function Nv(e,t=0,n=1,i,r){e.min=MS(e.min,t,n,i,r),e.max=MS(e.max,t,n,i,r)}function X2(e,{x:t,y:n}){Nv(e.x,t.translate,t.scale,t.originPoint),Nv(e.y,n.translate,n.scale,n.originPoint)}const OS=.999999999999,LS=1.0000000000001;function qV(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let o,u;for(let h=0;h<r;h++){o=n[h],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&dc(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,X2(e,u)),i&&Xl(o.latestValues)&&dc(e,o.latestValues))}t.x<LS&&t.x>OS&&(t.x=1),t.y<LS&&t.y>OS&&(t.y=1)}function fc(e,t){e.min=e.min+t,e.max=e.max+t}function NS(e,t,n,i,r=.5){const o=Nn(e.min,e.max,r);Nv(e,t,n,o,i)}function dc(e,t){NS(e.x,t.x,t.scaleX,t.scale,t.originX),NS(e.y,t.y,t.scaleY,t.scale,t.originY)}function Q2(e,t){return $2(HV(e.getBoundingClientRect(),t))}function GV(e,t,n){const i=Q2(e,n),{scroll:r}=t;return r&&(fc(i.x,r.offset.x),fc(i.y,r.offset.y)),i}const VS=()=>({translate:0,scale:1,origin:0,originPoint:0}),pc=()=>({x:VS(),y:VS()}),zS=()=>({min:0,max:0}),Zn=()=>({x:zS(),y:zS()}),Vv={current:null},J2={current:!1};function WV(){if(J2.current=!0,!!q0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vv.current=e.matches;e.addEventListener("change",t),t()}else Vv.current=!1}const KV=new WeakMap;function ZV(e,t,n){for(const i in t){const r=t[i],o=n[i];if(Ki(r))e.addValue(i,r);else if(Ki(o))e.addValue(i,Rc(r,{owner:e}));else if(o!==r)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(r):u.hasAnimated||u.set(r)}else{const u=e.getStaticValue(i);e.addValue(i,Rc(u!==void 0?u:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const US=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $V{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=aw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=_r.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Pn.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=rg(n),this.isVariantNode=z2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const T=y[v];d[v]!==void 0&&Ki(T)&&T.set(d[v])}}mount(t){this.current=t,KV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),J2.current||WV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ol(this.notifyUpdate),ol(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=jc.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Pn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Cc){const n=Cc[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<US.length;i++){const r=US[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,u=t[o];u&&(this.propEventSubscriptions[r]=this.on(r,u))}this.prevMotionValues=ZV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Rc(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(GC(i)||KC(i))?i=parseFloat(i):!sV(i)&&al.test(n)&&(i=C2(t,n)),this.setBaseTarget(t,Ki(i)?i.get():i)),Ki(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=vw(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Ki(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new $0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){cw.render(this.render)}}class tI extends $V{constructor(){super(...arguments),this.KeyframeResolver=K3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ki(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function eI(e,{style:t,vars:n},i,r){const o=e.style;let u;for(u in t)o[u]=t[u];r?.applyProjectionStyles(o,i);for(u in n)o.setProperty(u,n[u])}function YV(e){return window.getComputedStyle(e)}class XV extends tI{constructor(){super(...arguments),this.type="html",this.renderInstance=eI}readValueFromInstance(t,n){if(jc.has(n))return this.projection?.isProjecting?Cv(n):f3(t,n);{const i=YV(t),r=(Q0(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Q2(t,n)}build(t,n,i){gw(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return ww(t,n,i)}}const nI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QV(e,t,n,i){eI(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(nI.has(r)?r:bw(r),t.attrs[r])}class JV extends tI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(jc.has(n)){const i=R2(n);return i&&i.default||0}return n=nI.has(n)?n:bw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return G2(t,n,i)}build(t,n,i){F2(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,r){QV(t,n,i,r)}mount(t){this.isSVGTag=H2(t.tagName),super.mount(t)}}const t5=(e,t)=>_w(e)?new JV(t):new XV(t,{allowProjection:e!==Q.Fragment});function _c(e,t,n){const i=e.getProps();return vw(i,t,n!==void 0?n:i.custom,e)}const zv=e=>Array.isArray(e);function e5(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Rc(n))}function n5(e){return zv(e)?e[e.length-1]||0:e}function i5(e,t){const n=_c(e,t);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const u in o){const h=n5(o[u]);e5(e,u,h)}}function r5(e){return!!(Ki(e)&&e.add)}function Uv(e,t){const n=e.getValue("willChange");if(r5(n))return n.add(t);if(!n&&Xo.WillChange){const i=new Xo.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function iI(e){return e.props[W2]}const s5=e=>e!==null;function o5(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(s5),o=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[o]}const a5={type:"spring",stiffness:500,damping:25,restSpeed:10},l5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),u5={type:"keyframes",duration:.8},c5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h5=(e,{keyframes:t})=>t.length>2?u5:jc.has(e)?e.startsWith("scale")?l5(t[1]):a5:c5;function f5({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const Tw=(e,t,n,i={},r,o)=>u=>{const h=lw(i,e)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-ao(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-m,onUpdate:v=>{t.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:o?void 0:r};f5(h)||Object.assign(g,h5(e,g)),g.duration&&(g.duration=ao(g.duration)),g.repeatDelay&&(g.repeatDelay=ao(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Mv(g),g.delay===0&&(y=!0)),(Xo.instantAnimations||Xo.skipAnimations)&&(y=!0,Mv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!o&&t.get()!==void 0){const v=o5(g.keyframes,h);if(v!==void 0){Pn.update(()=>{g.onUpdate(v),g.onComplete()});return}}return h.isSync?new ow(g):new L3(g)};function d5({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function rI(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:u,...h}=t;i&&(o=i);const d=[],m=r&&e.animationState&&e.animationState.getState()[r];for(const g in h){const y=e.getValue(g,e.latestValues[g]??null),v=h[g];if(v===void 0||m&&d5(m,g))continue;const T={delay:n,...lw(o||{},g)},R=y.get();if(R!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===R&&!T.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const N=iI(e);if(N){const K=window.MotionHandoffAnimation(N,g,Pn);K!==null&&(T.startTime=K,M=!0)}}Uv(e,g),y.start(Tw(g,y,v,e.shouldReduceMotion&&S2.has(g)?{type:!1}:T,e,M));const F=y.animation;F&&d.push(F)}return u&&Promise.all(d).then(()=>{Pn.update(()=>{u&&i5(e,u)})}),d}function sI(e,t,n,i=0,r=1){const o=Array.from(e).sort((m,g)=>m.sortNodePosition(g)).indexOf(t),u=e.size,h=(u-1)*i;return typeof n=="function"?n(o,u):r===1?o*i:h-o*i}function Bv(e,t,n={}){const i=_c(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(rI(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=r;return p5(e,t,d,m,g,y,n)}:()=>Promise.resolve(),{when:h}=r;if(h){const[d,m]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>m())}else return Promise.all([o(),u(n.delay)])}function p5(e,t,n=0,i=0,r=0,o=1,u){const h=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),h.push(Bv(d,t,{...u,delay:n+(typeof i=="function"?0:i)+sI(e.variantChildren,d,i,r,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(h)}function m5(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(o=>Bv(e,o,n));i=Promise.all(r)}else if(typeof t=="string")i=Bv(e,t,n);else{const r=typeof t=="function"?_c(e,t,n.custom):t;i=Promise.all(rI(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function oI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const g5=mw.length;function aI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?aI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<g5;n++){const i=mw[n],r=e.props[i];(Bf(r)||r===!1)&&(t[i]=r)}return t}const y5=[...pw].reverse(),_5=pw.length;function v5(e){return t=>Promise.all(t.map(({animation:n,options:i})=>m5(e,n,i)))}function w5(e){let t=v5(e),n=BS(),i=!0;const r=d=>(m,g)=>{const y=_c(e,g,d==="exit"?e.presenceContext?.custom:void 0);if(y){const{transition:v,transitionEnd:T,...R}=y;m={...m,...R,...T}}return m};function o(d){t=d(e)}function u(d){const{props:m}=e,g=aI(e.parent)||{},y=[],v=new Set;let T={},R=1/0;for(let F=0;F<_5;F++){const N=y5[F],K=n[N],W=m[N]!==void 0?m[N]:g[N],tt=Bf(W),X=N===d?K.isActive:null;X===!1&&(R=F);let z=W===g[N]&&W!==m[N]&&tt;if(z&&i&&e.manuallyAnimateOnMount&&(z=!1),K.protectedKeys={...T},!K.isActive&&X===null||!W&&!K.prevProp||ig(W)||typeof W=="boolean")continue;const q=b5(K.prevProp,W);let x=q||N===d&&K.isActive&&!z&&tt||F>R&&tt,A=!1;const U=Array.isArray(W)?W:[W];let k=U.reduce(r(N),{});X===!1&&(k={});const{prevResolvedValues:P={}}=K,D={...P,...k},Z=V=>{x=!0,v.has(V)&&(A=!0,v.delete(V)),K.needsAnimating[V]=!0;const nt=e.getValue(V);nt&&(nt.liveStyle=!1)};for(const V in D){const nt=k[V],it=P[V];if(T.hasOwnProperty(V))continue;let C=!1;zv(nt)&&zv(it)?C=!oI(nt,it):C=nt!==it,C?nt!=null?Z(V):v.add(V):nt!==void 0&&v.has(V)?Z(V):K.protectedKeys[V]=!0}K.prevProp=W,K.prevResolvedValues=k,K.isActive&&(T={...T,...k}),i&&e.blockInitialAnimation&&(x=!1);const G=z&&q;x&&(!G||A)&&y.push(...U.map(V=>{const nt={type:N};if(typeof V=="string"&&i&&!G&&e.manuallyAnimateOnMount&&e.parent){const{parent:it}=e,C=_c(it,V);if(it.enteringChildren&&C){const{delayChildren:at}=C.transition||{};nt.delay=sI(it.enteringChildren,e,at)}}return{animation:V,options:nt}}))}if(v.size){const F={};if(typeof m.initial!="boolean"){const N=_c(e,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(F.transition=N.transition)}v.forEach(N=>{const K=e.getBaseTarget(N),W=e.getValue(N);W&&(W.liveStyle=!0),F[N]=K??null}),y.push({animation:F})}let M=!!y.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(M=!1),i=!1,M?t(y):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();e.variantChildren?.forEach(y=>y.animationState?.setActive(d,m)),n[d].isActive=m;const g=u(d);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=BS(),i=!0}}}function b5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oI(t,e):!1}function Yl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BS(){return{animate:Yl(!0),whileInView:Yl(),whileHover:Yl(),whileTap:Yl(),whileDrag:Yl(),whileFocus:Yl(),exit:Yl()}}class yl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class T5 extends yl{constructor(t){super(t),t.animationState||(t.animationState=w5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ig(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let E5=0;class S5 extends yl{constructor(){super(...arguments),this.id=E5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const x5={animation:{Feature:T5},exit:{Feature:S5}};function jf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function hd(e){return{point:{x:e.pageX,y:e.pageY}}}const A5=e=>t=>hw(t)&&e(t,hd(t));function wf(e,t,n,i){return jf(e,t,A5(n),i)}const lI=1e-4,R5=1-lI,C5=1+lI,uI=.01,I5=0-uI,P5=0+uI;function or(e){return e.max-e.min}function k5(e,t,n){return Math.abs(e-t)<=n}function FS(e,t,n,i=.5){e.origin=i,e.originPoint=Nn(t.min,t.max,e.origin),e.scale=or(n)/or(t),e.translate=Nn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=R5&&e.scale<=C5||isNaN(e.scale))&&(e.scale=1),(e.translate>=I5&&e.translate<=P5||isNaN(e.translate))&&(e.translate=0)}function bf(e,t,n,i){FS(e.x,t.x,n.x,i?i.originX:void 0),FS(e.y,t.y,n.y,i?i.originY:void 0)}function jS(e,t,n){e.min=n.min+t.min,e.max=e.min+or(t)}function D5(e,t,n){jS(e.x,t.x,n.x),jS(e.y,t.y,n.y)}function HS(e,t,n){e.min=t.min-n.min,e.max=e.min+or(t)}function Tf(e,t,n){HS(e.x,t.x,n.x),HS(e.y,t.y,n.y)}function cs(e){return[e("x"),e("y")]}const cI=({current:e})=>e?e.ownerDocument.defaultView:null,qS=(e,t)=>Math.abs(e-t);function M5(e,t){const n=qS(e.x,t.x),i=qS(e.y,t.y);return Math.sqrt(n**2+i**2)}class hI{constructor(t,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=P_(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,R=M5(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!R)return;const{point:M}=v,{timestamp:F}=ki;this.history.push({...M,timestamp:F});const{onStart:N,onMove:K}=this.handlers;T||(N&&N(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,v)},this.handlePointerMove=(v,T)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=I_(T,this.transformPagePoint),Pn.update(this.updatePoint,!0)},this.handlePointerUp=(v,T)=>{this.end();const{onEnd:R,onSessionEnd:M,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=P_(v.type==="pointercancel"?this.lastMoveEventInfo:I_(T,this.transformPagePoint),this.history);this.startEvent&&R&&R(v,N),M&&M(v,N)},!hw(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=r||window;const h=hd(t),d=I_(h,this.transformPagePoint),{point:m}=d,{timestamp:g}=ki;this.history=[{...m,timestamp:g}];const{onSessionStart:y}=n;y&&y(t,P_(d,this.history)),this.removeListeners=ld(wf(this.contextWindow,"pointermove",this.handlePointerMove),wf(this.contextWindow,"pointerup",this.handlePointerUp),wf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ol(this.updatePoint)}}function I_(e,t){return t?{point:t(e.point)}:e}function GS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function P_({point:e},t){return{point:e,delta:GS(e,fI(t)),offset:GS(e,O5(t)),velocity:L5(t,.1)}}function O5(e){return e[0]}function fI(e){return e[e.length-1]}function L5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=fI(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>ao(t)));)n--;if(!i)return{x:0,y:0};const o=lo(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function N5(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Nn(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Nn(n,e,i.max):Math.min(e,n)),e}function WS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function V5(e,{top:t,left:n,bottom:i,right:r}){return{x:WS(e.x,n,r),y:WS(e.y,t,i)}}function KS(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function z5(e,t){return{x:KS(e.x,t.x),y:KS(e.y,t.y)}}function U5(e,t){let n=.5;const i=or(e),r=or(t);return r>i?n=Vf(t.min,t.max-i,e.min):i>r&&(n=Vf(e.min,e.max-r,t.min)),Yo(0,1,n)}function B5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Fv=.35;function F5(e=Fv){return e===!1?e=0:e===!0&&(e=Fv),{x:ZS(e,"left","right"),y:ZS(e,"top","bottom")}}function ZS(e,t,n){return{min:$S(e,t),max:$S(e,n)}}function $S(e,t){return typeof e=="number"?e:e[t]||0}const j5=new WeakMap;class H5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hd(y).point)},u=(y,v)=>{const{drag:T,dragPropagation:R,onDragStart:M}=this.getProps();if(T&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=X3(T),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cs(N=>{let K=this.getAxisMotionValue(N).get()||0;if(uo.test(K)){const{projection:W}=this.visualElement;if(W&&W.layout){const tt=W.layout.layoutBox[N];tt&&(K=or(tt)*(parseFloat(K)/100))}}this.originPoint[N]=K}),M&&Pn.postRender(()=>M(y,v)),Uv(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},h=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:T,dragDirectionLock:R,onDirectionLock:M,onDrag:F}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:N}=v;if(R&&this.currentDirection===null){this.currentDirection=q5(N),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",v.point,N),this.updateAxis("y",v.point,N),this.visualElement.render(),F&&F(y,v)},d=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>cs(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new hI(t,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:cI(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,r=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!i)return;const{velocity:u}=r;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Pn.postRender(()=>h(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!Op(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=N5(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&hc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=V5(i.layoutBox,t):this.constraints=!1,this.elastic=F5(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&cs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=B5(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hc(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=GV(i,r.root,this.visualElement.getTransformPagePoint());let u=z5(r.layout.layoutBox,o);if(n){const h=n(jV(u));this.hasMutatedConstraints=!!h,h&&(u=$2(h))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=cs(g=>{if(!Op(g,n,this.currentDirection))return;let y=d&&d[g]||{};u&&(y={min:0,max:0});const v=r?200:1e6,T=r?40:1e7,R={type:"inertia",velocity:i?t[g]:0,bounceStiffness:v,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(g,R)});return Promise.all(m).then(h)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Uv(this.visualElement,t),i.start(Tw(t,i,0,n,this.visualElement,!1))}stopAnimation(){cs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){cs(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){cs(n=>{const{drag:i}=this.getProps();if(!Op(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:u,max:h}=r.layout.layoutBox[n];o.set(t[n]-Nn(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!hc(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};cs(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();r[u]=U5({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),cs(u=>{if(!Op(u,t,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(Nn(d,m,r[u]))})}addListeners(){if(!this.visualElement.current)return;j5.set(this.visualElement,this);const t=this.visualElement.current,n=wf(t,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();hc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Pn.read(i);const u=jf(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(cs(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:u=Fv,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function Op(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function q5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class G5 extends yl{constructor(t){super(t),this.removeGroupControls=ms,this.removeListeners=ms,this.controls=new H5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ms}unmount(){this.removeGroupControls(),this.removeListeners()}}const YS=e=>(t,n)=>{e&&Pn.postRender(()=>e(t,n))};class W5 extends yl{constructor(){super(...arguments),this.removePointerDownListener=ms}onPointerDown(t){this.session=new hI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:YS(t),onStart:YS(n),onMove:i,onEnd:(o,u)=>{delete this.session,r&&Pn.postRender(()=>r(o,u))}}}mount(){this.removePointerDownListener=wf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function XS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=XS(e,t.target.x),i=XS(e,t.target.y);return`${n}% ${i}%`}},K5={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=al.parse(e);if(r.length>5)return i;const o=al.createTransformer(e),u=typeof r[0]!="number"?1:0,h=n.x.scale*t.x,d=n.y.scale*t.y;r[0+u]/=h,r[1+u]/=d;const m=Nn(h,d,.5);return typeof r[2+u]=="number"&&(r[2+u]/=m),typeof r[3+u]=="number"&&(r[3+u]/=m),o(r)}};let k_=!1;class Z5 extends Q.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=t;gV($5),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),k_&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),tm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,k_=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==o?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||Pn.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;k_=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function dI(e){const[t,n]=L2(),i=Q.useContext(j0);return ot.jsx(Z5,{...e,layoutGroup:i,switchLayoutGroup:Q.useContext(K2),isPresent:t,safeToRemove:n})}const $5={borderRadius:{...Wh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wh,borderTopRightRadius:Wh,borderBottomLeftRadius:Wh,borderBottomRightRadius:Wh,boxShadow:K5};function Y5(e,t,n){const i=Ki(e)?e:Rc(e);return i.start(Tw("",i,t,n)),i.animation}const X5=(e,t)=>e.depth-t.depth;class Q5{constructor(){this.children=[],this.isDirty=!1}add(t){G0(this.children,t),this.isDirty=!0}remove(t){W0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(X5),this.isDirty=!1,this.children.forEach(t)}}function J5(e,t){const n=_r.now(),i=({timestamp:r})=>{const o=r-n;o>=t&&(ol(i),e(o-t))};return Pn.setup(i,!0),()=>ol(i)}const pI=["TopLeft","TopRight","BottomLeft","BottomRight"],t6=pI.length,QS=e=>typeof e=="string"?parseFloat(e):e,JS=e=>typeof e=="number"||ee.test(e);function e6(e,t,n,i,r,o){r?(e.opacity=Nn(0,n.opacity??1,n6(i)),e.opacityExit=Nn(t.opacity??1,0,i6(i))):o&&(e.opacity=Nn(t.opacity??1,n.opacity??1,i));for(let u=0;u<t6;u++){const h=`border${pI[u]}Radius`;let d=tx(t,h),m=tx(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||JS(d)===JS(m)?(e[h]=Math.max(Nn(QS(d),QS(m),i),0),(uo.test(m)||uo.test(d))&&(e[h]+="%")):e[h]=m}(t.rotate||n.rotate)&&(e.rotate=Nn(t.rotate||0,n.rotate||0,i))}function tx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const n6=mI(0,.5,e2),i6=mI(.5,.95,ms);function mI(e,t,n){return i=>i<e?0:i>t?1:n(Vf(e,t,i))}function ex(e,t){e.min=t.min,e.max=t.max}function us(e,t){ex(e.x,t.x),ex(e.y,t.y)}function nx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ix(e,t,n,i,r){return e-=t,e=bm(e,1/n,i),r!==void 0&&(e=bm(e,1/r,i)),e}function r6(e,t=0,n=1,i=.5,r,o=e,u=e){if(uo.test(t)&&(t=parseFloat(t),t=Nn(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=Nn(o.min,o.max,i);e===o&&(h-=t),e.min=ix(e.min,t,n,h,r),e.max=ix(e.max,t,n,h,r)}function rx(e,t,[n,i,r],o,u){r6(e,t[n],t[i],t[r],t.scale,o,u)}const s6=["x","scaleX","originX"],o6=["y","scaleY","originY"];function sx(e,t,n,i){rx(e.x,t,s6,n?n.x:void 0,i?i.x:void 0),rx(e.y,t,o6,n?n.y:void 0,i?i.y:void 0)}function ox(e){return e.translate===0&&e.scale===1}function gI(e){return ox(e.x)&&ox(e.y)}function ax(e,t){return e.min===t.min&&e.max===t.max}function a6(e,t){return ax(e.x,t.x)&&ax(e.y,t.y)}function lx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function yI(e,t){return lx(e.x,t.x)&&lx(e.y,t.y)}function ux(e){return or(e.x)/or(e.y)}function cx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class l6{constructor(){this.members=[]}add(t){G0(this.members,t),t.scheduleRender()}remove(t){if(W0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function u6(e,t,n){let i="";const r=e.x.translate/t.x,o=e.y.translate/t.y,u=n?.z||0;if((r||o||u)&&(i=`translate3d(${r}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:T,skewY:R}=n;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),v&&(i+=`rotateY(${v}deg) `),T&&(i+=`skewX(${T}deg) `),R&&(i+=`skewY(${R}deg) `)}const h=e.x.scale*t.x,d=e.y.scale*t.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const D_=["","X","Y","Z"],c6=1e3;let h6=0;function M_(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function _I(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=iI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Pn,!(r||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&_I(i)}function vI({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(u={},h=t?.()){this.id=h6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(p6),this.nodes.forEach(_6),this.nodes.forEach(v6),this.nodes.forEach(m6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q5)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new $0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=O2(u)&&!iV(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),e){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;Pn.read(()=>{y=window.innerWidth}),e(u,()=>{const T=window.innerWidth;T!==y&&(y=T,this.root.updateBlockedByResize=!0,g&&g(),g=J5(v,250),tm.hasAnimatedSinceResize&&(tm.hasAnimatedSinceResize=!1,this.nodes.forEach(dx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||m.getDefaultTransition()||S6,{onLayoutAnimationStart:M,onLayoutAnimationComplete:F}=m.getProps(),N=!this.targetLayout||!yI(this.targetLayout,T),K=!y&&v;if(this.options.layoutRoot||this.resumeFrom||K||y&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const W={...lw(R,"layout"),onPlay:M,onComplete:F};(m.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W),this.setAnimationOrigin(g,K)}else y||dx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ol(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(w6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_I(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(y6),this.nodes.forEach(f6),this.nodes.forEach(d6)):this.nodes.forEach(fx),this.clearAllSnapshots();const h=_r.now();ki.delta=Yo(0,1e3/60,h-ki.timestamp),ki.timestamp=h,ki.isProcessing=!0,b_.update.process(ki),b_.preRender.process(ki),b_.render.process(ki),ki.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(g6),this.sharedNodes.forEach(b6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!or(this.snapshot.measuredBox.x)&&!or(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!gI(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Xl(this.latestValues)||g)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),x6(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Zn();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(A6))){const{scroll:m}=this.root;m&&(fc(h.x,m.offset.x),fc(h.y,m.offset.y))}return h}removeElementScroll(u){const h=Zn();if(us(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&us(h,u),fc(h.x,g.offset.x),fc(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const d=Zn();us(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&dc(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Xl(g.latestValues)&&dc(d,g.latestValues)}return Xl(this.latestValues)&&dc(d,this.latestValues),d}removeTransform(u){const h=Zn();us(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Xl(m.latestValues))continue;Lv(m.latestValues)&&m.updateSnapshot();const g=Zn(),y=m.measurePageBox();us(g,y),sx(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Xl(this.latestValues)&&sx(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ki.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=ki.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zn(),this.relativeTargetOrigin=Zn(),Tf(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zn(),this.targetWithTransforms=Zn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),D5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):us(this.target,this.layout.layoutBox),X2(this.target,this.targetDelta)):us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zn(),this.relativeTargetOrigin=Zn(),Tf(this.relativeTargetOrigin,this.target,v.target),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lv(this.parent.latestValues)||Y2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ki.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;us(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;qV(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Zn());const{target:T}=u;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nx(this.prevProjectionDelta.x,this.projectionDelta.x),nx(this.prevProjectionDelta.y,this.projectionDelta.y)),bf(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!cx(this.projectionDelta.x,this.prevProjectionDelta.x)||!cx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pc(),this.projectionDelta=pc(),this.projectionDeltaWithTransform=pc()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},y=pc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=Zn(),T=d?d.source:void 0,R=this.layout?this.layout.source:void 0,M=T!==R,F=this.getStack(),N=!F||F.members.length<=1,K=!!(M&&!N&&this.options.crossfade===!0&&!this.path.some(E6));this.animationProgress=0;let W;this.mixTargetDelta=tt=>{const X=tt/1e3;px(y.x,u.x,X),px(y.y,u.y,X),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tf(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T6(this.relativeTarget,this.relativeTargetOrigin,v,X),W&&a6(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=Zn()),us(W,this.relativeTarget)),M&&(this.animationValues=g,e6(g,m,this.latestValues,X,K,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ol(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pn.update(()=>{tm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rc(0)),this.currentAnimation=Y5(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&wI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Zn();const y=or(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+y;const v=or(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+v}us(h,d),dc(h,g),bf(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new l6),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&M_("z",u,m,this.animationValues);for(let g=0;g<D_.length;g++)M_(`rotate${D_[g]}`,u,m,this.animationValues),M_(`skew${D_[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Jp(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Jp(h?.pointerEvents)||""),this.hasProjected&&!Xl(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=u6(this.projectionDeltaWithTransform,this.treeScale,g);d&&(y=d(g,y)),u.transform=y;const{x:v,y:T}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${T.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const R in Ff){if(g[R]===void 0)continue;const{correct:M,applyTo:F,isCSSVariable:N}=Ff[R],K=y==="none"?g[R]:M(g[R],m);if(F){const W=F.length;for(let tt=0;tt<W;tt++)u[F[tt]]=K}else N?this.options.visualElement.renderState.vars[R]=K:u[R]=K}this.options.layoutId&&(u.pointerEvents=m===this?Jp(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(hx),this.root.sharedNodes.clear()}}}function f6(e){e.updateLayout()}function d6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:r}=e.options,o=t.source!==e.layout.source;r==="size"?cs(g=>{const y=o?t.measuredBox[g]:t.layoutBox[g],v=or(y);y.min=n[g].min,y.max=y.min+v}):wI(r,t.layoutBox,n)&&cs(g=>{const y=o?t.measuredBox[g]:t.layoutBox[g],v=or(n[g]);y.max=y.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+v)});const u=pc();bf(u,n,t.layoutBox);const h=pc();o?bf(h,e.applyTransform(i,!0),t.measuredBox):bf(h,n,t.layoutBox);const d=!gI(u);let m=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const T=Zn();Tf(T,t.layoutBox,y.layoutBox);const R=Zn();Tf(R,n,v.layoutBox),yI(T,R)||(m=!0),g.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=T,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function p6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function m6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function g6(e){e.clearSnapshot()}function hx(e){e.clearMeasurements()}function fx(e){e.isLayoutDirty=!1}function y6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _6(e){e.resolveTargetDelta()}function v6(e){e.calcProjection()}function w6(e){e.resetSkewAndRotation()}function b6(e){e.removeLeadSnapshot()}function px(e,t,n){e.translate=Nn(t.translate,0,n),e.scale=Nn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mx(e,t,n,i){e.min=Nn(t.min,n.min,i),e.max=Nn(t.max,n.max,i)}function T6(e,t,n,i){mx(e.x,t.x,n.x,i),mx(e.y,t.y,n.y,i)}function E6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const S6={duration:.45,ease:[.4,0,.1,1]},gx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yx=gx("applewebkit/")&&!gx("chrome/")?Math.round:ms;function _x(e){e.min=yx(e.min),e.max=yx(e.max)}function x6(e){_x(e.x),_x(e.y)}function wI(e,t,n){return e==="position"||e==="preserve-aspect"&&!k5(ux(t),ux(n),.2)}function A6(e){return e!==e.root&&e.scroll?.wasRoot}const R6=vI({attachResizeListener:(e,t)=>jf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),O_={current:void 0},bI=vI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!O_.current){const e=new R6({});e.mount(window),e.setOptions({layoutScroll:!0}),O_.current=e}return O_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),C6={pan:{Feature:W5},drag:{Feature:G5,ProjectionNode:bI,MeasureLayout:dI}};function vx(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&Pn.postRender(()=>o(t,hd(t)))}class I6 extends yl{mount(){const{current:t}=this.node;t&&(this.unmount=Q3(t,(n,i)=>(vx(this.node,i,"Start"),r=>vx(this.node,r,"End"))))}unmount(){}}class P6 extends yl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ld(jf(this.node.current,"focus",()=>this.onFocus()),jf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wx(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&Pn.postRender(()=>o(t,hd(t)))}class k6 extends yl{mount(){const{current:t}=this.node;t&&(this.unmount=nV(t,(n,i)=>(wx(this.node,i,"Start"),(r,{success:o})=>wx(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jv=new WeakMap,L_=new WeakMap,D6=e=>{const t=jv.get(e.target);t&&t(e)},M6=e=>{e.forEach(D6)};function O6({root:e,...t}){const n=e||document;L_.has(n)||L_.set(n,{});const i=L_.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(M6,{root:e,...t})),i[r]}function L6(e,t,n){const i=O6(t);return jv.set(e,n),i.observe(e),()=>{jv.delete(e),i.unobserve(e)}}const N6={some:0,all:1};class V6 extends yl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:N6[r]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(d)};return L6(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(z6(t,n))&&this.startObserver()}unmount(){}}function z6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const U6={inView:{Feature:V6},tap:{Feature:k6},focus:{Feature:P6},hover:{Feature:I6}},B6={layout:{ProjectionNode:bI,MeasureLayout:dI}},F6={...x5,...U6,...C6,...B6},sr=FV(F6,t5);function j6(){return ot.jsxs("div",{className:"flex flex-col items-center justify-center text-center w-full max-w-2xl mx-auto font-sans mt-16",children:[ot.jsx(sr.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-extrabold text-text",children:"Willkommen auf meiner Reise"}),ot.jsx(sr.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-4 text-lg text-text/80",children:"Ein Portal voller Briefe und ein Reisetagebuch aus Porto."}),ot.jsxs(sr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mt-10 flex flex-col sm:flex-row gap-4",children:[ot.jsxs(mm,{to:"/blog",className:"flex items-center justify-center gap-2 px-8 py-3 bg-primary text-white font-bold rounded-full shadow-lg hover:bg-primary/90 transition-transform transform active:scale-95",children:[ot.jsx(gm,{size:20}),ot.jsx("span",{children:"Blog ansehen"})]}),ot.jsxs(mm,{to:"/login",className:"flex items-center justify-center gap-2 px-8 py-3 bg-white text-primary font-bold rounded-full shadow-lg hover:bg-gray-100 transition-transform transform active:scale-95 border border-subtle",children:[ot.jsx(FC,{size:20}),ot.jsx("span",{children:"Login"})]})]})]})}function H6(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const q6=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,G6=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,W6={};function bx(e,t){return(W6.jsx?G6:q6).test(e)}const K6=/[ \t\n\f\r]/g;function Z6(e){return typeof e=="object"?e.type==="text"?Tx(e.value):!1:Tx(e)}function Tx(e){return e.replace(K6,"")===""}class fd{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}fd.prototype.normal={};fd.prototype.property={};fd.prototype.space=void 0;function TI(e,t){const n={},i={};for(const r of e)Object.assign(n,r.property),Object.assign(i,r.normal);return new fd(n,i,t)}function Hv(e){return e.toLowerCase()}class wr{constructor(t,n){this.attribute=n,this.property=t}}wr.prototype.attribute="";wr.prototype.booleanish=!1;wr.prototype.boolean=!1;wr.prototype.commaOrSpaceSeparated=!1;wr.prototype.commaSeparated=!1;wr.prototype.defined=!1;wr.prototype.mustUseProperty=!1;wr.prototype.number=!1;wr.prototype.overloadedBoolean=!1;wr.prototype.property="";wr.prototype.spaceSeparated=!1;wr.prototype.space=void 0;let $6=0;const pe=pu(),ni=pu(),qv=pu(),Pt=pu(),wn=pu(),vc=pu(),jr=pu();function pu(){return 2**++$6}const Gv=Object.freeze(Object.defineProperty({__proto__:null,boolean:pe,booleanish:ni,commaOrSpaceSeparated:jr,commaSeparated:vc,number:Pt,overloadedBoolean:qv,spaceSeparated:wn},Symbol.toStringTag,{value:"Module"})),N_=Object.keys(Gv);class Ew extends wr{constructor(t,n,i,r){let o=-1;if(super(t,n),Ex(this,"space",r),typeof i=="number")for(;++o<N_.length;){const u=N_[o];Ex(this,N_[o],(i&Gv[u])===Gv[u])}}}Ew.prototype.defined=!0;function Ex(e,t,n){n&&(e[t]=n)}function Hc(e){const t={},n={};for(const[i,r]of Object.entries(e.properties)){const o=new Ew(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),t[i]=o,n[Hv(i)]=i,n[Hv(o.attribute)]=i}return new fd(t,n,e.space)}const EI=Hc({properties:{ariaActiveDescendant:null,ariaAtomic:ni,ariaAutoComplete:null,ariaBusy:ni,ariaChecked:ni,ariaColCount:Pt,ariaColIndex:Pt,ariaColSpan:Pt,ariaControls:wn,ariaCurrent:null,ariaDescribedBy:wn,ariaDetails:null,ariaDisabled:ni,ariaDropEffect:wn,ariaErrorMessage:null,ariaExpanded:ni,ariaFlowTo:wn,ariaGrabbed:ni,ariaHasPopup:null,ariaHidden:ni,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wn,ariaLevel:Pt,ariaLive:null,ariaModal:ni,ariaMultiLine:ni,ariaMultiSelectable:ni,ariaOrientation:null,ariaOwns:wn,ariaPlaceholder:null,ariaPosInSet:Pt,ariaPressed:ni,ariaReadOnly:ni,ariaRelevant:null,ariaRequired:ni,ariaRoleDescription:wn,ariaRowCount:Pt,ariaRowIndex:Pt,ariaRowSpan:Pt,ariaSelected:ni,ariaSetSize:Pt,ariaSort:null,ariaValueMax:Pt,ariaValueMin:Pt,ariaValueNow:Pt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function SI(e,t){return t in e?e[t]:t}function xI(e,t){return SI(e,t.toLowerCase())}const Y6=Hc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vc,acceptCharset:wn,accessKey:wn,action:null,allow:null,allowFullScreen:pe,allowPaymentRequest:pe,allowUserMedia:pe,alt:null,as:null,async:pe,autoCapitalize:null,autoComplete:wn,autoFocus:pe,autoPlay:pe,blocking:wn,capture:null,charSet:null,checked:pe,cite:null,className:wn,cols:Pt,colSpan:null,content:null,contentEditable:ni,controls:pe,controlsList:wn,coords:Pt|vc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pe,defer:pe,dir:null,dirName:null,disabled:pe,download:qv,draggable:ni,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pe,formTarget:null,headers:wn,height:Pt,hidden:qv,high:Pt,href:null,hrefLang:null,htmlFor:wn,httpEquiv:wn,id:null,imageSizes:null,imageSrcSet:null,inert:pe,inputMode:null,integrity:null,is:null,isMap:pe,itemId:null,itemProp:wn,itemRef:wn,itemScope:pe,itemType:wn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pe,low:Pt,manifest:null,max:null,maxLength:Pt,media:null,method:null,min:null,minLength:Pt,multiple:pe,muted:pe,name:null,nonce:null,noModule:pe,noValidate:pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pe,optimum:Pt,pattern:null,ping:wn,placeholder:null,playsInline:pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pe,referrerPolicy:null,rel:wn,required:pe,reversed:pe,rows:Pt,rowSpan:Pt,sandbox:wn,scope:null,scoped:pe,seamless:pe,selected:pe,shadowRootClonable:pe,shadowRootDelegatesFocus:pe,shadowRootMode:null,shape:null,size:Pt,sizes:null,slot:null,span:Pt,spellCheck:ni,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pt,step:null,style:null,tabIndex:Pt,target:null,title:null,translate:null,type:null,typeMustMatch:pe,useMap:null,value:ni,width:Pt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:wn,axis:null,background:null,bgColor:null,border:Pt,borderColor:null,bottomMargin:Pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pe,declare:pe,event:null,face:null,frame:null,frameBorder:null,hSpace:Pt,leftMargin:Pt,link:null,longDesc:null,lowSrc:null,marginHeight:Pt,marginWidth:Pt,noResize:pe,noHref:pe,noShade:pe,noWrap:pe,object:null,profile:null,prompt:null,rev:null,rightMargin:Pt,rules:null,scheme:null,scrolling:ni,standby:null,summary:null,text:null,topMargin:Pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pe,disableRemotePlayback:pe,prefix:null,property:null,results:Pt,security:null,unselectable:null},space:"html",transform:xI}),X6=Hc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:jr,accentHeight:Pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pt,amplitude:Pt,arabicForm:null,ascent:Pt,attributeName:null,attributeType:null,azimuth:Pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pt,by:null,calcMode:null,capHeight:Pt,className:wn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pt,diffuseConstant:Pt,direction:null,display:null,dur:null,divisor:Pt,dominantBaseline:null,download:pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pt,enableBackground:null,end:null,event:null,exponent:Pt,externalResourcesRequired:null,fill:null,fillOpacity:Pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vc,g2:vc,glyphName:vc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pt,horizOriginX:Pt,horizOriginY:Pt,id:null,ideographic:Pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pt,k:Pt,k1:Pt,k2:Pt,k3:Pt,k4:Pt,kernelMatrix:jr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pt,overlineThickness:Pt,paintOrder:null,panose1:null,path:null,pathLength:Pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pt,pointsAtY:Pt,pointsAtZ:Pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:jr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:jr,rev:jr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:jr,requiredFeatures:jr,requiredFonts:jr,requiredFormats:jr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pt,specularExponent:Pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pt,strikethroughThickness:Pt,string:null,stroke:null,strokeDashArray:jr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pt,strokeOpacity:Pt,strokeWidth:null,style:null,surfaceScale:Pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:jr,tabIndex:Pt,tableValues:null,target:null,targetX:Pt,targetY:Pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:jr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pt,underlineThickness:Pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pt,values:null,vAlphabetic:Pt,vMathematical:Pt,vectorEffect:null,vHanging:Pt,vIdeographic:Pt,version:null,vertAdvY:Pt,vertOriginX:Pt,vertOriginY:Pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:SI}),AI=Hc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),RI=Hc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:xI}),CI=Hc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Q6={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},J6=/[A-Z]/g,Sx=/-[a-z]/g,tz=/^data[-\w.:]+$/i;function ez(e,t){const n=Hv(t);let i=t,r=wr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tz.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Sx,iz);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Sx.test(o)){let u=o.replace(J6,nz);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}r=Ew}return new r(i,t)}function nz(e){return"-"+e.toLowerCase()}function iz(e){return e.charAt(1).toUpperCase()}const rz=TI([EI,Y6,AI,RI,CI],"html"),Sw=TI([EI,X6,AI,RI,CI],"svg");function sz(e){return e.join(" ").trim()}var ic={},V_,xx;function oz(){if(xx)return V_;xx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,d=`
`,m="/",g="*",y="",v="comment",T="declaration";V_=function(M,F){if(typeof M!="string")throw new TypeError("First argument must be a string");if(!M)return[];F=F||{};var N=1,K=1;function W(D){var Z=D.match(t);Z&&(N+=Z.length);var G=D.lastIndexOf(d);K=~G?D.length-G:K+D.length}function tt(){var D={line:N,column:K};return function(Z){return Z.position=new X(D),x(),Z}}function X(D){this.start=D,this.end={line:N,column:K},this.source=F.source}X.prototype.content=M;function z(D){var Z=new Error(F.source+":"+N+":"+K+": "+D);if(Z.reason=D,Z.filename=F.source,Z.line=N,Z.column=K,Z.source=M,!F.silent)throw Z}function q(D){var Z=D.exec(M);if(Z){var G=Z[0];return W(G),M=M.slice(G.length),Z}}function x(){q(n)}function A(D){var Z;for(D=D||[];Z=U();)Z!==!1&&D.push(Z);return D}function U(){var D=tt();if(!(m!=M.charAt(0)||g!=M.charAt(1))){for(var Z=2;y!=M.charAt(Z)&&(g!=M.charAt(Z)||m!=M.charAt(Z+1));)++Z;if(Z+=2,y===M.charAt(Z-1))return z("End of comment missing");var G=M.slice(2,Z-2);return K+=2,W(G),M=M.slice(Z),K+=2,D({type:v,comment:G})}}function k(){var D=tt(),Z=q(i);if(Z){if(U(),!q(r))return z("property missing ':'");var G=q(o),B=D({type:T,property:R(Z[0].replace(e,y)),value:G?R(G[0].replace(e,y)):y});return q(u),B}}function P(){var D=[];A(D);for(var Z;Z=k();)Z!==!1&&(D.push(Z),A(D));return D}return x(),P()};function R(M){return M?M.replace(h,y):y}return V_}var Ax;function az(){if(Ax)return ic;Ax=1;var e=ic&&ic.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ic,"__esModule",{value:!0}),ic.default=n;var t=e(oz());function n(i,r){var o=null;if(!i||typeof i!="string")return o;var u=(0,t.default)(i),h=typeof r=="function";return u.forEach(function(d){if(d.type==="declaration"){var m=d.property,g=d.value;h?r(m,g,d):g&&(o=o||{},o[m]=g)}}),o}return ic}var Kh={},Rx;function lz(){if(Rx)return Kh;Rx=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,o=function(m){return!m||n.test(m)||e.test(m)},u=function(m,g){return g.toUpperCase()},h=function(m,g){return"".concat(g,"-")},d=function(m,g){return g===void 0&&(g={}),o(m)?m:(m=m.toLowerCase(),g.reactCompat?m=m.replace(r,h):m=m.replace(i,h),m.replace(t,u))};return Kh.camelCase=d,Kh}var Zh,Cx;function uz(){if(Cx)return Zh;Cx=1;var e=Zh&&Zh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=e(az()),n=lz();function i(r,o){var u={};return!r||typeof r!="string"||(0,t.default)(r,function(h,d){h&&d&&(u[(0,n.camelCase)(h,o)]=d)}),u}return i.default=i,Zh=i,Zh}var cz=uz();const hz=Xm(cz),II=PI("end"),xw=PI("start");function PI(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function fz(e){const t=xw(e),n=II(e);if(t&&n)return{start:t,end:n}}function Ef(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ix(e.position):"start"in e||"end"in e?Ix(e):"line"in e||"column"in e?Wv(e):""}function Wv(e){return Px(e&&e.line)+":"+Px(e&&e.column)}function Ix(e){return Wv(e&&e.start)+"-"+Wv(e&&e.end)}function Px(e){return e&&typeof e=="number"?e:1}class $i extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?r=t:!o.cause&&t&&(u=!0,r=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?o.ruleId=i:(o.source=i.slice(0,d),o.ruleId=i.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=h?h.line:void 0,this.name=Ef(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}$i.prototype.file="";$i.prototype.name="";$i.prototype.reason="";$i.prototype.message="";$i.prototype.stack="";$i.prototype.column=void 0;$i.prototype.line=void 0;$i.prototype.ancestors=void 0;$i.prototype.cause=void 0;$i.prototype.fatal=void 0;$i.prototype.place=void 0;$i.prototype.ruleId=void 0;$i.prototype.source=void 0;const Aw={}.hasOwnProperty,dz=new Map,pz=/[A-Z]/g,mz=new Set(["table","tbody","thead","tfoot","tr"]),gz=new Set(["td","th"]),kI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function yz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=xz(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=Sz(n,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Sw:rz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=DI(r,e,void 0);return o&&typeof o!="string"?o:r.create(e,r.Fragment,{children:o||void 0},void 0)}function DI(e,t,n){if(t.type==="element")return _z(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return vz(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return bz(e,t,n);if(t.type==="mdxjsEsm")return wz(e,t);if(t.type==="root")return Tz(e,t,n);if(t.type==="text")return Ez(e,t)}function _z(e,t,n){const i=e.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=Sw,e.schema=r),e.ancestors.push(t);const o=OI(e,t.tagName,!1),u=Az(e,t);let h=Cw(e,t);return mz.has(t.tagName)&&(h=h.filter(function(d){return typeof d=="string"?!Z6(d):!0})),MI(e,u,o,t),Rw(u,h),e.ancestors.pop(),e.schema=i,e.create(t,o,u,n)}function vz(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Hf(e,t.position)}function wz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Hf(e,t.position)}function bz(e,t,n){const i=e.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=Sw,e.schema=r),e.ancestors.push(t);const o=t.name===null?e.Fragment:OI(e,t.name,!0),u=Rz(e,t),h=Cw(e,t);return MI(e,u,o,t),Rw(u,h),e.ancestors.pop(),e.schema=i,e.create(t,o,u,n)}function Tz(e,t,n){const i={};return Rw(i,Cw(e,t)),e.create(t,e.Fragment,i,n)}function Ez(e,t){return t.value}function MI(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function Rw(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Sz(e,t,n){return i;function i(r,o,u,h){const m=Array.isArray(u.children)?n:t;return h?m(o,u,h):m(o,u)}}function xz(e,t){return n;function n(i,r,o,u){const h=Array.isArray(o.children),d=xw(i);return t(r,o,u,h,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function Az(e,t){const n={};let i,r;for(r in t.properties)if(r!=="children"&&Aw.call(t.properties,r)){const o=Cz(e,r,t.properties[r]);if(o){const[u,h]=o;e.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&gz.has(t.tagName)?i=h:n[u]=h}}if(i){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function Rz(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,e.evaluater.evaluateExpression(h.argument))}else Hf(e,t.position);else{const r=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const h=i.value.data.estree.body[0];h.type,o=e.evaluater.evaluateExpression(h.expression)}else Hf(e,t.position);else o=i.value===null?!0:i.value;n[r]=o}return n}function Cw(e,t){const n=[];let i=-1;const r=e.passKeys?new Map:dz;for(;++i<t.children.length;){const o=t.children[i];let u;if(e.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const m=r.get(d)||0;u=d+"-"+m,r.set(d,m+1)}}const h=DI(e,o,u);h!==void 0&&n.push(h)}return n}function Cz(e,t,n){const i=ez(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?H6(n):sz(n)),i.property==="style"){let r=typeof n=="object"?n:Iz(e,String(n));return e.stylePropertyNameCase==="css"&&(r=Pz(r)),["style",r]}return[e.elementAttributeNameCase==="react"&&i.space?Q6[i.property]||i.property:i.attribute,n]}}function Iz(e,t){try{return hz(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,r=new $i("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=kI+"#cannot-parse-style-attribute",r}}function OI(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let o=-1,u;for(;++o<r.length;){const h=bx(r[o])?{type:"Identifier",name:r[o]}:{type:"Literal",value:r[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}i=u}else i=bx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return Aw.call(e.components,r)?e.components[r]:r}if(e.evaluater)return e.evaluater.evaluateExpression(i);Hf(e)}function Hf(e,t){const n=new $i("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=kI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Pz(e){const t={};let n;for(n in e)Aw.call(e,n)&&(t[kz(n)]=e[n]);return t}function kz(e){let t=e.replace(pz,Dz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Dz(e){return"-"+e.toLowerCase()}const z_={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Mz={};function Oz(e,t){const n=Mz,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return LI(e,i,r)}function LI(e,t,n){if(Lz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return kx(e.children,t,n)}return Array.isArray(e)?kx(e,t,n):""}function kx(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=LI(e[r],t,n);return i.join("")}function Lz(e){return!!(e&&typeof e=="object")}const Dx=document.createElement("i");function Iw(e){const t="&"+e+";";Dx.innerHTML=t;const n=Dx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function _o(e,t,n,i){const r=e.length;let o=0,u;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);o<i.length;)u=i.slice(o,o+1e4),u.unshift(t,0),e.splice(...u),o+=1e4,t+=1e4}function fs(e,t){return e.length>0?(_o(e,e.length,0,t),e):t}const Mx={}.hasOwnProperty;function Nz(e){const t={};let n=-1;for(;++n<e.length;)Vz(t,e[n]);return t}function Vz(e,t){let n;for(n in t){const r=(Mx.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let u;if(o)for(u in o){Mx.call(r,u)||(r[u]=[]);const h=o[u];zz(r[u],Array.isArray(h)?h:h?[h]:[])}}}function zz(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);_o(e,0,0,i)}function NI(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function wc(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const so=_l(/[A-Za-z]/),Hr=_l(/[\dA-Za-z]/),Uz=_l(/[#-'*+\--9=?A-Z^-~]/);function Kv(e){return e!==null&&(e<32||e===127)}const Zv=_l(/\d/),Bz=_l(/[\dA-Fa-f]/),Fz=_l(/[!-/:-@[-`{-~]/);function re(e){return e!==null&&e<-2}function vr(e){return e!==null&&(e<0||e===32)}function We(e){return e===-2||e===-1||e===32}const jz=_l(new RegExp("\\p{P}|\\p{S}","u")),Hz=_l(/\s/);function _l(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function qc(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const o=e.charCodeAt(n);let u="";if(o===37&&Hr(e.charCodeAt(n+1))&&Hr(e.charCodeAt(n+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=e.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),r=1):u="�"}else u=String.fromCharCode(o);u&&(t.push(e.slice(i,n),encodeURIComponent(u)),i=n+r+1,u=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}function Tn(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(d){return We(d)?(e.enter(n),h(d)):t(d)}function h(d){return We(d)&&o++<r?(e.consume(d),h):(e.exit(n),t(d))}}const qz={tokenize:Gz};function Gz(e){const t=e.attempt(this.parser.constructs.contentInitial,i,r);let n;return t;function i(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Tn(e,t,"linePrefix")}function r(h){return e.enter("paragraph"),o(h)}function o(h){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,u(h)}function u(h){if(h===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(h);return}return re(h)?(e.consume(h),e.exit("chunkText"),o):(e.consume(h),u)}}const Wz={tokenize:Kz},Ox={tokenize:Zz};function Kz(e){const t=this,n=[];let i=0,r,o,u;return h;function h(W){if(i<n.length){const tt=n[i];return t.containerState=tt[1],e.attempt(tt[0].continuation,d,m)(W)}return m(W)}function d(W){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&K();const tt=t.events.length;let X=tt,z;for(;X--;)if(t.events[X][0]==="exit"&&t.events[X][1].type==="chunkFlow"){z=t.events[X][1].end;break}N(i);let q=tt;for(;q<t.events.length;)t.events[q][1].end={...z},q++;return _o(t.events,X+1,0,t.events.slice(tt)),t.events.length=q,m(W)}return h(W)}function m(W){if(i===n.length){if(!r)return v(W);if(r.currentConstruct&&r.currentConstruct.concrete)return R(W);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ox,g,y)(W)}function g(W){return r&&K(),N(i),v(W)}function y(W){return t.parser.lazy[t.now().line]=i!==n.length,u=t.now().offset,R(W)}function v(W){return t.containerState={},e.attempt(Ox,T,R)(W)}function T(W){return i++,n.push([t.currentConstruct,t.containerState]),v(W)}function R(W){if(W===null){r&&K(),N(0),e.consume(W);return}return r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),M(W)}function M(W){if(W===null){F(e.exit("chunkFlow"),!0),N(0),e.consume(W);return}return re(W)?(e.consume(W),F(e.exit("chunkFlow")),i=0,t.interrupt=void 0,h):(e.consume(W),M)}function F(W,tt){const X=t.sliceStream(W);if(tt&&X.push(null),W.previous=o,o&&(o.next=W),o=W,r.defineSkip(W.start),r.write(X),t.parser.lazy[W.start.line]){let z=r.events.length;for(;z--;)if(r.events[z][1].start.offset<u&&(!r.events[z][1].end||r.events[z][1].end.offset>u))return;const q=t.events.length;let x=q,A,U;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){if(A){U=t.events[x][1].end;break}A=!0}for(N(i),z=q;z<t.events.length;)t.events[z][1].end={...U},z++;_o(t.events,x+1,0,t.events.slice(q)),t.events.length=z}}function N(W){let tt=n.length;for(;tt-- >W;){const X=n[tt];t.containerState=X[1],X[0].exit.call(t,e)}n.length=W}function K(){r.write([null]),o=void 0,r=void 0,t.containerState._closeFlow=void 0}}function Zz(e,t,n){return Tn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Lx(e){if(e===null||vr(e)||Hz(e))return 1;if(jz(e))return 2}function Pw(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const o=e[r].resolveAll;o&&!i.includes(o)&&(t=o(t,n),i.push(o))}return t}const $v={name:"attention",resolveAll:$z,tokenize:Yz};function $z(e,t){let n=-1,i,r,o,u,h,d,m,g;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const y={...e[i][1].end},v={...e[n][1].start};Nx(y,-d),Nx(v,d),u={type:d>1?"strongSequence":"emphasisSequence",start:y,end:{...e[i][1].end}},h={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},o={type:d>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},r={type:d>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},e[i][1].end={...u.start},e[n][1].start={...h.end},m=[],e[i][1].end.offset-e[i][1].start.offset&&(m=fs(m,[["enter",e[i][1],t],["exit",e[i][1],t]])),m=fs(m,[["enter",r,t],["enter",u,t],["exit",u,t],["enter",o,t]]),m=fs(m,Pw(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),m=fs(m,[["exit",o,t],["enter",h,t],["exit",h,t],["exit",r,t]]),e[n][1].end.offset-e[n][1].start.offset?(g=2,m=fs(m,[["enter",e[n][1],t],["exit",e[n][1],t]])):g=0,_o(e,i-1,n-i+3,m),n=i+m.length-g-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Yz(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Lx(i);let o;return u;function u(d){return o=d,e.enter("attentionSequence"),h(d)}function h(d){if(d===o)return e.consume(d),h;const m=e.exit("attentionSequence"),g=Lx(d),y=!g||g===2&&r||n.includes(d),v=!r||r===2&&g||n.includes(i);return m._open=!!(o===42?y:y&&(r||!v)),m._close=!!(o===42?v:v&&(g||!y)),t(d)}}function Nx(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Xz={name:"autolink",tokenize:Qz};function Qz(e,t,n){let i=0;return r;function r(T){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(T),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(T){return so(T)?(e.consume(T),u):T===64?n(T):m(T)}function u(T){return T===43||T===45||T===46||Hr(T)?(i=1,h(T)):m(T)}function h(T){return T===58?(e.consume(T),i=0,d):(T===43||T===45||T===46||Hr(T))&&i++<32?(e.consume(T),h):(i=0,m(T))}function d(T){return T===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(T),e.exit("autolinkMarker"),e.exit("autolink"),t):T===null||T===32||T===60||Kv(T)?n(T):(e.consume(T),d)}function m(T){return T===64?(e.consume(T),g):Uz(T)?(e.consume(T),m):n(T)}function g(T){return Hr(T)?y(T):n(T)}function y(T){return T===46?(e.consume(T),i=0,g):T===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(T),e.exit("autolinkMarker"),e.exit("autolink"),t):v(T)}function v(T){if((T===45||Hr(T))&&i++<63){const R=T===45?v:y;return e.consume(T),R}return n(T)}}const sg={partial:!0,tokenize:Jz};function Jz(e,t,n){return i;function i(o){return We(o)?Tn(e,r,"linePrefix")(o):r(o)}function r(o){return o===null||re(o)?t(o):n(o)}}const VI={continuation:{tokenize:eU},exit:nU,name:"blockQuote",tokenize:tU};function tU(e,t,n){const i=this;return r;function r(u){if(u===62){const h=i.containerState;return h.open||(e.enter("blockQuote",{_container:!0}),h.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),o}return n(u)}function o(u){return We(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function eU(e,t,n){const i=this;return r;function r(u){return We(u)?Tn(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return e.attempt(VI,t,n)(u)}}function nU(e){e.exit("blockQuote")}const zI={name:"characterEscape",tokenize:iU};function iU(e,t,n){return i;function i(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),r}function r(o){return Fz(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const UI={name:"characterReference",tokenize:rU};function rU(e,t,n){const i=this;let r=0,o,u;return h;function h(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),d}function d(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),o=31,u=Hr,g(y))}function m(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,u=Bz,g):(e.enter("characterReferenceValue"),o=7,u=Zv,g(y))}function g(y){if(y===59&&r){const v=e.exit("characterReferenceValue");return u===Hr&&!Iw(i.sliceSerialize(v))?n(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(y)&&r++<o?(e.consume(y),g):n(y)}}const Vx={partial:!0,tokenize:oU},zx={concrete:!0,name:"codeFenced",tokenize:sU};function sU(e,t,n){const i=this,r={partial:!0,tokenize:X};let o=0,u=0,h;return d;function d(z){return m(z)}function m(z){const q=i.events[i.events.length-1];return o=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,h=z,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(z)}function g(z){return z===h?(u++,e.consume(z),g):u<3?n(z):(e.exit("codeFencedFenceSequence"),We(z)?Tn(e,y,"whitespace")(z):y(z))}function y(z){return z===null||re(z)?(e.exit("codeFencedFence"),i.interrupt?t(z):e.check(Vx,M,tt)(z)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(z))}function v(z){return z===null||re(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(z)):We(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Tn(e,T,"whitespace")(z)):z===96&&z===h?n(z):(e.consume(z),v)}function T(z){return z===null||re(z)?y(z):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),R(z))}function R(z){return z===null||re(z)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(z)):z===96&&z===h?n(z):(e.consume(z),R)}function M(z){return e.attempt(r,tt,F)(z)}function F(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),N}function N(z){return o>0&&We(z)?Tn(e,K,"linePrefix",o+1)(z):K(z)}function K(z){return z===null||re(z)?e.check(Vx,M,tt)(z):(e.enter("codeFlowValue"),W(z))}function W(z){return z===null||re(z)?(e.exit("codeFlowValue"),K(z)):(e.consume(z),W)}function tt(z){return e.exit("codeFenced"),t(z)}function X(z,q,x){let A=0;return U;function U(G){return z.enter("lineEnding"),z.consume(G),z.exit("lineEnding"),k}function k(G){return z.enter("codeFencedFence"),We(G)?Tn(z,P,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):P(G)}function P(G){return G===h?(z.enter("codeFencedFenceSequence"),D(G)):x(G)}function D(G){return G===h?(A++,z.consume(G),D):A>=u?(z.exit("codeFencedFenceSequence"),We(G)?Tn(z,Z,"whitespace")(G):Z(G)):x(G)}function Z(G){return G===null||re(G)?(z.exit("codeFencedFence"),q(G)):x(G)}}}function oU(e,t,n){const i=this;return r;function r(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?n(u):t(u)}}const U_={name:"codeIndented",tokenize:lU},aU={partial:!0,tokenize:uU};function lU(e,t,n){const i=this;return r;function r(m){return e.enter("codeIndented"),Tn(e,o,"linePrefix",5)(m)}function o(m){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(m):n(m)}function u(m){return m===null?d(m):re(m)?e.attempt(aU,u,d)(m):(e.enter("codeFlowValue"),h(m))}function h(m){return m===null||re(m)?(e.exit("codeFlowValue"),u(m)):(e.consume(m),h)}function d(m){return e.exit("codeIndented"),t(m)}}function uU(e,t,n){const i=this;return r;function r(u){return i.parser.lazy[i.now().line]?n(u):re(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),r):Tn(e,o,"linePrefix",5)(u)}function o(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(u):re(u)?r(u):n(u)}}const cU={name:"codeText",previous:fU,resolve:hU,tokenize:dU};function hU(e){let t=e.length-4,n=3,i,r;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)r===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(r=i):(i===t||e[i][1].type==="lineEnding")&&(e[r][1].type="codeTextData",i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return e}function fU(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dU(e,t,n){let i=0,r,o;return u;function u(y){return e.enter("codeText"),e.enter("codeTextSequence"),h(y)}function h(y){return y===96?(e.consume(y),i++,h):(e.exit("codeTextSequence"),d(y))}function d(y){return y===null?n(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),d):y===96?(o=e.enter("codeTextSequence"),r=0,g(y)):re(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),d):(e.enter("codeTextData"),m(y))}function m(y){return y===null||y===32||y===96||re(y)?(e.exit("codeTextData"),d(y)):(e.consume(y),m)}function g(y){return y===96?(e.consume(y),r++,g):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(y)):(o.type="codeTextData",m(y))}}class pU{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const r=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&$h(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),$h(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),$h(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);$h(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);$h(this.left,n.reverse())}}}function $h(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function BI(e){const t={};let n=-1,i,r,o,u,h,d,m;const g=new pU(e);for(;++n<g.length;){for(;n in t;)n=t[n];if(i=g.get(n),n&&i[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,mU(g,n)),n=t[n],m=!0);else if(i[1]._container){for(o=n,r=void 0;o--;)if(u=g.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(r&&(g.get(r)[1].type="lineEndingBlank"),u[1].type="lineEnding",r=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;r&&(i[1].end={...g.get(r)[1].start},h=g.slice(r,n),h.unshift(i),g.splice(r,n-r+1,h))}}return _o(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!m}function mU(e,t){const n=e.get(t)[1],i=e.get(t)[2];let r=t-1;const o=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,d=[],m={};let g,y,v=-1,T=n,R=0,M=0;const F=[M];for(;T;){for(;e.get(++r)[1]!==T;);o.push(r),T._tokenizer||(g=i.sliceStream(T),T.next||g.push(null),y&&u.defineSkip(T.start),T._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),T._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=T,T=T.next}for(T=n;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(M=v+1,F.push(M),T._tokenizer=void 0,T.previous=void 0,T=T.next);for(u.events=[],T?(T._tokenizer=void 0,T.previous=void 0):F.pop(),v=F.length;v--;){const N=h.slice(F[v],F[v+1]),K=o.pop();d.push([K,K+N.length-1]),e.splice(K,2,N)}for(d.reverse(),v=-1;++v<d.length;)m[R+d[v][0]]=R+d[v][1],R+=d[v][1]-d[v][0]-1;return m}const gU={resolve:_U,tokenize:vU},yU={partial:!0,tokenize:wU};function _U(e){return BI(e),e}function vU(e,t){let n;return i;function i(h){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(h)}function r(h){return h===null?o(h):re(h)?e.check(yU,u,o)(h):(e.consume(h),r)}function o(h){return e.exit("chunkContent"),e.exit("content"),t(h)}function u(h){return e.consume(h),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function wU(e,t,n){const i=this;return r;function r(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Tn(e,o,"linePrefix")}function o(u){if(u===null||re(u))return n(u);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(u):e.interrupt(i.parser.constructs.flow,n,t)(u)}}function FI(e,t,n,i,r,o,u,h,d){const m=d||Number.POSITIVE_INFINITY;let g=0;return y;function y(N){return N===60?(e.enter(i),e.enter(r),e.enter(o),e.consume(N),e.exit(o),v):N===null||N===32||N===41||Kv(N)?n(N):(e.enter(i),e.enter(u),e.enter(h),e.enter("chunkString",{contentType:"string"}),M(N))}function v(N){return N===62?(e.enter(o),e.consume(N),e.exit(o),e.exit(r),e.exit(i),t):(e.enter(h),e.enter("chunkString",{contentType:"string"}),T(N))}function T(N){return N===62?(e.exit("chunkString"),e.exit(h),v(N)):N===null||N===60||re(N)?n(N):(e.consume(N),N===92?R:T)}function R(N){return N===60||N===62||N===92?(e.consume(N),T):T(N)}function M(N){return!g&&(N===null||N===41||vr(N))?(e.exit("chunkString"),e.exit(h),e.exit(u),e.exit(i),t(N)):g<m&&N===40?(e.consume(N),g++,M):N===41?(e.consume(N),g--,M):N===null||N===32||N===40||Kv(N)?n(N):(e.consume(N),N===92?F:M)}function F(N){return N===40||N===41||N===92?(e.consume(N),M):M(N)}}function jI(e,t,n,i,r,o){const u=this;let h=0,d;return m;function m(T){return e.enter(i),e.enter(r),e.consume(T),e.exit(r),e.enter(o),g}function g(T){return h>999||T===null||T===91||T===93&&!d||T===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(T):T===93?(e.exit(o),e.enter(r),e.consume(T),e.exit(r),e.exit(i),t):re(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===null||T===91||T===93||re(T)||h++>999?(e.exit("chunkString"),g(T)):(e.consume(T),d||(d=!We(T)),T===92?v:y)}function v(T){return T===91||T===92||T===93?(e.consume(T),h++,y):y(T)}}function HI(e,t,n,i,r,o){let u;return h;function h(v){return v===34||v===39||v===40?(e.enter(i),e.enter(r),e.consume(v),e.exit(r),u=v===40?41:v,d):n(v)}function d(v){return v===u?(e.enter(r),e.consume(v),e.exit(r),e.exit(i),t):(e.enter(o),m(v))}function m(v){return v===u?(e.exit(o),d(u)):v===null?n(v):re(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Tn(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===u||v===null||re(v)?(e.exit("chunkString"),m(v)):(e.consume(v),v===92?y:g)}function y(v){return v===u||v===92?(e.consume(v),g):g(v)}}function Sf(e,t){let n;return i;function i(r){return re(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i):We(r)?Tn(e,i,n?"linePrefix":"lineSuffix")(r):t(r)}}const bU={name:"definition",tokenize:EU},TU={partial:!0,tokenize:SU};function EU(e,t,n){const i=this;let r;return o;function o(T){return e.enter("definition"),u(T)}function u(T){return jI.call(i,e,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(T)}function h(T){return r=wc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),T===58?(e.enter("definitionMarker"),e.consume(T),e.exit("definitionMarker"),d):n(T)}function d(T){return vr(T)?Sf(e,m)(T):m(T)}function m(T){return FI(e,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(T)}function g(T){return e.attempt(TU,y,y)(T)}function y(T){return We(T)?Tn(e,v,"whitespace")(T):v(T)}function v(T){return T===null||re(T)?(e.exit("definition"),i.parser.defined.push(r),t(T)):n(T)}}function SU(e,t,n){return i;function i(h){return vr(h)?Sf(e,r)(h):n(h)}function r(h){return HI(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return We(h)?Tn(e,u,"whitespace")(h):u(h)}function u(h){return h===null||re(h)?t(h):n(h)}}const xU={name:"hardBreakEscape",tokenize:AU};function AU(e,t,n){return i;function i(o){return e.enter("hardBreakEscape"),e.consume(o),r}function r(o){return re(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const RU={name:"headingAtx",resolve:CU,tokenize:IU};function CU(e,t){let n=e.length-2,i=3,r,o;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},o={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},_o(e,i,n-i+1,[["enter",r,t],["enter",o,t],["exit",o,t],["exit",r,t]])),e}function IU(e,t,n){let i=0;return r;function r(g){return e.enter("atxHeading"),o(g)}function o(g){return e.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&i++<6?(e.consume(g),u):g===null||vr(g)?(e.exit("atxHeadingSequence"),h(g)):n(g)}function h(g){return g===35?(e.enter("atxHeadingSequence"),d(g)):g===null||re(g)?(e.exit("atxHeading"),t(g)):We(g)?Tn(e,h,"whitespace")(g):(e.enter("atxHeadingText"),m(g))}function d(g){return g===35?(e.consume(g),d):(e.exit("atxHeadingSequence"),h(g))}function m(g){return g===null||g===35||vr(g)?(e.exit("atxHeadingText"),h(g)):(e.consume(g),m)}}const PU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ux=["pre","script","style","textarea"],kU={concrete:!0,name:"htmlFlow",resolveTo:OU,tokenize:LU},DU={partial:!0,tokenize:VU},MU={partial:!0,tokenize:NU};function OU(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function LU(e,t,n){const i=this;let r,o,u,h,d;return m;function m($){return g($)}function g($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),y}function y($){return $===33?(e.consume($),v):$===47?(e.consume($),o=!0,M):$===63?(e.consume($),r=3,i.interrupt?t:C):so($)?(e.consume($),u=String.fromCharCode($),F):n($)}function v($){return $===45?(e.consume($),r=2,T):$===91?(e.consume($),r=5,h=0,R):so($)?(e.consume($),r=4,i.interrupt?t:C):n($)}function T($){return $===45?(e.consume($),i.interrupt?t:C):n($)}function R($){const ht="CDATA[";return $===ht.charCodeAt(h++)?(e.consume($),h===ht.length?i.interrupt?t:P:R):n($)}function M($){return so($)?(e.consume($),u=String.fromCharCode($),F):n($)}function F($){if($===null||$===47||$===62||vr($)){const ht=$===47,ut=u.toLowerCase();return!ht&&!o&&Ux.includes(ut)?(r=1,i.interrupt?t($):P($)):PU.includes(u.toLowerCase())?(r=6,ht?(e.consume($),N):i.interrupt?t($):P($)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n($):o?K($):W($))}return $===45||Hr($)?(e.consume($),u+=String.fromCharCode($),F):n($)}function N($){return $===62?(e.consume($),i.interrupt?t:P):n($)}function K($){return We($)?(e.consume($),K):U($)}function W($){return $===47?(e.consume($),U):$===58||$===95||so($)?(e.consume($),tt):We($)?(e.consume($),W):U($)}function tt($){return $===45||$===46||$===58||$===95||Hr($)?(e.consume($),tt):X($)}function X($){return $===61?(e.consume($),z):We($)?(e.consume($),X):W($)}function z($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),d=$,q):We($)?(e.consume($),z):x($)}function q($){return $===d?(e.consume($),d=null,A):$===null||re($)?n($):(e.consume($),q)}function x($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||vr($)?X($):(e.consume($),x)}function A($){return $===47||$===62||We($)?W($):n($)}function U($){return $===62?(e.consume($),k):n($)}function k($){return $===null||re($)?P($):We($)?(e.consume($),k):n($)}function P($){return $===45&&r===2?(e.consume($),B):$===60&&r===1?(e.consume($),V):$===62&&r===4?(e.consume($),at):$===63&&r===3?(e.consume($),C):$===93&&r===5?(e.consume($),it):re($)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(DU,lt,D)($)):$===null||re($)?(e.exit("htmlFlowData"),D($)):(e.consume($),P)}function D($){return e.check(MU,Z,lt)($)}function Z($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),G}function G($){return $===null||re($)?D($):(e.enter("htmlFlowData"),P($))}function B($){return $===45?(e.consume($),C):P($)}function V($){return $===47?(e.consume($),u="",nt):P($)}function nt($){if($===62){const ht=u.toLowerCase();return Ux.includes(ht)?(e.consume($),at):P($)}return so($)&&u.length<8?(e.consume($),u+=String.fromCharCode($),nt):P($)}function it($){return $===93?(e.consume($),C):P($)}function C($){return $===62?(e.consume($),at):$===45&&r===2?(e.consume($),C):P($)}function at($){return $===null||re($)?(e.exit("htmlFlowData"),lt($)):(e.consume($),at)}function lt($){return e.exit("htmlFlow"),t($)}}function NU(e,t,n){const i=this;return r;function r(u){return re(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):n(u)}function o(u){return i.parser.lazy[i.now().line]?n(u):t(u)}}function VU(e,t,n){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(sg,t,n)}}const zU={name:"htmlText",tokenize:UU};function UU(e,t,n){const i=this;let r,o,u;return h;function h(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),d}function d(C){return C===33?(e.consume(C),m):C===47?(e.consume(C),X):C===63?(e.consume(C),W):so(C)?(e.consume(C),x):n(C)}function m(C){return C===45?(e.consume(C),g):C===91?(e.consume(C),o=0,R):so(C)?(e.consume(C),K):n(C)}function g(C){return C===45?(e.consume(C),T):n(C)}function y(C){return C===null?n(C):C===45?(e.consume(C),v):re(C)?(u=y,V(C)):(e.consume(C),y)}function v(C){return C===45?(e.consume(C),T):y(C)}function T(C){return C===62?B(C):C===45?v(C):y(C)}function R(C){const at="CDATA[";return C===at.charCodeAt(o++)?(e.consume(C),o===at.length?M:R):n(C)}function M(C){return C===null?n(C):C===93?(e.consume(C),F):re(C)?(u=M,V(C)):(e.consume(C),M)}function F(C){return C===93?(e.consume(C),N):M(C)}function N(C){return C===62?B(C):C===93?(e.consume(C),N):M(C)}function K(C){return C===null||C===62?B(C):re(C)?(u=K,V(C)):(e.consume(C),K)}function W(C){return C===null?n(C):C===63?(e.consume(C),tt):re(C)?(u=W,V(C)):(e.consume(C),W)}function tt(C){return C===62?B(C):W(C)}function X(C){return so(C)?(e.consume(C),z):n(C)}function z(C){return C===45||Hr(C)?(e.consume(C),z):q(C)}function q(C){return re(C)?(u=q,V(C)):We(C)?(e.consume(C),q):B(C)}function x(C){return C===45||Hr(C)?(e.consume(C),x):C===47||C===62||vr(C)?A(C):n(C)}function A(C){return C===47?(e.consume(C),B):C===58||C===95||so(C)?(e.consume(C),U):re(C)?(u=A,V(C)):We(C)?(e.consume(C),A):B(C)}function U(C){return C===45||C===46||C===58||C===95||Hr(C)?(e.consume(C),U):k(C)}function k(C){return C===61?(e.consume(C),P):re(C)?(u=k,V(C)):We(C)?(e.consume(C),k):A(C)}function P(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),r=C,D):re(C)?(u=P,V(C)):We(C)?(e.consume(C),P):(e.consume(C),Z)}function D(C){return C===r?(e.consume(C),r=void 0,G):C===null?n(C):re(C)?(u=D,V(C)):(e.consume(C),D)}function Z(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||vr(C)?A(C):(e.consume(C),Z)}function G(C){return C===47||C===62||vr(C)?A(C):n(C)}function B(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function V(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),nt}function nt(C){return We(C)?Tn(e,it,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):it(C)}function it(C){return e.enter("htmlTextData"),u(C)}}const kw={name:"labelEnd",resolveAll:HU,resolveTo:qU,tokenize:GU},BU={tokenize:WU},FU={tokenize:KU},jU={tokenize:ZU};function HU(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return e.length!==n.length&&_o(e,0,e.length,n),e}function qU(e,t){let n=e.length,i=0,r,o,u,h;for(;n--;)if(r=e[n][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(u=n);const d={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[o][1].start},end:{...e[u][1].end}},g={type:"labelText",start:{...e[o+i+2][1].end},end:{...e[u-2][1].start}};return h=[["enter",d,t],["enter",m,t]],h=fs(h,e.slice(o+1,o+i+3)),h=fs(h,[["enter",g,t]]),h=fs(h,Pw(t.parser.constructs.insideSpan.null,e.slice(o+i+4,u-3),t)),h=fs(h,[["exit",g,t],e[u-2],e[u-1],["exit",m,t]]),h=fs(h,e.slice(u+1)),h=fs(h,[["exit",d,t]]),_o(e,o,e.length,h),e}function GU(e,t,n){const i=this;let r=i.events.length,o,u;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){o=i.events[r][1];break}return h;function h(v){return o?o._inactive?y(v):(u=i.parser.defined.includes(wc(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),d):n(v)}function d(v){return v===40?e.attempt(BU,g,u?g:y)(v):v===91?e.attempt(FU,g,u?m:y)(v):u?g(v):y(v)}function m(v){return e.attempt(jU,g,y)(v)}function g(v){return t(v)}function y(v){return o._balanced=!0,n(v)}}function WU(e,t,n){return i;function i(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),r}function r(y){return vr(y)?Sf(e,o)(y):o(y)}function o(y){return y===41?g(y):FI(e,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return vr(y)?Sf(e,d)(y):g(y)}function h(y){return n(y)}function d(y){return y===34||y===39||y===40?HI(e,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function m(y){return vr(y)?Sf(e,g)(y):g(y)}function g(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),t):n(y)}}function KU(e,t,n){const i=this;return r;function r(h){return jI.call(i,e,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return i.parser.defined.includes(wc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(h):n(h)}function u(h){return n(h)}}function ZU(e,t,n){return i;function i(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),r}function r(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const $U={name:"labelStartImage",resolveAll:kw.resolveAll,tokenize:YU};function YU(e,t,n){const i=this;return r;function r(h){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(h),e.exit("labelImageMarker"),o}function o(h){return h===91?(e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):t(h)}}const XU={name:"labelStartLink",resolveAll:kw.resolveAll,tokenize:QU};function QU(e,t,n){const i=this;return r;function r(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):t(u)}}const B_={name:"lineEnding",tokenize:JU};function JU(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Tn(e,t,"linePrefix")}}const em={name:"thematicBreak",tokenize:tB};function tB(e,t,n){let i=0,r;return o;function o(m){return e.enter("thematicBreak"),u(m)}function u(m){return r=m,h(m)}function h(m){return m===r?(e.enter("thematicBreakSequence"),d(m)):i>=3&&(m===null||re(m))?(e.exit("thematicBreak"),t(m)):n(m)}function d(m){return m===r?(e.consume(m),i++,d):(e.exit("thematicBreakSequence"),We(m)?Tn(e,h,"whitespace")(m):h(m))}}const pr={continuation:{tokenize:rB},exit:oB,name:"list",tokenize:iB},eB={partial:!0,tokenize:aB},nB={partial:!0,tokenize:sB};function iB(e,t,n){const i=this,r=i.events[i.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,u=0;return h;function h(T){const R=i.containerState.type||(T===42||T===43||T===45?"listUnordered":"listOrdered");if(R==="listUnordered"?!i.containerState.marker||T===i.containerState.marker:Zv(T)){if(i.containerState.type||(i.containerState.type=R,e.enter(R,{_container:!0})),R==="listUnordered")return e.enter("listItemPrefix"),T===42||T===45?e.check(em,n,m)(T):m(T);if(!i.interrupt||T===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(T)}return n(T)}function d(T){return Zv(T)&&++u<10?(e.consume(T),d):(!i.interrupt||u<2)&&(i.containerState.marker?T===i.containerState.marker:T===41||T===46)?(e.exit("listItemValue"),m(T)):n(T)}function m(T){return e.enter("listItemMarker"),e.consume(T),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||T,e.check(sg,i.interrupt?n:g,e.attempt(eB,v,y))}function g(T){return i.containerState.initialBlankLine=!0,o++,v(T)}function y(T){return We(T)?(e.enter("listItemPrefixWhitespace"),e.consume(T),e.exit("listItemPrefixWhitespace"),v):n(T)}function v(T){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(T)}}function rB(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(sg,r,o);function r(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Tn(e,t,"listItemIndent",i.containerState.size+1)(h)}function o(h){return i.containerState.furtherBlankLines||!We(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(nB,t,u)(h))}function u(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,Tn(e,e.attempt(pr,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function sB(e,t,n){const i=this;return Tn(e,r,"listItemIndent",i.containerState.size+1);function r(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?t(o):n(o)}}function oB(e){e.exit(this.containerState.type)}function aB(e,t,n){const i=this;return Tn(e,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(o){const u=i.events[i.events.length-1];return!We(o)&&u&&u[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Bx={name:"setextUnderline",resolveTo:lB,tokenize:uB};function lB(e,t){let n=e.length,i,r,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(r=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",o?(e.splice(r,0,["enter",u,t]),e.splice(o+1,0,["exit",e[i][1],t]),e[i][1].end={...e[o][1].end}):e[i][1]=u,e.push(["exit",u,t]),e}function uB(e,t,n){const i=this;let r;return o;function o(m){let g=i.events.length,y;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){y=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||y)?(e.enter("setextHeadingLine"),r=m,u(m)):n(m)}function u(m){return e.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===r?(e.consume(m),h):(e.exit("setextHeadingLineSequence"),We(m)?Tn(e,d,"lineSuffix")(m):d(m))}function d(m){return m===null||re(m)?(e.exit("setextHeadingLine"),t(m)):n(m)}}const cB={tokenize:hB};function hB(e){const t=this,n=e.attempt(sg,i,e.attempt(this.parser.constructs.flowInitial,r,Tn(e,e.attempt(this.parser.constructs.flow,r,e.attempt(gU,r)),"linePrefix")));return n;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const fB={resolveAll:GI()},dB=qI("string"),pB=qI("text");function qI(e){return{resolveAll:GI(e==="text"?mB:void 0),tokenize:t};function t(n){const i=this,r=this.parser.constructs[e],o=n.attempt(r,u,h);return u;function u(g){return m(g)?o(g):h(g)}function h(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),d}function d(g){return m(g)?(n.exit("data"),o(g)):(n.consume(g),d)}function m(g){if(g===null)return!0;const y=r[g];let v=-1;if(y)for(;++v<y.length;){const T=y[v];if(!T.previous||T.previous.call(i,i.previous))return!0}return!1}}}function GI(e){return t;function t(n,i){let r=-1,o;for(;++r<=n.length;)o===void 0?n[r]&&n[r][1].type==="data"&&(o=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==o+2&&(n[o][1].end=n[r-1][1].end,n.splice(o+2,r-o-2),r=o+2),o=void 0);return e?e(n,i):n}}function mB(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],r=t.sliceStream(i);let o=r.length,u=-1,h=0,d;for(;o--;){const m=r[o];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(m===-2)d=!0,h++;else if(m!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(h=0),h){const m={type:n===e.length||d||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(e.splice(n,0,["enter",m,t],["exit",m,t]),n+=2)}n++}return e}const gB={42:pr,43:pr,45:pr,48:pr,49:pr,50:pr,51:pr,52:pr,53:pr,54:pr,55:pr,56:pr,57:pr,62:VI},yB={91:bU},_B={[-2]:U_,[-1]:U_,32:U_},vB={35:RU,42:em,45:[Bx,em],60:kU,61:Bx,95:em,96:zx,126:zx},wB={38:UI,92:zI},bB={[-5]:B_,[-4]:B_,[-3]:B_,33:$U,38:UI,42:$v,60:[Xz,zU],91:XU,92:[xU,zI],93:kw,95:$v,96:cU},TB={null:[$v,fB]},EB={null:[42,95]},SB={null:[]},xB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:EB,contentInitial:yB,disable:SB,document:gB,flow:vB,flowInitial:_B,insideSpan:TB,string:wB,text:bB},Symbol.toStringTag,{value:"Module"}));function AB(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},o=[];let u=[],h=[];const d={attempt:q(X),check:q(z),consume:K,enter:W,exit:tt,interrupt:q(z,{interrupt:!0})},m={code:null,containerState:{},defineSkip:M,events:[],now:R,parser:e,previous:null,sliceSerialize:v,sliceStream:T,write:y};let g=t.tokenize.call(m,d);return t.resolveAll&&o.push(t),m;function y(k){return u=fs(u,k),F(),u[u.length-1]!==null?[]:(x(t,0),m.events=Pw(o,m.events,m),m.events)}function v(k,P){return CB(T(k),P)}function T(k){return RB(u,k)}function R(){const{_bufferIndex:k,_index:P,line:D,column:Z,offset:G}=i;return{_bufferIndex:k,_index:P,line:D,column:Z,offset:G}}function M(k){r[k.line]=k.column,U()}function F(){let k;for(;i._index<u.length;){const P=u[i._index];if(typeof P=="string")for(k=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===k&&i._bufferIndex<P.length;)N(P.charCodeAt(i._bufferIndex));else N(P)}}function N(k){g=g(k)}function K(k){re(k)?(i.line++,i.column=1,i.offset+=k===-3?2:1,U()):k!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=k}function W(k,P){const D=P||{};return D.type=k,D.start=R(),m.events.push(["enter",D,m]),h.push(D),D}function tt(k){const P=h.pop();return P.end=R(),m.events.push(["exit",P,m]),P}function X(k,P){x(k,P.from)}function z(k,P){P.restore()}function q(k,P){return D;function D(Z,G,B){let V,nt,it,C;return Array.isArray(Z)?lt(Z):"tokenize"in Z?lt([Z]):at(Z);function at(yt){return Bt;function Bt(Mt){const Ht=Mt!==null&&yt[Mt],Ot=Mt!==null&&yt.null,se=[...Array.isArray(Ht)?Ht:Ht?[Ht]:[],...Array.isArray(Ot)?Ot:Ot?[Ot]:[]];return lt(se)(Mt)}}function lt(yt){return V=yt,nt=0,yt.length===0?B:$(yt[nt])}function $(yt){return Bt;function Bt(Mt){return C=A(),it=yt,yt.partial||(m.currentConstruct=yt),yt.name&&m.parser.constructs.disable.null.includes(yt.name)?ut():yt.tokenize.call(P?Object.assign(Object.create(m),P):m,d,ht,ut)(Mt)}}function ht(yt){return k(it,C),G}function ut(yt){return C.restore(),++nt<V.length?$(V[nt]):B}}}function x(k,P){k.resolveAll&&!o.includes(k)&&o.push(k),k.resolve&&_o(m.events,P,m.events.length-P,k.resolve(m.events.slice(P),m)),k.resolveTo&&(m.events=k.resolveTo(m.events,m))}function A(){const k=R(),P=m.previous,D=m.currentConstruct,Z=m.events.length,G=Array.from(h);return{from:Z,restore:B};function B(){i=k,m.previous=P,m.currentConstruct=D,m.events.length=Z,h=G,U()}}function U(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function RB(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,o=t.end._bufferIndex;let u;if(n===r)u=[e[n].slice(i,o)];else{if(u=e.slice(n,r),i>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(i):u.shift()}o>0&&u.push(e[r].slice(0,o))}return u}function CB(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const o=e[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&r)continue;u=" ";break}default:u=String.fromCharCode(o)}r=o===-2,i.push(u)}return i.join("")}function IB(e){const i={constructs:Nz([xB,...(e||{}).extensions||[]]),content:r(qz),defined:[],document:r(Wz),flow:r(cB),lazy:{},string:r(dB),text:r(pB)};return i;function r(o){return u;function u(h){return AB(i,o,h)}}}function PB(e){for(;!BI(e););return e}const Fx=/[\0\t\n\r]/g;function kB(){let e=1,t="",n=!0,i;return r;function r(o,u,h){const d=[];let m,g,y,v,T;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),y=0,t="",n&&(o.charCodeAt(0)===65279&&y++,n=void 0);y<o.length;){if(Fx.lastIndex=y,m=Fx.exec(o),v=m&&m.index!==void 0?m.index:o.length,T=o.charCodeAt(v),!m){t=o.slice(y);break}if(T===10&&y===v&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),y<v&&(d.push(o.slice(y,v)),e+=v-y),T){case 0:{d.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,d.push(-2);e++<g;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:i=!0,e=1}y=v+1}return h&&(i&&d.push(-5),t&&d.push(t),d.push(null)),d}}const DB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MB(e){return e.replace(DB,OB)}function OB(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return NI(n.slice(o?2:1),o?16:10)}return Iw(n)||e}const WI={}.hasOwnProperty;function LB(e,t,n){return typeof t!="string"&&(n=t,t=void 0),NB(n)(PB(IB(n).document().write(kB()(e,t,!0))))}function NB(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Fe),autolinkProtocol:A,autolinkEmail:A,atxHeading:o(he),blockQuote:o(Ot),characterEscape:A,characterReference:A,codeFenced:o(se),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(se,u),codeText:o(oe,u),codeTextData:A,data:A,codeFlowValue:A,definition:o(on),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(Be),hardBreakEscape:o(Me),hardBreakTrailing:o(Me),htmlFlow:o(ne,u),htmlFlowData:A,htmlText:o(ne,u),htmlTextData:A,image:o(me),label:u,link:o(Fe),listItem:o(ge),listItemValue:v,listOrdered:o(Ee,y),listUnordered:o(Ee),paragraph:o(hn),reference:$,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(he),strong:o(ke),thematicBreak:o(Sn)},exit:{atxHeading:d(),atxHeadingSequence:X,autolink:d(),autolinkEmail:Ht,autolinkProtocol:Mt,blockQuote:d(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:ut,characterReferenceMarkerNumeric:ut,characterReferenceValue:yt,characterReference:Bt,codeFenced:d(F),codeFencedFence:M,codeFencedFenceInfo:T,codeFencedFenceMeta:R,codeFlowValue:U,codeIndented:d(N),codeText:d(G),codeTextData:U,data:U,definition:d(),definitionDestinationString:tt,definitionLabelString:K,definitionTitleString:W,emphasis:d(),hardBreakEscape:d(P),hardBreakTrailing:d(P),htmlFlow:d(D),htmlFlowData:U,htmlText:d(Z),htmlTextData:U,image:d(V),label:it,labelText:nt,lineEnding:k,link:d(B),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ht,resourceDestinationString:C,resourceTitleString:at,resource:lt,setextHeading:d(x),setextHeadingLineSequence:q,setextHeadingText:z,strong:d(),thematicBreak:d()}};KI(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(_t){let Et={type:"root",children:[]};const Dt={stack:[Et],tokenStack:[],config:t,enter:h,exit:m,buffer:u,resume:g,data:n},Vt=[];let Kt=-1;for(;++Kt<_t.length;)if(_t[Kt][1].type==="listOrdered"||_t[Kt][1].type==="listUnordered")if(_t[Kt][0]==="enter")Vt.push(Kt);else{const ye=Vt.pop();Kt=r(_t,ye,Kt)}for(Kt=-1;++Kt<_t.length;){const ye=t[_t[Kt][0]];WI.call(ye,_t[Kt][1].type)&&ye[_t[Kt][1].type].call(Object.assign({sliceSerialize:_t[Kt][2].sliceSerialize},Dt),_t[Kt][1])}if(Dt.tokenStack.length>0){const ye=Dt.tokenStack[Dt.tokenStack.length-1];(ye[1]||jx).call(Dt,void 0,ye[0])}for(Et.position={start:qa(_t.length>0?_t[0][1].start:{line:1,column:1,offset:0}),end:qa(_t.length>0?_t[_t.length-2][1].end:{line:1,column:1,offset:0})},Kt=-1;++Kt<t.transforms.length;)Et=t.transforms[Kt](Et)||Et;return Et}function r(_t,Et,Dt){let Vt=Et-1,Kt=-1,ye=!1,Ve,je,Ke,He;for(;++Vt<=Dt;){const tn=_t[Vt];switch(tn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{tn[0]==="enter"?Kt++:Kt--,He=void 0;break}case"lineEndingBlank":{tn[0]==="enter"&&(Ve&&!He&&!Kt&&!Ke&&(Ke=Vt),He=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:He=void 0}if(!Kt&&tn[0]==="enter"&&tn[1].type==="listItemPrefix"||Kt===-1&&tn[0]==="exit"&&(tn[1].type==="listUnordered"||tn[1].type==="listOrdered")){if(Ve){let xn=Vt;for(je=void 0;xn--;){const An=_t[xn];if(An[1].type==="lineEnding"||An[1].type==="lineEndingBlank"){if(An[0]==="exit")continue;je&&(_t[je][1].type="lineEndingBlank",ye=!0),An[1].type="lineEnding",je=xn}else if(!(An[1].type==="linePrefix"||An[1].type==="blockQuotePrefix"||An[1].type==="blockQuotePrefixWhitespace"||An[1].type==="blockQuoteMarker"||An[1].type==="listItemIndent"))break}Ke&&(!je||Ke<je)&&(Ve._spread=!0),Ve.end=Object.assign({},je?_t[je][1].start:tn[1].end),_t.splice(je||Vt,0,["exit",Ve,tn[2]]),Vt++,Dt++}if(tn[1].type==="listItemPrefix"){const xn={type:"listItem",_spread:!1,start:Object.assign({},tn[1].start),end:void 0};Ve=xn,_t.splice(Vt,0,["enter",xn,tn[2]]),Vt++,Dt++,Ke=void 0,He=!0}}}return _t[Et][1]._spread=ye,Dt}function o(_t,Et){return Dt;function Dt(Vt){h.call(this,_t(Vt),Vt),Et&&Et.call(this,Vt)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(_t,Et,Dt){this.stack[this.stack.length-1].children.push(_t),this.stack.push(_t),this.tokenStack.push([Et,Dt||void 0]),_t.position={start:qa(Et.start),end:void 0}}function d(_t){return Et;function Et(Dt){_t&&_t.call(this,Dt),m.call(this,Dt)}}function m(_t,Et){const Dt=this.stack.pop(),Vt=this.tokenStack.pop();if(Vt)Vt[0].type!==_t.type&&(Et?Et.call(this,_t,Vt[0]):(Vt[1]||jx).call(this,_t,Vt[0]));else throw new Error("Cannot close `"+_t.type+"` ("+Ef({start:_t.start,end:_t.end})+"): it’s not open");Dt.position.end=qa(_t.end)}function g(){return Oz(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(_t){if(this.data.expectingFirstListItemValue){const Et=this.stack[this.stack.length-2];Et.start=Number.parseInt(this.sliceSerialize(_t),10),this.data.expectingFirstListItemValue=void 0}}function T(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.lang=_t}function R(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.meta=_t}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function F(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.value=_t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.value=_t.replace(/(\r?\n|\r)$/g,"")}function K(_t){const Et=this.resume(),Dt=this.stack[this.stack.length-1];Dt.label=Et,Dt.identifier=wc(this.sliceSerialize(_t)).toLowerCase()}function W(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.title=_t}function tt(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.url=_t}function X(_t){const Et=this.stack[this.stack.length-1];if(!Et.depth){const Dt=this.sliceSerialize(_t).length;Et.depth=Dt}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function q(_t){const Et=this.stack[this.stack.length-1];Et.depth=this.sliceSerialize(_t).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function A(_t){const Dt=this.stack[this.stack.length-1].children;let Vt=Dt[Dt.length-1];(!Vt||Vt.type!=="text")&&(Vt=ve(),Vt.position={start:qa(_t.start),end:void 0},Dt.push(Vt)),this.stack.push(Vt)}function U(_t){const Et=this.stack.pop();Et.value+=this.sliceSerialize(_t),Et.position.end=qa(_t.end)}function k(_t){const Et=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Dt=Et.children[Et.children.length-1];Dt.position.end=qa(_t.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Et.type)&&(A.call(this,_t),U.call(this,_t))}function P(){this.data.atHardBreak=!0}function D(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.value=_t}function Z(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.value=_t}function G(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.value=_t}function B(){const _t=this.stack[this.stack.length-1];if(this.data.inReference){const Et=this.data.referenceType||"shortcut";_t.type+="Reference",_t.referenceType=Et,delete _t.url,delete _t.title}else delete _t.identifier,delete _t.label;this.data.referenceType=void 0}function V(){const _t=this.stack[this.stack.length-1];if(this.data.inReference){const Et=this.data.referenceType||"shortcut";_t.type+="Reference",_t.referenceType=Et,delete _t.url,delete _t.title}else delete _t.identifier,delete _t.label;this.data.referenceType=void 0}function nt(_t){const Et=this.sliceSerialize(_t),Dt=this.stack[this.stack.length-2];Dt.label=MB(Et),Dt.identifier=wc(Et).toLowerCase()}function it(){const _t=this.stack[this.stack.length-1],Et=this.resume(),Dt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Dt.type==="link"){const Vt=_t.children;Dt.children=Vt}else Dt.alt=Et}function C(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.url=_t}function at(){const _t=this.resume(),Et=this.stack[this.stack.length-1];Et.title=_t}function lt(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function ht(_t){const Et=this.resume(),Dt=this.stack[this.stack.length-1];Dt.label=Et,Dt.identifier=wc(this.sliceSerialize(_t)).toLowerCase(),this.data.referenceType="full"}function ut(_t){this.data.characterReferenceType=_t.type}function yt(_t){const Et=this.sliceSerialize(_t),Dt=this.data.characterReferenceType;let Vt;Dt?(Vt=NI(Et,Dt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Vt=Iw(Et);const Kt=this.stack[this.stack.length-1];Kt.value+=Vt}function Bt(_t){const Et=this.stack.pop();Et.position.end=qa(_t.end)}function Mt(_t){U.call(this,_t);const Et=this.stack[this.stack.length-1];Et.url=this.sliceSerialize(_t)}function Ht(_t){U.call(this,_t);const Et=this.stack[this.stack.length-1];Et.url="mailto:"+this.sliceSerialize(_t)}function Ot(){return{type:"blockquote",children:[]}}function se(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function on(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Be(){return{type:"emphasis",children:[]}}function he(){return{type:"heading",depth:0,children:[]}}function Me(){return{type:"break"}}function ne(){return{type:"html",value:""}}function me(){return{type:"image",title:null,url:"",alt:null}}function Fe(){return{type:"link",title:null,url:"",children:[]}}function Ee(_t){return{type:"list",ordered:_t.type==="listOrdered",start:null,spread:_t._spread,children:[]}}function ge(_t){return{type:"listItem",spread:_t._spread,checked:null,children:[]}}function hn(){return{type:"paragraph",children:[]}}function ke(){return{type:"strong",children:[]}}function ve(){return{type:"text",value:""}}function Sn(){return{type:"thematicBreak"}}}function qa(e){return{line:e.line,column:e.column,offset:e.offset}}function KI(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?KI(e,i):VB(e,i)}}function VB(e,t){let n;for(n in t)if(WI.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function jx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ef({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ef({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ef({start:t.start,end:t.end})+") is still open")}function zB(e){const t=this;t.parser=n;function n(i){return LB(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function UB(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function BB(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function FB(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(r.data={meta:t.meta}),e.patch(t,r),r=e.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},e.patch(t,r),r}function jB(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HB(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qB(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=qc(i.toLowerCase()),o=e.footnoteOrder.indexOf(i);let u,h=e.footnoteCounts.get(i);h===void 0?(h=0,e.footnoteOrder.push(i),u=e.footnoteOrder.length):u=o+1,h+=1,e.footnoteCounts.set(i,h);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,d);const m={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,m),e.applyData(t,m)}function GB(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WB(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function ZI(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=e.all(t),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift({type:"text",value:"["});const u=r[r.length-1];return u&&u.type==="text"?u.value+=i:r.push({type:"text",value:i}),r}function KB(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return ZI(e,t);const r={src:qc(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,o),e.applyData(t,o)}function ZB(e,t){const n={src:qc(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function $B(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function YB(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return ZI(e,t);const r={href:qc(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function XB(e,t){const n={href:qc(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function QB(e,t,n){const i=e.all(t),r=n?JB(n):$I(t),o={},u=[];if(typeof t.checked=="boolean"){const g=i[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},i.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const g=i[h];(r||h!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!r?u.push(...g.children):u.push(g)}const d=i[i.length-1];d&&(r||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:o,children:u};return e.patch(t,m),e.applyData(t,m)}function JB(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=$I(n[i])}return t}function $I(e){const t=e.spread;return t??e.children.length>1}function t9(e,t){const n={},i=e.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++r<i.length;){const u=i[r];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function e9(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function n9(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function i9(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function r9(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],u),r.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},h=xw(t.children[1]),d=II(t.children[t.children.length-1]);h&&d&&(u.position={start:h,end:d}),r.push(u)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function s9(e,t,n){const i=n?n.children:void 0,o=(i?i.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:t.children.length;let d=-1;const m=[];for(;++d<h;){const y=t.children[d],v={},T=u?u[d]:void 0;T&&(v.align=T);let R={type:"element",tagName:o,properties:v,children:[]};y&&(R.children=e.all(y),e.patch(y,R),R=e.applyData(y,R)),m.push(R)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,g),e.applyData(t,g)}function o9(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Hx=9,qx=32;function a9(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const o=[];for(;i;)o.push(Gx(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return o.push(Gx(t.slice(r),r>0,!1)),o.join("")}function Gx(e,t,n){let i=0,r=e.length;if(t){let o=e.codePointAt(i);for(;o===Hx||o===qx;)i++,o=e.codePointAt(i)}if(n){let o=e.codePointAt(r-1);for(;o===Hx||o===qx;)r--,o=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}function l9(e,t){const n={type:"text",value:a9(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function u9(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const c9={blockquote:UB,break:BB,code:FB,delete:jB,emphasis:HB,footnoteReference:qB,heading:GB,html:WB,imageReference:KB,image:ZB,inlineCode:$B,linkReference:YB,link:XB,listItem:QB,list:t9,paragraph:e9,root:n9,strong:i9,table:r9,tableCell:o9,tableRow:s9,text:l9,thematicBreak:u9,toml:Lp,yaml:Lp,definition:Lp,footnoteDefinition:Lp};function Lp(){}const YI=-1,og=0,xf=1,Tm=2,Dw=3,Mw=4,Ow=5,Lw=6,XI=7,QI=8,Wx=typeof self=="object"?self:globalThis,h9=(e,t)=>{const n=(r,o)=>(e.set(o,r),r),i=r=>{if(e.has(r))return e.get(r);const[o,u]=t[r];switch(o){case og:case YI:return n(u,r);case xf:{const h=n([],r);for(const d of u)h.push(i(d));return h}case Tm:{const h=n({},r);for(const[d,m]of u)h[i(d)]=i(m);return h}case Dw:return n(new Date(u),r);case Mw:{const{source:h,flags:d}=u;return n(new RegExp(h,d),r)}case Ow:{const h=n(new Map,r);for(const[d,m]of u)h.set(i(d),i(m));return h}case Lw:{const h=n(new Set,r);for(const d of u)h.add(i(d));return h}case XI:{const{name:h,message:d}=u;return n(new Wx[h](d),r)}case QI:return n(BigInt(u),r);case"BigInt":return n(Object(BigInt(u)),r);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new Wx[o](u),r)};return i},Kx=e=>h9(new Map,e)(0),rc="",{toString:f9}={},{keys:d9}=Object,Yh=e=>{const t=typeof e;if(t!=="object"||!e)return[og,t];const n=f9.call(e).slice(8,-1);switch(n){case"Array":return[xf,rc];case"Object":return[Tm,rc];case"Date":return[Dw,rc];case"RegExp":return[Mw,rc];case"Map":return[Ow,rc];case"Set":return[Lw,rc];case"DataView":return[xf,n]}return n.includes("Array")?[xf,n]:n.includes("Error")?[XI,n]:[Tm,n]},Np=([e,t])=>e===og&&(t==="function"||t==="symbol"),p9=(e,t,n,i)=>{const r=(u,h)=>{const d=i.push(u)-1;return n.set(h,d),d},o=u=>{if(n.has(u))return n.get(u);let[h,d]=Yh(u);switch(h){case og:{let g=u;switch(d){case"bigint":h=QI,g=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);g=null;break;case"undefined":return r([YI],u)}return r([h,g],u)}case xf:{if(d){let v=u;return d==="DataView"?v=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(v=new Uint8Array(u)),r([d,[...v]],u)}const g=[],y=r([h,g],u);for(const v of u)g.push(o(v));return y}case Tm:{if(d)switch(d){case"BigInt":return r([d,u.toString()],u);case"Boolean":case"Number":case"String":return r([d,u.valueOf()],u)}if(t&&"toJSON"in u)return o(u.toJSON());const g=[],y=r([h,g],u);for(const v of d9(u))(e||!Np(Yh(u[v])))&&g.push([o(v),o(u[v])]);return y}case Dw:return r([h,u.toISOString()],u);case Mw:{const{source:g,flags:y}=u;return r([h,{source:g,flags:y}],u)}case Ow:{const g=[],y=r([h,g],u);for(const[v,T]of u)(e||!(Np(Yh(v))||Np(Yh(T))))&&g.push([o(v),o(T)]);return y}case Lw:{const g=[],y=r([h,g],u);for(const v of u)(e||!Np(Yh(v)))&&g.push(o(v));return y}}const{message:m}=u;return r([h,{name:d,message:m}],u)};return o},Zx=(e,{json:t,lossy:n}={})=>{const i=[];return p9(!(t||n),!!t,new Map,i)(e),i},Em=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Kx(Zx(e,t)):structuredClone(e):(e,t)=>Kx(Zx(e,t));function m9(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function g9(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function y9(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||m9,i=e.options.footnoteBackLabel||g9,r=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let d=-1;for(;++d<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[d]);if(!m)continue;const g=e.all(m),y=String(m.identifier).toUpperCase(),v=qc(y.toLowerCase());let T=0;const R=[],M=e.footnoteCounts.get(y);for(;M!==void 0&&++T<=M;){R.length>0&&R.push({type:"text",value:" "});let K=typeof n=="string"?n:n(d,T);typeof K=="string"&&(K={type:"text",value:K}),R.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(T>1?"-"+T:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,T),className:["data-footnote-backref"]},children:Array.isArray(K)?K:[K]})}const F=g[g.length-1];if(F&&F.type==="element"&&F.tagName==="p"){const K=F.children[F.children.length-1];K&&K.type==="text"?K.value+=" ":F.children.push({type:"text",value:" "}),F.children.push(...R)}else g.push(...R);const N={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(g,!0)};e.patch(m,N),h.push(N)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Em(u),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(h,!0)},{type:"text",value:`
`}]}}const JI=(function(e){if(e==null)return b9;if(typeof e=="function")return ag(e);if(typeof e=="object")return Array.isArray(e)?_9(e):v9(e);if(typeof e=="string")return w9(e);throw new Error("Expected function, string, or object as test")});function _9(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=JI(e[n]);return ag(i);function i(...r){let o=-1;for(;++o<t.length;)if(t[o].apply(this,r))return!0;return!1}}function v9(e){const t=e;return ag(n);function n(i){const r=i;let o;for(o in e)if(r[o]!==t[o])return!1;return!0}}function w9(e){return ag(t);function t(n){return n&&n.type===e}}function ag(e){return t;function t(n,i,r){return!!(T9(n)&&e.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function b9(){return!0}function T9(e){return e!==null&&typeof e=="object"&&"type"in e}const tP=[],E9=!0,$x=!1,S9="skip";function x9(e,t,n,i){let r;typeof t=="function"&&typeof n!="function"?(i=n,n=t):r=t;const o=JI(r),u=i?-1:1;h(e,void 0,[])();function h(d,m,g){const y=d&&typeof d=="object"?d:{};if(typeof y.type=="string"){const T=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(d.type+(T?"<"+T+">":""))+")"})}return v;function v(){let T=tP,R,M,F;if((!t||o(d,m,g[g.length-1]||void 0))&&(T=A9(n(d,g)),T[0]===$x))return T;if("children"in d&&d.children){const N=d;if(N.children&&T[0]!==S9)for(M=(i?N.children.length:-1)+u,F=g.concat(N);M>-1&&M<N.children.length;){const K=N.children[M];if(R=h(K,M,F)(),R[0]===$x)return R;M=typeof R[1]=="number"?R[1]:M+u}}return T}}}function A9(e){return Array.isArray(e)?e:typeof e=="number"?[E9,e]:e==null?tP:[e]}function eP(e,t,n,i){let r,o,u;typeof t=="function"&&typeof n!="function"?(o=void 0,u=t,r=n):(o=t,u=n,r=i),x9(e,o,h,r);function h(d,m){const g=m[m.length-1],y=g?g.children.indexOf(d):void 0;return u(d,y,g)}}const Yv={}.hasOwnProperty,R9={};function C9(e,t){const n=t||R9,i=new Map,r=new Map,o=new Map,u={...c9,...n.handlers},h={all:m,applyData:P9,definitionById:i,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:u,one:d,options:n,patch:I9,wrap:D9};return eP(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?i:r,v=String(g.identifier).toUpperCase();y.has(v)||y.set(v,g)}}),h;function d(g,y){const v=g.type,T=h.handlers[v];if(Yv.call(h.handlers,v)&&T)return T(h,g,y);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in g){const{children:M,...F}=g,N=Em(F);return N.children=h.all(g),N}return Em(g)}return(h.options.unknownHandler||k9)(h,g,y)}function m(g){const y=[];if("children"in g){const v=g.children;let T=-1;for(;++T<v.length;){const R=h.one(v[T],g);if(R){if(T&&v[T-1].type==="break"&&(!Array.isArray(R)&&R.type==="text"&&(R.value=Yx(R.value)),!Array.isArray(R)&&R.type==="element")){const M=R.children[0];M&&M.type==="text"&&(M.value=Yx(M.value))}Array.isArray(R)?y.push(...R):y.push(R)}}}return y}}function I9(e,t){e.position&&(t.position=fz(e))}function P9(e,t){let n=t;if(e&&e.data){const i=e.data.hName,r=e.data.hChildren,o=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,Em(o)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function k9(e,t){const n=t.data||{},i="value"in t&&!(Yv.call(n,"hProperties")||Yv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function D9(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Yx(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Xx(e,t){const n=C9(e,t),i=n.one(e,void 0),r=y9(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&o.children.push({type:"text",value:`
`},r),o}function M9(e,t){return e&&"run"in e?async function(n,i){const r=Xx(n,{file:i,...t});await e.run(r,i)}:function(n,i){return Xx(n,{file:i,...e||t})}}function Qx(e){if(e)throw e}var F_,Jx;function O9(){if(Jx)return F_;Jx=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},o=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var g=e.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!y)return!1;var v;for(v in m);return typeof v>"u"||e.call(m,v)},u=function(m,g){n&&g.name==="__proto__"?n(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},h=function(m,g){if(g==="__proto__")if(e.call(m,g)){if(i)return i(m,g).value}else return;return m[g]};return F_=function d(){var m,g,y,v,T,R,M=arguments[0],F=1,N=arguments.length,K=!1;for(typeof M=="boolean"&&(K=M,M=arguments[1]||{},F=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});F<N;++F)if(m=arguments[F],m!=null)for(g in m)y=h(M,g),v=h(m,g),M!==v&&(K&&v&&(o(v)||(T=r(v)))?(T?(T=!1,R=y&&r(y)?y:[]):R=y&&o(y)?y:{},u(M,{name:g,newValue:d(K,R,v)})):typeof v<"u"&&u(M,{name:g,newValue:v}));return M},F_}var L9=O9();const j_=Xm(L9);function Xv(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function N9(){const e=[],t={run:n,use:i};return t;function n(...r){let o=-1;const u=r.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...r);function h(d,...m){const g=e[++o];let y=-1;if(d){u(d);return}for(;++y<r.length;)(m[y]===null||m[y]===void 0)&&(m[y]=r[y]);r=m,g?V9(g,h)(...m):u(null,...m)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}}function V9(e,t){let n;return i;function i(...u){const h=e.length>u.length;let d;h&&u.push(r);try{d=e.apply(this,u)}catch(m){const g=m;if(h&&n)throw g;return r(g)}h||(d&&d.then&&typeof d.then=="function"?d.then(o,r):d instanceof Error?r(d):o(d))}function r(u,...h){n||(n=!0,t(u,...h))}function o(u){r(null,u)}}const no={basename:z9,dirname:U9,extname:B9,join:F9,sep:"/"};function z9(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');dd(e);let n=0,i=-1,r=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;r--;)if(e.codePointAt(r)===47){if(o){n=r+1;break}}else i<0&&(o=!0,i=r+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let u=-1,h=t.length-1;for(;r--;)if(e.codePointAt(r)===47){if(o){n=r+1;break}}else u<0&&(o=!0,u=r+1),h>-1&&(e.codePointAt(r)===t.codePointAt(h--)?h<0&&(i=r):(h=-1,i=u));return n===i?i=u:i<0&&(i=e.length),e.slice(n,i)}function U9(e){if(dd(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function B9(e){dd(e);let t=e.length,n=-1,i=0,r=-1,o=0,u;for(;t--;){const h=e.codePointAt(t);if(h===47){if(u){i=t+1;break}continue}n<0&&(u=!0,n=t+1),h===46?r<0?r=t:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||n<0||o===0||o===1&&r===n-1&&r===i+1?"":e.slice(r,n)}function F9(...e){let t=-1,n;for(;++t<e.length;)dd(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":j9(n)}function j9(e){dd(e);const t=e.codePointAt(0)===47;let n=H9(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function H9(e,t){let n="",i=0,r=-1,o=0,u=-1,h,d;for(;++u<=e.length;){if(u<e.length)h=e.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(r===u-1||o===1))if(r!==u-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",i=0):(n=n.slice(0,d),i=n.length-1-n.lastIndexOf("/")),r=u,o=0;continue}}else if(n.length>0){n="",i=0,r=u,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(r+1,u):n=e.slice(r+1,u),i=u-r-1;r=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function dd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const q9={cwd:G9};function G9(){return"/"}function Qv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function W9(e){if(typeof e=="string")e=new URL(e);else if(!Qv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return K9(e)}function K9(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const H_=["history","path","basename","stem","extname","dirname"];class nP{constructor(t){let n;t?Qv(t)?n={path:t}:typeof t=="string"||Z9(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":q9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<H_.length;){const o=H_[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let r;for(r in n)H_.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?no.basename(this.path):void 0}set basename(t){G_(t,"basename"),q_(t,"basename"),this.path=no.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?no.dirname(this.path):void 0}set dirname(t){tA(this.basename,"dirname"),this.path=no.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?no.extname(this.path):void 0}set extname(t){if(q_(t,"extname"),tA(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=no.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Qv(t)&&(t=W9(t)),G_(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?no.basename(this.path,this.extname):void 0}set stem(t){G_(t,"stem"),q_(t,"stem"),this.path=no.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const r=this.message(t,n,i);throw r.fatal=!0,r}info(t,n,i){const r=this.message(t,n,i);return r.fatal=void 0,r}message(t,n,i){const r=new $i(t,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function q_(e,t){if(e&&e.includes(no.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+no.sep+"`")}function G_(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function tA(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Z9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $9=(function(e){const i=this.constructor.prototype,r=i[e],o=function(){return r.apply(o,arguments)};return Object.setPrototypeOf(o,i),o}),Y9={}.hasOwnProperty;class Nw extends $9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=N9()}copy(){const t=new Nw;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(j_(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Z_("data",this.frozen),this.namespace[t]=n,this):Y9.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Z_("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Vp(t),i=this.parser||this.Parser;return W_("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),W_("process",this.parser||this.Parser),K_("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(o,u){const h=Vp(t),d=i.parse(h);i.run(d,h,function(g,y,v){if(g||!y||!v)return m(g);const T=y,R=i.stringify(T,v);J9(R)?v.value=R:v.result=R,m(g,v)});function m(g,y){g||!y?u(g):o?o(y):n(void 0,y)}}}processSync(t){let n=!1,i;return this.freeze(),W_("processSync",this.parser||this.Parser),K_("processSync",this.compiler||this.Compiler),this.process(t,r),nA("processSync","process",n),i;function r(o,u){n=!0,Qx(o),i=u}}run(t,n,i){eA(t),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(u,h){const d=Vp(n);r.run(t,d,m);function m(g,y,v){const T=y||t;g?h(g):u?u(T):i(void 0,T,v)}}}runSync(t,n){let i=!1,r;return this.run(t,n,o),nA("runSync","run",i),r;function o(u,h){Qx(u),r=h,i=!0}}stringify(t,n){this.freeze();const i=Vp(n),r=this.compiler||this.Compiler;return K_("stringify",r),eA(t),r(t,i)}use(t,...n){const i=this.attachers,r=this.namespace;if(Z_("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?h(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(m){if(typeof m=="function")d(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[g,...y]=m;d(g,y)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(r.settings=j_(!0,r.settings,m.settings))}function h(m){let g=-1;if(m!=null)if(Array.isArray(m))for(;++g<m.length;){const y=m[g];o(y)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function d(m,g){let y=-1,v=-1;for(;++y<i.length;)if(i[y][0]===m){v=y;break}if(v===-1)i.push([m,...g]);else if(g.length>0){let[T,...R]=g;const M=i[v][1];Xv(M)&&Xv(T)&&(T=j_(!0,M,T)),i[v]=[m,T,...R]}}}}const X9=new Nw().freeze();function W_(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function K_(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Z_(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function eA(e){if(!Xv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function nA(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Vp(e){return Q9(e)?e:new nP(e)}function Q9(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function J9(e){return typeof e=="string"||tF(e)}function tF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const eF="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",iA=[],rA={allowDangerousHtml:!0},nF=/^(https?|ircs?|mailto|xmpp)$/i,iF=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rF(e){const t=sF(e),n=oF(e);return aF(t.runSync(t.parse(n),n),e)}function sF(e){const t=e.rehypePlugins||iA,n=e.remarkPlugins||iA,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...rA}:rA;return X9().use(zB).use(n).use(M9,i).use(t)}function oF(e){const t=e.children||"",n=new nP;return typeof t=="string"&&(n.value=t),n}function aF(e,t){const n=t.allowedElements,i=t.allowElement,r=t.components,o=t.disallowedElements,u=t.skipHtml,h=t.unwrapDisallowed,d=t.urlTransform||lF;for(const g of iF)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+eF+g.id,void 0);return eP(e,m),yz(e,{Fragment:ot.Fragment,components:r,ignoreInvalidStyle:!0,jsx:ot.jsx,jsxs:ot.jsxs,passKeys:!0,passNode:!0});function m(g,y,v){if(g.type==="raw"&&v&&typeof y=="number")return u?v.children.splice(y,1):v.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let T;for(T in z_)if(Object.hasOwn(z_,T)&&Object.hasOwn(g.properties,T)){const R=g.properties[T],M=z_[T];(M===null||M.includes(g.tagName))&&(g.properties[T]=d(String(R||""),T,g))}}if(g.type==="element"){let T=n?!n.includes(g.tagName):o?o.includes(g.tagName):!1;if(!T&&i&&typeof y=="number"&&(T=!i(g,y,v)),T&&v&&typeof y=="number")return h&&g.children?v.children.splice(y,1,...g.children):v.children.splice(y,1),y}}}function lF(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),r=e.indexOf("/");return t===-1||r!==-1&&t>r||n!==-1&&t>n||i!==-1&&t>i||nF.test(e.slice(0,t))?e:""}const uF=`Hey du,\r
\r
wenn du das hier liest, bin ich wahrscheinlich gerade irgendwo in Südfrankreich, in Deutschland oder vielleicht sogar gerade erst losgefahren. Wahrscheinlich sitze ich im Auto mit Papa, gucke aus dem Fenster und vermisse dich jetzt schon ein bisschen zu viel.\r
\r
In Porto zu wohnen – klingt irgendwie traumhaft, oder? Aber ehrlich gesagt fühlt es sich nicht wirklich so an. Noch realisiere ich gar nicht, was das eigentlich bedeutet. Jeden Tag habe ich mehr Angst und vermisse alles immer mehr. Mit meinem phänomenalen Wortschatz von 2 Wörtern Portugiesisch und meinem nicht vorhandenen Englisch (C1, du nicht duh) werde ich bestimmt keine Probleme haben, right?? :)\r
\r
Gerade ist alles stressig, ich versuche Uni-Kram und alles andere irgendwie fertig zu bekommen und habe dabei ständig dich im Kopf (Und natürlich Oscar). Ich werde euch beide sehr vermissen.\r
\r
Ich weiß, dass du bald dein Studium anfängst. Ich hätte dich so gern dabei begleitet, dich in der Uni herumgeführt, vielleicht zusammen eine Pizza mit dir essen, aber ich bin dann leider 1863 Kilometer weit weg. Aber ich verspreche dir: Ich denke an dich. Jeden Tag. In den kleinen Momenten. Wenn ich meinen trockenen Toast esse, der niemals an die Crepes von deiner Mama rankommt. Oder wenn ich daran denke, wie wir zusammen bei dir lagen und Oscar versucht hat, uns mit seinem Autismus wegzuignorieren.\r
\r
Ich bin gespannt, wie gut Mara und Bona Deutsch sprechen, wenn ich zurückkomme. Vielleicht können wir dann schon richtige Gespräche führen?\r
\r
Wir sind jetzt, wenn du das liest, wahrscheinlich seit **1 Jahr, 5 Monaten und 8 Tagen** zusammen. **526 Tage**. Und mittlerweile kenne ich dich besser, als jeden Menschen, den ich jemals kannte. Erst so kurz, obwohl wir schon so viel gemacht haben, so viel zusammen erlebt, so viel zusammen gelacht, geweint. Ich glaube, ich habe noch nie jemanden so vermisst, bevor ich überhaupt weg war.\r
\r
Wenn du mal einen schlechten Tag hast, dann denk bitte daran, dass du unfassbar stark bist. Guck doch mal, was du schon alles erlebt hast und trotzdem noch weitermachst. Und denk daran, dass du der liebevollste, schönste, süßeste Mensch bist, den ich kenne.\r
\r
Wenn du mich brauchst – ruf mich an. Wenn du weinst – schreib mir. Wenn du lachst – erzähl mir warum. Und wenn ich in Porto bin – dann nehme ich dich mit meinem Handy mit. Wir können zusammen die Stadt erkunden und zusammen die Sonnenuntergänge anschauen. Ich freu mich schon so sehr darauf, dir das alles zu zeigen, auch wenn du dich da sowieso besser auskennst als ich.\r
\r
Ich liebe dich.\r
\r
Und ich bin sehr, sehr froh, dass du in meinem Leben bist.\r
\r
Bebi'igste Grüße, dein Webi.\r
`,cF=`**Maaaausiiiii,**\r
\r
die Willkommenswoche ist jetzt vorbei und langsam geht’s hier mit dem richtigen Unterricht los. Die erste Woche habe ich eigentlich ganz gut überstanden, und so langsam habe ich echt das Gefühl, hier angekommen zu sein. Mein Stundenplan ist zwar ein bisschen chaotisch – jeden Tag mindestens eine Stunde, total verstreut – aber naja, irgendwie wird das schon. Manche Fächer sind echt komisch, keine Ahnung, warum ich die gewählt habe… und dann habe ich auch erst von anderen erfahren, dass es sogar extra Game-Development-Kurse gibt, aber jetzt leider schon zu spät. Einer meiner Kurse ist so ein Projektkurs, wo man einfach nur ein Projekt macht (wahrscheinlich in einer Gruppe?), aber es geht um Elektronik und nicht mal wirklich Informatik. Schon etwas seltsam, aber ich erzähle dir einfach nach und nach, wie das alles läuft. Hoffentlich finde ich da wenigstens Leute, mit denen ich mich austauschen kann.\r
\r
Was mir aber auffällt: ich hab hier schon einiges gelernt, was das Soziale angeht. Ich komme öfter mal aus meiner Komfortzone, spreche Leute an, frage nach Sachen oder starte Gespräche. Das hätte ich früher halt nie so gemacht. Trotzdem lenkt mich das alles nicht davon ab, wie sehr ich dich vermisse. Jeden Abend ohne dich einzuschlafen fühlt sich irgendwie leer an. Unsere täglichen Telefonate helfen mir zwar, aber es ist einfach nicht das Gleiche, ohne dich bei mir. Ich vermisse alles mit dir... Ich hoffe so sehr, dass die Zeit bald schneller vergeht, bis wir uns wiedersehen.\r
\r
Ich weiß, dass du manchmal zweifelst, ob ich dich wirklich so sehr vermisse – aber glaub mir, das tue ich. Mehr als jemals zuvor. Ich wünsche mir nur, dass es für dich nicht zu schwer ist, dass ich gerade nicht da bin. Vielleicht wird es ein bisschen leichter für dich, wenn deine Uni wieder anfängt und du Ablenkung hast.\r
\r
Und wenn du dann hier bist, kann ich dir schon total viel zeigen! Ich kenne mich inzwischen schon besser in Porto aus. Wir müssen unbedingt zusammen den Sonnenuntergang vom Berg anschauen, von dem ich dir erzählt habe, und natürlich zum Strand. Ich freue mich sehr darauf, dir alles zu zeigen – sogar meine Uni, wenn du möchtest.\r
\r
In zwei Wochen sehen wir uns endlich wieder, und allein der Gedanke daran macht mich richtig glücklich. Und dann fliegen wir zusammen nach Madrid aaaaah\r
\r
Ich liebe dich meine liebste Wausilausibebimausi\r
`,hF=`**Lausiii,**\r
\r
Eigentlich dachte ich nicht, dass wir uns doch so schnell wiedersehen würden. Deswegen habe ich auch nicht so viel über meinen Geburtstag zu erzählen. Ich glaube, das weißt du am besten.\r
\r
Können wir gerne wiederholen, wenn wir gute Flüge finden.\r
\r
Ich liebe dich,\r
deine Laus\r
`,fF="",dF="",Jv=new Date(2025,7,14,9,0,0),pF=new Date(2025,11,24,12,0,0),sA=new Date(2026,0,31,18,0,0),mF=[{id:1,title:"Loveletter #1 - Die Abreise",unlock:Jv,alwaysOpen:!0,teaser:"Der erste Tag ohne dich. Die Reise hat begonnen...",content:uF},{id:2,title:"Loveletter #2 - Erste Eindrücke",unlock:new Date(2025,8,15,18,0,0),alwaysOpen:!1,teaser:"Die erste Zeit in Porto, die Orientierungswoche ist geschafft...",content:cF},{id:3,title:"Loveletter #3 - Happy Birthday!",unlock:new Date(2025,9,2,0,0,1),alwaysOpen:!1,teaser:"Ein Geburtstagsgruß von mir an mich... und an dich.",content:hF},{id:4,title:"Loveletter #4 - Alles Liebe zum Geburtstag!",unlock:new Date(2025,10,10,0,0,1),alwaysOpen:!1,teaser:"Für dich an deinem wichtigsten Tag.",content:fF},{id:5,title:"Loveletter #5 - Fast Weihnachten",unlock:new Date(2025,11,20,20,0,0),alwaysOpen:!1,teaser:"Ich packe schon fast die Koffer. Bald bin ich bei dir.",content:dF}];function t0(e){if(e<=0)return"Zeit ist um!";const t=Math.floor(e/1e3)%60,n=Math.floor(e/(1e3*60))%60,i=Math.floor(e/(1e3*60*60))%24;return`${Math.floor(e/(1e3*60*60*24))}d ${i}h ${n}m ${t}s`}function gF({letter:e,now:t,onOpen:n}){const i=e.alwaysOpen||t>=e.unlock.getTime(),r=e.unlock.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});return ot.jsxs(sr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative bg-white rounded-lg shadow-lg border border-subtle p-6 flex flex-col font-serif",children:[ot.jsx("div",{className:"absolute top-4 right-4 w-12 h-12 bg-amber-100/50 border-2 border-dashed border-amber-200 flex items-center justify-center transform -rotate-12",children:ot.jsx(VN,{className:"text-accent",size:24})}),ot.jsx("h3",{className:`text-xl font-bold text-text transition-all duration-500 ${i?"":"blur-sm select-none"}`,children:e.title}),ot.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-dashed border-subtle grid grid-cols-2 gap-4 text-sm",children:[ot.jsxs("div",{children:[ot.jsx("p",{className:"font-bold text-text/60",children:"DATUM"}),ot.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[ot.jsx(gf,{size:16,className:"text-text/60"}),ot.jsx("span",{className:"text-text",children:r})]})]}),ot.jsxs("div",{children:[ot.jsx("p",{className:"font-bold text-text/60",children:"TIMER"}),ot.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[ot.jsx(BC,{size:16,className:"text-text/60"}),ot.jsx("span",{className:`font-semibold ${i?"text-green-600":"text-red-700"}`,children:i?"Freigeschaltet":t0(e.unlock-t)})]})]})]}),ot.jsx("div",{className:"mt-6 flex justify-center",children:ot.jsx(dw,{mode:"wait",children:i?ot.jsxs(sr.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},onClick:()=>n(e),className:"flex items-center gap-2 px-6 py-2 bg-primary text-white font-bold rounded-full shadow-md hover:bg-primary/90 transition-transform transform active:scale-95",children:[ot.jsx(XN,{size:18})," Öffnen"]},"open"):ot.jsxs(sr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-6 py-2 bg-red-800/10 text-red-800 font-bold rounded-full border border-red-800/20",children:[ot.jsx(WN,{size:16})," Versiegelt"]},"sealed")})})]})}function yF(){const[e,t]=Q.useState(Date.now()),[n,i]=Q.useState(null);Q.useEffect(()=>{const u=setInterval(()=>t(Date.now()),1e3);return()=>clearInterval(u)},[]);const r=u=>{(u.alwaysOpen||e>=u.unlock.getTime())&&i(u)},o=Math.max(0,Math.min(100,Math.round((e-Jv.getTime())/(sA.getTime()-Jv.getTime())*100)));return ot.jsxs("div",{className:"w-full max-w-xl font-sans",children:[ot.jsxs("header",{className:"w-full mb-8",children:[ot.jsxs(sr.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-between items-center mb-4",children:[ot.jsxs("div",{className:"flex gap-3 items-center",children:[ot.jsx(JN,{className:"text-primary",size:28}),ot.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-text",children:"Loveletter Portal 💌"})]}),ot.jsx("div",{className:"text-xs text-text/70 font-medium",children:new Date(e).toLocaleDateString()})]}),ot.jsx(sr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"bg-white/80 rounded-2xl p-4 shadow-lg border border-subtle",children:ot.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center text-sm",children:[ot.jsxs("div",{children:[ot.jsx(gf,{className:"mx-auto text-primary/70"}),ot.jsx("p",{children:"Start"}),ot.jsx("p",{className:"font-bold",children:"14.08.25"})]}),ot.jsxs("div",{children:[ot.jsx(gf,{className:"mx-auto text-green-500"}),ot.jsx("p",{children:"Weihnachten"}),ot.jsx("p",{className:"font-bold",children:"24.12.25"}),ot.jsx("p",{className:"text-xs text-text/80",children:t0(pF-e)})]}),ot.jsxs("div",{children:[ot.jsx(gf,{className:"mx-auto text-accent"}),ot.jsx("p",{children:"Rückkehr"}),ot.jsx("p",{className:"font-bold",children:"31.01.26"}),ot.jsx("p",{className:"text-xs text-text/80",children:t0(sA-e)})]})]})}),ot.jsxs(sr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"mt-4 bg-white/80 p-3 rounded-xl shadow-lg flex justify-between items-center border border-subtle",children:[ot.jsx("span",{className:"text-sm font-medium",children:"Fortschritt"}),ot.jsx("div",{className:"w-2/3 bg-subtle rounded-full h-2.5 overflow-hidden",children:ot.jsx(sr.div,{className:"h-full bg-gradient-to-r from-primary to-accent rounded-full",initial:{width:0},animate:{width:`${o}%`},transition:{duration:1.5,ease:"easeInOut"}})}),ot.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})]})]}),ot.jsx("main",{className:"w-full grid gap-6",children:mF.map(u=>ot.jsx(gF,{letter:u,now:e,onOpen:r},u.id))}),ot.jsx(dw,{children:n&&ot.jsx(sr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50",onClick:()=>i(null),children:ot.jsxs(sr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-background rounded-lg shadow-2xl w-full max-w-2xl flex flex-col max-h-[90vh] border border-subtle",onClick:u=>u.stopPropagation(),children:[ot.jsxs("div",{className:"flex-shrink-0 p-6 border-b border-subtle flex justify-between items-start",children:[ot.jsx("h2",{className:"font-handwriting font-bold text-4xl text-text",children:n.title}),ot.jsx("button",{onClick:()=>i(null),className:"text-primary font-sans font-semibold text-lg hover:text-accent transition",children:"Schließen"})]}),ot.jsx("div",{className:"flex-grow p-6 sm:p-8 overflow-y-auto",children:ot.jsx("div",{className:"prose prose-xl prose-p:text-text/90 prose-p:leading-relaxed font-handwriting",children:ot.jsx(rF,{children:n.content})})})]})})})]})}const _F="modulepreload",vF=function(e){return"/projects/loveletter/"+e},oA={},$_=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){let m=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var u=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");r=m(n.map(g=>{if(g=vF(g),g in oA)return;oA[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":_F,y||(T.as="script"),T.crossOrigin="",T.href=g,d&&T.setAttribute("nonce",d),document.head.appendChild(T),y)return new Promise((R,M)=>{T.addEventListener("load",R),T.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return r.then(h=>{for(const d of h||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};function iP(e,t){const n=Q.useRef(t);Q.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const wF=1;function bF(e){return Object.freeze({__version:wF,map:e})}function TF(e,t){return Object.freeze({...e,...t})}const Vw=Q.createContext(null);function zw(){const e=Q.use(Vw);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function EF(e){function t(n,i){const{instance:r,context:o}=e(n).current;Q.useImperativeHandle(i,()=>r);const{children:u}=n;return u==null?null:Si.createElement(Vw,{value:o},u)}return Q.forwardRef(t)}function SF(e){function t(n,i){const[r,o]=Q.useState(!1),{instance:u}=e(n,o).current;Q.useImperativeHandle(i,()=>u),Q.useEffect(function(){r&&u.update()},[u,r,n.children]);const h=u._contentNode;return h?uc.createPortal(n.children,h):null}return Q.forwardRef(t)}function xF(e){function t(n,i){const{instance:r}=e(n).current;return Q.useImperativeHandle(i,()=>r),null}return Q.forwardRef(t)}function rP(e,t){const n=Q.useRef(void 0);Q.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Uw(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function AF(e,t){return function(i,r){const o=zw(),u=e(Uw(i,o),o);return iP(o.map,i.attribution),rP(u.current,i.eventHandlers),t(u.current,o,i,r),u}}var uf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var RF=uf.exports,aA;function CF(){return aA||(aA=1,(function(e,t){(function(n,i){i(t)})(RF,(function(n){var i="1.9.4";function r(l){var f,w,S,O;for(w=1,S=arguments.length;w<S;w++){O=arguments[w];for(f in O)l[f]=O[f]}return l}var o=Object.create||(function(){function l(){}return function(f){return l.prototype=f,new l}})();function u(l,f){var w=Array.prototype.slice;if(l.bind)return l.bind.apply(l,w.call(arguments,1));var S=w.call(arguments,2);return function(){return l.apply(f,S.length?S.concat(w.call(arguments)):arguments)}}var h=0;function d(l){return"_leaflet_id"in l||(l._leaflet_id=++h),l._leaflet_id}function m(l,f,w){var S,O,Y,rt;return rt=function(){S=!1,O&&(Y.apply(w,O),O=!1)},Y=function(){S?O=arguments:(l.apply(w,arguments),setTimeout(rt,f),S=!0)},Y}function g(l,f,w){var S=f[1],O=f[0],Y=S-O;return l===S&&w?l:((l-O)%Y+Y)%Y+O}function y(){return!1}function v(l,f){if(f===!1)return l;var w=Math.pow(10,f===void 0?6:f);return Math.round(l*w)/w}function T(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function R(l){return T(l).split(/\s+/)}function M(l,f){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var w in f)l.options[w]=f[w];return l.options}function F(l,f,w){var S=[];for(var O in l)S.push(encodeURIComponent(w?O.toUpperCase():O)+"="+encodeURIComponent(l[O]));return(!f||f.indexOf("?")===-1?"?":"&")+S.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function K(l,f){return l.replace(N,function(w,S){var O=f[S];if(O===void 0)throw new Error("No value provided for variable "+w);return typeof O=="function"&&(O=O(f)),O})}var W=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function tt(l,f){for(var w=0;w<l.length;w++)if(l[w]===f)return w;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var q=0;function x(l){var f=+new Date,w=Math.max(0,16-(f-q));return q=f+w,window.setTimeout(l,w)}var A=window.requestAnimationFrame||z("RequestAnimationFrame")||x,U=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function k(l,f,w){if(w&&A===x)l.call(f);else return A.call(window,u(l,f))}function P(l){l&&U.call(window,l)}var D={__proto__:null,extend:r,create:o,bind:u,get lastId(){return h},stamp:d,throttle:m,wrapNum:g,falseFn:y,formatNum:v,trim:T,splitWords:R,setOptions:M,getParamString:F,template:K,isArray:W,indexOf:tt,emptyImageUrl:X,requestFn:A,cancelFn:U,requestAnimFrame:k,cancelAnimFrame:P};function Z(){}Z.extend=function(l){var f=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=f.__super__=this.prototype,S=o(w);S.constructor=f,f.prototype=S;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(f[O]=this[O]);return l.statics&&r(f,l.statics),l.includes&&(G(l.includes),r.apply(null,[S].concat(l.includes))),r(S,l),delete S.statics,delete S.includes,S.options&&(S.options=w.options?o(w.options):{},r(S.options,l.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var Y=0,rt=S._initHooks.length;Y<rt;Y++)S._initHooks[Y].call(this)}},f},Z.include=function(l){var f=this.prototype.options;return r(this.prototype,l),l.options&&(this.prototype.options=f,this.mergeOptions(l.options)),this},Z.mergeOptions=function(l){return r(this.prototype.options,l),this},Z.addInitHook=function(l){var f=Array.prototype.slice.call(arguments,1),w=typeof l=="function"?l:function(){this[l].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function G(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=W(l)?l:[l];for(var f=0;f<l.length;f++)l[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var B={on:function(l,f,w){if(typeof l=="object")for(var S in l)this._on(S,l[S],f);else{l=R(l);for(var O=0,Y=l.length;O<Y;O++)this._on(l[O],f,w)}return this},off:function(l,f,w){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var S in l)this._off(S,l[S],f);else{l=R(l);for(var O=arguments.length===1,Y=0,rt=l.length;Y<rt;Y++)O?this._off(l[Y]):this._off(l[Y],f,w)}return this},_on:function(l,f,w,S){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(l,f,w)===!1){w===this&&(w=void 0);var O={fn:f,ctx:w};S&&(O.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(O)}},_off:function(l,f,w){var S,O,Y;if(this._events&&(S=this._events[l],!!S)){if(arguments.length===1){if(this._firingCount)for(O=0,Y=S.length;O<Y;O++)S[O].fn=y;delete this._events[l];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var rt=this._listens(l,f,w);if(rt!==!1){var pt=S[rt];this._firingCount&&(pt.fn=y,this._events[l]=S=S.slice()),S.splice(rt,1)}}},fire:function(l,f,w){if(!this.listens(l,w))return this;var S=r({},f,{type:l,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var O=this._events[l];if(O){this._firingCount=this._firingCount+1||1;for(var Y=0,rt=O.length;Y<rt;Y++){var pt=O[Y],bt=pt.fn;pt.once&&this.off(l,bt,pt.ctx),bt.call(pt.ctx||this,S)}this._firingCount--}}return w&&this._propagateEvent(S),this},listens:function(l,f,w,S){typeof l!="string"&&console.warn('"string" type argument expected');var O=f;typeof f!="function"&&(S=!!f,O=void 0,w=void 0);var Y=this._events&&this._events[l];if(Y&&Y.length&&this._listens(l,O,w)!==!1)return!0;if(S){for(var rt in this._eventParents)if(this._eventParents[rt].listens(l,f,w,S))return!0}return!1},_listens:function(l,f,w){if(!this._events)return!1;var S=this._events[l]||[];if(!f)return!!S.length;w===this&&(w=void 0);for(var O=0,Y=S.length;O<Y;O++)if(S[O].fn===f&&S[O].ctx===w)return O;return!1},once:function(l,f,w){if(typeof l=="object")for(var S in l)this._on(S,l[S],f,!0);else{l=R(l);for(var O=0,Y=l.length;O<Y;O++)this._on(l[O],f,w,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[d(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[d(l)],this},_propagateEvent:function(l){for(var f in this._eventParents)this._eventParents[f].fire(l.type,r({layer:l.target,propagatedFrom:l.target},l),!0)}};B.addEventListener=B.on,B.removeEventListener=B.clearAllEventListeners=B.off,B.addOneTimeEventListener=B.once,B.fireEvent=B.fire,B.hasEventListeners=B.listens;var V=Z.extend(B);function nt(l,f,w){this.x=w?Math.round(l):l,this.y=w?Math.round(f):f}var it=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};nt.prototype={clone:function(){return new nt(this.x,this.y)},add:function(l){return this.clone()._add(C(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(C(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new nt(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new nt(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=it(this.x),this.y=it(this.y),this},distanceTo:function(l){l=C(l);var f=l.x-this.x,w=l.y-this.y;return Math.sqrt(f*f+w*w)},equals:function(l){return l=C(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=C(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function C(l,f,w){return l instanceof nt?l:W(l)?new nt(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new nt(l.x,l.y):new nt(l,f,w)}function at(l,f){if(l)for(var w=f?[l,f]:l,S=0,O=w.length;S<O;S++)this.extend(w[S])}at.prototype={extend:function(l){var f,w;if(!l)return this;if(l instanceof nt||typeof l[0]=="number"||"x"in l)f=w=C(l);else if(l=lt(l),f=l.min,w=l.max,!f||!w)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=w.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(l){return C((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return C(this.min.x,this.max.y)},getTopRight:function(){return C(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var f,w;return typeof l[0]=="number"||l instanceof nt?l=C(l):l=lt(l),l instanceof at?(f=l.min,w=l.max):f=w=l,f.x>=this.min.x&&w.x<=this.max.x&&f.y>=this.min.y&&w.y<=this.max.y},intersects:function(l){l=lt(l);var f=this.min,w=this.max,S=l.min,O=l.max,Y=O.x>=f.x&&S.x<=w.x,rt=O.y>=f.y&&S.y<=w.y;return Y&&rt},overlaps:function(l){l=lt(l);var f=this.min,w=this.max,S=l.min,O=l.max,Y=O.x>f.x&&S.x<w.x,rt=O.y>f.y&&S.y<w.y;return Y&&rt},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var f=this.min,w=this.max,S=Math.abs(f.x-w.x)*l,O=Math.abs(f.y-w.y)*l;return lt(C(f.x-S,f.y-O),C(w.x+S,w.y+O))},equals:function(l){return l?(l=lt(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function lt(l,f){return!l||l instanceof at?l:new at(l,f)}function $(l,f){if(l)for(var w=f?[l,f]:l,S=0,O=w.length;S<O;S++)this.extend(w[S])}$.prototype={extend:function(l){var f=this._southWest,w=this._northEast,S,O;if(l instanceof ut)S=l,O=l;else if(l instanceof $){if(S=l._southWest,O=l._northEast,!S||!O)return this}else return l?this.extend(yt(l)||ht(l)):this;return!f&&!w?(this._southWest=new ut(S.lat,S.lng),this._northEast=new ut(O.lat,O.lng)):(f.lat=Math.min(S.lat,f.lat),f.lng=Math.min(S.lng,f.lng),w.lat=Math.max(O.lat,w.lat),w.lng=Math.max(O.lng,w.lng)),this},pad:function(l){var f=this._southWest,w=this._northEast,S=Math.abs(f.lat-w.lat)*l,O=Math.abs(f.lng-w.lng)*l;return new $(new ut(f.lat-S,f.lng-O),new ut(w.lat+S,w.lng+O))},getCenter:function(){return new ut((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ut(this.getNorth(),this.getWest())},getSouthEast:function(){return new ut(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof ut||"lat"in l?l=yt(l):l=ht(l);var f=this._southWest,w=this._northEast,S,O;return l instanceof $?(S=l.getSouthWest(),O=l.getNorthEast()):S=O=l,S.lat>=f.lat&&O.lat<=w.lat&&S.lng>=f.lng&&O.lng<=w.lng},intersects:function(l){l=ht(l);var f=this._southWest,w=this._northEast,S=l.getSouthWest(),O=l.getNorthEast(),Y=O.lat>=f.lat&&S.lat<=w.lat,rt=O.lng>=f.lng&&S.lng<=w.lng;return Y&&rt},overlaps:function(l){l=ht(l);var f=this._southWest,w=this._northEast,S=l.getSouthWest(),O=l.getNorthEast(),Y=O.lat>f.lat&&S.lat<w.lat,rt=O.lng>f.lng&&S.lng<w.lng;return Y&&rt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,f){return l?(l=ht(l),this._southWest.equals(l.getSouthWest(),f)&&this._northEast.equals(l.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ht(l,f){return l instanceof $?l:new $(l,f)}function ut(l,f,w){if(isNaN(l)||isNaN(f))throw new Error("Invalid LatLng object: ("+l+", "+f+")");this.lat=+l,this.lng=+f,w!==void 0&&(this.alt=+w)}ut.prototype={equals:function(l,f){if(!l)return!1;l=yt(l);var w=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return w<=(f===void 0?1e-9:f)},toString:function(l){return"LatLng("+v(this.lat,l)+", "+v(this.lng,l)+")"},distanceTo:function(l){return Mt.distance(this,yt(l))},wrap:function(){return Mt.wrapLatLng(this)},toBounds:function(l){var f=180*l/40075017,w=f/Math.cos(Math.PI/180*this.lat);return ht([this.lat-f,this.lng-w],[this.lat+f,this.lng+w])},clone:function(){return new ut(this.lat,this.lng,this.alt)}};function yt(l,f,w){return l instanceof ut?l:W(l)&&typeof l[0]!="object"?l.length===3?new ut(l[0],l[1],l[2]):l.length===2?new ut(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new ut(l.lat,"lng"in l?l.lng:l.lon,l.alt):f===void 0?null:new ut(l,f,w)}var Bt={latLngToPoint:function(l,f){var w=this.projection.project(l),S=this.scale(f);return this.transformation._transform(w,S)},pointToLatLng:function(l,f){var w=this.scale(f),S=this.transformation.untransform(l,w);return this.projection.unproject(S)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var f=this.projection.bounds,w=this.scale(l),S=this.transformation.transform(f.min,w),O=this.transformation.transform(f.max,w);return new at(S,O)},infinite:!1,wrapLatLng:function(l){var f=this.wrapLng?g(l.lng,this.wrapLng,!0):l.lng,w=this.wrapLat?g(l.lat,this.wrapLat,!0):l.lat,S=l.alt;return new ut(w,f,S)},wrapLatLngBounds:function(l){var f=l.getCenter(),w=this.wrapLatLng(f),S=f.lat-w.lat,O=f.lng-w.lng;if(S===0&&O===0)return l;var Y=l.getSouthWest(),rt=l.getNorthEast(),pt=new ut(Y.lat-S,Y.lng-O),bt=new ut(rt.lat-S,rt.lng-O);return new $(pt,bt)}},Mt=r({},Bt,{wrapLng:[-180,180],R:6371e3,distance:function(l,f){var w=Math.PI/180,S=l.lat*w,O=f.lat*w,Y=Math.sin((f.lat-l.lat)*w/2),rt=Math.sin((f.lng-l.lng)*w/2),pt=Y*Y+Math.cos(S)*Math.cos(O)*rt*rt,bt=2*Math.atan2(Math.sqrt(pt),Math.sqrt(1-pt));return this.R*bt}}),Ht=6378137,Ot={R:Ht,MAX_LATITUDE:85.0511287798,project:function(l){var f=Math.PI/180,w=this.MAX_LATITUDE,S=Math.max(Math.min(w,l.lat),-w),O=Math.sin(S*f);return new nt(this.R*l.lng*f,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(l){var f=180/Math.PI;return new ut((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*f,l.x*f/this.R)},bounds:(function(){var l=Ht*Math.PI;return new at([-l,-l],[l,l])})()};function se(l,f,w,S){if(W(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=f,this._c=w,this._d=S}se.prototype={transform:function(l,f){return this._transform(l.clone(),f)},_transform:function(l,f){return f=f||1,l.x=f*(this._a*l.x+this._b),l.y=f*(this._c*l.y+this._d),l},untransform:function(l,f){return f=f||1,new nt((l.x/f-this._b)/this._a,(l.y/f-this._d)/this._c)}};function oe(l,f,w,S){return new se(l,f,w,S)}var on=r({},Mt,{code:"EPSG:3857",projection:Ot,transformation:(function(){var l=.5/(Math.PI*Ot.R);return oe(l,.5,-l,.5)})()}),Be=r({},on,{code:"EPSG:900913"});function he(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Me(l,f){var w="",S,O,Y,rt,pt,bt;for(S=0,Y=l.length;S<Y;S++){for(pt=l[S],O=0,rt=pt.length;O<rt;O++)bt=pt[O],w+=(O?"L":"M")+bt.x+" "+bt.y;w+=f?Ut.svg?"z":"x":""}return w||"M0 0"}var ne=document.documentElement.style,me="ActiveXObject"in window,Fe=me&&!document.addEventListener,Ee="msLaunchUri"in navigator&&!("documentMode"in document),ge=Un("webkit"),hn=Un("android"),ke=Un("android 2")||Un("android 3"),ve=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Sn=hn&&Un("Google")&&ve<537&&!("AudioNode"in window),_t=!!window.opera,Et=!Ee&&Un("chrome"),Dt=Un("gecko")&&!ge&&!_t&&!me,Vt=!Et&&Un("safari"),Kt=Un("phantom"),ye="OTransition"in ne,Ve=navigator.platform.indexOf("Win")===0,je=me&&"transition"in ne,Ke="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ke,He="MozPerspective"in ne,tn=!window.L_DISABLE_3D&&(je||Ke||He)&&!ye&&!Kt,xn=typeof orientation<"u"||Un("mobile"),An=xn&&ge,Wr=xn&&Ke,Li=!window.PointerEvent&&window.MSPointerEvent,Ni=!!(window.PointerEvent||Li),we="ontouchstart"in window||!!window.TouchEvent,Ze=!window.L_NO_TOUCH&&(we||Ni),ze=xn&&_t,zn=xn&&Dt,mn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$e=(function(){var l=!1;try{var f=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",y,f),window.removeEventListener("testPassiveEventSupport",y,f)}catch{}return l})(),en=(function(){return!!document.createElement("canvas").getContext})(),Yi=!!(document.createElementNS&&he("svg").createSVGRect),ue=!!Yi&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ye=!Yi&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var f=l.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}})(),Ue=navigator.platform.indexOf("Mac")===0,Rn=navigator.platform.indexOf("Linux")===0;function Un(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Ut={ie:me,ielt9:Fe,edge:Ee,webkit:ge,android:hn,android23:ke,androidStock:Sn,opera:_t,chrome:Et,gecko:Dt,safari:Vt,phantom:Kt,opera12:ye,win:Ve,ie3d:je,webkit3d:Ke,gecko3d:He,any3d:tn,mobile:xn,mobileWebkit:An,mobileWebkit3d:Wr,msPointer:Li,pointer:Ni,touch:Ze,touchNative:we,mobileOpera:ze,mobileGecko:zn,retina:mn,passiveEvents:$e,canvas:en,svg:Yi,vml:Ye,inlineSvg:ue,mac:Ue,linux:Rn},Yn=Ut.msPointer?"MSPointerDown":"pointerdown",Tr=Ut.msPointer?"MSPointerMove":"pointermove",ar=Ut.msPointer?"MSPointerUp":"pointerup",gs=Ut.msPointer?"MSPointerCancel":"pointercancel",Er={touchstart:Yn,touchmove:Tr,touchend:ar,touchcancel:gs},Sr={touchstart:So,touchmove:Eo,touchend:Eo,touchcancel:Eo},xi={},pi=!1;function Mn(l,f,w){return f==="touchstart"&&wu(),Sr[f]?(w=Sr[f].bind(this,w),l.addEventListener(Er[f],w,!1),w):(console.warn("wrong event specified:",f),y)}function El(l,f,w){if(!Er[f]){console.warn("wrong event specified:",f);return}l.removeEventListener(Er[f],w,!1)}function na(l){xi[l.pointerId]=l}function xr(l){xi[l.pointerId]&&(xi[l.pointerId]=l)}function Kr(l){delete xi[l.pointerId]}function wu(){pi||(document.addEventListener(Yn,na,!0),document.addEventListener(Tr,xr,!0),document.addEventListener(ar,Kr,!0),document.addEventListener(gs,Kr,!0),pi=!0)}function Eo(l,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var w in xi)f.touches.push(xi[w]);f.changedTouches=[f],l(f)}}function So(l,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&an(f),Eo(l,f)}function bu(l){var f={},w,S;for(S in l)w=l[S],f[S]=w&&w.bind?w.bind(l):w;return l=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Fs=200;function Zr(l,f){l.addEventListener("dblclick",f);var w=0,S;function O(Y){if(Y.detail!==1){S=Y.detail;return}if(!(Y.pointerType==="mouse"||Y.sourceCapabilities&&!Y.sourceCapabilities.firesTouchEvents)){var rt=sa(Y);if(!(rt.some(function(bt){return bt instanceof HTMLLabelElement&&bt.attributes.for})&&!rt.some(function(bt){return bt instanceof HTMLInputElement||bt instanceof HTMLSelectElement}))){var pt=Date.now();pt-w<=Fs?(S++,S===2&&f(bu(Y))):S=1,w=pt}}}return l.addEventListener("click",O),{dblclick:f,simDblclick:O}}function li(l,f){l.removeEventListener("dblclick",f.dblclick),l.removeEventListener("click",f.simDblclick)}var ys=Ar(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),js=Ar(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$r=js==="webkitTransition"||js==="OTransition"?js+"End":"transitionend";function xo(l){return typeof l=="string"?document.getElementById(l):l}function Yr(l,f){var w=l.style[f]||l.currentStyle&&l.currentStyle[f];if((!w||w==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(l,null);w=S?S[f]:null}return w==="auto"?null:w}function be(l,f,w){var S=document.createElement(l);return S.className=f||"",w&&w.appendChild(S),S}function Xe(l){var f=l.parentNode;f&&f.removeChild(l)}function Xn(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function Xr(l){var f=l.parentNode;f&&f.lastChild!==l&&f.appendChild(l)}function Hs(l){var f=l.parentNode;f&&f.firstChild!==l&&f.insertBefore(l,f.firstChild)}function qs(l,f){if(l.classList!==void 0)return l.classList.contains(f);var w=En(l);return w.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(w)}function ae(l,f){if(l.classList!==void 0)for(var w=R(f),S=0,O=w.length;S<O;S++)l.classList.add(w[S]);else if(!qs(l,f)){var Y=En(l);Sl(l,(Y?Y+" ":"")+f)}}function nn(l,f){l.classList!==void 0?l.classList.remove(f):Sl(l,T((" "+En(l)+" ").replace(" "+f+" "," ")))}function Sl(l,f){l.className.baseVal===void 0?l.className=f:l.className.baseVal=f}function En(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function gn(l,f){"opacity"in l.style?l.style.opacity=f:"filter"in l.style&&Ao(l,f)}function Ao(l,f){var w=!1,S="DXImageTransform.Microsoft.Alpha";try{w=l.filters.item(S)}catch{if(f===1)return}f=Math.round(f*100),w?(w.Enabled=f!==100,w.Opacity=f):l.style.filter+=" progid:"+S+"(opacity="+f+")"}function Ar(l){for(var f=document.documentElement.style,w=0;w<l.length;w++)if(l[w]in f)return l[w];return!1}function Ai(l,f,w){var S=f||new nt(0,0);l.style[ys]=(Ut.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(w?" scale("+w+")":"")}function Xt(l,f){l._leaflet_pos=f,Ut.any3d?Ai(l,f):(l.style.left=f.x+"px",l.style.top=f.y+"px")}function Xi(l){return l._leaflet_pos||new nt(0,0)}var mi,Rr,ia;if("onselectstart"in document)mi=function(){Zt(window,"selectstart",an)},Rr=function(){Oe(window,"selectstart",an)};else{var _s=Ar(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);mi=function(){if(_s){var l=document.documentElement.style;ia=l[_s],l[_s]="none"}},Rr=function(){_s&&(document.documentElement.style[_s]=ia,ia=void 0)}}function Ro(){Zt(window,"dragstart",an)}function xl(){Oe(window,"dragstart",an)}var ra,Gs;function Cr(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Ri(),ra=l,Gs=l.style.outlineStyle,l.style.outlineStyle="none",Zt(window,"keydown",Ri))}function Ri(){ra&&(ra.style.outlineStyle=Gs,ra=void 0,Gs=void 0,Oe(window,"keydown",Ri))}function Qr(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function Ir(l){var f=l.getBoundingClientRect();return{x:f.width/l.offsetWidth||1,y:f.height/l.offsetHeight||1,boundingClientRect:f}}var Al={__proto__:null,TRANSFORM:ys,TRANSITION:js,TRANSITION_END:$r,get:xo,getStyle:Yr,create:be,remove:Xe,empty:Xn,toFront:Xr,toBack:Hs,hasClass:qs,addClass:ae,removeClass:nn,setClass:Sl,getClass:En,setOpacity:gn,testProp:Ar,setTransform:Ai,setPosition:Xt,getPosition:Xi,get disableTextSelection(){return mi},get enableTextSelection(){return Rr},disableImageDrag:Ro,enableImageDrag:xl,preventOutline:Cr,restoreOutline:Ri,getSizedParentNode:Qr,getScale:Ir};function Zt(l,f,w,S){if(f&&typeof f=="object")for(var O in f)vs(l,O,f[O],w);else{f=R(f);for(var Y=0,rt=f.length;Y<rt;Y++)vs(l,f[Y],w,S)}return this}var Qi="_leaflet_events";function Oe(l,f,w,S){if(arguments.length===1)lr(l),delete l[Qi];else if(f&&typeof f=="object")for(var O in f)ur(l,O,f[O],w);else if(f=R(f),arguments.length===2)lr(l,function(pt){return tt(f,pt)!==-1});else for(var Y=0,rt=f.length;Y<rt;Y++)ur(l,f[Y],w,S);return this}function lr(l,f){for(var w in l[Qi]){var S=w.split(/\d/)[0];(!f||f(S))&&ur(l,S,null,null,w)}}var Vi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function vs(l,f,w,S){var O=f+d(w)+(S?"_"+d(S):"");if(l[Qi]&&l[Qi][O])return this;var Y=function(pt){return w.call(S||l,pt||window.event)},rt=Y;!Ut.touchNative&&Ut.pointer&&f.indexOf("touch")===0?Y=Mn(l,f,Y):Ut.touch&&f==="dblclick"?Y=Zr(l,Y):"addEventListener"in l?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?l.addEventListener(Vi[f]||f,Y,Ut.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(Y=function(pt){pt=pt||window.event,bs(l,pt)&&rt(pt)},l.addEventListener(Vi[f],Y,!1)):l.addEventListener(f,rt,!1):l.attachEvent("on"+f,Y),l[Qi]=l[Qi]||{},l[Qi][O]=Y}function ur(l,f,w,S,O){O=O||f+d(w)+(S?"_"+d(S):"");var Y=l[Qi]&&l[Qi][O];if(!Y)return this;!Ut.touchNative&&Ut.pointer&&f.indexOf("touch")===0?El(l,f,Y):Ut.touch&&f==="dblclick"?li(l,Y):"removeEventListener"in l?l.removeEventListener(Vi[f]||f,Y,!1):l.detachEvent("on"+f,Y),l[Qi][O]=null}function zi(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function Pr(l){return vs(l,"wheel",zi),this}function ws(l){return Zt(l,"mousedown touchstart dblclick contextmenu",zi),l._leaflet_disable_click=!0,this}function an(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function gi(l){return an(l),zi(l),this}function sa(l){if(l.composedPath)return l.composedPath();for(var f=[],w=l.target;w;)f.push(w),w=w.parentNode;return f}function Gn(l,f){if(!f)return new nt(l.clientX,l.clientY);var w=Ir(f),S=w.boundingClientRect;return new nt((l.clientX-S.left)/w.x-f.clientLeft,(l.clientY-S.top)/w.y-f.clientTop)}var qe=Ut.linux&&Ut.chrome?window.devicePixelRatio:Ut.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Co(l){return Ut.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/qe:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function bs(l,f){var w=f.relatedTarget;if(!w)return!0;try{for(;w&&w!==l;)w=w.parentNode}catch{return!1}return w!==l}var Tu={__proto__:null,on:Zt,off:Oe,stopPropagation:zi,disableScrollPropagation:Pr,disableClickPropagation:ws,preventDefault:an,stop:gi,getPropagationPath:sa,getMousePosition:Gn,getWheelDelta:Co,isExternalTarget:bs,addListener:Zt,removeListener:Oe},Io=V.extend({run:function(l,f,w,S){this.stop(),this._el=l,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=Xi(l),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k(this._animate,this),this._step()},_step:function(l){var f=+new Date-this._startTime,w=this._duration*1e3;f<w?this._runFrame(this._easeOut(f/w),l):(this._runFrame(1),this._complete())},_runFrame:function(l,f){var w=this._startPos.add(this._offset.multiplyBy(l));f&&w._round(),Xt(this._el,w),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),fe=V.extend({options:{crs:on,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,f){f=M(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(yt(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=js&&Ut.any3d&&!Ut.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Zt(this._proxy,$r,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,f,w){if(f=f===void 0?this._zoom:this._limitZoom(f),l=this._limitCenter(yt(l),f,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=r({animate:w.animate},w.zoom),w.pan=r({animate:w.animate,duration:w.duration},w.pan));var S=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,f,w.zoom):this._tryAnimatedPan(l,w.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(l,f,w.pan&&w.pan.noMoveStart),this},setZoom:function(l,f){return this._loaded?this.setView(this.getCenter(),l,{zoom:f}):(this._zoom=l,this)},zoomIn:function(l,f){return l=l||(Ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,f)},zoomOut:function(l,f){return l=l||(Ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,f)},setZoomAround:function(l,f,w){var S=this.getZoomScale(f),O=this.getSize().divideBy(2),Y=l instanceof nt?l:this.latLngToContainerPoint(l),rt=Y.subtract(O).multiplyBy(1-1/S),pt=this.containerPointToLatLng(O.add(rt));return this.setView(pt,f,{zoom:w})},_getBoundsCenterZoom:function(l,f){f=f||{},l=l.getBounds?l.getBounds():ht(l);var w=C(f.paddingTopLeft||f.padding||[0,0]),S=C(f.paddingBottomRight||f.padding||[0,0]),O=this.getBoundsZoom(l,!1,w.add(S));if(O=typeof f.maxZoom=="number"?Math.min(f.maxZoom,O):O,O===1/0)return{center:l.getCenter(),zoom:O};var Y=S.subtract(w).divideBy(2),rt=this.project(l.getSouthWest(),O),pt=this.project(l.getNorthEast(),O),bt=this.unproject(rt.add(pt).divideBy(2).add(Y),O);return{center:bt,zoom:O}},fitBounds:function(l,f){if(l=ht(l),!l.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(l,f);return this.setView(w.center,w.zoom,f)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,f){return this.setView(l,this._zoom,{pan:f})},panBy:function(l,f){if(l=C(l).round(),f=f||{},!l.x&&!l.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Io,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){ae(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,w,f.duration||.25,f.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,f,w){if(w=w||{},w.animate===!1||!Ut.any3d)return this.setView(l,f,w);this._stop();var S=this.project(this.getCenter()),O=this.project(l),Y=this.getSize(),rt=this._zoom;l=yt(l),f=f===void 0?rt:f;var pt=Math.max(Y.x,Y.y),bt=pt*this.getZoomScale(rt,f),It=O.distanceTo(S)||1,Lt=1.42,Ft=Lt*Lt;function qt(Cn){var ss=Cn?-1:1,Rs=Cn?bt:pt,Xs=bt*bt-pt*pt+ss*Ft*Ft*It*It,Cs=2*Rs*Ft*It,Fl=Xs/Cs,Lu=Math.sqrt(Fl*Fl+1)-Fl,jl=Lu<1e-9?-18:Math.log(Lu);return jl}function ie(Cn){return(Math.exp(Cn)-Math.exp(-Cn))/2}function _n(Cn){return(Math.exp(Cn)+Math.exp(-Cn))/2}function On(Cn){return ie(Cn)/_n(Cn)}var _i=qt(0);function cr(Cn){return pt*(_n(_i)/_n(_i+Lt*Cn))}function Od(Cn){return pt*(_n(_i)*On(_i+Lt*Cn)-ie(_i))/Ft}function Ld(Cn){return 1-Math.pow(1-Cn,1.5)}var Bl=Date.now(),Ta=(qt(1)-_i)/Lt,Nd=w.duration?1e3*w.duration:1e3*Ta*.8;function Ea(){var Cn=(Date.now()-Bl)/Nd,ss=Ld(Cn)*Ta;Cn<=1?(this._flyToFrame=k(Ea,this),this._move(this.unproject(S.add(O.subtract(S).multiplyBy(Od(ss)/It)),rt),this.getScaleZoom(pt/cr(ss),rt),{flyTo:!0})):this._move(l,f)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),Ea.call(this),this},flyToBounds:function(l,f){var w=this._getBoundsCenterZoom(l,f);return this.flyTo(w.center,w.zoom,f)},setMaxBounds:function(l){return l=ht(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var f=this.options.minZoom;return this.options.minZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var f=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,f){this._enforcingBounds=!0;var w=this.getCenter(),S=this._limitCenter(w,this._zoom,ht(l));return w.equals(S)||this.panTo(S,f),this._enforcingBounds=!1,this},panInside:function(l,f){f=f||{};var w=C(f.paddingTopLeft||f.padding||[0,0]),S=C(f.paddingBottomRight||f.padding||[0,0]),O=this.project(this.getCenter()),Y=this.project(l),rt=this.getPixelBounds(),pt=lt([rt.min.add(w),rt.max.subtract(S)]),bt=pt.getSize();if(!pt.contains(Y)){this._enforcingBounds=!0;var It=Y.subtract(pt.getCenter()),Lt=pt.extend(Y).getSize().subtract(bt);O.x+=It.x<0?-Lt.x:Lt.x,O.y+=It.y<0?-Lt.y:Lt.y,this.panTo(this.unproject(O),f),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=r({animate:!1,pan:!0},l===!0?{animate:!0}:l);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),S=f.divideBy(2).round(),O=w.divideBy(2).round(),Y=S.subtract(O);return!Y.x&&!Y.y?this:(l.animate&&l.pan?this.panBy(Y):(l.pan&&this._rawPanBy(Y),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=r({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=u(this._handleGeolocationResponse,this),w=u(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,w,l):navigator.geolocation.getCurrentPosition(f,w,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var f=l.code,w=l.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var f=l.coords.latitude,w=l.coords.longitude,S=new ut(f,w),O=S.toBounds(l.coords.accuracy*2),Y=this._locateOptions;if(Y.setView){var rt=this.getBoundsZoom(O);this.setView(S,Y.maxZoom?Math.min(rt,Y.maxZoom):rt)}var pt={latlng:S,bounds:O,timestamp:l.timestamp};for(var bt in l.coords)typeof l.coords[bt]=="number"&&(pt[bt]=l.coords[bt]);this.fire("locationfound",pt)}},addHandler:function(l,f){if(!f)return this;var w=this[l]=new f(this);return this._handlers.push(w),this.options[l]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)Xe(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,f){var w="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),S=be("div",w,f||this._mapPane);return l&&(this._panes[l]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),f=this.unproject(l.getBottomLeft()),w=this.unproject(l.getTopRight());return new $(f,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,f,w){l=ht(l),w=C(w||[0,0]);var S=this.getZoom()||0,O=this.getMinZoom(),Y=this.getMaxZoom(),rt=l.getNorthWest(),pt=l.getSouthEast(),bt=this.getSize().subtract(w),It=lt(this.project(pt,S),this.project(rt,S)).getSize(),Lt=Ut.any3d?this.options.zoomSnap:1,Ft=bt.x/It.x,qt=bt.y/It.y,ie=f?Math.max(Ft,qt):Math.min(Ft,qt);return S=this.getScaleZoom(ie,S),Lt&&(S=Math.round(S/(Lt/100))*(Lt/100),S=f?Math.ceil(S/Lt)*Lt:Math.floor(S/Lt)*Lt),Math.max(O,Math.min(Y,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new nt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,f){var w=this._getTopLeftPoint(l,f);return new at(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,f){var w=this.options.crs;return f=f===void 0?this._zoom:f,w.scale(l)/w.scale(f)},getScaleZoom:function(l,f){var w=this.options.crs;f=f===void 0?this._zoom:f;var S=w.zoom(l*w.scale(f));return isNaN(S)?1/0:S},project:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(yt(l),f)},unproject:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(C(l),f)},layerPointToLatLng:function(l){var f=C(l).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(l){var f=this.project(yt(l))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(yt(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(ht(l))},distance:function(l,f){return this.options.crs.distance(yt(l),yt(f))},containerPointToLayerPoint:function(l){return C(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return C(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var f=this.containerPointToLayerPoint(C(l));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(yt(l)))},mouseEventToContainerPoint:function(l){return Gn(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var f=this._container=xo(l);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Zt(f,"scroll",this._onScroll,this),this._containerId=d(f)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ut.any3d,ae(l,"leaflet-container"+(Ut.touch?" leaflet-touch":"")+(Ut.retina?" leaflet-retina":"")+(Ut.ielt9?" leaflet-oldie":"")+(Ut.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Yr(l,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xt(this._mapPane,new nt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ae(l.markerPane,"leaflet-zoom-hide"),ae(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,f,w){Xt(this._mapPane,new nt(0,0));var S=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var O=this._zoom!==f;this._moveStart(O,w)._move(l,f)._moveEnd(O),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(l,f){return l&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(l,f,w,S){f===void 0&&(f=this._zoom);var O=this._zoom!==f;return this._zoom=f,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),S?w&&w.pinch&&this.fire("zoom",w):((O||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Xt(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[d(this._container)]=this;var f=l?Oe:Zt;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Ut.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=k(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,f){for(var w=[],S,O=f==="mouseout"||f==="mouseover",Y=l.target||l.srcElement,rt=!1;Y;){if(S=this._targets[d(Y)],S&&(f==="click"||f==="preclick")&&this._draggableMoved(S)){rt=!0;break}if(S&&S.listens(f,!0)&&(O&&!bs(Y,l)||(w.push(S),O))||Y===this._container)break;Y=Y.parentNode}return!w.length&&!rt&&!O&&this.listens(f,!0)&&(w=[this]),w},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var f=l.target||l.srcElement;if(!(!this._loaded||f._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(f))){var w=l.type;w==="mousedown"&&Cr(f),this._fireDOMEvent(l,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,f,w){if(l.type==="click"){var S=r({},l);S.type="preclick",this._fireDOMEvent(S,S.type,w)}var O=this._findEventTargets(l,f);if(w){for(var Y=[],rt=0;rt<w.length;rt++)w[rt].listens(f,!0)&&Y.push(w[rt]);O=Y.concat(O)}if(O.length){f==="contextmenu"&&an(l);var pt=O[0],bt={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var It=pt.getLatLng&&(!pt._radius||pt._radius<=10);bt.containerPoint=It?this.latLngToContainerPoint(pt.getLatLng()):this.mouseEventToContainerPoint(l),bt.layerPoint=this.containerPointToLayerPoint(bt.containerPoint),bt.latlng=It?pt.getLatLng():this.layerPointToLatLng(bt.layerPoint)}for(rt=0;rt<O.length;rt++)if(O[rt].fire(f,bt,!0),bt.originalEvent._stopped||O[rt].options.bubblingMouseEvents===!1&&tt(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,f=this._handlers.length;l<f;l++)this._handlers[l].disable()},whenReady:function(l,f){return this._loaded?l.call(f||this,{target:this}):this.on("load",l,f),this},_getMapPanePos:function(){return Xi(this._mapPane)||new nt(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,f){var w=l&&f!==void 0?this._getNewPixelOrigin(l,f):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,f){var w=this.getSize()._divideBy(2);return this.project(l,f)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,f,w){var S=this._getNewPixelOrigin(w,f);return this.project(l,f)._subtract(S)},_latLngBoundsToNewLayerBounds:function(l,f,w){var S=this._getNewPixelOrigin(w,f);return lt([this.project(l.getSouthWest(),f)._subtract(S),this.project(l.getNorthWest(),f)._subtract(S),this.project(l.getSouthEast(),f)._subtract(S),this.project(l.getNorthEast(),f)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,f,w){if(!w)return l;var S=this.project(l,f),O=this.getSize().divideBy(2),Y=new at(S.subtract(O),S.add(O)),rt=this._getBoundsOffset(Y,w,f);return Math.abs(rt.x)<=1&&Math.abs(rt.y)<=1?l:this.unproject(S.add(rt),f)},_limitOffset:function(l,f){if(!f)return l;var w=this.getPixelBounds(),S=new at(w.min.add(l),w.max.add(l));return l.add(this._getBoundsOffset(S,f))},_getBoundsOffset:function(l,f,w){var S=lt(this.project(f.getNorthEast(),w),this.project(f.getSouthWest(),w)),O=S.min.subtract(l.min),Y=S.max.subtract(l.max),rt=this._rebound(O.x,-Y.x),pt=this._rebound(O.y,-Y.y);return new nt(rt,pt)},_rebound:function(l,f){return l+f>0?Math.round(l-f)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(f))},_limitZoom:function(l){var f=this.getMinZoom(),w=this.getMaxZoom(),S=Ut.any3d?this.options.zoomSnap:1;return S&&(l=Math.round(l/S)*S),Math.max(f,Math.min(w,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){nn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,f){var w=this._getCenterOffset(l)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,f),!0)},_createAnimProxy:function(){var l=this._proxy=be("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(f){var w=ys,S=this._proxy.style[w];Ai(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),S===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),f=this.getZoom();Ai(this._proxy,this.project(l,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,f,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(f),O=this._getCenterOffset(l)._divideBy(1-1/S);return w.animate!==!0&&!this.getSize().contains(O)?!1:(k(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(l,f,!0)},this),!0)},_animateZoom:function(l,f,w,S){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=f,ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:f,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&nn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jr(l,f){return new fe(l,f)}var ui=Z.extend({options:{position:"topright"},initialize:function(l){M(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var f=this._map;return f&&f.removeControl(this),this.options.position=l,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var f=this._container=this.onAdd(l),w=this.getPosition(),S=l._controlCorners[w];return ae(f,"leaflet-control"),w.indexOf("bottom")!==-1?S.insertBefore(f,S.firstChild):S.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),yi=function(l){return new ui(l)};fe.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},f="leaflet-",w=this._controlContainer=be("div",f+"control-container",this._container);function S(O,Y){var rt=f+O+" "+f+Y;l[O+Y]=be("div",rt,w)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)Xe(this._controlCorners[l]);Xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Rl=ui.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,f,w,S){return w<S?-1:S<w?1:0}},initialize:function(l,f,w){M(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in l)this._addLayer(l[S],S);for(S in f)this._addLayer(f[S],S,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return ui.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,f){return this._addLayer(l,f),this._map?this._update():this},addOverlay:function(l,f){return this._addLayer(l,f,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var f=this._getLayer(d(l));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):nn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return nn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",f=this._container=be("div",l),w=this.options.collapsed;f.setAttribute("aria-haspopup",!0),ws(f),Pr(f);var S=this._section=be("section",l+"-list");w&&(this._map.on("click",this.collapse,this),Zt(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=be("a",l+"-toggle",f);O.href="#",O.title="Layers",O.setAttribute("role","button"),Zt(O,{keydown:function(Y){Y.keyCode===13&&this._expandSafely()},click:function(Y){an(Y),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=be("div",l+"-base",S),this._separator=be("div",l+"-separator",S),this._overlaysList=be("div",l+"-overlays",S),f.appendChild(S)},_getLayer:function(l){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&d(this._layers[f].layer)===l)return this._layers[f]},_addLayer:function(l,f,w){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:f,overlay:w}),this.options.sortLayers&&this._layers.sort(u(function(S,O){return this.options.sortFunction(S.layer,O.layer,S.name,O.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xn(this._baseLayersList),Xn(this._overlaysList),this._layerControlInputs=[];var l,f,w,S,O=0;for(w=0;w<this._layers.length;w++)S=this._layers[w],this._addItem(S),f=f||S.overlay,l=l||!S.overlay,O+=S.overlay?0:1;return this.options.hideSingleBase&&(l=l&&O>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=f&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var f=this._getLayer(d(l.target)),w=f.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;w&&this._map.fire(w,f)},_createRadioElement:function(l,f){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(f?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=w,S.firstChild},_addItem:function(l){var f=document.createElement("label"),w=this._map.hasLayer(l.layer),S;l.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=w):S=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(S),S.layerId=d(l.layer),Zt(S,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+l.name;var Y=document.createElement("span");f.appendChild(Y),Y.appendChild(S),Y.appendChild(O);var rt=l.overlay?this._overlaysList:this._baseLayersList;return rt.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,f,w,S=[],O=[];this._handlingClick=!0;for(var Y=l.length-1;Y>=0;Y--)f=l[Y],w=this._getLayer(f.layerId).layer,f.checked?S.push(w):f.checked||O.push(w);for(Y=0;Y<O.length;Y++)this._map.hasLayer(O[Y])&&this._map.removeLayer(O[Y]);for(Y=0;Y<S.length;Y++)this._map.hasLayer(S[Y])||this._map.addLayer(S[Y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,f,w,S=this._map.getZoom(),O=l.length-1;O>=0;O--)f=l[O],w=this._getLayer(f.layerId).layer,f.disabled=w.options.minZoom!==void 0&&S<w.options.minZoom||w.options.maxZoom!==void 0&&S>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,Zt(l,"click",an),this.expand();var f=this;setTimeout(function(){Oe(l,"click",an),f._preventClick=!1})}}),eh=function(l,f,w){return new Rl(l,f,w)},Ts=ui.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var f="leaflet-control-zoom",w=be("div",f+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,f+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,f+"-out",w,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,f,w,S,O){var Y=be("a",w,S);return Y.innerHTML=l,Y.href="#",Y.title=f,Y.setAttribute("role","button"),Y.setAttribute("aria-label",f),ws(Y),Zt(Y,"click",gi),Zt(Y,"click",O,this),Zt(Y,"click",this._refocusOnMap,this),Y},_updateDisabled:function(){var l=this._map,f="leaflet-disabled";nn(this._zoomInButton,f),nn(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(ae(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(ae(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});fe.mergeOptions({zoomControl:!0}),fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ts,this.addControl(this.zoomControl))});var oa=function(l){return new Ts(l)},aa=ui.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var f="leaflet-control-scale",w=be("div",f),S=this.options;return this._addScales(S,f+"-line",w),l.on(S.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),w},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,f,w){l.metric&&(this._mScale=be("div",f,w)),l.imperial&&(this._iScale=be("div",f,w))},_update:function(){var l=this._map,f=l.getSize().y/2,w=l.distance(l.containerPointToLatLng([0,f]),l.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(w)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var f=this._getRoundNum(l),w=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,w,f/l)},_updateImperial:function(l){var f=l*3.2808399,w,S,O;f>5280?(w=f/5280,S=this._getRoundNum(w),this._updateScale(this._iScale,S+" mi",S/w)):(O=this._getRoundNum(f),this._updateScale(this._iScale,O+" ft",O/f))},_updateScale:function(l,f,w){l.style.width=Math.round(this.options.maxWidth*w)+"px",l.innerHTML=f},_getRoundNum:function(l){var f=Math.pow(10,(Math.floor(l)+"").length-1),w=l/f;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,f*w}}),la=function(l){return new aa(l)},Eu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ws=ui.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ut.inlineSvg?Eu+" ":"")+"Leaflet</a>"},initialize:function(l){M(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=be("div","leaflet-control-attribution"),ws(this._container);for(var f in l._layers)l._layers[f].getAttribution&&this.addAttribution(l._layers[f].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var f in this._attributions)this._attributions[f]&&l.push(f);var w=[];this.options.prefix&&w.push(this.options.prefix),l.length&&w.push(l.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});fe.mergeOptions({attributionControl:!0}),fe.addInitHook(function(){this.options.attributionControl&&new Ws().addTo(this)});var nh=function(l){return new Ws(l)};ui.Layers=Rl,ui.Zoom=Ts,ui.Scale=aa,ui.Attribution=Ws,yi.layers=eh,yi.zoom=oa,yi.scale=la,yi.attribution=nh;var Ui=Z.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ui.addTo=function(l,f){return l.addHandler(f,this),this};var Po={Events:B},Cl=Ut.touch?"touchstart mousedown":"mousedown",kr=V.extend({options:{clickTolerance:3},initialize:function(l,f,w,S){M(this,S),this._element=l,this._dragStartTarget=f||l,this._preventOutline=w},enable:function(){this._enabled||(Zt(this._dragStartTarget,Cl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(kr._dragging===this&&this.finishDrag(!0),Oe(this._dragStartTarget,Cl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!qs(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){kr._dragging===this&&this.finishDrag();return}if(!(kr._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(kr._dragging=this,this._preventOutline&&Cr(this._element),Ro(),mi(),!this._moving)){this.fire("down");var f=l.touches?l.touches[0]:l,w=Qr(this._element);this._startPoint=new nt(f.clientX,f.clientY),this._startPos=Xi(this._element),this._parentScale=Ir(w);var S=l.type==="mousedown";Zt(document,S?"mousemove":"touchmove",this._onMove,this),Zt(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var f=l.touches&&l.touches.length===1?l.touches[0]:l,w=new nt(f.clientX,f.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,an(l),this._moved||(this.fire("dragstart"),this._moved=!0,ae(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Xt(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){nn(document.body,"leaflet-dragging"),this._lastTarget&&(nn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Oe(document,"mousemove touchmove",this._onMove,this),Oe(document,"mouseup touchend touchcancel",this._onUp,this),xl(),Rr();var f=this._moved&&this._moving;this._moving=!1,kr._dragging=!1,f&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function ua(l,f,w){var S,O=[1,4,2,8],Y,rt,pt,bt,It,Lt,Ft,qt;for(Y=0,Lt=l.length;Y<Lt;Y++)l[Y]._code=ts(l[Y],f);for(pt=0;pt<4;pt++){for(Ft=O[pt],S=[],Y=0,Lt=l.length,rt=Lt-1;Y<Lt;rt=Y++)bt=l[Y],It=l[rt],bt._code&Ft?It._code&Ft||(qt=Qn(It,bt,Ft,f,w),qt._code=ts(qt,f),S.push(qt)):(It._code&Ft&&(qt=Qn(It,bt,Ft,f,w),qt._code=ts(qt,f),S.push(qt)),S.push(bt));l=S}return l}function Ks(l,f){var w,S,O,Y,rt,pt,bt,It,Lt;if(!l||l.length===0)throw new Error("latlngs not passed");_(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Ft=yt([0,0]),qt=ht(l),ie=qt.getNorthWest().distanceTo(qt.getSouthWest())*qt.getNorthEast().distanceTo(qt.getNorthWest());ie<1700&&(Ft=ca(l));var _n=l.length,On=[];for(w=0;w<_n;w++){var _i=yt(l[w]);On.push(f.project(yt([_i.lat-Ft.lat,_i.lng-Ft.lng])))}for(pt=bt=It=0,w=0,S=_n-1;w<_n;S=w++)O=On[w],Y=On[S],rt=O.y*Y.x-Y.y*O.x,bt+=(O.x+Y.x)*rt,It+=(O.y+Y.y)*rt,pt+=rt*3;pt===0?Lt=On[0]:Lt=[bt/pt,It/pt];var cr=f.unproject(C(Lt));return yt([cr.lat+Ft.lat,cr.lng+Ft.lng])}function ca(l){for(var f=0,w=0,S=0,O=0;O<l.length;O++){var Y=yt(l[O]);f+=Y.lat,w+=Y.lng,S++}return yt([f/S,w/S])}var ha={__proto__:null,clipPolygon:ua,polygonCenter:Ks,centroid:ca};function Il(l,f){if(!f||!l.length)return l.slice();var w=f*f;return l=xu(l,w),l=Su(l,w),l}function fa(l,f,w){return Math.sqrt(Bi(l,f,w,!0))}function Es(l,f,w){return Bi(l,f,w)}function Su(l,f){var w=l.length,S=typeof Uint8Array<"u"?Uint8Array:Array,O=new S(w);O[0]=O[w-1]=1,da(l,O,f,0,w-1);var Y,rt=[];for(Y=0;Y<w;Y++)O[Y]&&rt.push(l[Y]);return rt}function da(l,f,w,S,O){var Y=0,rt,pt,bt;for(pt=S+1;pt<=O-1;pt++)bt=Bi(l[pt],l[S],l[O],!0),bt>Y&&(rt=pt,Y=bt);Y>w&&(f[rt]=1,da(l,f,w,S,rt),da(l,f,w,rt,O))}function xu(l,f){for(var w=[l[0]],S=1,O=0,Y=l.length;S<Y;S++)Au(l[S],l[O])>f&&(w.push(l[S]),O=S);return O<Y-1&&w.push(l[Y-1]),w}var Pl;function ko(l,f,w,S,O){var Y=S?Pl:ts(l,w),rt=ts(f,w),pt,bt,It;for(Pl=rt;;){if(!(Y|rt))return[l,f];if(Y&rt)return!1;pt=Y||rt,bt=Qn(l,f,pt,w,O),It=ts(bt,w),pt===Y?(l=bt,Y=It):(f=bt,rt=It)}}function Qn(l,f,w,S,O){var Y=f.x-l.x,rt=f.y-l.y,pt=S.min,bt=S.max,It,Lt;return w&8?(It=l.x+Y*(bt.y-l.y)/rt,Lt=bt.y):w&4?(It=l.x+Y*(pt.y-l.y)/rt,Lt=pt.y):w&2?(It=bt.x,Lt=l.y+rt*(bt.x-l.x)/Y):w&1&&(It=pt.x,Lt=l.y+rt*(pt.x-l.x)/Y),new nt(It,Lt,O)}function ts(l,f){var w=0;return l.x<f.min.x?w|=1:l.x>f.max.x&&(w|=2),l.y<f.min.y?w|=4:l.y>f.max.y&&(w|=8),w}function Au(l,f){var w=f.x-l.x,S=f.y-l.y;return w*w+S*S}function Bi(l,f,w,S){var O=f.x,Y=f.y,rt=w.x-O,pt=w.y-Y,bt=rt*rt+pt*pt,It;return bt>0&&(It=((l.x-O)*rt+(l.y-Y)*pt)/bt,It>1?(O=w.x,Y=w.y):It>0&&(O+=rt*It,Y+=pt*It)),rt=l.x-O,pt=l.y-Y,S?rt*rt+pt*pt:new nt(O,Y)}function _(l){return!W(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function I(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_(l)}function j(l,f){var w,S,O,Y,rt,pt,bt,It;if(!l||l.length===0)throw new Error("latlngs not passed");_(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Lt=yt([0,0]),Ft=ht(l),qt=Ft.getNorthWest().distanceTo(Ft.getSouthWest())*Ft.getNorthEast().distanceTo(Ft.getNorthWest());qt<1700&&(Lt=ca(l));var ie=l.length,_n=[];for(w=0;w<ie;w++){var On=yt(l[w]);_n.push(f.project(yt([On.lat-Lt.lat,On.lng-Lt.lng])))}for(w=0,S=0;w<ie-1;w++)S+=_n[w].distanceTo(_n[w+1])/2;if(S===0)It=_n[0];else for(w=0,Y=0;w<ie-1;w++)if(rt=_n[w],pt=_n[w+1],O=rt.distanceTo(pt),Y+=O,Y>S){bt=(Y-S)/O,It=[pt.x-bt*(pt.x-rt.x),pt.y-bt*(pt.y-rt.y)];break}var _i=f.unproject(C(It));return yt([_i.lat+Lt.lat,_i.lng+Lt.lng])}var et={__proto__:null,simplify:Il,pointToSegmentDistance:fa,closestPointOnSegment:Es,clipSegment:ko,_getEdgeIntersection:Qn,_getBitCode:ts,_sqClosestPointOnSegment:Bi,isFlat:_,_flat:I,polylineCenter:j},dt={project:function(l){return new nt(l.lng,l.lat)},unproject:function(l){return new ut(l.y,l.x)},bounds:new at([-180,-90],[180,90])},Tt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new at([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var f=Math.PI/180,w=this.R,S=l.lat*f,O=this.R_MINOR/w,Y=Math.sqrt(1-O*O),rt=Y*Math.sin(S),pt=Math.tan(Math.PI/4-S/2)/Math.pow((1-rt)/(1+rt),Y/2);return S=-w*Math.log(Math.max(pt,1e-10)),new nt(l.lng*f*w,S)},unproject:function(l){for(var f=180/Math.PI,w=this.R,S=this.R_MINOR/w,O=Math.sqrt(1-S*S),Y=Math.exp(-l.y/w),rt=Math.PI/2-2*Math.atan(Y),pt=0,bt=.1,It;pt<15&&Math.abs(bt)>1e-7;pt++)It=O*Math.sin(rt),It=Math.pow((1-It)/(1+It),O/2),bt=Math.PI/2-2*Math.atan(Y*It)-rt,rt+=bt;return new ut(rt*f,l.x*f/w)}},kt={__proto__:null,LonLat:dt,Mercator:Tt,SphericalMercator:Ot},Ae=r({},Mt,{code:"EPSG:3395",projection:Tt,transformation:(function(){var l=.5/(Math.PI*Tt.R);return oe(l,.5,-l,.5)})()}),Bn=r({},Mt,{code:"EPSG:4326",projection:dt,transformation:oe(1/180,1,-1/180,.5)}),Re=r({},Bt,{projection:dt,transformation:oe(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,f){var w=f.lng-l.lng,S=f.lat-l.lat;return Math.sqrt(w*w+S*S)},infinite:!0});Bt.Earth=Mt,Bt.EPSG3395=Ae,Bt.EPSG3857=on,Bt.EPSG900913=Be,Bt.EPSG4326=Bn,Bt.Simple=Re;var Qe=V.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[d(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[d(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var f=l.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var w=this.getEvents();f.on(w,this),this.once("remove",function(){f.off(w,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});fe.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var f=d(l);return this._layers[f]?this:(this._layers[f]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var f=d(l);return this._layers[f]?(this._loaded&&l.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return d(l)in this._layers},eachLayer:function(l,f){for(var w in this._layers)l.call(f,this._layers[w]);return this},_addLayers:function(l){l=l?W(l)?l:[l]:[];for(var f=0,w=l.length;f<w;f++)this.addLayer(l[f])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[d(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var f=d(l);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,f=-1/0,w=this._getZoomSpan();for(var S in this._zoomBoundLayers){var O=this._zoomBoundLayers[S].options;l=O.minZoom===void 0?l:Math.min(l,O.minZoom),f=O.maxZoom===void 0?f:Math.max(f,O.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=l===1/0?void 0:l,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var yn=Qe.extend({initialize:function(l,f){M(this,f),this._layers={};var w,S;if(l)for(w=0,S=l.length;w<S;w++)this.addLayer(l[w])},addLayer:function(l){var f=this.getLayerId(l);return this._layers[f]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var f=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(l){var f=typeof l=="number"?l:this.getLayerId(l);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var f=Array.prototype.slice.call(arguments,1),w,S;for(w in this._layers)S=this._layers[w],S[l]&&S[l].apply(S,f);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,f){for(var w in this._layers)l.call(f,this._layers[w]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return d(l)}}),Ss=function(l,f){return new yn(l,f)},fn=yn.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),yn.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),yn.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new $;for(var f in this._layers){var w=this._layers[f];l.extend(w.getBounds?w.getBounds():w.getLatLng())}return l}}),es=function(l,f){return new fn(l,f)},ns=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){M(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,f){var w=this._getIconUrl(l);if(!w){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(w,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(S,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(l,f){var w=this.options,S=w[f+"Size"];typeof S=="number"&&(S=[S,S]);var O=C(S),Y=C(f==="shadow"&&w.shadowAnchor||w.iconAnchor||O&&O.divideBy(2,!0));l.className="leaflet-marker-"+f+" "+(w.className||""),Y&&(l.style.marginLeft=-Y.x+"px",l.style.marginTop=-Y.y+"px"),O&&(l.style.width=O.x+"px",l.style.height=O.y+"px")},_createImg:function(l,f){return f=f||document.createElement("img"),f.src=l,f},_getIconUrl:function(l){return Ut.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function Ru(l){return new ns(l)}var pa=ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof pa.imagePath!="string"&&(pa.imagePath=this._detectIconPath()),(this.options.imagePath||pa.imagePath)+ns.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var f=function(w,S,O){var Y=S.exec(w);return Y&&Y[O]};return l=f(l,/^url\((['"])?(.+)\1\)$/,2),l&&f(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=be("div","leaflet-default-icon-path",document.body),f=Yr(l,"background-image")||Yr(l,"backgroundImage");if(document.body.removeChild(l),f=this._stripUrl(f),f)return f;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),ih=Ui.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new kr(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ae(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&nn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var f=this._marker,w=f._map,S=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,Y=Xi(f._icon),rt=w.getPixelBounds(),pt=w.getPixelOrigin(),bt=lt(rt.min._subtract(pt).add(O),rt.max._subtract(pt).subtract(O));if(!bt.contains(Y)){var It=C((Math.max(bt.max.x,Y.x)-bt.max.x)/(rt.max.x-bt.max.x)-(Math.min(bt.min.x,Y.x)-bt.min.x)/(rt.min.x-bt.min.x),(Math.max(bt.max.y,Y.y)-bt.max.y)/(rt.max.y-bt.max.y)-(Math.min(bt.min.y,Y.y)-bt.min.y)/(rt.min.y-bt.min.y)).multiplyBy(S);w.panBy(It,{animate:!1}),this._draggable._newPos._add(It),this._draggable._startPos._add(It),Xt(f._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=k(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=k(this._adjustPan.bind(this,l)))},_onDrag:function(l){var f=this._marker,w=f._shadow,S=Xi(f._icon),O=f._map.layerPointToLatLng(S);w&&Xt(w,S),f._latlng=O,l.latlng=O,l.oldLatLng=this._oldLatLng,f.fire("move",l).fire("drag",l)},_onDragEnd:function(l){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),ma=Qe.extend({options:{icon:new pa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,f){M(this,f),this._latlng=yt(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var f=this._latlng;return this._latlng=yt(l),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=l.icon.createIcon(this._icon),S=!1;w!==this._icon&&(this._icon&&this._removeIcon(),S=!0,l.title&&(w.title=l.title),w.tagName==="IMG"&&(w.alt=l.alt||"")),ae(w,f),l.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(w,"focus",this._panOnFocus,this);var O=l.icon.createShadow(this._shadow),Y=!1;O!==this._shadow&&(this._removeShadow(),Y=!0),O&&(ae(O,f),O.alt=""),this._shadow=O,l.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&Y&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Oe(this._icon,"focus",this._panOnFocus,this),Xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xe(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Xt(this._icon,l),this._shadow&&Xt(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ih)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ih(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&gn(this._icon,l),this._shadow&&gn(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var f=this.options.icon.options,w=f.iconSize?C(f.iconSize):C(0,0),S=f.iconAnchor?C(f.iconAnchor):C(0,0);l.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:w.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function rh(l,f){return new ma(l,f)}var xs=Qe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return M(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),kl=xs.extend({options:{fill:!0,radius:10},initialize:function(l,f){M(this,f),this._latlng=yt(l),this._radius=this.options.radius},setLatLng:function(l){var f=this._latlng;return this._latlng=yt(l),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var f=l&&l.radius||this._radius;return xs.prototype.setStyle.call(this,l),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,f=this._radiusY||l,w=this._clickTolerance(),S=[l+w,f+w];this._pxBounds=new at(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cd(l,f){return new kl(l,f)}var sh=kl.extend({initialize:function(l,f,w){if(typeof f=="number"&&(f=r({},w,{radius:f})),M(this,f),this._latlng=yt(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:xs.prototype.setStyle,_project:function(){var l=this._latlng.lng,f=this._latlng.lat,w=this._map,S=w.options.crs;if(S.distance===Mt.distance){var O=Math.PI/180,Y=this._mRadius/Mt.R/O,rt=w.project([f+Y,l]),pt=w.project([f-Y,l]),bt=rt.add(pt).divideBy(2),It=w.unproject(bt).lat,Lt=Math.acos((Math.cos(Y*O)-Math.sin(f*O)*Math.sin(It*O))/(Math.cos(f*O)*Math.cos(It*O)))/O;(isNaN(Lt)||Lt===0)&&(Lt=Y/Math.cos(Math.PI/180*f)),this._point=bt.subtract(w.getPixelOrigin()),this._radius=isNaN(Lt)?0:bt.x-w.project([It,l-Lt]).x,this._radiusY=bt.y-rt.y}else{var Ft=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(Ft).x}this._updateBounds()}});function Vg(l,f,w){return new sh(l,f,w)}var As=xs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,f){M(this,f),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var f=1/0,w=null,S=Bi,O,Y,rt=0,pt=this._parts.length;rt<pt;rt++)for(var bt=this._parts[rt],It=1,Lt=bt.length;It<Lt;It++){O=bt[It-1],Y=bt[It];var Ft=S(l,O,Y,!0);Ft<f&&(f=Ft,w=S(l,O,Y))}return w&&(w.distance=Math.sqrt(f)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return j(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,f){return f=f||this._defaultShape(),l=yt(l),f.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new $,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return _(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var f=[],w=_(l),S=0,O=l.length;S<O;S++)w?(f[S]=yt(l[S]),this._bounds.extend(f[S])):f[S]=this._convertLatLngs(l[S]);return f},_project:function(){var l=new at;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),f=new nt(l,l);this._rawPxBounds&&(this._pxBounds=new at([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(l,f,w){var S=l[0]instanceof ut,O=l.length,Y,rt;if(S){for(rt=[],Y=0;Y<O;Y++)rt[Y]=this._map.latLngToLayerPoint(l[Y]),w.extend(rt[Y]);f.push(rt)}else for(Y=0;Y<O;Y++)this._projectLatlngs(l[Y],f,w)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,w,S,O,Y,rt,pt,bt;for(w=0,O=0,Y=this._rings.length;w<Y;w++)for(bt=this._rings[w],S=0,rt=bt.length;S<rt-1;S++)pt=ko(bt[S],bt[S+1],l,S,!0),pt&&(f[O]=f[O]||[],f[O].push(pt[0]),(pt[1]!==bt[S+1]||S===rt-2)&&(f[O].push(pt[1]),O++))}},_simplifyPoints:function(){for(var l=this._parts,f=this.options.smoothFactor,w=0,S=l.length;w<S;w++)l[w]=Il(l[w],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,f){var w,S,O,Y,rt,pt,bt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(w=0,Y=this._parts.length;w<Y;w++)for(pt=this._parts[w],S=0,rt=pt.length,O=rt-1;S<rt;O=S++)if(!(!f&&S===0)&&fa(l,pt[O],pt[S])<=bt)return!0;return!1}});function zg(l,f){return new As(l,f)}As._flat=I;var ga=As.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ks(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var f=As.prototype._convertLatLngs.call(this,l),w=f.length;return w>=2&&f[0]instanceof ut&&f[0].equals(f[w-1])&&f.pop(),f},_setLatLngs:function(l){As.prototype._setLatLngs.call(this,l),_(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,f=this.options.weight,w=new nt(f,f);if(l=new at(l.min.subtract(w),l.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,O=this._rings.length,Y;S<O;S++)Y=ua(this._rings[S],l,!0),Y.length&&this._parts.push(Y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var f=!1,w,S,O,Y,rt,pt,bt,It;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(Y=0,bt=this._parts.length;Y<bt;Y++)for(w=this._parts[Y],rt=0,It=w.length,pt=It-1;rt<It;pt=rt++)S=w[rt],O=w[pt],S.y>l.y!=O.y>l.y&&l.x<(O.x-S.x)*(l.y-S.y)/(O.y-S.y)+S.x&&(f=!f);return f||As.prototype._containsPoint.call(this,l,!0)}});function Ji(l,f){return new ga(l,f)}var tr=fn.extend({initialize:function(l,f){M(this,f),this._layers={},l&&this.addData(l)},addData:function(l){var f=W(l)?l:l.features,w,S,O;if(f){for(w=0,S=f.length;w<S;w++)O=f[w],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var Y=this.options;if(Y.filter&&!Y.filter(l))return this;var rt=Dl(l,Y);return rt?(rt.feature=ya(l),rt.defaultOptions=rt.options,this.resetStyle(rt),Y.onEachFeature&&Y.onEachFeature(l,rt),this.addLayer(rt)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=r({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(f){this._setLayerStyle(f,l)},this)},_setLayerStyle:function(l,f){l.setStyle&&(typeof f=="function"&&(f=f(l.feature)),l.setStyle(f))}});function Dl(l,f){var w=l.type==="Feature"?l.geometry:l,S=w?w.coordinates:null,O=[],Y=f&&f.pointToLayer,rt=f&&f.coordsToLatLng||Cu,pt,bt,It,Lt;if(!S&&!w)return null;switch(w.type){case"Point":return pt=rt(S),oh(Y,l,pt,f);case"MultiPoint":for(It=0,Lt=S.length;It<Lt;It++)pt=rt(S[It]),O.push(oh(Y,l,pt,f));return new fn(O);case"LineString":case"MultiLineString":return bt=Ml(S,w.type==="LineString"?0:1,rt),new As(bt,f);case"Polygon":case"MultiPolygon":return bt=Ml(S,w.type==="Polygon"?1:2,rt),new ga(bt,f);case"GeometryCollection":for(It=0,Lt=w.geometries.length;It<Lt;It++){var Ft=Dl({geometry:w.geometries[It],type:"Feature",properties:l.properties},f);Ft&&O.push(Ft)}return new fn(O);case"FeatureCollection":for(It=0,Lt=w.features.length;It<Lt;It++){var qt=Dl(w.features[It],f);qt&&O.push(qt)}return new fn(O);default:throw new Error("Invalid GeoJSON object.")}}function oh(l,f,w,S){return l?l(f,w):new ma(w,S&&S.markersInheritOptions&&S)}function Cu(l){return new ut(l[1],l[0],l[2])}function Ml(l,f,w){for(var S=[],O=0,Y=l.length,rt;O<Y;O++)rt=f?Ml(l[O],f-1,w):(w||Cu)(l[O]),S.push(rt);return S}function Ol(l,f){return l=yt(l),l.alt!==void 0?[v(l.lng,f),v(l.lat,f),v(l.alt,f)]:[v(l.lng,f),v(l.lat,f)]}function Iu(l,f,w,S){for(var O=[],Y=0,rt=l.length;Y<rt;Y++)O.push(f?Iu(l[Y],_(l[Y])?0:f-1,w,S):Ol(l[Y],S));return!f&&w&&O.length>0&&O.push(O[0].slice()),O}function Dr(l,f){return l.feature?r({},l.feature,{geometry:f}):ya(f)}function ya(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var Do={toGeoJSON:function(l){return Dr(this,{type:"Point",coordinates:Ol(this.getLatLng(),l)})}};ma.include(Do),sh.include(Do),kl.include(Do),As.include({toGeoJSON:function(l){var f=!_(this._latlngs),w=Iu(this._latlngs,f?1:0,!1,l);return Dr(this,{type:(f?"Multi":"")+"LineString",coordinates:w})}}),ga.include({toGeoJSON:function(l){var f=!_(this._latlngs),w=f&&!_(this._latlngs[0]),S=Iu(this._latlngs,w?2:f?1:0,!0,l);return f||(S=[S]),Dr(this,{type:(w?"Multi":"")+"Polygon",coordinates:S})}}),yn.include({toMultiPoint:function(l){var f=[];return this.eachLayer(function(w){f.push(w.toGeoJSON(l).geometry.coordinates)}),Dr(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(l){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(l);var w=f==="GeometryCollection",S=[];return this.eachLayer(function(O){if(O.toGeoJSON){var Y=O.toGeoJSON(l);if(w)S.push(Y.geometry);else{var rt=ya(Y);rt.type==="FeatureCollection"?S.push.apply(S,rt.features):S.push(rt)}}}),w?Dr(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function Pu(l,f){return new tr(l,f)}var Id=Pu,is=Qe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,f,w){this._url=l,this._bounds=ht(f),M(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&Xr(this._image),this},bringToBack:function(){return this._map&&Hs(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=ht(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",f=this._image=l?this._url:be("img");if(ae(f,"leaflet-image-layer"),this._zoomAnimated&&ae(f,"leaflet-zoom-animated"),this.options.className&&ae(f,this.options.className),f.onselectstart=y,f.onmousemove=y,f.onload=u(this.fire,this,"load"),f.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(l){var f=this._map.getZoomScale(l.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Ai(this._image,w,f)},_reset:function(){var l=this._image,f=new at(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=f.getSize();Xt(l,f.min),l.style.width=w.x+"px",l.style.height=w.y+"px"},_updateOpacity:function(){gn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),_a=function(l,f,w){return new is(l,f,w)},ku=is.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",f=this._image=l?this._url:be("video");if(ae(f,"leaflet-image-layer"),this._zoomAnimated&&ae(f,"leaflet-zoom-animated"),this.options.className&&ae(f,this.options.className),f.onselectstart=y,f.onmousemove=y,f.onloadeddata=u(this.fire,this,"load"),l){for(var w=f.getElementsByTagName("source"),S=[],O=0;O<w.length;O++)S.push(w[O].src);this._url=w.length>0?S:[f.src];return}W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var Y=0;Y<this._url.length;Y++){var rt=be("source");rt.src=this._url[Y],f.appendChild(rt)}}});function Pd(l,f,w){return new ku(l,f,w)}var Zs=is.extend({_initImage:function(){var l=this._image=this._url;ae(l,"leaflet-image-layer"),this._zoomAnimated&&ae(l,"leaflet-zoom-animated"),this.options.className&&ae(l,this.options.className),l.onselectstart=y,l.onmousemove=y}});function kd(l,f,w){return new Zs(l,f,w)}var Mr=Qe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,f){l&&(l instanceof ut||W(l))?(this._latlng=yt(l),M(this,f)):(M(this,l),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&gn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&gn(this._container,1),this.bringToFront(),this.options.interactive&&(ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(gn(this._container,0),this._removeTimeout=setTimeout(u(Xe,void 0,this._container),200)):Xe(this._container),this.options.interactive&&(nn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=yt(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xr(this._container),this},bringToBack:function(){return this._map&&Hs(this._container),this},_prepareOpen:function(l){var f=this._source;if(!f._map)return!1;if(f instanceof fn){f=null;var w=this._source._layers;for(var S in w)if(w[S]._map){f=w[S];break}if(!f)return!1;this._source=f}if(!l)if(f.getCenter)l=f.getCenter();else if(f.getLatLng)l=f.getLatLng();else if(f.getBounds)l=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")l.innerHTML=f;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),f=C(this.options.offset),w=this._getAnchor();this._zoomAnimated?Xt(this._container,l.add(w)):f=f.add(l).add(w);var S=this._containerBottom=-f.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=S+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});fe.include({_initOverlay:function(l,f,w,S){var O=f;return O instanceof l||(O=new l(S).setContent(f)),w&&O.setLatLng(w),O}}),Qe.include({_initOverlay:function(l,f,w,S){var O=w;return O instanceof l?(M(O,S),O._source=this):(O=f&&!S?f:new l(S,this),O.setContent(w)),O}});var Ll=Mr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Mr.prototype.openOn.call(this,l)},onAdd:function(l){Mr.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xs||this._source.on("preclick",zi))},onRemove:function(l){Mr.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xs||this._source.off("preclick",zi))},getEvents:function(){var l=Mr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",f=this._container=be("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=be("div",l+"-content-wrapper",f);if(this._contentNode=be("div",l+"-content",w),ws(f),Pr(this._contentNode),Zt(f,"contextmenu",zi),this._tipContainer=be("div",l+"-tip-container",f),this._tip=be("div",l+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=be("a",l+"-close-button",f);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Zt(S,"click",function(O){an(O),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,f=l.style;f.width="",f.whiteSpace="nowrap";var w=l.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),f.width=w+1+"px",f.whiteSpace="",f.height="";var S=l.offsetHeight,O=this.options.maxHeight,Y="leaflet-popup-scrolled";O&&S>O?(f.height=O+"px",ae(l,Y)):nn(l,Y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),w=this._getAnchor();Xt(this._container,f.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,f=parseInt(Yr(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+f,S=this._containerWidth,O=new nt(this._containerLeft,-w-this._containerBottom);O._add(Xi(this._container));var Y=l.layerPointToContainerPoint(O),rt=C(this.options.autoPanPadding),pt=C(this.options.autoPanPaddingTopLeft||rt),bt=C(this.options.autoPanPaddingBottomRight||rt),It=l.getSize(),Lt=0,Ft=0;Y.x+S+bt.x>It.x&&(Lt=Y.x+S-It.x+bt.x),Y.x-Lt-pt.x<0&&(Lt=Y.x-pt.x),Y.y+w+bt.y>It.y&&(Ft=Y.y+w-It.y+bt.y),Y.y-Ft-pt.y<0&&(Ft=Y.y-pt.y),(Lt||Ft)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Lt,Ft]))}},_getAnchor:function(){return C(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ug=function(l,f){return new Ll(l,f)};fe.mergeOptions({closePopupOnClick:!0}),fe.include({openPopup:function(l,f,w){return this._initOverlay(Ll,l,f,w).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),Qe.include({bindPopup:function(l,f){return this._popup=this._initOverlay(Ll,this._popup,l,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof fn||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){gi(l);var f=l.layer||l.target;if(this._popup._source===f&&!(f instanceof xs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=f,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Du=Mr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Mr.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Mr.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Mr.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",f=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=be("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var f,w,S=this._map,O=this._container,Y=S.latLngToContainerPoint(S.getCenter()),rt=S.layerPointToContainerPoint(l),pt=this.options.direction,bt=O.offsetWidth,It=O.offsetHeight,Lt=C(this.options.offset),Ft=this._getAnchor();pt==="top"?(f=bt/2,w=It):pt==="bottom"?(f=bt/2,w=0):pt==="center"?(f=bt/2,w=It/2):pt==="right"?(f=0,w=It/2):pt==="left"?(f=bt,w=It/2):rt.x<Y.x?(pt="right",f=0,w=It/2):(pt="left",f=bt+(Lt.x+Ft.x)*2,w=It/2),l=l.subtract(C(f,w,!0)).add(Lt).add(Ft),nn(O,"leaflet-tooltip-right"),nn(O,"leaflet-tooltip-left"),nn(O,"leaflet-tooltip-top"),nn(O,"leaflet-tooltip-bottom"),ae(O,"leaflet-tooltip-"+pt),Xt(O,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&gn(this._container,l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(f)},_getAnchor:function(){return C(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bg=function(l,f){return new Du(l,f)};fe.include({openTooltip:function(l,f,w){return this._initOverlay(Du,l,f,w).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),Qe.include({bindTooltip:function(l,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Du,this._tooltip,l,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var f=l?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[f](w),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof fn||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&(Zt(f,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Zt(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var f=l.latlng,w,S;this._tooltip.options.sticky&&l.originalEvent&&(w=this._map.mouseEventToContainerPoint(l.originalEvent),S=this._map.containerPointToLayerPoint(w),f=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(f)}});var ah=ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var f=l&&l.tagName==="DIV"?l:document.createElement("div"),w=this.options;if(w.html instanceof Element?(Xn(f),f.appendChild(w.html)):f.innerHTML=w.html!==!1?w.html:"",w.bgPos){var S=C(w.bgPos);f.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Dd(l){return new ah(l)}ns.Default=pa;var Mo=Qe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ut.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){M(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),Xe(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Hs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof nt?l:new nt(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var f=this.getPane().children,w=-l(-1/0,1/0),S=0,O=f.length,Y;S<O;S++)Y=f[S].style.zIndex,f[S]!==this._container&&Y&&(w=l(w,+Y));isFinite(w)&&(this.options.zIndex=w+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ut.ielt9){gn(this._container,this.options.opacity);var l=+new Date,f=!1,w=!1;for(var S in this._tiles){var O=this._tiles[S];if(!(!O.current||!O.loaded)){var Y=Math.min(1,(l-O.loaded)/200);gn(O.el,Y),Y<1?f=!0:(O.active?w=!0:this._onOpaqueTile(O),O.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),f&&(P(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=be("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,f=this.options.maxZoom;if(l!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===l?(this._levels[w].el.style.zIndex=f-Math.abs(l-w),this._onUpdateLevel(w)):(Xe(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var S=this._levels[l],O=this._map;return S||(S=this._levels[l]={},S.el=be("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=f,S.origin=O.project(O.unproject(O.getPixelOrigin()),l).round(),S.zoom=l,this._setZoomTransform(S,O.getCenter(),O.getZoom()),y(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var l,f,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)f=this._tiles[l],f.retain=f.current;for(l in this._tiles)if(f=this._tiles[l],f.current&&!f.active){var S=f.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var f in this._tiles)this._tiles[f].coords.z===l&&this._removeTile(f)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)Xe(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,f,w,S){var O=Math.floor(l/2),Y=Math.floor(f/2),rt=w-1,pt=new nt(+O,+Y);pt.z=+rt;var bt=this._tileCoordsToKey(pt),It=this._tiles[bt];return It&&It.active?(It.retain=!0,!0):(It&&It.loaded&&(It.retain=!0),rt>S?this._retainParent(O,Y,rt,S):!1)},_retainChildren:function(l,f,w,S){for(var O=2*l;O<2*l+2;O++)for(var Y=2*f;Y<2*f+2;Y++){var rt=new nt(O,Y);rt.z=w+1;var pt=this._tileCoordsToKey(rt),bt=this._tiles[pt];if(bt&&bt.active){bt.retain=!0;continue}else bt&&bt.loaded&&(bt.retain=!0);w+1<S&&this._retainChildren(O,Y,w+1,S)}},_resetView:function(l){var f=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var f=this.options;return f.minNativeZoom!==void 0&&l<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<l?f.maxNativeZoom:l},_setView:function(l,f,w,S){var O=Math.round(f);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var Y=this.options.updateWhenZooming&&O!==this._tileZoom;(!S||Y)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(l),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(l,f)},_setZoomTransforms:function(l,f){for(var w in this._levels)this._setZoomTransform(this._levels[w],l,f)},_setZoomTransform:function(l,f,w){var S=this._map.getZoomScale(w,l.zoom),O=l.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(f,w)).round();Ut.any3d?Ai(l.el,O,S):Xt(l.el,O)},_resetGrid:function(){var l=this._map,f=l.options.crs,w=this._tileSize=this.getTileSize(),S=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,f.wrapLng[0]],S).x/w.x),Math.ceil(l.project([0,f.wrapLng[1]],S).x/w.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([f.wrapLat[0],0],S).y/w.x),Math.ceil(l.project([f.wrapLat[1],0],S).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var f=this._map,w=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),S=f.getZoomScale(w,this._tileZoom),O=f.project(l,this._tileZoom).floor(),Y=f.getSize().divideBy(S*2);return new at(O.subtract(Y),O.add(Y))},_update:function(l){var f=this._map;if(f){var w=this._clampZoom(f.getZoom());if(l===void 0&&(l=f.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(l),O=this._pxBoundsToTileRange(S),Y=O.getCenter(),rt=[],pt=this.options.keepBuffer,bt=new at(O.getBottomLeft().subtract([pt,-pt]),O.getTopRight().add([pt,-pt]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var It in this._tiles){var Lt=this._tiles[It].coords;(Lt.z!==this._tileZoom||!bt.contains(new nt(Lt.x,Lt.y)))&&(this._tiles[It].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(l,w);return}for(var Ft=O.min.y;Ft<=O.max.y;Ft++)for(var qt=O.min.x;qt<=O.max.x;qt++){var ie=new nt(qt,Ft);if(ie.z=this._tileZoom,!!this._isValidTile(ie)){var _n=this._tiles[this._tileCoordsToKey(ie)];_n?_n.current=!0:rt.push(ie)}}if(rt.sort(function(_i,cr){return _i.distanceTo(Y)-cr.distanceTo(Y)}),rt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var On=document.createDocumentFragment();for(qt=0;qt<rt.length;qt++)this._addTile(rt[qt],On);this._level.el.appendChild(On)}}}},_isValidTile:function(l){var f=this._map.options.crs;if(!f.infinite){var w=this._globalTileRange;if(!f.wrapLng&&(l.x<w.min.x||l.x>w.max.x)||!f.wrapLat&&(l.y<w.min.y||l.y>w.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(l);return ht(this.options.bounds).overlaps(S)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var f=this._map,w=this.getTileSize(),S=l.scaleBy(w),O=S.add(w),Y=f.unproject(S,l.z),rt=f.unproject(O,l.z);return[Y,rt]},_tileCoordsToBounds:function(l){var f=this._tileCoordsToNwSe(l),w=new $(f[0],f[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var f=l.split(":"),w=new nt(+f[0],+f[1]);return w.z=+f[2],w},_removeTile:function(l){var f=this._tiles[l];f&&(Xe(f.el),delete this._tiles[l],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){ae(l,"leaflet-tile");var f=this.getTileSize();l.style.width=f.x+"px",l.style.height=f.y+"px",l.onselectstart=y,l.onmousemove=y,Ut.ielt9&&this.options.opacity<1&&gn(l,this.options.opacity)},_addTile:function(l,f){var w=this._getTilePos(l),S=this._tileCoordsToKey(l),O=this.createTile(this._wrapCoords(l),u(this._tileReady,this,l));this._initTile(O),this.createTile.length<2&&k(u(this._tileReady,this,l,null,O)),Xt(O,w),this._tiles[S]={el:O,coords:l,current:!0},f.appendChild(O),this.fire("tileloadstart",{tile:O,coords:l})},_tileReady:function(l,f,w){f&&this.fire("tileerror",{error:f,tile:w,coords:l});var S=this._tileCoordsToKey(l);w=this._tiles[S],w&&(w.loaded=+new Date,this._map._fadeAnimated?(gn(w.el,0),P(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),f||(ae(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ut.ielt9||!this._map._fadeAnimated?k(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var f=new nt(this._wrapX?g(l.x,this._wrapX):l.x,this._wrapY?g(l.y,this._wrapY):l.y);return f.z=l.z,f},_pxBoundsToTileRange:function(l){var f=this.getTileSize();return new at(l.min.unscaleBy(f).floor(),l.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Or(l){return new Mo(l)}var Oo=Mo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,f){this._url=l,f=M(this,f),f.detectRetina&&Ut.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,f){return this._url===l&&f===void 0&&(f=!0),this._url=l,f||this.redraw(),this},createTile:function(l,f){var w=document.createElement("img");return Zt(w,"load",u(this._tileOnLoad,this,f,w)),Zt(w,"error",u(this._tileOnError,this,f,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(l),w},getTileUrl:function(l){var f={r:Ut.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-l.y;this.options.tms&&(f.y=w),f["-y"]=w}return K(this._url,r(f,this.options))},_tileOnLoad:function(l,f){Ut.ielt9?setTimeout(u(l,this,null,f),0):l(null,f)},_tileOnError:function(l,f,w){var S=this.options.errorTileUrl;S&&f.getAttribute("src")!==S&&(f.src=S),l(w,f)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,f=this.options.maxZoom,w=this.options.zoomReverse,S=this.options.zoomOffset;return w&&(l=f-l),l+S},_getSubdomain:function(l){var f=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var l,f;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(f=this._tiles[l].el,f.onload=y,f.onerror=y,!f.complete)){f.src=X;var w=this._tiles[l].coords;Xe(f),delete this._tiles[l],this.fire("tileabort",{tile:f,coords:w})}},_removeTile:function(l){var f=this._tiles[l];if(f)return f.el.setAttribute("src",X),Mo.prototype._removeTile.call(this,l)},_tileReady:function(l,f,w){if(!(!this._map||w&&w.getAttribute("src")===X))return Mo.prototype._tileReady.call(this,l,f,w)}});function er(l,f){return new Oo(l,f)}var nr=Oo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,f){this._url=l;var w=r({},this.defaultWmsParams);for(var S in f)S in this.options||(w[S]=f[S]);f=M(this,f);var O=f.detectRetina&&Ut.retina?2:1,Y=this.getTileSize();w.width=Y.x*O,w.height=Y.y*O,this.wmsParams=w},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Oo.prototype.onAdd.call(this,l)},getTileUrl:function(l){var f=this._tileCoordsToNwSe(l),w=this._crs,S=lt(w.project(f[0]),w.project(f[1])),O=S.min,Y=S.max,rt=(this._wmsVersion>=1.3&&this._crs===Bn?[O.y,O.x,Y.y,Y.x]:[O.x,O.y,Y.x,Y.y]).join(","),pt=Oo.prototype.getTileUrl.call(this,l);return pt+F(this.wmsParams,pt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+rt},setParams:function(l,f){return r(this.wmsParams,l),f||this.redraw(),this}});function va(l,f){return new nr(l,f)}Oo.WMS=nr,er.wms=va;var Lr=Qe.extend({options:{padding:.1},initialize:function(l){M(this,l),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,f){var w=this._map.getZoomScale(f,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,f),Y=S.multiplyBy(-w).add(O).subtract(this._map._getNewPixelOrigin(l,f));Ut.any3d?Ai(this._container,Y,w):Xt(this._container,Y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,f=this._map.getSize(),w=this._map.containerPointToLayerPoint(f.multiplyBy(-l)).round();this._bounds=new at(w,w.add(f.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Nl=Lr.extend({options:{tolerance:0},getEvents:function(){var l=Lr.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Zt(l,"mousemove",this._onMouseMove,this),Zt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Zt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,Xe(this._container),Oe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var f in this._layers)l=this._layers[f],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var l=this._bounds,f=this._container,w=l.getSize(),S=Ut.retina?2:1;Xt(f,l.min),f.width=S*w.x,f.height=S*w.y,f.style.width=w.x+"px",f.style.height=w.y+"px",Ut.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[d(l)]=l;var f=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var f=l._order,w=f.next,S=f.prev;w?w.prev=S:this._drawLast=S,S?S.next=w:this._drawFirst=w,delete l._order,delete this._layers[d(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var f=l.options.dashArray.split(/[, ]+/),w=[],S,O;for(O=0;O<f.length;O++){if(S=Number(f[O]),isNaN(S))return;w.push(S)}l.options._dashArray=w}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||k(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var f=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new at,this._redrawBounds.extend(l._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(l._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var f=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,f=this._redrawBounds;if(this._ctx.save(),f){var w=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)l=S.layer,(!f||l._pxBounds&&l._pxBounds.intersects(f))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,f){if(this._drawing){var w,S,O,Y,rt=l._parts,pt=rt.length,bt=this._ctx;if(pt){for(bt.beginPath(),w=0;w<pt;w++){for(S=0,O=rt[w].length;S<O;S++)Y=rt[w][S],bt[S?"lineTo":"moveTo"](Y.x,Y.y);f&&bt.closePath()}this._fillStroke(bt,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var f=l._point,w=this._ctx,S=Math.max(Math.round(l._radius),1),O=(Math.max(Math.round(l._radiusY),1)||S)/S;O!==1&&(w.save(),w.scale(1,O)),w.beginPath(),w.arc(f.x,f.y/O,S,0,Math.PI*2,!1),O!==1&&w.restore(),this._fillStroke(w,l)}},_fillStroke:function(l,f){var w=f.options;w.fill&&(l.globalAlpha=w.fillOpacity,l.fillStyle=w.fillColor||w.color,l.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(l.setLineDash&&l.setLineDash(f.options&&f.options._dashArray||[]),l.globalAlpha=w.opacity,l.lineWidth=w.weight,l.strokeStyle=w.color,l.lineCap=w.lineCap,l.lineJoin=w.lineJoin,l.stroke())},_onClick:function(l){for(var f=this._map.mouseEventToLayerPoint(l),w,S,O=this._drawFirst;O;O=O.next)w=O.layer,w.options.interactive&&w._containsPoint(f)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(w))&&(S=w);this._fireEvent(S?[S]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,f)}},_handleMouseOut:function(l){var f=this._hoveredLayer;f&&(nn(this._container,"leaflet-interactive"),this._fireEvent([f],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,f){if(!this._mouseHoverThrottled){for(var w,S,O=this._drawFirst;O;O=O.next)w=O.layer,w.options.interactive&&w._containsPoint(f)&&(S=w);S!==this._hoveredLayer&&(this._handleMouseOut(l),S&&(ae(this._container,"leaflet-interactive"),this._fireEvent([S],l,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,f,w){this._map._fireDOMEvent(f,w||f.type,l)},_bringToFront:function(l){var f=l._order;if(f){var w=f.next,S=f.prev;if(w)w.prev=S;else return;S?S.next=w:w&&(this._drawFirst=w),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(l)}},_bringToBack:function(l){var f=l._order;if(f){var w=f.next,S=f.prev;if(S)S.next=w;else return;w?w.prev=S:S&&(this._drawLast=S),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(l)}}});function Vl(l){return Ut.canvas?new Nl(l):null}var Lo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),wa={_initContainer:function(){this._container=be("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Lr.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var f=l._container=Lo("shape");ae(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",l._path=Lo("path"),f.appendChild(l._path),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){var f=l._container;this._container.appendChild(f),l.options.interactive&&l.addInteractiveTarget(f)},_removePath:function(l){var f=l._container;Xe(f),l.removeInteractiveTarget(f),delete this._layers[d(l)]},_updateStyle:function(l){var f=l._stroke,w=l._fill,S=l.options,O=l._container;O.stroked=!!S.stroke,O.filled=!!S.fill,S.stroke?(f||(f=l._stroke=Lo("stroke")),O.appendChild(f),f.weight=S.weight+"px",f.color=S.color,f.opacity=S.opacity,S.dashArray?f.dashStyle=W(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=S.lineCap.replace("butt","flat"),f.joinstyle=S.lineJoin):f&&(O.removeChild(f),l._stroke=null),S.fill?(w||(w=l._fill=Lo("fill")),O.appendChild(w),w.color=S.fillColor||S.color,w.opacity=S.fillOpacity):w&&(O.removeChild(w),l._fill=null)},_updateCircle:function(l){var f=l._point.round(),w=Math.round(l._radius),S=Math.round(l._radiusY||w);this._setPath(l,l._empty()?"M0 0":"AL "+f.x+","+f.y+" "+w+","+S+" 0,"+65535*360)},_setPath:function(l,f){l._path.v=f},_bringToFront:function(l){Xr(l._container)},_bringToBack:function(l){Hs(l._container)}},zl=Ut.vml?Lo:he,$s=Lr.extend({_initContainer:function(){this._container=zl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xe(this._container),Oe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var l=this._bounds,f=l.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,w.setAttribute("width",f.x),w.setAttribute("height",f.y)),Xt(w,l.min),w.setAttribute("viewBox",[l.min.x,l.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(l){var f=l._path=zl("path");l.options.className&&ae(f,l.options.className),l.options.interactive&&ae(f,"leaflet-interactive"),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){Xe(l._path),l.removeInteractiveTarget(l._path),delete this._layers[d(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var f=l._path,w=l.options;f&&(w.stroke?(f.setAttribute("stroke",w.color),f.setAttribute("stroke-opacity",w.opacity),f.setAttribute("stroke-width",w.weight),f.setAttribute("stroke-linecap",w.lineCap),f.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?f.setAttribute("stroke-dasharray",w.dashArray):f.removeAttribute("stroke-dasharray"),w.dashOffset?f.setAttribute("stroke-dashoffset",w.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),w.fill?(f.setAttribute("fill",w.fillColor||w.color),f.setAttribute("fill-opacity",w.fillOpacity),f.setAttribute("fill-rule",w.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(l,f){this._setPath(l,Me(l._parts,f))},_updateCircle:function(l){var f=l._point,w=Math.max(Math.round(l._radius),1),S=Math.max(Math.round(l._radiusY),1)||w,O="a"+w+","+S+" 0 1,0 ",Y=l._empty()?"M0 0":"M"+(f.x-w)+","+f.y+O+w*2+",0 "+O+-w*2+",0 ";this._setPath(l,Y)},_setPath:function(l,f){l._path.setAttribute("d",f)},_bringToFront:function(l){Xr(l._path)},_bringToBack:function(l){Hs(l._path)}});Ut.vml&&$s.include(wa);function No(l){return Ut.svg||Ut.vml?new $s(l):null}fe.include({getRenderer:function(l){var f=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var f=this._paneRenderers[l];return f===void 0&&(f=this._createRenderer({pane:l}),this._paneRenderers[l]=f),f},_createRenderer:function(l){return this.options.preferCanvas&&Vl(l)||No(l)}});var Md=ga.extend({initialize:function(l,f){ga.prototype.initialize.call(this,this._boundsToLatLngs(l),f)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=ht(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function ir(l,f){return new Md(l,f)}$s.create=zl,$s.pointsToPath=Me,tr.geometryToLayer=Dl,tr.coordsToLatLng=Cu,tr.coordsToLatLngs=Ml,tr.latLngToCoords=Ol,tr.latLngsToCoords=Iu,tr.getFeature=Dr,tr.asFeature=ya,fe.mergeOptions({boxZoom:!0});var Mu=Ui.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Oe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),mi(),Ro(),this._startPoint=this._map.mouseEventToContainerPoint(l),Zt(document,{contextmenu:gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=be("div","leaflet-zoom-box",this._container),ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var f=new at(this._point,this._startPoint),w=f.getSize();Xt(this._box,f.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Xe(this._box),nn(this._container,"leaflet-crosshair")),Rr(),xl(),Oe(document,{contextmenu:gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var f=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});fe.addInitHook("addHandler","boxZoom",Mu),fe.mergeOptions({doubleClickZoom:!0});var rs=Ui.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var f=this._map,w=f.getZoom(),S=f.options.zoomDelta,O=l.originalEvent.shiftKey?w-S:w+S;f.options.doubleClickZoom==="center"?f.setZoom(O):f.setZoomAround(l.containerPoint,O)}});fe.addInitHook("addHandler","doubleClickZoom",rs),fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var lh=Ui.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new kr(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){nn(this._map._container,"leaflet-grab"),nn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=ht(this._map.options.maxBounds);this._offsetLimit=lt(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var f=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(f),this._prunePositions(f)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,f){return l-(l-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;l.x<f.min.x&&(l.x=this._viscousLimit(l.x,f.min.x)),l.y<f.min.y&&(l.y=this._viscousLimit(l.y,f.min.y)),l.x>f.max.x&&(l.x=this._viscousLimit(l.x,f.max.x)),l.y>f.max.y&&(l.y=this._viscousLimit(l.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,f=Math.round(l/2),w=this._initialWorldOffset,S=this._draggable._newPos.x,O=(S-f+w)%l+f-w,Y=(S+f+w)%l-f-w,rt=Math.abs(O+w)<Math.abs(Y+w)?O:Y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=rt},_onDragEnd:function(l){var f=this._map,w=f.options,S=!w.inertia||l.noInertia||this._times.length<2;if(f.fire("dragend",l),S)f.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),Y=(this._lastTime-this._times[0])/1e3,rt=w.easeLinearity,pt=O.multiplyBy(rt/Y),bt=pt.distanceTo([0,0]),It=Math.min(w.inertiaMaxSpeed,bt),Lt=pt.multiplyBy(It/bt),Ft=It/(w.inertiaDeceleration*rt),qt=Lt.multiplyBy(-Ft/2).round();!qt.x&&!qt.y?f.fire("moveend"):(qt=f._limitOffset(qt,f.options.maxBounds),k(function(){f.panBy(qt,{duration:Ft,easeLinearity:rt,noMoveStart:!0,animate:!0})}))}}});fe.addInitHook("addHandler","dragging",lh),fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ul=Ui.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Zt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Oe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,f=document.documentElement,w=l.scrollTop||f.scrollTop,S=l.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(S,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var f=this._panKeys={},w=this.keyCodes,S,O;for(S=0,O=w.left.length;S<O;S++)f[w.left[S]]=[-1*l,0];for(S=0,O=w.right.length;S<O;S++)f[w.right[S]]=[l,0];for(S=0,O=w.down.length;S<O;S++)f[w.down[S]]=[0,l];for(S=0,O=w.up.length;S<O;S++)f[w.up[S]]=[0,-1*l]},_setZoomDelta:function(l){var f=this._zoomKeys={},w=this.keyCodes,S,O;for(S=0,O=w.zoomIn.length;S<O;S++)f[w.zoomIn[S]]=l;for(S=0,O=w.zoomOut.length;S<O;S++)f[w.zoomOut[S]]=-l},_addHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Oe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var f=l.keyCode,w=this._map,S;if(f in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(S=this._panKeys[f],l.shiftKey&&(S=C(S).multiplyBy(3)),w.options.maxBounds&&(S=w._limitOffset(C(S),w.options.maxBounds)),w.options.worldCopyJump){var O=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(S)));w.panTo(O)}else w.panBy(S)}else if(f in this._zoomKeys)w.setZoom(w.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;gi(l)}}});fe.addInitHook("addHandler","keyboard",Ul),fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ys=Ui.extend({addHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Oe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var f=Co(l),w=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var S=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),S),gi(l)},_performZoom:function(){var l=this._map,f=l.getZoom(),w=this._map.options.zoomSnap||0;l._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,Y=w?Math.ceil(O/w)*w:O,rt=l._limitZoom(f+(this._delta>0?Y:-Y))-f;this._delta=0,this._startTime=null,rt&&(l.options.scrollWheelZoom==="center"?l.setZoom(f+rt):l.setZoomAround(this._lastMousePos,f+rt))}});fe.addInitHook("addHandler","scrollWheelZoom",Ys);var uh=600;fe.mergeOptions({tapHold:Ut.touchNative&&Ut.safari&&Ut.mobile,tapTolerance:15});var Ou=Ui.extend({addHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Oe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var f=l.touches[0];this._startPos=this._newPos=new nt(f.clientX,f.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Zt(document,"touchend",an),Zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),uh),Zt(document,"touchend touchcancel contextmenu",this._cancel,this),Zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Oe(document,"touchend",an),Oe(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Oe(document,"touchend touchcancel contextmenu",this._cancel,this),Oe(document,"touchmove",this._onMove,this)},_onMove:function(l){var f=l.touches[0];this._newPos=new nt(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,f){var w=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});w._simulated=!0,f.target.dispatchEvent(w)}});fe.addInitHook("addHandler","tapHold",Ou),fe.mergeOptions({touchZoom:Ut.touch,bounceAtZoomLimits:!0});var Vo=Ui.extend({addHooks:function(){ae(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){nn(this._map._container,"leaflet-touch-zoom"),Oe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var f=this._map;if(!(!l.touches||l.touches.length!==2||f._animatingZoom||this._zooming)){var w=f.mouseEventToContainerPoint(l.touches[0]),S=f.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(w.add(S)._divideBy(2))),this._startDist=w.distanceTo(S),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Zt(document,"touchmove",this._onTouchMove,this),Zt(document,"touchend touchcancel",this._onTouchEnd,this),an(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var f=this._map,w=f.mouseEventToContainerPoint(l.touches[0]),S=f.mouseEventToContainerPoint(l.touches[1]),O=w.distanceTo(S)/this._startDist;if(this._zoom=f.getScaleZoom(O,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&O<1||this._zoom>f.getMaxZoom()&&O>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var Y=w._add(S)._divideBy(2)._subtract(this._centerPoint);if(O===1&&Y.x===0&&Y.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(Y),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var rt=u(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=k(rt,this,!0),an(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,P(this._animRequest),Oe(document,"touchmove",this._onTouchMove,this),Oe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});fe.addInitHook("addHandler","touchZoom",Vo),fe.BoxZoom=Mu,fe.DoubleClickZoom=rs,fe.Drag=lh,fe.Keyboard=Ul,fe.ScrollWheelZoom=Ys,fe.TapHold=Ou,fe.TouchZoom=Vo,n.Bounds=at,n.Browser=Ut,n.CRS=Bt,n.Canvas=Nl,n.Circle=sh,n.CircleMarker=kl,n.Class=Z,n.Control=ui,n.DivIcon=ah,n.DivOverlay=Mr,n.DomEvent=Tu,n.DomUtil=Al,n.Draggable=kr,n.Evented=V,n.FeatureGroup=fn,n.GeoJSON=tr,n.GridLayer=Mo,n.Handler=Ui,n.Icon=ns,n.ImageOverlay=is,n.LatLng=ut,n.LatLngBounds=$,n.Layer=Qe,n.LayerGroup=yn,n.LineUtil=et,n.Map=fe,n.Marker=ma,n.Mixin=Po,n.Path=xs,n.Point=nt,n.PolyUtil=ha,n.Polygon=ga,n.Polyline=As,n.Popup=Ll,n.PosAnimation=Io,n.Projection=kt,n.Rectangle=Md,n.Renderer=Lr,n.SVG=$s,n.SVGOverlay=Zs,n.TileLayer=Oo,n.Tooltip=Du,n.Transformation=se,n.Util=D,n.VideoOverlay=ku,n.bind=u,n.bounds=lt,n.canvas=Vl,n.circle=Vg,n.circleMarker=Cd,n.control=yi,n.divIcon=Dd,n.extend=r,n.featureGroup=es,n.geoJSON=Pu,n.geoJson=Id,n.gridLayer=Or,n.icon=Ru,n.imageOverlay=_a,n.latLng=yt,n.latLngBounds=ht,n.layerGroup=Ss,n.map=Jr,n.marker=rh,n.point=C,n.polygon=Ji,n.polyline=zg,n.popup=Ug,n.rectangle=ir,n.setOptions=M,n.stamp=d,n.svg=No,n.svgOverlay=kd,n.tileLayer=er,n.tooltip=Bg,n.transformation=oe,n.version=i,n.videoOverlay=Pd;var ba=window.L;n.noConflict=function(){return window.L=ba,this},window.L=n}))})(uf,uf.exports)),uf.exports}var lg=CF();function Bw(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Fw(e,t){return t==null?function(i,r){const o=Q.useRef(void 0);return o.current||(o.current=e(i,r)),o}:function(i,r){const o=Q.useRef(void 0);o.current||(o.current=e(i,r));const u=Q.useRef(i),{instance:h}=o.current;return Q.useEffect(function(){u.current!==i&&(t(h,i,u.current),u.current=i)},[h,i,t]),o}}function IF(e,t){Q.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function sP(e){return function(n){const i=zw(),r=e(Uw(n,i),i);return iP(i.map,n.attribution),rP(r.current,n.eventHandlers),IF(r.current,i),r}}function PF(e,t){const n=Fw(e,t),i=sP(n);return EF(i)}function kF(e,t){const n=Fw(e),i=AF(n,t);return SF(i)}function DF(e,t){const n=Fw(e,t),i=sP(n);return xF(i)}function MF(e,t,n){const{opacity:i,zIndex:r}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),r!=null&&r!==n.zIndex&&e.setZIndex(r)}function oP(){return zw().map}function OF(e){const t=oP();return Q.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function LF({bounds:e,boundsOptions:t,center:n,children:i,className:r,id:o,placeholder:u,style:h,whenReady:d,zoom:m,...g},y){const[v]=Q.useState({className:r,id:o,style:h}),[T,R]=Q.useState(null),M=Q.useRef(void 0);Q.useImperativeHandle(y,()=>T?.map??null,[T]);const F=Q.useCallback(K=>{if(K!==null&&!M.current){const W=new lg.Map(K,g);M.current=W,n!=null&&m!=null?W.setView(n,m):e!=null&&W.fitBounds(e,t),d!=null&&W.whenReady(d),R(bF(W))}},[]);Q.useEffect(()=>()=>{T?.map.remove()},[T]);const N=T?Si.createElement(Vw,{value:T},i):u??null;return Si.createElement("div",{...v,ref:F},N)}const aP=Q.forwardRef(LF),lP=PF(function({position:t,...n},i){const r=new lg.Marker(t,n);return Bw(r,TF(i,{overlayContainer:r}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),NF=kF(function(t,n){const i=new lg.Popup(t,n.overlayContainer);return Bw(i,n)},function(t,n,{position:i},r){Q.useEffect(function(){const{instance:u}=t;function h(m){m.popup===u&&(u.update(),r(!0))}function d(m){m.popup===u&&r(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:h,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[t,n,r,i])}),uP=DF(function({url:t,...n},i){const r=new lg.TileLayer(t,Uw(n,i));return Bw(r,i)},function(t,n,i){MF(t,n,i);const{url:r}=n;r!=null&&r!==i.url&&t.setUrl(r)});var Y_={},Xh={},zp={},Up={},X_={exports:{}},Q_,lA;function VF(){if(lA)return Q_;lA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Q_=e,Q_}var J_,uA;function zF(){if(uA)return J_;uA=1;var e=VF();function t(){}function n(){}return n.resetWarningCache=t,J_=function(){function i(u,h,d,m,g,y){if(y!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function r(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},J_}var cA;function UF(){return cA||(cA=1,X_.exports=zF()()),X_.exports}var hA;function BF(){return hA||(hA=1,(function(e){(function(t,n){n(e,ml(),UF())})(Up,function(t,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=R;var r=u(n),o=u(i);function u(K){return K&&K.__esModule?K:{default:K}}var h=Object.assign||function(K){for(var W=1;W<arguments.length;W++){var tt=arguments[W];for(var X in tt)Object.prototype.hasOwnProperty.call(tt,X)&&(K[X]=tt[X])}return K};function d(K,W){var tt={};for(var X in K)W.indexOf(X)>=0||Object.prototype.hasOwnProperty.call(K,X)&&(tt[X]=K[X]);return tt}function m(K,W){if(!(K instanceof W))throw new TypeError("Cannot call a class as a function")}var g=(function(){function K(W,tt){for(var X=0;X<tt.length;X++){var z=tt[X];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(W,z.key,z)}}return function(W,tt,X){return tt&&K(W.prototype,tt),X&&K(W,X),W}})();function y(K,W){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:K}function v(K,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);K.prototype=Object.create(W&&W.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(K,W):K.__proto__=W)}var T=!1;function R(K){T=K}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){R(!0)}}))}catch{}function M(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?K:K.capture}function F(K){if("touches"in K){var W=K.touches[0],tt=W.pageX,X=W.pageY;return{x:tt,y:X}}var z=K.screenX,q=K.screenY;return{x:z,y:q}}var N=(function(K){v(W,K);function W(){var tt;m(this,W);for(var X=arguments.length,z=Array(X),q=0;q<X;q++)z[q]=arguments[q];var x=y(this,(tt=W.__proto__||Object.getPrototypeOf(W)).call.apply(tt,[this].concat(z)));return x._handleSwipeStart=x._handleSwipeStart.bind(x),x._handleSwipeMove=x._handleSwipeMove.bind(x),x._handleSwipeEnd=x._handleSwipeEnd.bind(x),x._onMouseDown=x._onMouseDown.bind(x),x._onMouseMove=x._onMouseMove.bind(x),x._onMouseUp=x._onMouseUp.bind(x),x._setSwiperRef=x._setSwiperRef.bind(x),x}return g(W,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,M({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,M({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(X){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(X))}},{key:"_onMouseMove",value:function(X){this.mouseDown&&this._handleSwipeMove(X)}},{key:"_onMouseUp",value:function(X){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(X)}},{key:"_handleSwipeStart",value:function(X){var z=F(X),q=z.x,x=z.y;this.moveStart={x:q,y:x},this.props.onSwipeStart(X)}},{key:"_handleSwipeMove",value:function(X){if(this.moveStart){var z=F(X),q=z.x,x=z.y,A=q-this.moveStart.x,U=x-this.moveStart.y;this.moving=!0;var k=this.props.onSwipeMove({x:A,y:U},X);k&&X.cancelable&&X.preventDefault(),this.movePosition={deltaX:A,deltaY:U}}}},{key:"_handleSwipeEnd",value:function(X){this.props.onSwipeEnd(X);var z=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-z?this.props.onSwipeLeft(1,X):this.movePosition.deltaX>z&&this.props.onSwipeRight(1,X),this.movePosition.deltaY<-z?this.props.onSwipeUp(1,X):this.movePosition.deltaY>z&&this.props.onSwipeDown(1,X)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(X){this.swiper=X,this.props.innerRef(X)}},{key:"render",value:function(){var X=this.props;X.tagName;var z=X.className,q=X.style,x=X.children;X.allowMouseEvents,X.onSwipeUp,X.onSwipeDown,X.onSwipeLeft,X.onSwipeRight,X.onSwipeStart,X.onSwipeMove,X.onSwipeEnd,X.innerRef,X.tolerance;var A=d(X,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return r.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:z,style:q},A),x)}}]),W})(n.Component);N.displayName="ReactSwipe",N.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},N.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=N})})(Up)),Up}var fA;function cP(){return fA||(fA=1,(function(e){(function(t,n){n(e,BF())})(zp,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}t.default=i.default})})(zp)),zp}var Qh={},tv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var dA;function FF(){return dA||(dA=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=r(o,i(h)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)t.call(o,h)&&o[h]&&(u=r(u,h));return u}function r(o,u){return u?o?o+" "+u:o+u:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(tv)),tv.exports}var pA;function hP(){if(pA)return Qh;pA=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.default=void 0;var e=t(FF());function t(r){return r&&r.__esModule?r:{default:r}}function n(r,o,u){return o in r?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,r}var i={ROOT:function(o){return(0,e.default)(n({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,e.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,e.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,e.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,e.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,e.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,e.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,e.default)({dot:!0,selected:o})}};return Qh.default=i,Qh}var Jh={},tf={},mA;function jF(){if(mA)return tf;mA=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.outerWidth=void 0;var e=function(n){var i=n.offsetWidth,r=getComputedStyle(n);return i+=parseInt(r.marginLeft)+parseInt(r.marginRight),i};return tf.outerWidth=e,tf}var ef={},gA;function jw(){if(gA)return ef;gA=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.default=void 0;var e=function(n,i,r){var o=n===0?n:n+i,u=r==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",d="("+u.join(",")+")";return h+d};return ef.default=e,ef}var nf={},yA;function fP(){if(yA)return nf;yA=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.default=void 0;var e=function(){return window};return nf.default=e,nf}var _A;function dP(){if(_A)return Jh;_A=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.default=void 0;var e=d(ml()),t=u(hP()),n=jF(),i=u(jw()),r=u(cP()),o=u(fP());function u(x){return x&&x.__esModule?x:{default:x}}function h(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return h=function(){return x},x}function d(x){if(x&&x.__esModule)return x;if(x===null||m(x)!=="object"&&typeof x!="function")return{default:x};var A=h();if(A&&A.has(x))return A.get(x);var U={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in x)if(Object.prototype.hasOwnProperty.call(x,P)){var D=k?Object.getOwnPropertyDescriptor(x,P):null;D&&(D.get||D.set)?Object.defineProperty(U,P,D):U[P]=x[P]}return U.default=x,A&&A.set(x,U),U}function m(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(U){return typeof U}:m=function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},m(x)}function g(){return g=Object.assign||function(x){for(var A=1;A<arguments.length;A++){var U=arguments[A];for(var k in U)Object.prototype.hasOwnProperty.call(U,k)&&(x[k]=U[k])}return x},g.apply(this,arguments)}function y(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function v(x,A){for(var U=0;U<A.length;U++){var k=A[U];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}function T(x,A,U){return A&&v(x.prototype,A),x}function R(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),A&&M(x,A)}function M(x,A){return M=Object.setPrototypeOf||function(k,P){return k.__proto__=P,k},M(x,A)}function F(x){var A=W();return function(){var k=tt(x),P;if(A){var D=tt(this).constructor;P=Reflect.construct(k,arguments,D)}else P=k.apply(this,arguments);return N(this,P)}}function N(x,A){return A&&(m(A)==="object"||typeof A=="function")?A:K(x)}function K(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function tt(x){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)},tt(x)}function X(x,A,U){return A in x?Object.defineProperty(x,A,{value:U,enumerable:!0,configurable:!0,writable:!0}):x[A]=U,x}var z=function(A){return A.hasOwnProperty("key")},q=(function(x){R(U,x);var A=F(U);function U(k){var P;return y(this,U),P=A.call(this,k),X(K(P),"itemsWrapperRef",void 0),X(K(P),"itemsListRef",void 0),X(K(P),"thumbsRef",void 0),X(K(P),"setItemsWrapperRef",function(D){P.itemsWrapperRef=D}),X(K(P),"setItemsListRef",function(D){P.itemsListRef=D}),X(K(P),"setThumbsRef",function(D,Z){P.thumbsRef||(P.thumbsRef=[]),P.thumbsRef[Z]=D}),X(K(P),"updateSizes",function(){if(!(!P.props.children||!P.itemsWrapperRef||!P.thumbsRef)){var D=e.Children.count(P.props.children),Z=P.itemsWrapperRef.clientWidth,G=P.props.thumbWidth?P.props.thumbWidth:(0,n.outerWidth)(P.thumbsRef[0]),B=Math.floor(Z/G),V=B<D,nt=V?D-B:0;P.setState(function(it,C){return{itemSize:G,visibleItems:B,firstItem:V?P.getFirstItem(C.selectedItem):0,lastPosition:nt,showArrows:V}})}}),X(K(P),"handleClickItem",function(D,Z,G){if(!z(G)||G.key==="Enter"){var B=P.props.onSelectItem;typeof B=="function"&&B(D,Z)}}),X(K(P),"onSwipeStart",function(){P.setState({swiping:!0})}),X(K(P),"onSwipeEnd",function(){P.setState({swiping:!1})}),X(K(P),"onSwipeMove",function(D){var Z=D.x;if(!P.state.itemSize||!P.itemsWrapperRef||!P.state.visibleItems)return!1;var G=0,B=e.Children.count(P.props.children),V=-(P.state.firstItem*100)/P.state.visibleItems,nt=Math.max(B-P.state.visibleItems,0),it=-nt*100/P.state.visibleItems;V===G&&Z>0&&(Z=0),V===it&&Z<0&&(Z=0);var C=P.itemsWrapperRef.clientWidth,at=V+100/(C/Z);return P.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(lt){P.itemsListRef.style[lt]=(0,i.default)(at,"%",P.props.axis)}),!0}),X(K(P),"slideRight",function(D){P.moveTo(P.state.firstItem-(typeof D=="number"?D:1))}),X(K(P),"slideLeft",function(D){P.moveTo(P.state.firstItem+(typeof D=="number"?D:1))}),X(K(P),"moveTo",function(D){D=D<0?0:D,D=D>=P.state.lastPosition?P.state.lastPosition:D,P.setState({firstItem:D})}),P.state={selectedItem:k.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},P}return T(U,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(P){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==P.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(P){var D=P;return P>=this.state.lastPosition&&(D=this.state.lastPosition),P<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),P<this.state.firstItem&&(D=P),D}},{key:"renderItems",value:function(){var P=this;return this.props.children.map(function(D,Z){var G=t.default.ITEM(!1,Z===P.state.selectedItem),B={key:Z,ref:function(nt){return P.setThumbsRef(nt,Z)},className:G,onClick:P.handleClickItem.bind(P,Z,P.props.children[Z]),onKeyDown:P.handleClickItem.bind(P,Z,P.props.children[Z]),"aria-label":"".concat(P.props.labels.item," ").concat(Z+1),style:{width:P.props.thumbWidth}};return e.default.createElement("li",g({},B,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var P=this;if(!this.props.children)return null;var D=e.Children.count(this.props.children)>1,Z=this.state.showArrows&&this.state.firstItem>0,G=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,B={},V=-this.state.firstItem*(this.state.itemSize||0),nt=(0,i.default)(V,"px",this.props.axis),it=this.props.transitionTime+"ms";return B={WebkitTransform:nt,MozTransform:nt,MsTransform:nt,OTransform:nt,transform:nt,msTransform:nt,WebkitTransitionDuration:it,MozTransitionDuration:it,MsTransitionDuration:it,OTransitionDuration:it,transitionDuration:it,msTransitionDuration:it},e.default.createElement("div",{className:t.default.CAROUSEL(!1)},e.default.createElement("div",{className:t.default.WRAPPER(!1),ref:this.setItemsWrapperRef},e.default.createElement("button",{type:"button",className:t.default.ARROW_PREV(!Z),onClick:function(){return P.slideRight()},"aria-label":this.props.labels.leftArrow}),D?e.default.createElement(r.default,{tagName:"ul",className:t.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:B,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):e.default.createElement("ul",{className:t.default.SLIDER(!1,this.state.swiping),ref:function(at){return P.setItemsListRef(at)},style:B},this.renderItems()),e.default.createElement("button",{type:"button",className:t.default.ARROW_NEXT(!G),onClick:function(){return P.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),U})(e.Component);return Jh.default=q,X(q,"displayName","Thumbs"),X(q,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Jh}var rf={},vA;function HF(){if(vA)return rf;vA=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.default=void 0;var e=function(){return document};return rf.default=e,rf}var Fr={},wA;function pP(){if(wA)return Fr;wA=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.setPosition=Fr.getPosition=Fr.isKeyboardEvent=Fr.defaultStatusFormatter=Fr.noop=void 0;var e=ml(),t=n(jw());function n(d){return d&&d.__esModule?d:{default:d}}var i=function(){};Fr.noop=i;var r=function(m,g){return"".concat(m," of ").concat(g)};Fr.defaultStatusFormatter=r;var o=function(m){return m?m.hasOwnProperty("key"):!1};Fr.isKeyboardEvent=o;var u=function(m,g){if(g.infiniteLoop&&++m,m===0)return 0;var y=e.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-m*g.centerSlidePercentage,T=y-1;return m&&(m!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:m===T&&(v+=100-g.centerSlidePercentage),v}return-m*100};Fr.getPosition=u;var h=function(m,g){var y={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){y[v]=(0,t.default)(m,"%",g)}),y};return Fr.setPosition=h,Fr}var ks={},bA;function qF(){if(bA)return ks;bA=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.fadeAnimationHandler=ks.slideStopSwipingHandler=ks.slideSwipeAnimationHandler=ks.slideAnimationHandler=void 0;var e=ml(),t=i(jw()),n=pP();function i(y){return y&&y.__esModule?y:{default:y}}function r(y,v){var T=Object.keys(y);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(y);v&&(R=R.filter(function(M){return Object.getOwnPropertyDescriptor(y,M).enumerable})),T.push.apply(T,R)}return T}function o(y){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?r(Object(T),!0).forEach(function(R){u(y,R,T[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(T)):r(Object(T)).forEach(function(R){Object.defineProperty(y,R,Object.getOwnPropertyDescriptor(T,R))})}return y}function u(y,v,T){return v in y?Object.defineProperty(y,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):y[v]=T,y}var h=function(v,T){var R={},M=T.selectedItem,F=M,N=e.Children.count(v.children)-1,K=v.infiniteLoop&&(M<0||M>N);if(K)return F<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?R.itemListStyle=(0,n.setPosition)(-(N+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):R.itemListStyle=(0,n.setPosition)(-(N+2)*100,v.axis):F>N&&(R.itemListStyle=(0,n.setPosition)(0,v.axis)),R;var W=(0,n.getPosition)(M,v),tt=(0,t.default)(W,"%",v.axis),X=v.transitionTime+"ms";return R.itemListStyle={WebkitTransform:tt,msTransform:tt,OTransform:tt,transform:tt},T.swiping||(R.itemListStyle=o(o({},R.itemListStyle),{},{WebkitTransitionDuration:X,MozTransitionDuration:X,OTransitionDuration:X,transitionDuration:X,msTransitionDuration:X})),R};ks.slideAnimationHandler=h;var d=function(v,T,R,M){var F={},N=T.axis==="horizontal",K=e.Children.count(T.children),W=0,tt=(0,n.getPosition)(R.selectedItem,T),X=T.infiniteLoop?(0,n.getPosition)(K-1,T)-100:(0,n.getPosition)(K-1,T),z=N?v.x:v.y,q=z;tt===W&&z>0&&(q=0),tt===X&&z<0&&(q=0);var x=tt+100/(R.itemSize/q),A=Math.abs(z)>T.swipeScrollTolerance;return T.infiniteLoop&&A&&(R.selectedItem===0&&x>-100?x-=K*100:R.selectedItem===K-1&&x<-K*100&&(x+=K*100)),(!T.preventMovementUntilSwipeScrollTolerance||A||R.swipeMovementStarted)&&(R.swipeMovementStarted||M({swipeMovementStarted:!0}),F.itemListStyle=(0,n.setPosition)(x,T.axis)),A&&!R.cancelClick&&M({cancelClick:!0}),F};ks.slideSwipeAnimationHandler=d;var m=function(v,T){var R=(0,n.getPosition)(T.selectedItem,v),M=(0,n.setPosition)(R,v.axis);return{itemListStyle:M}};ks.slideStopSwipingHandler=m;var g=function(v,T){var R=v.transitionTime+"ms",M="ease-in-out",F={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:M,msTransitionTimingFunction:M,MozTransitionTimingFunction:M,WebkitTransitionTimingFunction:M,OTransitionTimingFunction:M};return T.swiping||(F=o(o({},F),{},{WebkitTransitionDuration:R,MozTransitionDuration:R,OTransitionDuration:R,transitionDuration:R,msTransitionDuration:R})),{slideStyle:F,selectedStyle:o(o({},F),{},{opacity:1,position:"relative"}),prevStyle:o({},F)}};return ks.fadeAnimationHandler=g,ks}var TA;function GF(){if(TA)return Xh;TA=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.default=void 0;var e=g(ml()),t=d(cP()),n=d(hP()),i=d(dP()),r=d(HF()),o=d(fP()),u=pP(),h=qF();function d(k){return k&&k.__esModule?k:{default:k}}function m(){if(typeof WeakMap!="function")return null;var k=new WeakMap;return m=function(){return k},k}function g(k){if(k&&k.__esModule)return k;if(k===null||y(k)!=="object"&&typeof k!="function")return{default:k};var P=m();if(P&&P.has(k))return P.get(k);var D={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in k)if(Object.prototype.hasOwnProperty.call(k,G)){var B=Z?Object.getOwnPropertyDescriptor(k,G):null;B&&(B.get||B.set)?Object.defineProperty(D,G,B):D[G]=k[G]}return D.default=k,P&&P.set(k,D),D}function y(k){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(D){return typeof D}:y=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},y(k)}function v(){return v=Object.assign||function(k){for(var P=1;P<arguments.length;P++){var D=arguments[P];for(var Z in D)Object.prototype.hasOwnProperty.call(D,Z)&&(k[Z]=D[Z])}return k},v.apply(this,arguments)}function T(k,P){var D=Object.keys(k);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(k);P&&(Z=Z.filter(function(G){return Object.getOwnPropertyDescriptor(k,G).enumerable})),D.push.apply(D,Z)}return D}function R(k){for(var P=1;P<arguments.length;P++){var D=arguments[P]!=null?arguments[P]:{};P%2?T(Object(D),!0).forEach(function(Z){A(k,Z,D[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(D)):T(Object(D)).forEach(function(Z){Object.defineProperty(k,Z,Object.getOwnPropertyDescriptor(D,Z))})}return k}function M(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}function F(k,P){for(var D=0;D<P.length;D++){var Z=P[D];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(k,Z.key,Z)}}function N(k,P,D){return P&&F(k.prototype,P),k}function K(k,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),P&&W(k,P)}function W(k,P){return W=Object.setPrototypeOf||function(Z,G){return Z.__proto__=G,Z},W(k,P)}function tt(k){var P=q();return function(){var Z=x(k),G;if(P){var B=x(this).constructor;G=Reflect.construct(Z,arguments,B)}else G=Z.apply(this,arguments);return X(this,G)}}function X(k,P){return P&&(y(P)==="object"||typeof P=="function")?P:z(k)}function z(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function x(k){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},x(k)}function A(k,P,D){return P in k?Object.defineProperty(k,P,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[P]=D,k}var U=(function(k){K(D,k);var P=tt(D);function D(Z){var G;M(this,D),G=P.call(this,Z),A(z(G),"thumbsRef",void 0),A(z(G),"carouselWrapperRef",void 0),A(z(G),"listRef",void 0),A(z(G),"itemsRef",void 0),A(z(G),"timer",void 0),A(z(G),"animationHandler",void 0),A(z(G),"setThumbsRef",function(V){G.thumbsRef=V}),A(z(G),"setCarouselWrapperRef",function(V){G.carouselWrapperRef=V}),A(z(G),"setListRef",function(V){G.listRef=V}),A(z(G),"setItemsRef",function(V,nt){G.itemsRef||(G.itemsRef=[]),G.itemsRef[nt]=V}),A(z(G),"autoPlay",function(){e.Children.count(G.props.children)<=1||(G.clearAutoPlay(),G.props.autoPlay&&(G.timer=setTimeout(function(){G.increment()},G.props.interval)))}),A(z(G),"clearAutoPlay",function(){G.timer&&clearTimeout(G.timer)}),A(z(G),"resetAutoPlay",function(){G.clearAutoPlay(),G.autoPlay()}),A(z(G),"stopOnHover",function(){G.setState({isMouseEntered:!0},G.clearAutoPlay)}),A(z(G),"startOnLeave",function(){G.setState({isMouseEntered:!1},G.autoPlay)}),A(z(G),"isFocusWithinTheCarousel",function(){return G.carouselWrapperRef?!!((0,r.default)().activeElement===G.carouselWrapperRef||G.carouselWrapperRef.contains((0,r.default)().activeElement)):!1}),A(z(G),"navigateWithKeyboard",function(V){if(G.isFocusWithinTheCarousel()){var nt=G.props.axis,it=nt==="horizontal",C={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},at=it?C.ArrowRight:C.ArrowDown,lt=it?C.ArrowLeft:C.ArrowUp;at===V.keyCode?G.increment():lt===V.keyCode&&G.decrement()}}),A(z(G),"updateSizes",function(){if(!(!G.state.initialized||!G.itemsRef||G.itemsRef.length===0)){var V=G.props.axis==="horizontal",nt=G.itemsRef[0];if(nt){var it=V?nt.clientWidth:nt.clientHeight;G.setState({itemSize:it}),G.thumbsRef&&G.thumbsRef.updateSizes()}}}),A(z(G),"setMountState",function(){G.setState({hasMount:!0}),G.updateSizes()}),A(z(G),"handleClickItem",function(V,nt){if(e.Children.count(G.props.children)!==0){if(G.state.cancelClick){G.setState({cancelClick:!1});return}G.props.onClickItem(V,nt),V!==G.state.selectedItem&&G.setState({selectedItem:V})}}),A(z(G),"handleOnChange",function(V,nt){e.Children.count(G.props.children)<=1||G.props.onChange(V,nt)}),A(z(G),"handleClickThumb",function(V,nt){G.props.onClickThumb(V,nt),G.moveTo(V)}),A(z(G),"onSwipeStart",function(V){G.setState({swiping:!0}),G.props.onSwipeStart(V)}),A(z(G),"onSwipeEnd",function(V){G.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),G.props.onSwipeEnd(V),G.clearAutoPlay(),G.state.autoPlay&&G.autoPlay()}),A(z(G),"onSwipeMove",function(V,nt){G.props.onSwipeMove(nt);var it=G.props.swipeAnimationHandler(V,G.props,G.state,G.setState.bind(z(G)));return G.setState(R({},it)),!!Object.keys(it).length}),A(z(G),"decrement",function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;G.moveTo(G.state.selectedItem-(typeof V=="number"?V:1))}),A(z(G),"increment",function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;G.moveTo(G.state.selectedItem+(typeof V=="number"?V:1))}),A(z(G),"moveTo",function(V){if(typeof V=="number"){var nt=e.Children.count(G.props.children)-1;V<0&&(V=G.props.infiniteLoop?nt:0),V>nt&&(V=G.props.infiniteLoop?0:nt),G.selectItem({selectedItem:V}),G.state.autoPlay&&G.state.isMouseEntered===!1&&G.resetAutoPlay()}}),A(z(G),"onClickNext",function(){G.increment(1)}),A(z(G),"onClickPrev",function(){G.decrement(1)}),A(z(G),"onSwipeForward",function(){G.increment(1),G.props.emulateTouch&&G.setState({cancelClick:!0})}),A(z(G),"onSwipeBackwards",function(){G.decrement(1),G.props.emulateTouch&&G.setState({cancelClick:!0})}),A(z(G),"changeItem",function(V){return function(nt){(!(0,u.isKeyboardEvent)(nt)||nt.key==="Enter")&&G.moveTo(V)}}),A(z(G),"selectItem",function(V){G.setState(R({previousItem:G.state.selectedItem},V),function(){G.setState(G.animationHandler(G.props,G.state))}),G.handleOnChange(V.selectedItem,e.Children.toArray(G.props.children)[V.selectedItem])}),A(z(G),"getInitialImage",function(){var V=G.props.selectedItem,nt=G.itemsRef&&G.itemsRef[V],it=nt&&nt.getElementsByTagName("img")||[];return it[0]}),A(z(G),"getVariableItemHeight",function(V){var nt=G.itemsRef&&G.itemsRef[V];if(G.state.hasMount&&nt&&nt.children.length){var it=nt.children[0].getElementsByTagName("img")||[];if(it.length>0){var C=it[0];if(!C.complete){var at=function ht(){G.forceUpdate(),C.removeEventListener("load",ht)};C.addEventListener("load",at)}}var lt=it[0]||nt.children[0],$=lt.clientHeight;return $>0?$:null}return null});var B={initialized:!1,previousItem:Z.selectedItem,selectedItem:Z.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:Z.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return G.animationHandler=typeof Z.animationHandler=="function"&&Z.animationHandler||Z.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,G.state=R(R({},B),G.animationHandler(Z,B)),G}return N(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(G,B){!G.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!G.autoFocus&&this.props.autoFocus&&this.forceFocus(),B.swiping&&!this.state.swiping&&this.setState(R({},this.props.stopSwipingHandler(this.props,this.state))),(G.selectedItem!==this.props.selectedItem||G.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),G.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var G=this;this.bindEvents(),this.state.autoPlay&&e.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var B=G.getInitialImage();B&&!B.complete?B.addEventListener("load",G.setMountState):G.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var G=this.carouselWrapperRef;this.props.stopOnHover&&G&&(G.addEventListener("mouseenter",this.stopOnHover),G.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var G=this.carouselWrapperRef;this.props.stopOnHover&&G&&(G.removeEventListener("mouseenter",this.stopOnHover),G.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,r.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var G=this.getInitialImage();G&&G.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,r.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var G;(G=this.carouselWrapperRef)===null||G===void 0||G.focus()}},{key:"renderItems",value:function(G){var B=this;return this.props.children?e.Children.map(this.props.children,function(V,nt){var it=nt===B.state.selectedItem,C=nt===B.state.previousItem,at=it&&B.state.selectedStyle||C&&B.state.prevStyle||B.state.slideStyle||{};B.props.centerMode&&B.props.axis==="horizontal"&&(at=R(R({},at),{},{minWidth:B.props.centerSlidePercentage+"%"})),B.state.swiping&&B.state.swipeMovementStarted&&(at=R(R({},at),{},{pointerEvents:"none"}));var lt={ref:function(ht){return B.setItemsRef(ht,nt)},key:"itemKey"+nt+(G?"clone":""),className:n.default.ITEM(!0,nt===B.state.selectedItem,nt===B.state.previousItem),onClick:B.handleClickItem.bind(B,nt,V),style:at};return e.default.createElement("li",lt,B.props.renderItem(V,{isSelected:nt===B.state.selectedItem,isPrevious:nt===B.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var G=this,B=this.props,V=B.showIndicators,nt=B.labels,it=B.renderIndicator,C=B.children;return V?e.default.createElement("ul",{className:"control-dots"},e.Children.map(C,function(at,lt){return it&&it(G.changeItem(lt),lt===G.state.selectedItem,lt,nt.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?e.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,e.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||e.Children.count(this.props.children)===0?null:e.default.createElement(i.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var G=this;if(!this.props.children||e.Children.count(this.props.children)===0)return null;var B=this.props.swipeable&&e.Children.count(this.props.children)>1,V=this.props.axis==="horizontal",nt=this.props.showArrows&&e.Children.count(this.props.children)>1,it=nt&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,C=nt&&(this.state.selectedItem<e.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,at=this.renderItems(!0),lt=at.shift(),$=at.pop(),ht={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},ut={};if(V){if(ht.onSwipeLeft=this.onSwipeForward,ht.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var yt=this.getVariableItemHeight(this.state.selectedItem);ut.height=yt||"auto"}}else ht.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ht.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ht.style=R(R({},ht.style),{},{height:this.state.itemSize}),ut.height=this.state.itemSize;return e.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},e.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,it,this.props.labels.leftArrow),e.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:ut},B?e.default.createElement(t.default,v({tagName:"ul",innerRef:this.setListRef},ht,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&$,this.renderItems(),this.props.infiniteLoop&&lt):e.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(Mt){return G.setListRef(Mt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&$,this.renderItems(),this.props.infiniteLoop&&lt)),this.props.renderArrowNext(this.onClickNext,C,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D})(e.default.Component);return Xh.default=U,A(U,"displayName","Carousel"),A(U,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(P,D,Z){return e.default.createElement("button",{type:"button","aria-label":Z,className:n.default.ARROW_PREV(!D),onClick:P})},renderArrowNext:function(P,D,Z){return e.default.createElement("button",{type:"button","aria-label":Z,className:n.default.ARROW_NEXT(!D),onClick:P})},renderIndicator:function(P,D,Z,G){return e.default.createElement("li",{className:n.default.DOT(D),onClick:P,onKeyDown:P,value:Z,key:Z,role:"button",tabIndex:0,"aria-label":"".concat(G," ").concat(Z+1)})},renderItem:function(P){return P},renderThumbs:function(P){var D=e.Children.map(P,function(Z){var G=Z;if(Z.type!=="img"&&(G=e.Children.toArray(Z.props.children).find(function(B){return B.type==="img"})),!!G)return G});return D.filter(function(Z){return Z}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),Xh}var EA={},SA;function WF(){return SA||(SA=1),EA}var xA;function KF(){return xA||(xA=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return i.default}});var t=r(GF()),n=WF(),i=r(dP());function r(o){return o&&o.__esModule?o:{default:o}}})(Y_)),Y_}var ZF=KF();function $F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Q.useMemo(()=>i=>{t.forEach(r=>r(i))},t)}const ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gc(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Hw(e){return"nodeType"in e}function br(e){var t,n;return e?Gc(e)?e:Hw(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function qw(e){const{Document:t}=br(e);return e instanceof t}function pd(e){return Gc(e)?!1:e instanceof br(e).HTMLElement}function mP(e){return e instanceof br(e).SVGElement}function Wc(e){return e?Gc(e)?e.document:Hw(e)?qw(e)?e:pd(e)||mP(e)?e.ownerDocument:document:document:document}const vo=ug?Q.useLayoutEffect:Q.useEffect;function Gw(e){const t=Q.useRef(e);return vo(()=>{t.current=e}),Q.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.current==null?void 0:t.current(...i)},[])}function YF(){const e=Q.useRef(null),t=Q.useCallback((i,r)=>{e.current=setInterval(i,r)},[]),n=Q.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function qf(e,t){t===void 0&&(t=[e]);const n=Q.useRef(e);return vo(()=>{n.current!==e&&(n.current=e)},t),n}function md(e,t){const n=Q.useRef();return Q.useMemo(()=>{const i=e(n.current);return n.current=i,i},[...t])}function Sm(e){const t=Gw(e),n=Q.useRef(null),i=Q.useCallback(r=>{r!==n.current&&t?.(r,n.current),n.current=r},[]);return[n,i]}function e0(e){const t=Q.useRef();return Q.useEffect(()=>{t.current=e},[e]),t.current}let ev={};function gd(e,t){return Q.useMemo(()=>{if(t)return t;const n=ev[e]==null?0:ev[e]+1;return ev[e]=n,e+"-"+n},[e,t])}function gP(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce((o,u)=>{const h=Object.entries(u);for(const[d,m]of h){const g=o[d];g!=null&&(o[d]=g+e*m)}return o},{...t})}}const bc=gP(1),Gf=gP(-1);function XF(e){return"clientX"in e&&"clientY"in e}function Ww(e){if(!e)return!1;const{KeyboardEvent:t}=br(e.target);return t&&e instanceof t}function QF(e){if(!e)return!1;const{TouchEvent:t}=br(e.target);return t&&e instanceof t}function n0(e){if(QF(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return XF(e)?{x:e.clientX,y:e.clientY}:null}const Wf=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Wf.Translate.toString(e),Wf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:i}=e;return t+" "+n+"ms "+i}}}),AA="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function JF(e){return e.matches(AA)?e:e.querySelector(AA)}const tj={display:"none"};function ej(e){let{id:t,value:n}=e;return Si.createElement("div",{id:t,style:tj},n)}function nj(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Si.createElement("div",{id:t,style:r,role:"status","aria-live":i,"aria-atomic":!0},n)}function ij(){const[e,t]=Q.useState("");return{announce:Q.useCallback(i=>{i!=null&&t(i)},[]),announcement:e}}const yP=Q.createContext(null);function rj(e){const t=Q.useContext(yP);Q.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function sj(){const[e]=Q.useState(()=>new Set),t=Q.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[Q.useCallback(i=>{let{type:r,event:o}=i;e.forEach(u=>{var h;return(h=u[r])==null?void 0:h.call(u,o)})},[e]),t]}const oj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},aj={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function lj(e){let{announcements:t=aj,container:n,hiddenTextDescribedById:i,screenReaderInstructions:r=oj}=e;const{announce:o,announcement:u}=ij(),h=gd("DndLiveRegion"),[d,m]=Q.useState(!1);if(Q.useEffect(()=>{m(!0)},[]),rj(Q.useMemo(()=>({onDragStart(y){let{active:v}=y;o(t.onDragStart({active:v}))},onDragMove(y){let{active:v,over:T}=y;t.onDragMove&&o(t.onDragMove({active:v,over:T}))},onDragOver(y){let{active:v,over:T}=y;o(t.onDragOver({active:v,over:T}))},onDragEnd(y){let{active:v,over:T}=y;o(t.onDragEnd({active:v,over:T}))},onDragCancel(y){let{active:v,over:T}=y;o(t.onDragCancel({active:v,over:T}))}}),[o,t])),!d)return null;const g=Si.createElement(Si.Fragment,null,Si.createElement(ej,{id:i,value:r.draggable}),Si.createElement(nj,{id:h,announcement:u}));return n?uc.createPortal(g,n):g}var fi;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(fi||(fi={}));function xm(){}function RA(e,t){return Q.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function uj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Q.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const Vs=Object.freeze({x:0,y:0});function _P(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vP(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return n-i}function cj(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return i-n}function CA(e){let{left:t,top:n,height:i,width:r}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t,y:n+i},{x:t+r,y:n+i}]}function wP(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function IA(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const hj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const r=IA(t,t.left,t.top),o=[];for(const u of i){const{id:h}=u,d=n.get(h);if(d){const m=_P(IA(d),r);o.push({id:h,data:{droppableContainer:u,value:m}})}}return o.sort(vP)},fj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const r=CA(t),o=[];for(const u of i){const{id:h}=u,d=n.get(h);if(d){const m=CA(d),g=r.reduce((v,T,R)=>v+_P(m[R],T),0),y=Number((g/4).toFixed(4));o.push({id:h,data:{droppableContainer:u,value:y}})}}return o.sort(vP)};function dj(e,t){const n=Math.max(t.top,e.top),i=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),u=r-i,h=o-n;if(i<r&&n<o){const d=t.width*t.height,m=e.width*e.height,g=u*h,y=g/(d+m-g);return Number(y.toFixed(4))}return 0}const pj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const r=[];for(const o of i){const{id:u}=o,h=n.get(u);if(h){const d=dj(h,t);d>0&&r.push({id:u,data:{droppableContainer:o,value:d}})}}return r.sort(cj)};function mj(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function bP(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Vs}function gj(e){return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return r.reduce((u,h)=>({...u,top:u.top+e*h.y,bottom:u.bottom+e*h.y,left:u.left+e*h.x,right:u.right+e*h.x}),{...n})}}const yj=gj(1);function _j(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function vj(e,t,n){const i=_j(t);if(!i)return e;const{scaleX:r,scaleY:o,x:u,y:h}=i,d=e.left-u-(1-r)*parseFloat(n),m=e.top-h-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),g=r?e.width/r:e.width,y=o?e.height/o:e.height;return{width:g,height:y,top:m,right:d+g,bottom:m+y,left:d}}const wj={ignoreTransform:!1};function Kc(e,t){t===void 0&&(t=wj);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:g}=br(e).getComputedStyle(e);m&&(n=vj(n,m,g))}const{top:i,left:r,width:o,height:u,bottom:h,right:d}=n;return{top:i,left:r,width:o,height:u,bottom:h,right:d}}function PA(e){return Kc(e,{ignoreTransform:!0})}function bj(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Tj(e,t){return t===void 0&&(t=br(e).getComputedStyle(e)),t.position==="fixed"}function Ej(e,t){t===void 0&&(t=br(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const o=t[r];return typeof o=="string"?n.test(o):!1})}function cg(e,t){const n=[];function i(r){if(t!=null&&n.length>=t||!r)return n;if(qw(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!pd(r)||mP(r)||n.includes(r))return n;const o=br(e).getComputedStyle(r);return r!==e&&Ej(r,o)&&n.push(r),Tj(r,o)?n:i(r.parentNode)}return e?i(e):n}function TP(e){const[t]=cg(e,1);return t??null}function nv(e){return!ug||!e?null:Gc(e)?e:Hw(e)?qw(e)||e===Wc(e).scrollingElement?window:pd(e)?e:null:null}function EP(e){return Gc(e)?e.scrollX:e.scrollLeft}function SP(e){return Gc(e)?e.scrollY:e.scrollTop}function i0(e){return{x:EP(e),y:SP(e)}}var Ei;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ei||(Ei={}));function xP(e){return!ug||!e?!1:e===document.scrollingElement}function AP(e){const t={x:0,y:0},n=xP(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},r=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,u=e.scrollTop>=i.y,h=e.scrollLeft>=i.x;return{isTop:r,isLeft:o,isBottom:u,isRight:h,maxScroll:i,minScroll:t}}const Sj={x:.2,y:.2};function xj(e,t,n,i,r){let{top:o,left:u,right:h,bottom:d}=n;i===void 0&&(i=10),r===void 0&&(r=Sj);const{isTop:m,isBottom:g,isLeft:y,isRight:v}=AP(e),T={x:0,y:0},R={x:0,y:0},M={height:t.height*r.y,width:t.width*r.x};return!m&&o<=t.top+M.height?(T.y=Ei.Backward,R.y=i*Math.abs((t.top+M.height-o)/M.height)):!g&&d>=t.bottom-M.height&&(T.y=Ei.Forward,R.y=i*Math.abs((t.bottom-M.height-d)/M.height)),!v&&h>=t.right-M.width?(T.x=Ei.Forward,R.x=i*Math.abs((t.right-M.width-h)/M.width)):!y&&u<=t.left+M.width&&(T.x=Ei.Backward,R.x=i*Math.abs((t.left+M.width-u)/M.width)),{direction:T,speed:R}}function Aj(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:u}=window;return{top:0,left:0,right:o,bottom:u,width:o,height:u}}const{top:t,left:n,right:i,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:r,width:e.clientWidth,height:e.clientHeight}}function RP(e){return e.reduce((t,n)=>bc(t,i0(n)),Vs)}function Rj(e){return e.reduce((t,n)=>t+EP(n),0)}function Cj(e){return e.reduce((t,n)=>t+SP(n),0)}function Ij(e,t){if(t===void 0&&(t=Kc),!e)return;const{top:n,left:i,bottom:r,right:o}=t(e);TP(e)&&(r<=0||o<=0||n>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Pj=[["x",["left","right"],Rj],["y",["top","bottom"],Cj]];class Kw{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=cg(n),r=RP(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,u,h]of Pj)for(const d of u)Object.defineProperty(this,d,{get:()=>{const m=h(i),g=r[o]-m;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Af{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=t}add(t,n,i){var r;(r=this.target)==null||r.addEventListener(t,n,i),this.listeners.push([t,n,i])}}function kj(e){const{EventTarget:t}=br(e);return e instanceof t?e:Wc(e)}function iv(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t?i>t.y:!1}var hs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(hs||(hs={}));function kA(e){e.preventDefault()}function Dj(e){e.stopPropagation()}var De;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(De||(De={}));const CP={start:[De.Space,De.Enter],cancel:[De.Esc],end:[De.Space,De.Enter,De.Tab]},Mj=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case De.Right:return{...n,x:n.x+25};case De.Left:return{...n,x:n.x-25};case De.Down:return{...n,y:n.y+25};case De.Up:return{...n,y:n.y-25}}};class Zw{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Af(Wc(n)),this.windowListeners=new Af(br(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(hs.Resize,this.handleCancel),this.windowListeners.add(hs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(hs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,i=t.node.current;i&&Ij(i),n(Vs)}handleKeyDown(t){if(Ww(t)){const{active:n,context:i,options:r}=this.props,{keyboardCodes:o=CP,coordinateGetter:u=Mj,scrollBehavior:h="smooth"}=r,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:m}=i.current,g=m?{x:m.left,y:m.top}:Vs;this.referenceCoordinates||(this.referenceCoordinates=g);const y=u(t,{active:n,context:i.current,currentCoordinates:g});if(y){const v=Gf(y,g),T={x:0,y:0},{scrollableAncestors:R}=i.current;for(const M of R){const F=t.code,{isTop:N,isRight:K,isLeft:W,isBottom:tt,maxScroll:X,minScroll:z}=AP(M),q=Aj(M),x={x:Math.min(F===De.Right?q.right-q.width/2:q.right,Math.max(F===De.Right?q.left:q.left+q.width/2,y.x)),y:Math.min(F===De.Down?q.bottom-q.height/2:q.bottom,Math.max(F===De.Down?q.top:q.top+q.height/2,y.y))},A=F===De.Right&&!K||F===De.Left&&!W,U=F===De.Down&&!tt||F===De.Up&&!N;if(A&&x.x!==y.x){const k=M.scrollLeft+v.x,P=F===De.Right&&k<=X.x||F===De.Left&&k>=z.x;if(P&&!v.y){M.scrollTo({left:k,behavior:h});return}P?T.x=M.scrollLeft-k:T.x=F===De.Right?M.scrollLeft-X.x:M.scrollLeft-z.x,T.x&&M.scrollBy({left:-T.x,behavior:h});break}else if(U&&x.y!==y.y){const k=M.scrollTop+v.y,P=F===De.Down&&k<=X.y||F===De.Up&&k>=z.y;if(P&&!v.x){M.scrollTo({top:k,behavior:h});return}P?T.y=M.scrollTop-k:T.y=F===De.Down?M.scrollTop-X.y:M.scrollTop-z.y,T.y&&M.scrollBy({top:-T.y,behavior:h});break}}this.handleMove(t,bc(Gf(y,this.referenceCoordinates),T))}}}handleMove(t,n){const{onMove:i}=this.props;t.preventDefault(),i(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Zw.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:i=CP,onActivation:r}=t,{active:o}=n;const{code:u}=e.nativeEvent;if(i.start.includes(u)){const h=o.activatorNode.current;return h&&e.target!==h?!1:(e.preventDefault(),r?.({event:e.nativeEvent}),!0)}return!1}}];function DA(e){return!!(e&&"distance"in e)}function MA(e){return!!(e&&"delay"in e)}class $w{constructor(t,n,i){var r;i===void 0&&(i=kj(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:u}=o;this.props=t,this.events=n,this.document=Wc(u),this.documentListeners=new Af(this.document),this.listeners=new Af(i),this.windowListeners=new Af(br(u)),this.initialCoordinates=(r=n0(o))!=null?r:Vs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(hs.Resize,this.handleCancel),this.windowListeners.add(hs.DragStart,kA),this.windowListeners.add(hs.VisibilityChange,this.handleCancel),this.windowListeners.add(hs.ContextMenu,kA),this.documentListeners.add(hs.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(MA(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(DA(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:i,onPending:r}=this.props;r(i,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(hs.Click,Dj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(hs.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:i,initialCoordinates:r,props:o}=this,{onMove:u,options:{activationConstraint:h}}=o;if(!r)return;const d=(n=n0(t))!=null?n:Vs,m=Gf(r,d);if(!i&&h){if(DA(h)){if(h.tolerance!=null&&iv(m,h.tolerance))return this.handleCancel();if(iv(m,h.distance))return this.handleStart()}if(MA(h)&&iv(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}t.cancelable&&t.preventDefault(),u(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===De.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Oj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Yw extends $w{constructor(t){const{event:n}=t,i=Wc(n.target);super(t,Oj,i)}}Yw.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const Lj={move:{name:"mousemove"},end:{name:"mouseup"}};var r0;(function(e){e[e.RightClick=2]="RightClick"})(r0||(r0={}));class Nj extends $w{constructor(t){super(t,Lj,Wc(t.event.target))}}Nj.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return n.button===r0.RightClick?!1:(i?.({event:n}),!0)}}];const rv={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Vj extends $w{constructor(t){super(t,rv)}static setup(){return window.addEventListener(rv.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(rv.move.name,t)};function t(){}}}Vj.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;const{touches:r}=n;return r.length>1?!1:(i?.({event:n}),!0)}}];var Rf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Rf||(Rf={}));var Am;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Am||(Am={}));function zj(e){let{acceleration:t,activator:n=Rf.Pointer,canScroll:i,draggingRect:r,enabled:o,interval:u=5,order:h=Am.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:g,delta:y,threshold:v}=e;const T=Bj({delta:y,disabled:!o}),[R,M]=YF(),F=Q.useRef({x:0,y:0}),N=Q.useRef({x:0,y:0}),K=Q.useMemo(()=>{switch(n){case Rf.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Rf.DraggableRect:return r}},[n,r,d]),W=Q.useRef(null),tt=Q.useCallback(()=>{const z=W.current;if(!z)return;const q=F.current.x*N.current.x,x=F.current.y*N.current.y;z.scrollBy(q,x)},[]),X=Q.useMemo(()=>h===Am.TreeOrder?[...m].reverse():m,[h,m]);Q.useEffect(()=>{if(!o||!m.length||!K){M();return}for(const z of X){if(i?.(z)===!1)continue;const q=m.indexOf(z),x=g[q];if(!x)continue;const{direction:A,speed:U}=xj(z,x,K,t,v);for(const k of["x","y"])T[k][A[k]]||(U[k]=0,A[k]=0);if(U.x>0||U.y>0){M(),W.current=z,R(tt,u),F.current=U,N.current=A;return}}F.current={x:0,y:0},N.current={x:0,y:0},M()},[t,tt,i,M,o,u,JSON.stringify(K),JSON.stringify(T),R,m,X,g,JSON.stringify(v)])}const Uj={x:{[Ei.Backward]:!1,[Ei.Forward]:!1},y:{[Ei.Backward]:!1,[Ei.Forward]:!1}};function Bj(e){let{delta:t,disabled:n}=e;const i=e0(t);return md(r=>{if(n||!i||!r)return Uj;const o={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[Ei.Backward]:r.x[Ei.Backward]||o.x===-1,[Ei.Forward]:r.x[Ei.Forward]||o.x===1},y:{[Ei.Backward]:r.y[Ei.Backward]||o.y===-1,[Ei.Forward]:r.y[Ei.Forward]||o.y===1}}},[n,t,i])}function Fj(e,t){const n=t!=null?e.get(t):void 0,i=n?n.node.current:null;return md(r=>{var o;return t==null?null:(o=i??r)!=null?o:null},[i,t])}function jj(e,t){return Q.useMemo(()=>e.reduce((n,i)=>{const{sensor:r}=i,o=r.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,i)}));return[...n,...o]},[]),[e,t])}var Kf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Kf||(Kf={}));var s0;(function(e){e.Optimized="optimized"})(s0||(s0={}));const OA=new Map;function Hj(e,t){let{dragging:n,dependencies:i,config:r}=t;const[o,u]=Q.useState(null),{frequency:h,measure:d,strategy:m}=r,g=Q.useRef(e),y=F(),v=qf(y),T=Q.useCallback(function(N){N===void 0&&(N=[]),!v.current&&u(K=>K===null?N:K.concat(N.filter(W=>!K.includes(W))))},[v]),R=Q.useRef(null),M=md(N=>{if(y&&!n)return OA;if(!N||N===OA||g.current!==e||o!=null){const K=new Map;for(let W of e){if(!W)continue;if(o&&o.length>0&&!o.includes(W.id)&&W.rect.current){K.set(W.id,W.rect.current);continue}const tt=W.node.current,X=tt?new Kw(d(tt),tt):null;W.rect.current=X,X&&K.set(W.id,X)}return K}return N},[e,o,n,y,d]);return Q.useEffect(()=>{g.current=e},[e]),Q.useEffect(()=>{y||T()},[n,y]),Q.useEffect(()=>{o&&o.length>0&&u(null)},[JSON.stringify(o)]),Q.useEffect(()=>{y||typeof h!="number"||R.current!==null||(R.current=setTimeout(()=>{T(),R.current=null},h))},[h,y,T,...i]),{droppableRects:M,measureDroppableContainers:T,measuringScheduled:o!=null};function F(){switch(m){case Kf.Always:return!1;case Kf.BeforeDragging:return n;default:return!n}}}function IP(e,t){return md(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function qj(e,t){return IP(e,t)}function Gj(e){let{callback:t,disabled:n}=e;const i=Gw(t),r=Q.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,n]);return Q.useEffect(()=>()=>r?.disconnect(),[r]),r}function hg(e){let{callback:t,disabled:n}=e;const i=Gw(t),r=Q.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[n]);return Q.useEffect(()=>()=>r?.disconnect(),[r]),r}function Wj(e){return new Kw(Kc(e),e)}function LA(e,t,n){t===void 0&&(t=Wj);const[i,r]=Q.useState(null);function o(){r(d=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=d??n)!=null?m:null}const g=t(e);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const u=Gj({callback(d){if(e)for(const m of d){const{type:g,target:y}=m;if(g==="childList"&&y instanceof HTMLElement&&y.contains(e)){o();break}}}}),h=hg({callback:o});return vo(()=>{o(),e?(h?.observe(e),u?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),u?.disconnect())},[e]),i}function Kj(e){const t=IP(e);return bP(e,t)}const NA=[];function Zj(e){const t=Q.useRef(e),n=md(i=>e?i&&i!==NA&&e&&t.current&&e.parentNode===t.current.parentNode?i:cg(e):NA,[e]);return Q.useEffect(()=>{t.current=e},[e]),n}function $j(e){const[t,n]=Q.useState(null),i=Q.useRef(e),r=Q.useCallback(o=>{const u=nv(o.target);u&&n(h=>h?(h.set(u,i0(u)),new Map(h)):null)},[]);return Q.useEffect(()=>{const o=i.current;if(e!==o){u(o);const h=e.map(d=>{const m=nv(d);return m?(m.addEventListener("scroll",r,{passive:!0}),[m,i0(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),i.current=e}return()=>{u(e),u(o)};function u(h){h.forEach(d=>{const m=nv(d);m?.removeEventListener("scroll",r)})}},[r,e]),Q.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,u)=>bc(o,u),Vs):RP(e):Vs,[e,t])}function VA(e,t){t===void 0&&(t=[]);const n=Q.useRef(null);return Q.useEffect(()=>{n.current=null},t),Q.useEffect(()=>{const i=e!==Vs;i&&!n.current&&(n.current=e),!i&&n.current&&(n.current=null)},[e]),n.current?Gf(e,n.current):Vs}function Yj(e){Q.useEffect(()=>{if(!ug)return;const t=e.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function Xj(e,t){return Q.useMemo(()=>e.reduce((n,i)=>{let{eventName:r,handler:o}=i;return n[r]=u=>{o(u,t)},n},{}),[e,t])}function PP(e){return Q.useMemo(()=>e?bj(e):null,[e])}const zA=[];function Qj(e,t){t===void 0&&(t=Kc);const[n]=e,i=PP(n?br(n):null),[r,o]=Q.useState(zA);function u(){o(()=>e.length?e.map(d=>xP(d)?i:new Kw(t(d),d)):zA)}const h=hg({callback:u});return vo(()=>{h?.disconnect(),u(),e.forEach(d=>h?.observe(d))},[e]),r}function Jj(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return pd(t)?t:e}function t8(e){let{measure:t}=e;const[n,i]=Q.useState(null),r=Q.useCallback(m=>{for(const{target:g}of m)if(pd(g)){i(y=>{const v=t(g);return y?{...y,width:v.width,height:v.height}:v});break}},[t]),o=hg({callback:r}),u=Q.useCallback(m=>{const g=Jj(m);o?.disconnect(),g&&o?.observe(g),i(g?t(g):null)},[t,o]),[h,d]=Sm(u);return Q.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const e8=[{sensor:Yw,options:{}},{sensor:Zw,options:{}}],n8={current:{}},nm={draggable:{measure:PA},droppable:{measure:PA,strategy:Kf.WhileDragging,frequency:s0.Optimized},dragOverlay:{measure:Kc}};class Cf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,i;return(n=(i=this.get(t))==null?void 0:i.node.current)!=null?n:void 0}}const i8={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Cf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nm,measureDroppableContainers:xm,windowRect:null,measuringScheduled:!1},r8={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xm,draggableNodes:new Map,over:null,measureDroppableContainers:xm},fg=Q.createContext(r8),kP=Q.createContext(i8);function s8(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Cf}}}function o8(e,t){switch(t.type){case fi.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case fi.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case fi.DragEnd:case fi.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case fi.RegisterDroppable:{const{element:n}=t,{id:i}=n,r=new Cf(e.droppable.containers);return r.set(i,n),{...e,droppable:{...e.droppable,containers:r}}}case fi.SetDroppableDisabled:{const{id:n,key:i,disabled:r}=t,o=e.droppable.containers.get(n);if(!o||i!==o.key)return e;const u=new Cf(e.droppable.containers);return u.set(n,{...o,disabled:r}),{...e,droppable:{...e.droppable,containers:u}}}case fi.UnregisterDroppable:{const{id:n,key:i}=t,r=e.droppable.containers.get(n);if(!r||i!==r.key)return e;const o=new Cf(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function a8(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:r}=Q.useContext(fg),o=e0(i),u=e0(n?.id);return Q.useEffect(()=>{if(!t&&!i&&o&&u!=null){if(!Ww(o)||document.activeElement===o.target)return;const h=r.get(u);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[d.current,m.current]){if(!g)continue;const y=JF(g);if(y){y.focus();break}}})}},[i,t,r,u,o]),null}function l8(e,t){let{transform:n,...i}=t;return e!=null&&e.length?e.reduce((r,o)=>o({transform:r,...i}),n):n}function u8(e){return Q.useMemo(()=>({draggable:{...nm.draggable,...e?.draggable},droppable:{...nm.droppable,...e?.droppable},dragOverlay:{...nm.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function c8(e){let{activeNode:t,measure:n,initialRect:i,config:r=!0}=e;const o=Q.useRef(!1),{x:u,y:h}=typeof r=="boolean"?{x:r,y:r}:r;vo(()=>{if(!u&&!h||!t){o.current=!1;return}if(o.current||!i)return;const m=t?.node.current;if(!m||m.isConnected===!1)return;const g=n(m),y=bP(g,i);if(u||(y.x=0),h||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const v=TP(m);v&&v.scrollBy({top:y.y,left:y.x})}},[t,u,h,i,n])}const DP=Q.createContext({...Vs,scaleX:1,scaleY:1});var Ka;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ka||(Ka={}));const h8=Q.memo(function(t){var n,i,r,o;let{id:u,accessibility:h,autoScroll:d=!0,children:m,sensors:g=e8,collisionDetection:y=pj,measuring:v,modifiers:T,...R}=t;const M=Q.useReducer(o8,void 0,s8),[F,N]=M,[K,W]=sj(),[tt,X]=Q.useState(Ka.Uninitialized),z=tt===Ka.Initialized,{draggable:{active:q,nodes:x,translate:A},droppable:{containers:U}}=F,k=q!=null?x.get(q):null,P=Q.useRef({initial:null,translated:null}),D=Q.useMemo(()=>{var we;return q!=null?{id:q,data:(we=k?.data)!=null?we:n8,rect:P}:null},[q,k]),Z=Q.useRef(null),[G,B]=Q.useState(null),[V,nt]=Q.useState(null),it=qf(R,Object.values(R)),C=gd("DndDescribedBy",u),at=Q.useMemo(()=>U.getEnabled(),[U]),lt=u8(v),{droppableRects:$,measureDroppableContainers:ht,measuringScheduled:ut}=Hj(at,{dragging:z,dependencies:[A.x,A.y],config:lt.droppable}),yt=Fj(x,q),Bt=Q.useMemo(()=>V?n0(V):null,[V]),Mt=Ni(),Ht=qj(yt,lt.draggable.measure);c8({activeNode:q!=null?x.get(q):null,config:Mt.layoutShiftCompensation,initialRect:Ht,measure:lt.draggable.measure});const Ot=LA(yt,lt.draggable.measure,Ht),se=LA(yt?yt.parentElement:null),oe=Q.useRef({activatorEvent:null,active:null,activeNode:yt,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:x,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),on=U.getNodeFor((n=oe.current.over)==null?void 0:n.id),Be=t8({measure:lt.dragOverlay.measure}),he=(i=Be.nodeRef.current)!=null?i:yt,Me=z?(r=Be.rect)!=null?r:Ot:null,ne=!!(Be.nodeRef.current&&Be.rect),me=Kj(ne?null:Ot),Fe=PP(he?br(he):null),Ee=Zj(z?on??yt:null),ge=Qj(Ee),hn=l8(T,{transform:{x:A.x-me.x,y:A.y-me.y,scaleX:1,scaleY:1},activatorEvent:V,active:D,activeNodeRect:Ot,containerNodeRect:se,draggingNodeRect:Me,over:oe.current.over,overlayNodeRect:Be.rect,scrollableAncestors:Ee,scrollableAncestorRects:ge,windowRect:Fe}),ke=Bt?bc(Bt,A):null,ve=$j(Ee),Sn=VA(ve),_t=VA(ve,[Ot]),Et=bc(hn,Sn),Dt=Me?yj(Me,hn):null,Vt=D&&Dt?y({active:D,collisionRect:Dt,droppableRects:$,droppableContainers:at,pointerCoordinates:ke}):null,Kt=wP(Vt,"id"),[ye,Ve]=Q.useState(null),je=ne?hn:bc(hn,_t),Ke=mj(je,(o=ye?.rect)!=null?o:null,Ot),He=Q.useRef(null),tn=Q.useCallback((we,Ze)=>{let{sensor:ze,options:zn}=Ze;if(Z.current==null)return;const mn=x.get(Z.current);if(!mn)return;const $e=we.nativeEvent,en=new ze({active:Z.current,activeNode:mn,event:$e,options:zn,context:oe,onAbort(ue){if(!x.get(ue))return;const{onDragAbort:Ue}=it.current,Rn={id:ue};Ue?.(Rn),K({type:"onDragAbort",event:Rn})},onPending(ue,Ye,Ue,Rn){if(!x.get(ue))return;const{onDragPending:Ut}=it.current,Yn={id:ue,constraint:Ye,initialCoordinates:Ue,offset:Rn};Ut?.(Yn),K({type:"onDragPending",event:Yn})},onStart(ue){const Ye=Z.current;if(Ye==null)return;const Ue=x.get(Ye);if(!Ue)return;const{onDragStart:Rn}=it.current,Un={activatorEvent:$e,active:{id:Ye,data:Ue.data,rect:P}};uc.unstable_batchedUpdates(()=>{Rn?.(Un),X(Ka.Initializing),N({type:fi.DragStart,initialCoordinates:ue,active:Ye}),K({type:"onDragStart",event:Un}),B(He.current),nt($e)})},onMove(ue){N({type:fi.DragMove,coordinates:ue})},onEnd:Yi(fi.DragEnd),onCancel:Yi(fi.DragCancel)});He.current=en;function Yi(ue){return async function(){const{active:Ue,collisions:Rn,over:Un,scrollAdjustedTranslate:Ut}=oe.current;let Yn=null;if(Ue&&Ut){const{cancelDrop:Tr}=it.current;Yn={activatorEvent:$e,active:Ue,collisions:Rn,delta:Ut,over:Un},ue===fi.DragEnd&&typeof Tr=="function"&&await Promise.resolve(Tr(Yn))&&(ue=fi.DragCancel)}Z.current=null,uc.unstable_batchedUpdates(()=>{N({type:ue}),X(Ka.Uninitialized),Ve(null),B(null),nt(null),He.current=null;const Tr=ue===fi.DragEnd?"onDragEnd":"onDragCancel";if(Yn){const ar=it.current[Tr];ar?.(Yn),K({type:Tr,event:Yn})}})}}},[x]),xn=Q.useCallback((we,Ze)=>(ze,zn)=>{const mn=ze.nativeEvent,$e=x.get(zn);if(Z.current!==null||!$e||mn.dndKit||mn.defaultPrevented)return;const en={active:$e};we(ze,Ze.options,en)===!0&&(mn.dndKit={capturedBy:Ze.sensor},Z.current=zn,tn(ze,Ze))},[x,tn]),An=jj(g,xn);Yj(g),vo(()=>{Ot&&tt===Ka.Initializing&&X(Ka.Initialized)},[Ot,tt]),Q.useEffect(()=>{const{onDragMove:we}=it.current,{active:Ze,activatorEvent:ze,collisions:zn,over:mn}=oe.current;if(!Ze||!ze)return;const $e={active:Ze,activatorEvent:ze,collisions:zn,delta:{x:Et.x,y:Et.y},over:mn};uc.unstable_batchedUpdates(()=>{we?.($e),K({type:"onDragMove",event:$e})})},[Et.x,Et.y]),Q.useEffect(()=>{const{active:we,activatorEvent:Ze,collisions:ze,droppableContainers:zn,scrollAdjustedTranslate:mn}=oe.current;if(!we||Z.current==null||!Ze||!mn)return;const{onDragOver:$e}=it.current,en=zn.get(Kt),Yi=en&&en.rect.current?{id:en.id,rect:en.rect.current,data:en.data,disabled:en.disabled}:null,ue={active:we,activatorEvent:Ze,collisions:ze,delta:{x:mn.x,y:mn.y},over:Yi};uc.unstable_batchedUpdates(()=>{Ve(Yi),$e?.(ue),K({type:"onDragOver",event:ue})})},[Kt]),vo(()=>{oe.current={activatorEvent:V,active:D,activeNode:yt,collisionRect:Dt,collisions:Vt,droppableRects:$,draggableNodes:x,draggingNode:he,draggingNodeRect:Me,droppableContainers:U,over:ye,scrollableAncestors:Ee,scrollAdjustedTranslate:Et},P.current={initial:Me,translated:Dt}},[D,yt,Vt,Dt,x,he,Me,$,U,ye,Ee,Et]),zj({...Mt,delta:A,draggingRect:Dt,pointerCoordinates:ke,scrollableAncestors:Ee,scrollableAncestorRects:ge});const Wr=Q.useMemo(()=>({active:D,activeNode:yt,activeNodeRect:Ot,activatorEvent:V,collisions:Vt,containerNodeRect:se,dragOverlay:Be,draggableNodes:x,droppableContainers:U,droppableRects:$,over:ye,measureDroppableContainers:ht,scrollableAncestors:Ee,scrollableAncestorRects:ge,measuringConfiguration:lt,measuringScheduled:ut,windowRect:Fe}),[D,yt,Ot,V,Vt,se,Be,x,U,$,ye,ht,Ee,ge,lt,ut,Fe]),Li=Q.useMemo(()=>({activatorEvent:V,activators:An,active:D,activeNodeRect:Ot,ariaDescribedById:{draggable:C},dispatch:N,draggableNodes:x,over:ye,measureDroppableContainers:ht}),[V,An,D,Ot,N,C,x,ye,ht]);return Si.createElement(yP.Provider,{value:W},Si.createElement(fg.Provider,{value:Li},Si.createElement(kP.Provider,{value:Wr},Si.createElement(DP.Provider,{value:Ke},m)),Si.createElement(a8,{disabled:h?.restoreFocus===!1})),Si.createElement(lj,{...h,hiddenTextDescribedById:C}));function Ni(){const we=G?.autoScrollEnabled===!1,Ze=typeof d=="object"?d.enabled===!1:d===!1,ze=z&&!we&&!Ze;return typeof d=="object"?{...d,enabled:ze}:{enabled:ze}}}),f8=Q.createContext(null),UA="button",d8="Draggable";function p8(e){let{id:t,data:n,disabled:i=!1,attributes:r}=e;const o=gd(d8),{activators:u,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:g,draggableNodes:y,over:v}=Q.useContext(fg),{role:T=UA,roleDescription:R="draggable",tabIndex:M=0}=r??{},F=d?.id===t,N=Q.useContext(F?DP:f8),[K,W]=Sm(),[tt,X]=Sm(),z=Xj(u,t),q=qf(n);vo(()=>(y.set(t,{id:t,key:o,node:K,activatorNode:tt,data:q}),()=>{const A=y.get(t);A&&A.key===o&&y.delete(t)}),[y,t]);const x=Q.useMemo(()=>({role:T,tabIndex:M,"aria-disabled":i,"aria-pressed":F&&T===UA?!0:void 0,"aria-roledescription":R,"aria-describedby":g.draggable}),[i,T,M,F,R,g.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:x,isDragging:F,listeners:i?void 0:z,node:K,over:v,setNodeRef:W,setActivatorNodeRef:X,transform:N}}function m8(){return Q.useContext(kP)}const g8="Droppable",y8={timeout:25};function _8(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:r}=e;const o=gd(g8),{active:u,dispatch:h,over:d,measureDroppableContainers:m}=Q.useContext(fg),g=Q.useRef({disabled:n}),y=Q.useRef(!1),v=Q.useRef(null),T=Q.useRef(null),{disabled:R,updateMeasurementsFor:M,timeout:F}={...y8,...r},N=qf(M??i),K=Q.useCallback(()=>{if(!y.current){y.current=!0;return}T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{m(Array.isArray(N.current)?N.current:[N.current]),T.current=null},F)},[F]),W=hg({callback:K,disabled:R||!u}),tt=Q.useCallback((x,A)=>{W&&(A&&(W.unobserve(A),y.current=!1),x&&W.observe(x))},[W]),[X,z]=Sm(tt),q=qf(t);return Q.useEffect(()=>{!W||!X.current||(W.disconnect(),y.current=!1,W.observe(X.current))},[X,W]),Q.useEffect(()=>(h({type:fi.RegisterDroppable,element:{id:i,key:o,disabled:n,node:X,rect:v,data:q}}),()=>h({type:fi.UnregisterDroppable,key:o,id:i})),[i]),Q.useEffect(()=>{n!==g.current.disabled&&(h({type:fi.SetDroppableDisabled,id:i,key:o,disabled:n}),g.current.disabled=n)},[i,o,n,h]),{active:u,rect:v,isOver:d?.id===i,node:X,over:d,setNodeRef:z}}function Xw(e,t,n){const i=e.slice();return i.splice(n<0?i.length+n:n,0,i.splice(t,1)[0]),i}function v8(e,t){return e.reduce((n,i,r)=>{const o=t.get(i);return o&&(n[r]=o),n},Array(e.length))}function Bp(e){return e!==null&&e>=0}function w8(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function b8(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Qw=e=>{let{rects:t,activeIndex:n,overIndex:i,index:r}=e;const o=Xw(t,i,n),u=t[r],h=o[r];return!h||!u?null:{x:h.left-u.left,y:h.top-u.top,scaleX:h.width/u.width,scaleY:h.height/u.height}},MP="Sortable",OP=Si.createContext({activeIndex:-1,containerId:MP,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Qw,disabled:{draggable:!1,droppable:!1}});function T8(e){let{children:t,id:n,items:i,strategy:r=Qw,disabled:o=!1}=e;const{active:u,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:g}=m8(),y=gd(MP,n),v=h.rect!==null,T=Q.useMemo(()=>i.map(z=>typeof z=="object"&&"id"in z?z.id:z),[i]),R=u!=null,M=u?T.indexOf(u.id):-1,F=m?T.indexOf(m.id):-1,N=Q.useRef(T),K=!w8(T,N.current),W=F!==-1&&M===-1||K,tt=b8(o);vo(()=>{K&&R&&g(T)},[K,T,R,g]),Q.useEffect(()=>{N.current=T},[T]);const X=Q.useMemo(()=>({activeIndex:M,containerId:y,disabled:tt,disableTransforms:W,items:T,overIndex:F,useDragOverlay:v,sortedRects:v8(T,d),strategy:r}),[M,y,tt.draggable,tt.droppable,W,T,F,d,v,r]);return Si.createElement(OP.Provider,{value:X},t)}const E8=e=>{let{id:t,items:n,activeIndex:i,overIndex:r}=e;return Xw(n,i,r).indexOf(t)},S8=e=>{let{containerId:t,isSorting:n,wasDragging:i,index:r,items:o,newIndex:u,previousItems:h,previousContainerId:d,transition:m}=e;return!m||!i||h!==o&&r===u?!1:n?!0:u!==r&&t===d},x8={duration:200,easing:"ease"},LP="transform",A8=Wf.Transition.toString({property:LP,duration:0,easing:"linear"}),R8={roleDescription:"sortable"};function C8(e){let{disabled:t,index:n,node:i,rect:r}=e;const[o,u]=Q.useState(null),h=Q.useRef(n);return vo(()=>{if(!t&&n!==h.current&&i.current){const d=r.current;if(d){const m=Kc(i.current,{ignoreTransform:!0}),g={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(g.x||g.y)&&u(g)}}n!==h.current&&(h.current=n)},[t,n,i,r]),Q.useEffect(()=>{o&&u(null)},[o]),o}function I8(e){let{animateLayoutChanges:t=S8,attributes:n,disabled:i,data:r,getNewIndex:o=E8,id:u,strategy:h,resizeObserverConfig:d,transition:m=x8}=e;const{items:g,containerId:y,activeIndex:v,disabled:T,disableTransforms:R,sortedRects:M,overIndex:F,useDragOverlay:N,strategy:K}=Q.useContext(OP),W=P8(i,T),tt=g.indexOf(u),X=Q.useMemo(()=>({sortable:{containerId:y,index:tt,items:g},...r}),[y,r,tt,g]),z=Q.useMemo(()=>g.slice(g.indexOf(u)),[g,u]),{rect:q,node:x,isOver:A,setNodeRef:U}=_8({id:u,data:X,disabled:W.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...d}}),{active:k,activatorEvent:P,activeNodeRect:D,attributes:Z,setNodeRef:G,listeners:B,isDragging:V,over:nt,setActivatorNodeRef:it,transform:C}=p8({id:u,data:X,attributes:{...R8,...n},disabled:W.draggable}),at=$F(U,G),lt=!!k,$=lt&&!R&&Bp(v)&&Bp(F),ht=!N&&V,ut=ht&&$?C:null,Bt=$?ut??(h??K)({rects:M,activeNodeRect:D,activeIndex:v,overIndex:F,index:tt}):null,Mt=Bp(v)&&Bp(F)?o({id:u,items:g,activeIndex:v,overIndex:F}):tt,Ht=k?.id,Ot=Q.useRef({activeId:Ht,items:g,newIndex:Mt,containerId:y}),se=g!==Ot.current.items,oe=t({active:k,containerId:y,isDragging:V,isSorting:lt,id:u,index:tt,items:g,newIndex:Ot.current.newIndex,previousItems:Ot.current.items,previousContainerId:Ot.current.containerId,transition:m,wasDragging:Ot.current.activeId!=null}),on=C8({disabled:!oe,index:tt,node:x,rect:q});return Q.useEffect(()=>{lt&&Ot.current.newIndex!==Mt&&(Ot.current.newIndex=Mt),y!==Ot.current.containerId&&(Ot.current.containerId=y),g!==Ot.current.items&&(Ot.current.items=g)},[lt,Mt,y,g]),Q.useEffect(()=>{if(Ht===Ot.current.activeId)return;if(Ht!=null&&Ot.current.activeId==null){Ot.current.activeId=Ht;return}const he=setTimeout(()=>{Ot.current.activeId=Ht},50);return()=>clearTimeout(he)},[Ht]),{active:k,activeIndex:v,attributes:Z,data:X,rect:q,index:tt,newIndex:Mt,items:g,isOver:A,isSorting:lt,isDragging:V,listeners:B,node:x,overIndex:F,over:nt,setNodeRef:at,setActivatorNodeRef:it,setDroppableNodeRef:U,setDraggableNodeRef:G,transform:on??Bt,transition:Be()};function Be(){if(on||se&&Ot.current.newIndex===tt)return A8;if(!(ht&&!Ww(P)||!m)&&(lt||oe))return Wf.Transition.toString({...m,property:LP})}}function P8(e,t){var n,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(i=e?.droppable)!=null?i:t.droppable}}function Rm(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const k8=[De.Down,De.Right,De.Up,De.Left],D8=(e,t)=>{let{context:{active:n,collisionRect:i,droppableRects:r,droppableContainers:o,over:u,scrollableAncestors:h}}=t;if(k8.includes(e.code)){if(e.preventDefault(),!n||!i)return;const d=[];o.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const v=r.get(y.id);if(v)switch(e.code){case De.Down:i.top<v.top&&d.push(y);break;case De.Up:i.top>v.top&&d.push(y);break;case De.Left:i.left>v.left&&d.push(y);break;case De.Right:i.left<v.left&&d.push(y);break}});const m=fj({collisionRect:i,droppableRects:r,droppableContainers:d});let g=wP(m,"id");if(g===u?.id&&m.length>1&&(g=m[1].id),g!=null){const y=o.get(n.id),v=o.get(g),T=v?r.get(v.id):null,R=v?.node.current;if(R&&T&&y&&v){const F=cg(R).some((z,q)=>h[q]!==z),N=NP(y,v),K=M8(y,v),W=F||!N?{x:0,y:0}:{x:K?i.width-T.width:0,y:K?i.height-T.height:0},tt={x:T.left,y:T.top};return W.x&&W.y?tt:Gf(tt,W)}}}};function NP(e,t){return!Rm(e)||!Rm(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function M8(e,t){return!Rm(e)||!Rm(t)||!NP(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function O8(e,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(i){if(i!=="default"&&!(i in e)){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}}))})),Object.freeze(e)}function VP(e,t){return new Promise((function(n,i){let r;return L8(e).then((function(o){try{return r=o,n(new Blob([t.slice(0,2),r,t.slice(2)],{type:"image/jpeg"}))}catch(u){return i(u)}}),i)}))}const L8=e=>new Promise(((t,n)=>{const i=new FileReader;i.addEventListener("load",(({target:{result:r}})=>{const o=new DataView(r);let u=0;if(o.getUint16(u)!==65496)return n("not a valid JPEG");for(u+=2;;){const h=o.getUint16(u);if(h===65498)break;const d=o.getUint16(u+2);if(h===65505&&o.getUint32(u+4)===1165519206){const m=u+10;let g;switch(o.getUint16(m)){case 18761:g=!0;break;case 19789:g=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(m+2,g)!==42)return n("TIFF header contains invalid version");const y=o.getUint32(m+4,g),v=m+y+2+12*o.getUint16(m+y,g);for(let T=m+y+2;T<v;T+=12)if(o.getUint16(T,g)==274){if(o.getUint16(T+2,g)!==3)return n("Orientation data type is invalid");if(o.getUint32(T+4,g)!==1)return n("Orientation data count is invalid");o.setUint16(T+8,1,g);break}return t(r.slice(u,u+2+d))}u+=2+d}return t(new Blob)})),i.readAsArrayBuffer(e)}));var Cm={},N8={get exports(){return Cm},set exports(e){Cm=e}};(function(e){var t,n,i={};N8.exports=i,i.parse=function(r,o){for(var u=i.bin.readUshort,h=i.bin.readUint,d=0,m={},g=new Uint8Array(r),y=g.length-4;h(g,y)!=101010256;)y--;d=y,d+=4;var v=u(g,d+=4);u(g,d+=2);var T=h(g,d+=2),R=h(g,d+=4);d+=4,d=R;for(var M=0;M<v;M++){h(g,d),d+=4,d+=4,d+=4,h(g,d+=4),T=h(g,d+=4);var F=h(g,d+=4),N=u(g,d+=4),K=u(g,d+2),W=u(g,d+4);d+=6;var tt=h(g,d+=8);d+=4,d+=N+K+W,i._readLocal(g,tt,m,T,F,o)}return m},i._readLocal=function(r,o,u,h,d,m){var g=i.bin.readUshort,y=i.bin.readUint;y(r,o),g(r,o+=4),g(r,o+=2);var v=g(r,o+=2);y(r,o+=2),y(r,o+=4),o+=4;var T=g(r,o+=8),R=g(r,o+=2);o+=2;var M=i.bin.readUTF8(r,o,T);if(o+=T,o+=R,m)u[M]={size:d,csize:h};else{var F=new Uint8Array(r.buffer,o);if(v==0)u[M]=new Uint8Array(F.buffer.slice(o,o+h));else{if(v!=8)throw"unknown compression method: "+v;var N=new Uint8Array(d);i.inflateRaw(F,N),u[M]=N}}},i.inflateRaw=function(r,o){return i.F.inflate(r,o)},i.inflate=function(r,o){return r[0],r[1],i.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),o)},i.deflate=function(r,o){o==null&&(o={level:6});var u=0,h=new Uint8Array(50+Math.floor(1.1*r.length));h[u]=120,h[u+1]=156,u+=2,u=i.F.deflateRaw(r,h,u,o.level);var d=i.adler(r,0,r.length);return h[u+0]=d>>>24&255,h[u+1]=d>>>16&255,h[u+2]=d>>>8&255,h[u+3]=d>>>0&255,new Uint8Array(h.buffer,0,u+4)},i.deflateRaw=function(r,o){o==null&&(o={level:6});var u=new Uint8Array(50+Math.floor(1.1*r.length)),h=i.F.deflateRaw(r,u,h,o.level);return new Uint8Array(u.buffer,0,h)},i.encode=function(r,o){o==null&&(o=!1);var u=0,h=i.bin.writeUint,d=i.bin.writeUshort,m={};for(var g in r){var y=!i._noNeed(g)&&!o,v=r[g],T=i.crc.crc(v,0,v.length);m[g]={cpr:y,usize:v.length,crc:T,file:y?i.deflateRaw(v):v}}for(var g in m)u+=m[g].file.length+30+46+2*i.bin.sizeUTF8(g);u+=22;var R=new Uint8Array(u),M=0,F=[];for(var g in m){var N=m[g];F.push(M),M=i._writeHeader(R,M,g,N,0)}var K=0,W=M;for(var g in m)N=m[g],F.push(M),M=i._writeHeader(R,M,g,N,1,F[K++]);var tt=M-W;return h(R,M,101010256),M+=4,d(R,M+=4,K),d(R,M+=2,K),h(R,M+=2,tt),h(R,M+=4,W),M+=4,M+=2,R.buffer},i._noNeed=function(r){var o=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},i._writeHeader=function(r,o,u,h,d,m){var g=i.bin.writeUint,y=i.bin.writeUshort,v=h.file;return g(r,o,d==0?67324752:33639248),o+=4,d==1&&(o+=2),y(r,o,20),y(r,o+=2,0),y(r,o+=2,h.cpr?8:0),g(r,o+=2,0),g(r,o+=4,h.crc),g(r,o+=4,v.length),g(r,o+=4,h.usize),y(r,o+=4,i.bin.sizeUTF8(u)),y(r,o+=2,0),o+=2,d==1&&(o+=2,o+=2,g(r,o+=6,m),o+=4),o+=i.bin.writeUTF8(r,o,u),d==0&&(r.set(v,o),o+=v.length),o},i.crc={table:(function(){for(var r=new Uint32Array(256),o=0;o<256;o++){for(var u=o,h=0;h<8;h++)1&u?u=3988292384^u>>>1:u>>>=1;r[o]=u}return r})(),update:function(r,o,u,h){for(var d=0;d<h;d++)r=i.crc.table[255&(r^o[u+d])]^r>>>8;return r},crc:function(r,o,u){return 4294967295^i.crc.update(4294967295,r,o,u)}},i.adler=function(r,o,u){for(var h=1,d=0,m=o,g=o+u;m<g;){for(var y=Math.min(m+5552,g);m<y;)d+=h+=r[m++];h%=65521,d%=65521}return d<<16|h},i.bin={readUshort:function(r,o){return r[o]|r[o+1]<<8},writeUshort:function(r,o,u){r[o]=255&u,r[o+1]=u>>8&255},readUint:function(r,o){return 16777216*r[o+3]+(r[o+2]<<16|r[o+1]<<8|r[o])},writeUint:function(r,o,u){r[o]=255&u,r[o+1]=u>>8&255,r[o+2]=u>>16&255,r[o+3]=u>>24&255},readASCII:function(r,o,u){for(var h="",d=0;d<u;d++)h+=String.fromCharCode(r[o+d]);return h},writeASCII:function(r,o,u){for(var h=0;h<u.length;h++)r[o+h]=u.charCodeAt(h)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,o,u){for(var h,d="",m=0;m<u;m++)d+="%"+i.bin.pad(r[o+m].toString(16));try{h=decodeURIComponent(d)}catch{return i.bin.readASCII(r,o,u)}return h},writeUTF8:function(r,o,u){for(var h=u.length,d=0,m=0;m<h;m++){var g=u.charCodeAt(m);if((4294967168&g)==0)r[o+d]=g,d++;else if((4294965248&g)==0)r[o+d]=192|g>>6,r[o+d+1]=128|g>>0&63,d+=2;else if((4294901760&g)==0)r[o+d]=224|g>>12,r[o+d+1]=128|g>>6&63,r[o+d+2]=128|g>>0&63,d+=3;else{if((4292870144&g)!=0)throw"e";r[o+d]=240|g>>18,r[o+d+1]=128|g>>12&63,r[o+d+2]=128|g>>6&63,r[o+d+3]=128|g>>0&63,d+=4}}return d},sizeUTF8:function(r){for(var o=r.length,u=0,h=0;h<o;h++){var d=r.charCodeAt(h);if((4294967168&d)==0)u++;else if((4294965248&d)==0)u+=2;else if((4294901760&d)==0)u+=3;else{if((4292870144&d)!=0)throw"e";u+=4}}return u}},i.F={},i.F.deflateRaw=function(r,o,u,h){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][h],m=i.F.U,g=i.F._goodIndex;i.F._hash;var y=i.F._putsE,v=0,T=u<<3,R=0,M=r.length;if(h==0){for(;v<M;)y(o,T,v+(k=Math.min(65535,M-v))==M?1:0),T=i.F._copyExact(r,v,k,o,T+8),v+=k;return T>>>3}var F=m.lits,N=m.strt,K=m.prev,W=0,tt=0,X=0,z=0,q=0,x=0;for(M>2&&(N[x=i.F._hash(r,0)]=0),v=0;v<M;v++){if(q=x,v+1<M-2){x=i.F._hash(r,v+1);var A=v+1&32767;K[A]=N[x],N[x]=A}if(R<=v){(W>14e3||tt>26697)&&M-v>100&&(R<v&&(F[W]=v-R,W+=2,R=v),T=i.F._writeBlock(v==M-1||R==M?1:0,F,W,z,r,X,v-X,o,T),W=tt=z=0,X=v);var U=0;v<M-2&&(U=i.F._bestMatch(r,v,K,q,Math.min(d[2],M-v),d[3]));var k=U>>>16,P=65535&U;if(U!=0){P=65535&U;var D=g(k=U>>>16,m.of0);m.lhst[257+D]++;var Z=g(P,m.df0);m.dhst[Z]++,z+=m.exb[D]+m.dxb[Z],F[W]=k<<23|v-R,F[W+1]=P<<16|D<<8|Z,W+=2,R=v+k}else m.lhst[r[v]]++;tt++}}for(X==v&&r.length!=0||(R<v&&(F[W]=v-R,W+=2,R=v),T=i.F._writeBlock(1,F,W,z,r,X,v-X,o,T),W=0,tt=0,W=tt=z=0,X=v);(7&T)!=0;)T++;return T>>>3},i.F._bestMatch=function(r,o,u,h,d,m){var g=32767&o,y=u[g],v=g-y+32768&32767;if(y==g||h!=i.F._hash(r,o-v))return 0;for(var T=0,R=0,M=Math.min(32767,o);v<=M&&--m!=0&&y!=g;){if(T==0||r[o+T]==r[o+T-v]){var F=i.F._howLong(r,o,v);if(F>T){if(R=v,(T=F)>=d)break;v+2<F&&(F=v+2);for(var N=0,K=0;K<F-2;K++){var W=o-v+K+32768&32767,tt=W-u[W]+32768&32767;tt>N&&(N=tt,y=W)}}}v+=(g=y)-(y=u[g])+32768&32767}return T<<16|R},i.F._howLong=function(r,o,u){if(r[o]!=r[o-u]||r[o+1]!=r[o+1-u]||r[o+2]!=r[o+2-u])return 0;var h=o,d=Math.min(r.length,o+258);for(o+=3;o<d&&r[o]==r[o-u];)o++;return o-h},i.F._hash=function(r,o){return(r[o]<<8|r[o+1])+(r[o+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(r,o,u,h,d,m,g,y,v){var T,R,M,F,N,K,W,tt,X,z=i.F.U,q=i.F._putsF,x=i.F._putsE;z.lhst[256]++,R=(T=i.F.getTrees())[0],M=T[1],F=T[2],N=T[3],K=T[4],W=T[5],tt=T[6],X=T[7];var A=32+((v+3&7)==0?0:8-(v+3&7))+(g<<3),U=h+i.F.contSize(z.fltree,z.lhst)+i.F.contSize(z.fdtree,z.dhst),k=h+i.F.contSize(z.ltree,z.lhst)+i.F.contSize(z.dtree,z.dhst);k+=14+3*W+i.F.contSize(z.itree,z.ihst)+(2*z.ihst[16]+3*z.ihst[17]+7*z.ihst[18]);for(var P=0;P<286;P++)z.lhst[P]=0;for(P=0;P<30;P++)z.dhst[P]=0;for(P=0;P<19;P++)z.ihst[P]=0;var D=A<U&&A<k?0:U<k?1:2;if(q(y,v,r),q(y,v+1,D),v+=3,D==0){for(;(7&v)!=0;)v++;v=i.F._copyExact(d,m,g,y,v)}else{var Z,G;if(D==1&&(Z=z.fltree,G=z.fdtree),D==2){i.F.makeCodes(z.ltree,R),i.F.revCodes(z.ltree,R),i.F.makeCodes(z.dtree,M),i.F.revCodes(z.dtree,M),i.F.makeCodes(z.itree,F),i.F.revCodes(z.itree,F),Z=z.ltree,G=z.dtree,x(y,v,N-257),x(y,v+=5,K-1),x(y,v+=5,W-4),v+=4;for(var B=0;B<W;B++)x(y,v+3*B,z.itree[1+(z.ordr[B]<<1)]);v+=3*W,v=i.F._codeTiny(tt,z.itree,y,v),v=i.F._codeTiny(X,z.itree,y,v)}for(var V=m,nt=0;nt<u;nt+=2){for(var it=o[nt],C=it>>>23,at=V+(8388607&it);V<at;)v=i.F._writeLit(d[V++],Z,y,v);if(C!=0){var lt=o[nt+1],$=lt>>16,ht=lt>>8&255,ut=255&lt;x(y,v=i.F._writeLit(257+ht,Z,y,v),C-z.of0[ht]),v+=z.exb[ht],q(y,v=i.F._writeLit(ut,G,y,v),$-z.df0[ut]),v+=z.dxb[ut],V+=C}}v=i.F._writeLit(256,Z,y,v)}return v},i.F._copyExact=function(r,o,u,h,d){var m=d>>>3;return h[m]=u,h[m+1]=u>>>8,h[m+2]=255-h[m],h[m+3]=255-h[m+1],m+=4,h.set(new Uint8Array(r.buffer,o,u),m),d+(u+4<<3)},i.F.getTrees=function(){for(var r=i.F.U,o=i.F._hufTree(r.lhst,r.ltree,15),u=i.F._hufTree(r.dhst,r.dtree,15),h=[],d=i.F._lenCodes(r.ltree,h),m=[],g=i.F._lenCodes(r.dtree,m),y=0;y<h.length;y+=2)r.ihst[h[y]]++;for(y=0;y<m.length;y+=2)r.ihst[m[y]]++;for(var v=i.F._hufTree(r.ihst,r.itree,7),T=19;T>4&&r.itree[1+(r.ordr[T-1]<<1)]==0;)T--;return[o,u,v,d,g,T,h,m]},i.F.getSecond=function(r){for(var o=[],u=0;u<r.length;u+=2)o.push(r[u+1]);return o},i.F.nonZero=function(r){for(var o="",u=0;u<r.length;u+=2)r[u+1]!=0&&(o+=(u>>1)+",");return o},i.F.contSize=function(r,o){for(var u=0,h=0;h<o.length;h++)u+=o[h]*r[1+(h<<1)];return u},i.F._codeTiny=function(r,o,u,h){for(var d=0;d<r.length;d+=2){var m=r[d],g=r[d+1];h=i.F._writeLit(m,o,u,h);var y=m==16?2:m==17?3:7;m>15&&(i.F._putsE(u,h,g,y),h+=y)}return h},i.F._lenCodes=function(r,o){for(var u=r.length;u!=2&&r[u-1]==0;)u-=2;for(var h=0;h<u;h+=2){var d=r[h+1],m=h+3<u?r[h+3]:-1,g=h+5<u?r[h+5]:-1,y=h==0?-1:r[h-1];if(d==0&&m==d&&g==d){for(var v=h+5;v+2<u&&r[v+2]==d;)v+=2;(T=Math.min(v+1-h>>>1,138))<11?o.push(17,T-3):o.push(18,T-11),h+=2*T-2}else if(d==y&&m==d&&g==d){for(v=h+5;v+2<u&&r[v+2]==d;)v+=2;var T=Math.min(v+1-h>>>1,6);o.push(16,T-3),h+=2*T-2}else o.push(d,0)}return u>>>1},i.F._hufTree=function(r,o,u){var h=[],d=r.length,m=o.length,g=0;for(g=0;g<m;g+=2)o[g]=0,o[g+1]=0;for(g=0;g<d;g++)r[g]!=0&&h.push({lit:g,f:r[g]});var y=h.length,v=h.slice(0);if(y==0)return 0;if(y==1){var T=h[0].lit;return v=T==0?1:0,o[1+(T<<1)]=1,o[1+(v<<1)]=1,1}h.sort((function(tt,X){return tt.f-X.f}));var R=h[0],M=h[1],F=0,N=1,K=2;for(h[0]={lit:-1,f:R.f+M.f,l:R,r:M,d:0};N!=y-1;)R=F!=N&&(K==y||h[F].f<h[K].f)?h[F++]:h[K++],M=F!=N&&(K==y||h[F].f<h[K].f)?h[F++]:h[K++],h[N++]={lit:-1,f:R.f+M.f,l:R,r:M};var W=i.F.setDepth(h[N-1],0);for(W>u&&(i.F.restrictDepth(v,u,W),W=u),g=0;g<y;g++)o[1+(v[g].lit<<1)]=v[g].d;return W},i.F.setDepth=function(r,o){return r.lit!=-1?(r.d=o,o):Math.max(i.F.setDepth(r.l,o+1),i.F.setDepth(r.r,o+1))},i.F.restrictDepth=function(r,o,u){var h=0,d=1<<u-o,m=0;for(r.sort((function(y,v){return v.d==y.d?y.f-v.f:v.d-y.d})),h=0;h<r.length&&r[h].d>o;h++){var g=r[h].d;r[h].d=o,m+=d-(1<<u-g)}for(m>>>=u-o;m>0;)(g=r[h].d)<o?(r[h].d++,m-=1<<o-g-1):h++;for(;h>=0;h--)r[h].d==o&&m<0&&(r[h].d--,m++);m!=0&&console.log("debt left")},i.F._goodIndex=function(r,o){var u=0;return o[16|u]<=r&&(u|=16),o[8|u]<=r&&(u|=8),o[4|u]<=r&&(u|=4),o[2|u]<=r&&(u|=2),o[1|u]<=r&&(u|=1),u},i.F._writeLit=function(r,o,u,h){return i.F._putsF(u,h,o[r<<1]),h+o[1+(r<<1)]},i.F.inflate=function(r,o){var u=Uint8Array;if(r[0]==3&&r[1]==0)return o||new u(0);var h=i.F,d=h._bitsF,m=h._bitsE,g=h._decodeTiny,y=h.makeCodes,v=h.codes2map,T=h._get17,R=h.U,M=o==null;M&&(o=new u(r.length>>>2<<3));for(var F,N,K=0,W=0,tt=0,X=0,z=0,q=0,x=0,A=0,U=0;K==0;)if(K=d(r,U,1),W=d(r,U+1,2),U+=3,W!=0){if(M&&(o=i.F._check(o,A+(1<<17))),W==1&&(F=R.flmap,N=R.fdmap,q=511,x=31),W==2){tt=m(r,U,5)+257,X=m(r,U+5,5)+1,z=m(r,U+10,4)+4,U+=14;for(var k=0;k<38;k+=2)R.itree[k]=0,R.itree[k+1]=0;var P=1;for(k=0;k<z;k++){var D=m(r,U+3*k,3);R.itree[1+(R.ordr[k]<<1)]=D,D>P&&(P=D)}U+=3*z,y(R.itree,P),v(R.itree,P,R.imap),F=R.lmap,N=R.dmap,U=g(R.imap,(1<<P)-1,tt+X,r,U,R.ttree);var Z=h._copyOut(R.ttree,0,tt,R.ltree);q=(1<<Z)-1;var G=h._copyOut(R.ttree,tt,X,R.dtree);x=(1<<G)-1,y(R.ltree,Z),v(R.ltree,Z,F),y(R.dtree,G),v(R.dtree,G,N)}for(;;){var B=F[T(r,U)&q];U+=15&B;var V=B>>>4;if(!(V>>>8))o[A++]=V;else{if(V==256)break;var nt=A+V-254;if(V>264){var it=R.ldef[V-257];nt=A+(it>>>3)+m(r,U,7&it),U+=7&it}var C=N[T(r,U)&x];U+=15&C;var at=C>>>4,lt=R.ddef[at],$=(lt>>>4)+d(r,U,15&lt);for(U+=15&lt,M&&(o=i.F._check(o,A+(1<<17)));A<nt;)o[A]=o[A++-$],o[A]=o[A++-$],o[A]=o[A++-$],o[A]=o[A++-$];A=nt}}}else{(7&U)!=0&&(U+=8-(7&U));var ht=4+(U>>>3),ut=r[ht-4]|r[ht-3]<<8;M&&(o=i.F._check(o,A+ut)),o.set(new u(r.buffer,r.byteOffset+ht,ut),A),U=ht+ut<<3,A+=ut}return o.length==A?o:o.slice(0,A)},i.F._check=function(r,o){var u=r.length;if(o<=u)return r;var h=new Uint8Array(Math.max(u<<1,o));return h.set(r,0),h},i.F._decodeTiny=function(r,o,u,h,d,m){for(var g=i.F._bitsE,y=i.F._get17,v=0;v<u;){var T=r[y(h,d)&o];d+=15&T;var R=T>>>4;if(R<=15)m[v]=R,v++;else{var M=0,F=0;R==16?(F=3+g(h,d,2),d+=2,M=m[v-1]):R==17?(F=3+g(h,d,3),d+=3):R==18&&(F=11+g(h,d,7),d+=7);for(var N=v+F;v<N;)m[v]=M,v++}}return d},i.F._copyOut=function(r,o,u,h){for(var d=0,m=0,g=h.length>>>1;m<u;){var y=r[m+o];h[m<<1]=0,h[1+(m<<1)]=y,y>d&&(d=y),m++}for(;m<g;)h[m<<1]=0,h[1+(m<<1)]=0,m++;return d},i.F.makeCodes=function(r,o){for(var u,h,d,m,g=i.F.U,y=r.length,v=g.bl_count,T=0;T<=o;T++)v[T]=0;for(T=1;T<y;T+=2)v[r[T]]++;var R=g.next_code;for(u=0,v[0]=0,h=1;h<=o;h++)u=u+v[h-1]<<1,R[h]=u;for(d=0;d<y;d+=2)(m=r[d+1])!=0&&(r[d]=R[m],R[m]++)},i.F.codes2map=function(r,o,u){for(var h=r.length,d=i.F.U.rev15,m=0;m<h;m+=2)if(r[m+1]!=0)for(var g=m>>1,y=r[m+1],v=g<<4|y,T=o-y,R=r[m]<<T,M=R+(1<<T);R!=M;)u[d[R]>>>15-o]=v,R++},i.F.revCodes=function(r,o){for(var u=i.F.U.rev15,h=15-o,d=0;d<r.length;d+=2){var m=r[d]<<o-r[d+1];r[d]=u[m]>>>h}},i.F._putsE=function(r,o,u){u<<=7&o;var h=o>>>3;r[h]|=u,r[h+1]|=u>>>8},i.F._putsF=function(r,o,u){u<<=7&o;var h=o>>>3;r[h]|=u,r[h+1]|=u>>>8,r[h+2]|=u>>>16},i.F._bitsE=function(r,o,u){return(r[o>>>3]|r[1+(o>>>3)]<<8)>>>(7&o)&(1<<u)-1},i.F._bitsF=function(r,o,u){return(r[o>>>3]|r[1+(o>>>3)]<<8|r[2+(o>>>3)]<<16)>>>(7&o)&(1<<u)-1},i.F._get17=function(r,o){return(r[o>>>3]|r[1+(o>>>3)]<<8|r[2+(o>>>3)]<<16)>>>(7&o)},i.F._get25=function(r,o){return(r[o>>>3]|r[1+(o>>>3)]<<8|r[2+(o>>>3)]<<16|r[3+(o>>>3)]<<24)>>>(7&o)},i.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var r=i.F.U,o=0;o<32768;o++){var u=o;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,r.rev15[o]=(u>>>16|u<<16)>>>17}function h(d,m,g){for(;m--!=0;)d.push(0,g)}for(o=0;o<32;o++)r.ldef[o]=r.of0[o]<<3|r.exb[o],r.ddef[o]=r.df0[o]<<4|r.dxb[o];h(r.fltree,144,8),h(r.fltree,112,9),h(r.fltree,24,7),h(r.fltree,8,8),i.F.makeCodes(r.fltree,9),i.F.codes2map(r.fltree,9,r.flmap),i.F.revCodes(r.fltree,9),h(r.fdtree,32,5),i.F.makeCodes(r.fdtree,5),i.F.codes2map(r.fdtree,5,r.fdmap),i.F.revCodes(r.fdtree,5),h(r.itree,19,0),h(r.ltree,286,0),h(r.dtree,30,0),h(r.ttree,320,0)})()})();var V8=O8({__proto__:null,default:Cm},[Cm]);const Ds=(function(){var e={nextZero(g,y){for(;g[y]!=0;)y++;return y},readUshort:(g,y)=>g[y]<<8|g[y+1],writeUshort(g,y,v){g[y]=v>>8&255,g[y+1]=255&v},readUint:(g,y)=>16777216*g[y]+(g[y+1]<<16|g[y+2]<<8|g[y+3]),writeUint(g,y,v){g[y]=v>>24&255,g[y+1]=v>>16&255,g[y+2]=v>>8&255,g[y+3]=255&v},readASCII(g,y,v){let T="";for(let R=0;R<v;R++)T+=String.fromCharCode(g[y+R]);return T},writeASCII(g,y,v){for(let T=0;T<v.length;T++)g[y+T]=v.charCodeAt(T)},readBytes(g,y,v){const T=[];for(let R=0;R<v;R++)T.push(g[y+R]);return T},pad:g=>g.length<2?`0${g}`:g,readUTF8(g,y,v){let T,R="";for(let M=0;M<v;M++)R+=`%${e.pad(g[y+M].toString(16))}`;try{T=decodeURIComponent(R)}catch{return e.readASCII(g,y,v)}return T}};function t(g,y,v,T){const R=y*v,M=o(T),F=Math.ceil(y*M/8),N=new Uint8Array(4*R),K=new Uint32Array(N.buffer),{ctype:W}=T,{depth:tt}=T,X=e.readUshort;if(W==6){const it=R<<2;if(tt==8)for(var z=0;z<it;z+=4)N[z]=g[z],N[z+1]=g[z+1],N[z+2]=g[z+2],N[z+3]=g[z+3];if(tt==16)for(z=0;z<it;z++)N[z]=g[z<<1]}else if(W==2){const it=T.tabs.tRNS;if(it==null){if(tt==8)for(z=0;z<R;z++){var q=3*z;K[z]=255<<24|g[q+2]<<16|g[q+1]<<8|g[q]}if(tt==16)for(z=0;z<R;z++)q=6*z,K[z]=255<<24|g[q+4]<<16|g[q+2]<<8|g[q]}else{var x=it[0];const C=it[1],at=it[2];if(tt==8)for(z=0;z<R;z++){var A=z<<2;q=3*z,K[z]=255<<24|g[q+2]<<16|g[q+1]<<8|g[q],g[q]==x&&g[q+1]==C&&g[q+2]==at&&(N[A+3]=0)}if(tt==16)for(z=0;z<R;z++)A=z<<2,q=6*z,K[z]=255<<24|g[q+4]<<16|g[q+2]<<8|g[q],X(g,q)==x&&X(g,q+2)==C&&X(g,q+4)==at&&(N[A+3]=0)}}else if(W==3){const it=T.tabs.PLTE,C=T.tabs.tRNS,at=C?C.length:0;if(tt==1)for(var U=0;U<v;U++){var k=U*F,P=U*y;for(z=0;z<y;z++){A=P+z<<2;var D=3*(Z=g[k+(z>>3)]>>7-((7&z)<<0)&1);N[A]=it[D],N[A+1]=it[D+1],N[A+2]=it[D+2],N[A+3]=Z<at?C[Z]:255}}if(tt==2)for(U=0;U<v;U++)for(k=U*F,P=U*y,z=0;z<y;z++)A=P+z<<2,D=3*(Z=g[k+(z>>2)]>>6-((3&z)<<1)&3),N[A]=it[D],N[A+1]=it[D+1],N[A+2]=it[D+2],N[A+3]=Z<at?C[Z]:255;if(tt==4)for(U=0;U<v;U++)for(k=U*F,P=U*y,z=0;z<y;z++)A=P+z<<2,D=3*(Z=g[k+(z>>1)]>>4-((1&z)<<2)&15),N[A]=it[D],N[A+1]=it[D+1],N[A+2]=it[D+2],N[A+3]=Z<at?C[Z]:255;if(tt==8)for(z=0;z<R;z++){var Z;A=z<<2,D=3*(Z=g[z]),N[A]=it[D],N[A+1]=it[D+1],N[A+2]=it[D+2],N[A+3]=Z<at?C[Z]:255}}else if(W==4){if(tt==8)for(z=0;z<R;z++){A=z<<2;var G=g[B=z<<1];N[A]=G,N[A+1]=G,N[A+2]=G,N[A+3]=g[B+1]}if(tt==16)for(z=0;z<R;z++){var B;A=z<<2,G=g[B=z<<2],N[A]=G,N[A+1]=G,N[A+2]=G,N[A+3]=g[B+2]}}else if(W==0)for(x=T.tabs.tRNS?T.tabs.tRNS:-1,U=0;U<v;U++){const it=U*F,C=U*y;if(tt==1)for(var V=0;V<y;V++){var nt=(G=255*(g[it+(V>>>3)]>>>7-(7&V)&1))==255*x?0:255;K[C+V]=nt<<24|G<<16|G<<8|G}else if(tt==2)for(V=0;V<y;V++)nt=(G=85*(g[it+(V>>>2)]>>>6-((3&V)<<1)&3))==85*x?0:255,K[C+V]=nt<<24|G<<16|G<<8|G;else if(tt==4)for(V=0;V<y;V++)nt=(G=17*(g[it+(V>>>1)]>>>4-((1&V)<<2)&15))==17*x?0:255,K[C+V]=nt<<24|G<<16|G<<8|G;else if(tt==8)for(V=0;V<y;V++)nt=(G=g[it+V])==x?0:255,K[C+V]=nt<<24|G<<16|G<<8|G;else if(tt==16)for(V=0;V<y;V++)G=g[it+(V<<1)],nt=X(g,it+(V<<1))==x?0:255,K[C+V]=nt<<24|G<<16|G<<8|G}return N}function n(g,y,v,T){const R=o(g),M=Math.ceil(v*R/8),F=new Uint8Array((M+1+g.interlace)*T);return y=g.tabs.CgBI?r(y,F):i(y,F),g.interlace==0?y=u(y,g,0,v,T):g.interlace==1&&(y=(function(K,W){const tt=W.width,X=W.height,z=o(W),q=z>>3,x=Math.ceil(tt*z/8),A=new Uint8Array(X*x);let U=0;const k=[0,0,4,0,2,0,1],P=[0,4,0,2,0,1,0],D=[8,8,8,4,4,2,2],Z=[8,8,4,4,2,2,1];let G=0;for(;G<7;){const V=D[G],nt=Z[G];let it=0,C=0,at=k[G];for(;at<X;)at+=V,C++;let lt=P[G];for(;lt<tt;)lt+=nt,it++;const $=Math.ceil(it*z/8);u(K,W,U,it,C);let ht=0,ut=k[G];for(;ut<X;){let yt=P[G],Bt=U+ht*$<<3;for(;yt<tt;){var B;if(z==1&&(B=(B=K[Bt>>3])>>7-(7&Bt)&1,A[ut*x+(yt>>3)]|=B<<7-((7&yt)<<0)),z==2&&(B=(B=K[Bt>>3])>>6-(7&Bt)&3,A[ut*x+(yt>>2)]|=B<<6-((3&yt)<<1)),z==4&&(B=(B=K[Bt>>3])>>4-(7&Bt)&15,A[ut*x+(yt>>1)]|=B<<4-((1&yt)<<2)),z>=8){const Mt=ut*x+yt*q;for(let Ht=0;Ht<q;Ht++)A[Mt+Ht]=K[(Bt>>3)+Ht]}Bt+=z,yt+=nt}ht++,ut+=V}it*C!=0&&(U+=C*(1+$)),G+=1}return A})(y,g)),y}function i(g,y){return r(new Uint8Array(g.buffer,2,g.length-6),y)}var r=(function(){const g={H:{}};return g.H.N=function(y,v){const T=Uint8Array;let R,M,F=0,N=0,K=0,W=0,tt=0,X=0,z=0,q=0,x=0;if(y[0]==3&&y[1]==0)return v||new T(0);const A=g.H,U=A.b,k=A.e,P=A.R,D=A.n,Z=A.A,G=A.Z,B=A.m,V=v==null;for(V&&(v=new T(y.length>>>2<<5));F==0;)if(F=U(y,x,1),N=U(y,x+1,2),x+=3,N!=0){if(V&&(v=g.H.W(v,q+(1<<17))),N==1&&(R=B.J,M=B.h,X=511,z=31),N==2){K=k(y,x,5)+257,W=k(y,x+5,5)+1,tt=k(y,x+10,4)+4,x+=14;let it=1;for(var nt=0;nt<38;nt+=2)B.Q[nt]=0,B.Q[nt+1]=0;for(nt=0;nt<tt;nt++){const lt=k(y,x+3*nt,3);B.Q[1+(B.X[nt]<<1)]=lt,lt>it&&(it=lt)}x+=3*tt,D(B.Q,it),Z(B.Q,it,B.u),R=B.w,M=B.d,x=P(B.u,(1<<it)-1,K+W,y,x,B.v);const C=A.V(B.v,0,K,B.C);X=(1<<C)-1;const at=A.V(B.v,K,W,B.D);z=(1<<at)-1,D(B.C,C),Z(B.C,C,R),D(B.D,at),Z(B.D,at,M)}for(;;){const it=R[G(y,x)&X];x+=15&it;const C=it>>>4;if(!(C>>>8))v[q++]=C;else{if(C==256)break;{let at=q+C-254;if(C>264){const yt=B.q[C-257];at=q+(yt>>>3)+k(y,x,7&yt),x+=7&yt}const lt=M[G(y,x)&z];x+=15&lt;const $=lt>>>4,ht=B.c[$],ut=(ht>>>4)+U(y,x,15&ht);for(x+=15&ht;q<at;)v[q]=v[q++-ut],v[q]=v[q++-ut],v[q]=v[q++-ut],v[q]=v[q++-ut];q=at}}}}else{(7&x)!=0&&(x+=8-(7&x));const it=4+(x>>>3),C=y[it-4]|y[it-3]<<8;V&&(v=g.H.W(v,q+C)),v.set(new T(y.buffer,y.byteOffset+it,C),q),x=it+C<<3,q+=C}return v.length==q?v:v.slice(0,q)},g.H.W=function(y,v){const T=y.length;if(v<=T)return y;const R=new Uint8Array(T<<1);return R.set(y,0),R},g.H.R=function(y,v,T,R,M,F){const N=g.H.e,K=g.H.Z;let W=0;for(;W<T;){const tt=y[K(R,M)&v];M+=15&tt;const X=tt>>>4;if(X<=15)F[W]=X,W++;else{let z=0,q=0;X==16?(q=3+N(R,M,2),M+=2,z=F[W-1]):X==17?(q=3+N(R,M,3),M+=3):X==18&&(q=11+N(R,M,7),M+=7);const x=W+q;for(;W<x;)F[W]=z,W++}}return M},g.H.V=function(y,v,T,R){let M=0,F=0;const N=R.length>>>1;for(;F<T;){const K=y[F+v];R[F<<1]=0,R[1+(F<<1)]=K,K>M&&(M=K),F++}for(;F<N;)R[F<<1]=0,R[1+(F<<1)]=0,F++;return M},g.H.n=function(y,v){const T=g.H.m,R=y.length;let M,F,N,K;const W=T.j;for(var tt=0;tt<=v;tt++)W[tt]=0;for(tt=1;tt<R;tt+=2)W[y[tt]]++;const X=T.K;for(M=0,W[0]=0,F=1;F<=v;F++)M=M+W[F-1]<<1,X[F]=M;for(N=0;N<R;N+=2)K=y[N+1],K!=0&&(y[N]=X[K],X[K]++)},g.H.A=function(y,v,T){const R=y.length,M=g.H.m.r;for(let F=0;F<R;F+=2)if(y[F+1]!=0){const N=F>>1,K=y[F+1],W=N<<4|K,tt=v-K;let X=y[F]<<tt;const z=X+(1<<tt);for(;X!=z;)T[M[X]>>>15-v]=W,X++}},g.H.l=function(y,v){const T=g.H.m.r,R=15-v;for(let M=0;M<y.length;M+=2){const F=y[M]<<v-y[M+1];y[M]=T[F]>>>R}},g.H.M=function(y,v,T){T<<=7&v;const R=v>>>3;y[R]|=T,y[R+1]|=T>>>8},g.H.I=function(y,v,T){T<<=7&v;const R=v>>>3;y[R]|=T,y[R+1]|=T>>>8,y[R+2]|=T>>>16},g.H.e=function(y,v,T){return(y[v>>>3]|y[1+(v>>>3)]<<8)>>>(7&v)&(1<<T)-1},g.H.b=function(y,v,T){return(y[v>>>3]|y[1+(v>>>3)]<<8|y[2+(v>>>3)]<<16)>>>(7&v)&(1<<T)-1},g.H.Z=function(y,v){return(y[v>>>3]|y[1+(v>>>3)]<<8|y[2+(v>>>3)]<<16)>>>(7&v)},g.H.i=function(y,v){return(y[v>>>3]|y[1+(v>>>3)]<<8|y[2+(v>>>3)]<<16|y[3+(v>>>3)]<<24)>>>(7&v)},g.H.m=(function(){const y=Uint16Array,v=Uint32Array;return{K:new y(16),j:new y(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new y(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new v(32),J:new y(512),_:[],h:new y(32),$:[],w:new y(32768),C:[],v:[],d:new y(32768),D:[],u:new y(512),Q:[],r:new y(32768),s:new v(286),Y:new v(30),a:new v(19),t:new v(15e3),k:new y(65536),g:new y(32768)}})(),(function(){const y=g.H.m;for(var v=0;v<32768;v++){let R=v;R=(2863311530&R)>>>1|(1431655765&R)<<1,R=(3435973836&R)>>>2|(858993459&R)<<2,R=(4042322160&R)>>>4|(252645135&R)<<4,R=(4278255360&R)>>>8|(16711935&R)<<8,y.r[v]=(R>>>16|R<<16)>>>17}function T(R,M,F){for(;M--!=0;)R.push(0,F)}for(v=0;v<32;v++)y.q[v]=y.S[v]<<3|y.T[v],y.c[v]=y.p[v]<<4|y.z[v];T(y._,144,8),T(y._,112,9),T(y._,24,7),T(y._,8,8),g.H.n(y._,9),g.H.A(y._,9,y.J),g.H.l(y._,9),T(y.$,32,5),g.H.n(y.$,5),g.H.A(y.$,5,y.h),g.H.l(y.$,5),T(y.Q,19,0),T(y.C,286,0),T(y.D,30,0),T(y.v,320,0)})(),g.H.N})();function o(g){return[1,null,3,1,2,null,4][g.ctype]*g.depth}function u(g,y,v,T,R){let M=o(y);const F=Math.ceil(T*M/8);let N,K;M=Math.ceil(M/8);let W=g[v],tt=0;if(W>1&&(g[v]=[0,0,1][W-2]),W==3)for(tt=M;tt<F;tt++)g[tt+1]=g[tt+1]+(g[tt+1-M]>>>1)&255;for(let X=0;X<R;X++)if(N=v+X*F,K=N+X+1,W=g[K-1],tt=0,W==0)for(;tt<F;tt++)g[N+tt]=g[K+tt];else if(W==1){for(;tt<M;tt++)g[N+tt]=g[K+tt];for(;tt<F;tt++)g[N+tt]=g[K+tt]+g[N+tt-M]}else if(W==2)for(;tt<F;tt++)g[N+tt]=g[K+tt]+g[N+tt-F];else if(W==3){for(;tt<M;tt++)g[N+tt]=g[K+tt]+(g[N+tt-F]>>>1);for(;tt<F;tt++)g[N+tt]=g[K+tt]+(g[N+tt-F]+g[N+tt-M]>>>1)}else{for(;tt<M;tt++)g[N+tt]=g[K+tt]+h(0,g[N+tt-F],0);for(;tt<F;tt++)g[N+tt]=g[K+tt]+h(g[N+tt-M],g[N+tt-F],g[N+tt-M-F])}return g}function h(g,y,v){const T=g+y-v,R=T-g,M=T-y,F=T-v;return R*R<=M*M&&R*R<=F*F?g:M*M<=F*F?y:v}function d(g,y,v){v.width=e.readUint(g,y),y+=4,v.height=e.readUint(g,y),y+=4,v.depth=g[y],y++,v.ctype=g[y],y++,v.compress=g[y],y++,v.filter=g[y],y++,v.interlace=g[y],y++}function m(g,y,v,T,R,M,F,N,K){const W=Math.min(y,R),tt=Math.min(v,M);let X=0,z=0;for(let G=0;G<tt;G++)for(let B=0;B<W;B++)if(F>=0&&N>=0?(X=G*y+B<<2,z=(N+G)*R+F+B<<2):(X=(-N+G)*y-F+B<<2,z=G*R+B<<2),K==0)T[z]=g[X],T[z+1]=g[X+1],T[z+2]=g[X+2],T[z+3]=g[X+3];else if(K==1){var q=g[X+3]*.00392156862745098,x=g[X]*q,A=g[X+1]*q,U=g[X+2]*q,k=T[z+3]*(1/255),P=T[z]*k,D=T[z+1]*k,Z=T[z+2]*k;const V=1-q,nt=q+k*V,it=nt==0?0:1/nt;T[z+3]=255*nt,T[z+0]=(x+P*V)*it,T[z+1]=(A+D*V)*it,T[z+2]=(U+Z*V)*it}else if(K==2)q=g[X+3],x=g[X],A=g[X+1],U=g[X+2],k=T[z+3],P=T[z],D=T[z+1],Z=T[z+2],q==k&&x==P&&A==D&&U==Z?(T[z]=0,T[z+1]=0,T[z+2]=0,T[z+3]=0):(T[z]=x,T[z+1]=A,T[z+2]=U,T[z+3]=q);else if(K==3){if(q=g[X+3],x=g[X],A=g[X+1],U=g[X+2],k=T[z+3],P=T[z],D=T[z+1],Z=T[z+2],q==k&&x==P&&A==D&&U==Z)continue;if(q<220&&k>20)return!1}return!0}return{decode:function(y){const v=new Uint8Array(y);let T=8;const R=e,M=R.readUshort,F=R.readUint,N={tabs:{},frames:[]},K=new Uint8Array(v.length);let W,tt=0,X=0;const z=[137,80,78,71,13,10,26,10];for(var q=0;q<8;q++)if(v[q]!=z[q])throw"The input is not a PNG file!";for(;T<v.length;){const G=R.readUint(v,T);T+=4;const B=R.readASCII(v,T,4);if(T+=4,B=="IHDR")d(v,T,N);else if(B=="iCCP"){for(var x=T;v[x]!=0;)x++;R.readASCII(v,T,x-T),v[x+1];const V=v.slice(x+2,T+G);let nt=null;try{nt=i(V)}catch{nt=r(V)}N.tabs[B]=nt}else if(B=="CgBI")N.tabs[B]=v.slice(T,T+4);else if(B=="IDAT"){for(q=0;q<G;q++)K[tt+q]=v[T+q];tt+=G}else if(B=="acTL")N.tabs[B]={num_frames:F(v,T),num_plays:F(v,T+4)},W=new Uint8Array(v.length);else if(B=="fcTL"){X!=0&&((Z=N.frames[N.frames.length-1]).data=n(N,W.slice(0,X),Z.rect.width,Z.rect.height),X=0);const V={x:F(v,T+12),y:F(v,T+16),width:F(v,T+4),height:F(v,T+8)};let nt=M(v,T+22);nt=M(v,T+20)/(nt==0?100:nt);const it={rect:V,delay:Math.round(1e3*nt),dispose:v[T+24],blend:v[T+25]};N.frames.push(it)}else if(B=="fdAT"){for(q=0;q<G-4;q++)W[X+q]=v[T+q+4];X+=G-4}else if(B=="pHYs")N.tabs[B]=[R.readUint(v,T),R.readUint(v,T+4),v[T+8]];else if(B=="cHRM")for(N.tabs[B]=[],q=0;q<8;q++)N.tabs[B].push(R.readUint(v,T+4*q));else if(B=="tEXt"||B=="zTXt"){N.tabs[B]==null&&(N.tabs[B]={});var A=R.nextZero(v,T),U=R.readASCII(v,T,A-T),k=T+G-A-1;if(B=="tEXt")D=R.readASCII(v,A+1,k);else{var P=i(v.slice(A+2,A+2+k));D=R.readUTF8(P,0,P.length)}N.tabs[B][U]=D}else if(B=="iTXt"){N.tabs[B]==null&&(N.tabs[B]={}),A=0,x=T,A=R.nextZero(v,x),U=R.readASCII(v,x,A-x);const V=v[x=A+1];var D;v[x+1],x+=2,A=R.nextZero(v,x),R.readASCII(v,x,A-x),x=A+1,A=R.nextZero(v,x),R.readUTF8(v,x,A-x),k=G-((x=A+1)-T),V==0?D=R.readUTF8(v,x,k):(P=i(v.slice(x,x+k)),D=R.readUTF8(P,0,P.length)),N.tabs[B][U]=D}else if(B=="PLTE")N.tabs[B]=R.readBytes(v,T,G);else if(B=="hIST"){const V=N.tabs.PLTE.length/3;for(N.tabs[B]=[],q=0;q<V;q++)N.tabs[B].push(M(v,T+2*q))}else if(B=="tRNS")N.ctype==3?N.tabs[B]=R.readBytes(v,T,G):N.ctype==0?N.tabs[B]=M(v,T):N.ctype==2&&(N.tabs[B]=[M(v,T),M(v,T+2),M(v,T+4)]);else if(B=="gAMA")N.tabs[B]=R.readUint(v,T)/1e5;else if(B=="sRGB")N.tabs[B]=v[T];else if(B=="bKGD")N.ctype==0||N.ctype==4?N.tabs[B]=[M(v,T)]:N.ctype==2||N.ctype==6?N.tabs[B]=[M(v,T),M(v,T+2),M(v,T+4)]:N.ctype==3&&(N.tabs[B]=v[T]);else if(B=="IEND")break;T+=G,R.readUint(v,T),T+=4}var Z;return X!=0&&((Z=N.frames[N.frames.length-1]).data=n(N,W.slice(0,X),Z.rect.width,Z.rect.height)),N.data=n(N,K,N.width,N.height),delete N.compress,delete N.interlace,delete N.filter,N},toRGBA8:function(y){const v=y.width,T=y.height;if(y.tabs.acTL==null)return[t(y.data,v,T,y).buffer];const R=[];y.frames[0].data==null&&(y.frames[0].data=y.data);const M=v*T*4,F=new Uint8Array(M),N=new Uint8Array(M),K=new Uint8Array(M);for(let tt=0;tt<y.frames.length;tt++){const X=y.frames[tt],z=X.rect.x,q=X.rect.y,x=X.rect.width,A=X.rect.height,U=t(X.data,x,A,y);if(tt!=0)for(var W=0;W<M;W++)K[W]=F[W];if(X.blend==0?m(U,x,A,F,v,T,z,q,0):X.blend==1&&m(U,x,A,F,v,T,z,q,1),R.push(F.buffer.slice(0)),X.dispose!=0){if(X.dispose==1)m(N,x,A,F,v,T,z,q,0);else if(X.dispose==2)for(W=0;W<M;W++)F[W]=K[W]}}return R},_paeth:h,_copyTile:m,_bin:e}})();(function(){const{_copyTile:e}=Ds,{_bin:t}=Ds,n=Ds._paeth;var i={table:(function(){const x=new Uint32Array(256);for(let A=0;A<256;A++){let U=A;for(let k=0;k<8;k++)1&U?U=3988292384^U>>>1:U>>>=1;x[A]=U}return x})(),update(x,A,U,k){for(let P=0;P<k;P++)x=i.table[255&(x^A[U+P])]^x>>>8;return x},crc:(x,A,U)=>4294967295^i.update(4294967295,x,A,U)};function r(x,A,U,k){A[U]+=x[0]*k>>4,A[U+1]+=x[1]*k>>4,A[U+2]+=x[2]*k>>4,A[U+3]+=x[3]*k>>4}function o(x){return Math.max(0,Math.min(255,x))}function u(x,A){const U=x[0]-A[0],k=x[1]-A[1],P=x[2]-A[2],D=x[3]-A[3];return U*U+k*k+P*P+D*D}function h(x,A,U,k,P,D,Z){Z==null&&(Z=1);const G=k.length,B=[];for(var V=0;V<G;V++){const ut=k[V];B.push([ut>>>0&255,ut>>>8&255,ut>>>16&255,ut>>>24&255])}for(V=0;V<G;V++){let ut=4294967295;for(var nt=0,it=0;it<G;it++){var C=u(B[V],B[it]);it!=V&&C<ut&&(ut=C,nt=it)}}const at=new Uint32Array(P.buffer),lt=new Int16Array(A*U*4),$=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(V=0;V<$.length;V++)$[V]=255*(($[V]+.5)/16-.5);for(let ut=0;ut<U;ut++)for(let yt=0;yt<A;yt++){var ht;V=4*(ut*A+yt),Z!=2?ht=[o(x[V]+lt[V]),o(x[V+1]+lt[V+1]),o(x[V+2]+lt[V+2]),o(x[V+3]+lt[V+3])]:(C=$[4*(3&ut)+(3&yt)],ht=[o(x[V]+C),o(x[V+1]+C),o(x[V+2]+C),o(x[V+3]+C)]),nt=0;let Bt=16777215;for(it=0;it<G;it++){const Ot=u(ht,B[it]);Ot<Bt&&(Bt=Ot,nt=it)}const Mt=B[nt],Ht=[ht[0]-Mt[0],ht[1]-Mt[1],ht[2]-Mt[2],ht[3]-Mt[3]];Z==1&&(yt!=A-1&&r(Ht,lt,V+4,7),ut!=U-1&&(yt!=0&&r(Ht,lt,V+4*A-4,3),r(Ht,lt,V+4*A,5),yt!=A-1&&r(Ht,lt,V+4*A+4,1))),D[V>>2]=nt,at[V>>2]=k[nt]}}function d(x,A,U,k,P){P==null&&(P={});const{crc:D}=i,Z=t.writeUint,G=t.writeUshort,B=t.writeASCII;let V=8;const nt=x.frames.length>1;let it,C=!1,at=33+(nt?20:0);if(P.sRGB!=null&&(at+=13),P.pHYs!=null&&(at+=21),P.iCCP!=null&&(it=pako.deflate(P.iCCP),at+=21+it.length+4),x.ctype==3){for(var lt=x.plte.length,$=0;$<lt;$++)x.plte[$]>>>24!=255&&(C=!0);at+=8+3*lt+4+(C?8+1*lt+4:0)}for(var ht=0;ht<x.frames.length;ht++)nt&&(at+=38),at+=(Mt=x.frames[ht]).cimg.length+12,ht!=0&&(at+=4);at+=12;const ut=new Uint8Array(at),yt=[137,80,78,71,13,10,26,10];for($=0;$<8;$++)ut[$]=yt[$];if(Z(ut,V,13),V+=4,B(ut,V,"IHDR"),V+=4,Z(ut,V,A),V+=4,Z(ut,V,U),V+=4,ut[V]=x.depth,V++,ut[V]=x.ctype,V++,ut[V]=0,V++,ut[V]=0,V++,ut[V]=0,V++,Z(ut,V,D(ut,V-17,17)),V+=4,P.sRGB!=null&&(Z(ut,V,1),V+=4,B(ut,V,"sRGB"),V+=4,ut[V]=P.sRGB,V++,Z(ut,V,D(ut,V-5,5)),V+=4),P.iCCP!=null){const Ht=13+it.length;Z(ut,V,Ht),V+=4,B(ut,V,"iCCP"),V+=4,B(ut,V,"ICC profile"),V+=11,V+=2,ut.set(it,V),V+=it.length,Z(ut,V,D(ut,V-(Ht+4),Ht+4)),V+=4}if(P.pHYs!=null&&(Z(ut,V,9),V+=4,B(ut,V,"pHYs"),V+=4,Z(ut,V,P.pHYs[0]),V+=4,Z(ut,V,P.pHYs[1]),V+=4,ut[V]=P.pHYs[2],V++,Z(ut,V,D(ut,V-13,13)),V+=4),nt&&(Z(ut,V,8),V+=4,B(ut,V,"acTL"),V+=4,Z(ut,V,x.frames.length),V+=4,Z(ut,V,P.loop!=null?P.loop:0),V+=4,Z(ut,V,D(ut,V-12,12)),V+=4),x.ctype==3){for(Z(ut,V,3*(lt=x.plte.length)),V+=4,B(ut,V,"PLTE"),V+=4,$=0;$<lt;$++){const Ht=3*$,Ot=x.plte[$],se=255&Ot,oe=Ot>>>8&255,on=Ot>>>16&255;ut[V+Ht+0]=se,ut[V+Ht+1]=oe,ut[V+Ht+2]=on}if(V+=3*lt,Z(ut,V,D(ut,V-3*lt-4,3*lt+4)),V+=4,C){for(Z(ut,V,lt),V+=4,B(ut,V,"tRNS"),V+=4,$=0;$<lt;$++)ut[V+$]=x.plte[$]>>>24&255;V+=lt,Z(ut,V,D(ut,V-lt-4,lt+4)),V+=4}}let Bt=0;for(ht=0;ht<x.frames.length;ht++){var Mt=x.frames[ht];nt&&(Z(ut,V,26),V+=4,B(ut,V,"fcTL"),V+=4,Z(ut,V,Bt++),V+=4,Z(ut,V,Mt.rect.width),V+=4,Z(ut,V,Mt.rect.height),V+=4,Z(ut,V,Mt.rect.x),V+=4,Z(ut,V,Mt.rect.y),V+=4,G(ut,V,k[ht]),V+=2,G(ut,V,1e3),V+=2,ut[V]=Mt.dispose,V++,ut[V]=Mt.blend,V++,Z(ut,V,D(ut,V-30,30)),V+=4);const Ht=Mt.cimg;Z(ut,V,(lt=Ht.length)+(ht==0?0:4)),V+=4;const Ot=V;B(ut,V,ht==0?"IDAT":"fdAT"),V+=4,ht!=0&&(Z(ut,V,Bt++),V+=4),ut.set(Ht,V),V+=lt,Z(ut,V,D(ut,Ot,V-Ot)),V+=4}return Z(ut,V,0),V+=4,B(ut,V,"IEND"),V+=4,Z(ut,V,D(ut,V-4,4)),V+=4,ut.buffer}function m(x,A,U){for(let k=0;k<x.frames.length;k++){const P=x.frames[k];P.rect.width;const D=P.rect.height,Z=new Uint8Array(D*P.bpl+D);P.cimg=T(P.img,D,P.bpp,P.bpl,Z,A,U)}}function g(x,A,U,k,P){const D=P[0],Z=P[1],G=P[2],B=P[3],V=P[4],nt=P[5];let it=6,C=8,at=255;for(var lt=0;lt<x.length;lt++){const Me=new Uint8Array(x[lt]);for(var $=Me.length,ht=0;ht<$;ht+=4)at&=Me[ht+3]}const ut=at!=255,yt=(function(ne,me,Fe,Ee,ge,hn){const ke=[];for(var ve=0;ve<ne.length;ve++){const Kt=new Uint8Array(ne[ve]),ye=new Uint32Array(Kt.buffer);var Sn;let Ve=0,je=0,Ke=me,He=Fe,tn=Ee?1:0;if(ve!=0){const xn=hn||Ee||ve==1||ke[ve-2].dispose!=0?1:2;let An=0,Wr=1e9;for(let Li=0;Li<xn;Li++){var _t=new Uint8Array(ne[ve-1-Li]);const Ni=new Uint32Array(ne[ve-1-Li]);let we=me,Ze=Fe,ze=-1,zn=-1;for(let $e=0;$e<Fe;$e++)for(let en=0;en<me;en++)ye[Dt=$e*me+en]!=Ni[Dt]&&(en<we&&(we=en),en>ze&&(ze=en),$e<Ze&&(Ze=$e),$e>zn&&(zn=$e));ze==-1&&(we=Ze=ze=zn=0),ge&&((1&we)==1&&we--,(1&Ze)==1&&Ze--);const mn=(ze-we+1)*(zn-Ze+1);mn<Wr&&(Wr=mn,An=Li,Ve=we,je=Ze,Ke=ze-we+1,He=zn-Ze+1)}_t=new Uint8Array(ne[ve-1-An]),An==1&&(ke[ve-1].dispose=2),Sn=new Uint8Array(Ke*He*4),e(_t,me,Fe,Sn,Ke,He,-Ve,-je,0),tn=e(Kt,me,Fe,Sn,Ke,He,-Ve,-je,3)?1:0,tn==1?v(Kt,me,Fe,Sn,{x:Ve,y:je,width:Ke,height:He}):e(Kt,me,Fe,Sn,Ke,He,-Ve,-je,0)}else Sn=Kt.slice(0);ke.push({rect:{x:Ve,y:je,width:Ke,height:He},img:Sn,blend:tn,dispose:0})}if(Ee)for(ve=0;ve<ke.length;ve++){if((Vt=ke[ve]).blend==1)continue;const Kt=Vt.rect,ye=ke[ve-1].rect,Ve=Math.min(Kt.x,ye.x),je=Math.min(Kt.y,ye.y),Ke={x:Ve,y:je,width:Math.max(Kt.x+Kt.width,ye.x+ye.width)-Ve,height:Math.max(Kt.y+Kt.height,ye.y+ye.height)-je};ke[ve-1].dispose=1,ve-1!=0&&y(ne,me,Fe,ke,ve-1,Ke,ge),y(ne,me,Fe,ke,ve,Ke,ge)}let Et=0;if(ne.length!=1)for(var Dt=0;Dt<ke.length;Dt++){var Vt;Et+=(Vt=ke[Dt]).rect.width*Vt.rect.height}return ke})(x,A,U,D,Z,G),Bt={},Mt=[],Ht=[];if(k!=0){const Me=[];for(ht=0;ht<yt.length;ht++)Me.push(yt[ht].img.buffer);const ne=(function(ge){let hn=0;for(var ke=0;ke<ge.length;ke++)hn+=ge[ke].byteLength;const ve=new Uint8Array(hn);let Sn=0;for(ke=0;ke<ge.length;ke++){const _t=new Uint8Array(ge[ke]),Et=_t.length;for(let Dt=0;Dt<Et;Dt+=4){let Vt=_t[Dt],Kt=_t[Dt+1],ye=_t[Dt+2];const Ve=_t[Dt+3];Ve==0&&(Vt=Kt=ye=0),ve[Sn+Dt]=Vt,ve[Sn+Dt+1]=Kt,ve[Sn+Dt+2]=ye,ve[Sn+Dt+3]=Ve}Sn+=Et}return ve.buffer})(Me),me=M(ne,k);for(ht=0;ht<me.plte.length;ht++)Mt.push(me.plte[ht].est.rgba);let Fe=0;for(ht=0;ht<yt.length;ht++){const Ee=(se=yt[ht]).img.length;var Ot=new Uint8Array(me.inds.buffer,Fe>>2,Ee>>2);Ht.push(Ot);const ge=new Uint8Array(me.abuf,Fe,Ee);nt&&h(se.img,se.rect.width,se.rect.height,Mt,ge,Ot),se.img.set(ge),Fe+=Ee}}else for(lt=0;lt<yt.length;lt++){var se=yt[lt];const Me=new Uint32Array(se.img.buffer);var oe=se.rect.width;for($=Me.length,Ot=new Uint8Array($),Ht.push(Ot),ht=0;ht<$;ht++){const ne=Me[ht];if(ht!=0&&ne==Me[ht-1])Ot[ht]=Ot[ht-1];else if(ht>oe&&ne==Me[ht-oe])Ot[ht]=Ot[ht-oe];else{let me=Bt[ne];if(me==null&&(Bt[ne]=me=Mt.length,Mt.push(ne),Mt.length>=300))break;Ot[ht]=me}}}const on=Mt.length;for(on<=256&&V==0&&(C=on<=2?1:on<=4?2:on<=16?4:8,C=Math.max(C,B)),lt=0;lt<yt.length;lt++){(se=yt[lt]).rect.x,se.rect.y,oe=se.rect.width;const Me=se.rect.height;let ne=se.img;new Uint32Array(ne.buffer);let me=4*oe,Fe=4;if(on<=256&&V==0){me=Math.ceil(C*oe/8);var Be=new Uint8Array(me*Me);const Ee=Ht[lt];for(let ge=0;ge<Me;ge++){ht=ge*me;const hn=ge*oe;if(C==8)for(var he=0;he<oe;he++)Be[ht+he]=Ee[hn+he];else if(C==4)for(he=0;he<oe;he++)Be[ht+(he>>1)]|=Ee[hn+he]<<4-4*(1&he);else if(C==2)for(he=0;he<oe;he++)Be[ht+(he>>2)]|=Ee[hn+he]<<6-2*(3&he);else if(C==1)for(he=0;he<oe;he++)Be[ht+(he>>3)]|=Ee[hn+he]<<7-1*(7&he)}ne=Be,it=3,Fe=1}else if(ut==0&&yt.length==1){Be=new Uint8Array(oe*Me*3);const Ee=oe*Me;for(ht=0;ht<Ee;ht++){const ge=3*ht,hn=4*ht;Be[ge]=ne[hn],Be[ge+1]=ne[hn+1],Be[ge+2]=ne[hn+2]}ne=Be,it=2,Fe=3,me=3*oe}se.img=ne,se.bpl=me,se.bpp=Fe}return{ctype:it,depth:C,plte:Mt,frames:yt}}function y(x,A,U,k,P,D,Z){const G=Uint8Array,B=Uint32Array,V=new G(x[P-1]),nt=new B(x[P-1]),it=P+1<x.length?new G(x[P+1]):null,C=new G(x[P]),at=new B(C.buffer);let lt=A,$=U,ht=-1,ut=-1;for(let Bt=0;Bt<D.height;Bt++)for(let Mt=0;Mt<D.width;Mt++){const Ht=D.x+Mt,Ot=D.y+Bt,se=Ot*A+Ht,oe=at[se];oe==0||k[P-1].dispose==0&&nt[se]==oe&&(it==null||it[4*se+3]!=0)||(Ht<lt&&(lt=Ht),Ht>ht&&(ht=Ht),Ot<$&&($=Ot),Ot>ut&&(ut=Ot))}ht==-1&&(lt=$=ht=ut=0),Z&&((1&lt)==1&&lt--,(1&$)==1&&$--),D={x:lt,y:$,width:ht-lt+1,height:ut-$+1};const yt=k[P];yt.rect=D,yt.blend=1,yt.img=new Uint8Array(D.width*D.height*4),k[P-1].dispose==0?(e(V,A,U,yt.img,D.width,D.height,-D.x,-D.y,0),v(C,A,U,yt.img,D)):e(C,A,U,yt.img,D.width,D.height,-D.x,-D.y,0)}function v(x,A,U,k,P){e(x,A,U,k,P.width,P.height,-P.x,-P.y,2)}function T(x,A,U,k,P,D,Z){const G=[];let B,V=[0,1,2,3,4];D!=-1?V=[D]:(A*k>5e5||U==1)&&(V=[0]),Z&&(B={level:0});const nt=V8;for(var it=0;it<V.length;it++){for(let lt=0;lt<A;lt++)R(P,x,lt,k,U,V[it]);G.push(nt.deflate(P,B))}let C,at=1e9;for(it=0;it<G.length;it++)G[it].length<at&&(C=it,at=G[it].length);return G[C]}function R(x,A,U,k,P,D){const Z=U*k;let G=Z+U;if(x[G]=D,G++,D==0)if(k<500)for(var B=0;B<k;B++)x[G+B]=A[Z+B];else x.set(new Uint8Array(A.buffer,Z,k),G);else if(D==1){for(B=0;B<P;B++)x[G+B]=A[Z+B];for(B=P;B<k;B++)x[G+B]=A[Z+B]-A[Z+B-P]+256&255}else if(U==0){for(B=0;B<P;B++)x[G+B]=A[Z+B];if(D==2)for(B=P;B<k;B++)x[G+B]=A[Z+B];if(D==3)for(B=P;B<k;B++)x[G+B]=A[Z+B]-(A[Z+B-P]>>1)+256&255;if(D==4)for(B=P;B<k;B++)x[G+B]=A[Z+B]-n(A[Z+B-P],0,0)+256&255}else{if(D==2)for(B=0;B<k;B++)x[G+B]=A[Z+B]+256-A[Z+B-k]&255;if(D==3){for(B=0;B<P;B++)x[G+B]=A[Z+B]+256-(A[Z+B-k]>>1)&255;for(B=P;B<k;B++)x[G+B]=A[Z+B]+256-(A[Z+B-k]+A[Z+B-P]>>1)&255}if(D==4){for(B=0;B<P;B++)x[G+B]=A[Z+B]+256-n(0,A[Z+B-k],0)&255;for(B=P;B<k;B++)x[G+B]=A[Z+B]+256-n(A[Z+B-P],A[Z+B-k],A[Z+B-P-k])&255}}}function M(x,A){const U=new Uint8Array(x),k=U.slice(0),P=new Uint32Array(k.buffer),D=F(k,A),Z=D[0],G=D[1],B=U.length,V=new Uint8Array(B>>2);let nt;if(U.length<2e7)for(var it=0;it<B;it+=4)nt=N(Z,C=U[it]*(1/255),at=U[it+1]*(1/255),lt=U[it+2]*(1/255),$=U[it+3]*(1/255)),V[it>>2]=nt.ind,P[it>>2]=nt.est.rgba;else for(it=0;it<B;it+=4){var C=U[it]*.00392156862745098,at=U[it+1]*(1/255),lt=U[it+2]*(1/255),$=U[it+3]*(1/255);for(nt=Z;nt.left;)nt=K(nt.est,C,at,lt,$)<=0?nt.left:nt.right;V[it>>2]=nt.ind,P[it>>2]=nt.est.rgba}return{abuf:k.buffer,inds:V,plte:G}}function F(x,A,U){U==null&&(U=1e-4);const k=new Uint32Array(x.buffer),P={i0:0,i1:x.length,bst:null,est:null,tdst:0,left:null,right:null};P.bst=X(x,P.i0,P.i1),P.est=z(P.bst);const D=[P];for(;D.length<A;){let G=0,B=0;for(var Z=0;Z<D.length;Z++)D[Z].est.L>G&&(G=D[Z].est.L,B=Z);if(G<U)break;const V=D[B],nt=W(x,k,V.i0,V.i1,V.est.e,V.est.eMq255);if(V.i0>=nt||V.i1<=nt){V.est.L=0;continue}const it={i0:V.i0,i1:nt,bst:null,est:null,tdst:0,left:null,right:null};it.bst=X(x,it.i0,it.i1),it.est=z(it.bst);const C={i0:nt,i1:V.i1,bst:null,est:null,tdst:0,left:null,right:null};for(C.bst={R:[],m:[],N:V.bst.N-it.bst.N},Z=0;Z<16;Z++)C.bst.R[Z]=V.bst.R[Z]-it.bst.R[Z];for(Z=0;Z<4;Z++)C.bst.m[Z]=V.bst.m[Z]-it.bst.m[Z];C.est=z(C.bst),V.left=it,V.right=C,D[B]=it,D.push(C)}for(D.sort(((G,B)=>B.bst.N-G.bst.N)),Z=0;Z<D.length;Z++)D[Z].ind=Z;return[P,D]}function N(x,A,U,k,P){if(x.left==null)return x.tdst=(function(it,C,at,lt,$){const ht=C-it[0],ut=at-it[1],yt=lt-it[2],Bt=$-it[3];return ht*ht+ut*ut+yt*yt+Bt*Bt})(x.est.q,A,U,k,P),x;const D=K(x.est,A,U,k,P);let Z=x.left,G=x.right;D>0&&(Z=x.right,G=x.left);const B=N(Z,A,U,k,P);if(B.tdst<=D*D)return B;const V=N(G,A,U,k,P);return V.tdst<B.tdst?V:B}function K(x,A,U,k,P){const{e:D}=x;return D[0]*A+D[1]*U+D[2]*k+D[3]*P-x.eMq}function W(x,A,U,k,P,D){for(k-=4;U<k;){for(;tt(x,U,P)<=D;)U+=4;for(;tt(x,k,P)>D;)k-=4;if(U>=k)break;const Z=A[U>>2];A[U>>2]=A[k>>2],A[k>>2]=Z,U+=4,k-=4}for(;tt(x,U,P)>D;)U-=4;return U+4}function tt(x,A,U){return x[A]*U[0]+x[A+1]*U[1]+x[A+2]*U[2]+x[A+3]*U[3]}function X(x,A,U){const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[0,0,0,0],D=U-A>>2;for(let Z=A;Z<U;Z+=4){const G=x[Z]*.00392156862745098,B=x[Z+1]*(1/255),V=x[Z+2]*(1/255),nt=x[Z+3]*(1/255);P[0]+=G,P[1]+=B,P[2]+=V,P[3]+=nt,k[0]+=G*G,k[1]+=G*B,k[2]+=G*V,k[3]+=G*nt,k[5]+=B*B,k[6]+=B*V,k[7]+=B*nt,k[10]+=V*V,k[11]+=V*nt,k[15]+=nt*nt}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:P,N:D}}function z(x){const{R:A}=x,{m:U}=x,{N:k}=x,P=U[0],D=U[1],Z=U[2],G=U[3],B=k==0?0:1/k,V=[A[0]-P*P*B,A[1]-P*D*B,A[2]-P*Z*B,A[3]-P*G*B,A[4]-D*P*B,A[5]-D*D*B,A[6]-D*Z*B,A[7]-D*G*B,A[8]-Z*P*B,A[9]-Z*D*B,A[10]-Z*Z*B,A[11]-Z*G*B,A[12]-G*P*B,A[13]-G*D*B,A[14]-G*Z*B,A[15]-G*G*B],nt=V,it=q;let C=[Math.random(),Math.random(),Math.random(),Math.random()],at=0,lt=0;if(k!=0)for(let ht=0;ht<16&&(C=it.multVec(nt,C),lt=Math.sqrt(it.dot(C,C)),C=it.sml(1/lt,C),!(ht!=0&&Math.abs(lt-at)<1e-9));ht++)at=lt;const $=[P*B,D*B,Z*B,G*B];return{Cov:V,q:$,e:C,L:at,eMq255:it.dot(it.sml(255,$),C),eMq:it.dot(C,$),rgba:(Math.round(255*$[3])<<24|Math.round(255*$[2])<<16|Math.round(255*$[1])<<8|Math.round(255*$[0])<<0)>>>0}}var q={multVec:(x,A)=>[x[0]*A[0]+x[1]*A[1]+x[2]*A[2]+x[3]*A[3],x[4]*A[0]+x[5]*A[1]+x[6]*A[2]+x[7]*A[3],x[8]*A[0]+x[9]*A[1]+x[10]*A[2]+x[11]*A[3],x[12]*A[0]+x[13]*A[1]+x[14]*A[2]+x[15]*A[3]],dot:(x,A)=>x[0]*A[0]+x[1]*A[1]+x[2]*A[2]+x[3]*A[3],sml:(x,A)=>[x*A[0],x*A[1],x*A[2],x*A[3]]};Ds.encode=function(A,U,k,P,D,Z,G){P==null&&(P=0),G==null&&(G=!1);const B=g(A,U,k,P,[!1,!1,!1,0,G,!1]);return m(B,-1),d(B,U,k,D,Z)},Ds.encodeLL=function(A,U,k,P,D,Z,G,B){const V={ctype:0+(P==1?0:2)+(D==0?0:4),depth:Z,frames:[]},nt=(P+D)*Z,it=nt*U;for(let C=0;C<A.length;C++)V.frames.push({rect:{x:0,y:0,width:U,height:k},img:new Uint8Array(A[C]),blend:0,dispose:1,bpp:Math.ceil(nt/8),bpl:Math.ceil(it/8)});return m(V,0,!0),d(V,U,k,G,B)},Ds.encode.compress=g,Ds.encode.dither=h,Ds.quantize=M,Ds.quantize.getKDtree=F,Ds.quantize.getNearest=N})();const zP={toArrayBuffer(e,t){const n=e.width,i=e.height,r=n<<2,o=e.getContext("2d").getImageData(0,0,n,i),u=new Uint32Array(o.data.buffer),h=(32*n+31)/32<<2,d=h*i,m=122+d,g=new ArrayBuffer(m),y=new DataView(g),v=1<<20;let T,R,M,F,N=v,K=0,W=0,tt=0;function X(x){y.setUint16(W,x,!0),W+=2}function z(x){y.setUint32(W,x,!0),W+=4}function q(x){W+=x}X(19778),z(m),q(4),z(122),z(108),z(n),z(-i>>>0),X(1),X(32),z(3),z(d),z(2835),z(2835),q(8),z(16711680),z(65280),z(255),z(4278190080),z(1466527264),(function x(){for(;K<i&&N>0;){for(F=122+K*h,T=0;T<r;)N--,R=u[tt++],M=R>>>24,y.setUint32(F+T,R<<8|M),T+=4;K++}tt<u.length?(N=v,setTimeout(x,zP._dly)):t(g)})()},toBlob(e,t){this.toArrayBuffer(e,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var gr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},z8={[gr.CHROME]:16384,[gr.FIREFOX]:11180,[gr.DESKTOP_SAFARI]:16384,[gr.IE]:8192,[gr.IOS]:4096,[gr.ETC]:8192};const Jw=typeof window<"u",UP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Im=Jw&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),U8=(Jw||UP)&&(Im&&Im.getOriginalSymbol(window,"File")||typeof File<"u"&&File),BP=(Jw||UP)&&(Im&&Im.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function tb(e,t,n=Date.now()){return new Promise((i=>{const r=e.split(","),o=r[0].match(/:(.*?);/)[1],u=globalThis.atob(r[1]);let h=u.length;const d=new Uint8Array(h);for(;h--;)d[h]=u.charCodeAt(h);const m=new Blob([d],{type:o});m.name=t,m.lastModified=n,i(m)}))}function FP(e){return new Promise(((t,n)=>{const i=new BP;i.onload=()=>t(i.result),i.onerror=r=>n(r),i.readAsDataURL(e)}))}function jP(e){return new Promise(((t,n)=>{const i=new Image;i.onload=()=>t(i),i.onerror=r=>n(r),i.src=e}))}function eu(){if(eu.cachedResult!==void 0)return eu.cachedResult;let e=gr.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=gr.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=gr.IOS:/Safari/i.test(t)?e=gr.DESKTOP_SAFARI:/Firefox/i.test(t)?e=gr.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=gr.IE),eu.cachedResult=e,eu.cachedResult}function HP(e,t){const n=eu(),i=z8[n];let r=e,o=t,u=r*o;const h=r>o?o/r:r/o;for(;u>i*i;){const d=(i+r)/2,m=(i+o)/2;d<m?(o=m,r=m*h):(o=d*h,r=d),u=r*o}return{width:r,height:o}}function dg(e,t){let n,i;try{if(n=new OffscreenCanvas(e,t),i=n.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),i=n.getContext("2d")}return n.width=e,n.height=t,[n,i]}function qP(e,t){const{width:n,height:i}=HP(e.width,e.height),[r,o]=dg(n,i);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,r.width,r.height)),o.drawImage(e,0,0,r.width,r.height),r}function im(){return im.cachedResult!==void 0||(im.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),im.cachedResult}function Pm(e,t={}){return new Promise((function(n,i){let r,o;var u=function(){try{return o=qP(r,t.fileType||e.type),n([r,o])}catch(d){return i(d)}},h=function(d){try{var m=function(g){try{throw g}catch(y){return i(y)}};try{let g;return FP(e).then((function(y){try{return g=y,jP(g).then((function(v){try{return r=v,(function(){try{return u()}catch(T){return i(T)}})()}catch(T){return m(T)}}),m)}catch(v){return m(v)}}),m)}catch(g){m(g)}}catch(g){return i(g)}};try{if(im()||[gr.DESKTOP_SAFARI,gr.MOBILE_SAFARI].includes(eu()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(d){try{return r=d,u()}catch{return h()}}),h)}catch{h()}}))}function km(e,t,n,i,r=1){return new Promise((function(o,u){let h;if(t==="image/png"){let y,v,T;return y=e.getContext("2d"),{data:v}=y.getImageData(0,0,e.width,e.height),T=Ds.encode([v.buffer],e.width,e.height,4096*r),h=new Blob([T],{type:t}),h.name=n,h.lastModified=i,d.call(this)}{let y=function(){return d.call(this)};var m=y;if(t==="image/bmp")return new Promise((v=>zP.toBlob(e,v))).then((function(v){try{return h=v,h.name=n,h.lastModified=i,y.call(this)}catch(T){return u(T)}}).bind(this),u);{let v=function(){return y.call(this)};var g=v;if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:r}).then((function(T){try{return h=T,h.name=n,h.lastModified=i,v.call(this)}catch(R){return u(R)}}).bind(this),u);{let T;return T=e.toDataURL(t,r),tb(T,n,i).then((function(R){try{return h=R,v.call(this)}catch(M){return u(M)}}).bind(this),u)}}}function d(){return o(h)}}))}function ro(e){e.width=0,e.height=0}function mc(){return new Promise((function(e,t){let n,i,r,o;return mc.cachedResult!==void 0?e(mc.cachedResult):tb("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(u){try{return n=u,Pm(n).then((function(h){try{return i=h[1],km(i,n.type,n.name,n.lastModified).then((function(d){try{return r=d,ro(i),Pm(r).then((function(m){try{return o=m[0],mc.cachedResult=o.width===1&&o.height===2,e(mc.cachedResult)}catch(g){return t(g)}}),t)}catch(m){return t(m)}}),t)}catch(d){return t(d)}}),t)}catch(h){return t(h)}}),t)}))}function GP(e){return new Promise(((t,n)=>{const i=new BP;i.onload=r=>{const o=new DataView(r.target.result);if(o.getUint16(0,!1)!=65496)return t(-2);const u=o.byteLength;let h=2;for(;h<u;){if(o.getUint16(h+2,!1)<=8)return t(-1);const d=o.getUint16(h,!1);if(h+=2,d==65505){if(o.getUint32(h+=2,!1)!=1165519206)return t(-1);const m=o.getUint16(h+=6,!1)==18761;h+=o.getUint32(h+4,m);const g=o.getUint16(h,m);h+=2;for(let y=0;y<g;y++)if(o.getUint16(h+12*y,m)==274)return t(o.getUint16(h+12*y+8,m))}else{if((65280&d)!=65280)break;h+=o.getUint16(h,!1)}}return t(-1)},i.onerror=r=>n(r),i.readAsArrayBuffer(e)}))}function WP(e,t){const{width:n}=e,{height:i}=e,{maxWidthOrHeight:r}=t;let o,u=e;return isFinite(r)&&(n>r||i>r)&&([u,o]=dg(n,i),n>i?(u.width=r,u.height=i/n*r):(u.width=n/i*r,u.height=r),o.drawImage(e,0,0,u.width,u.height),ro(e)),u}function KP(e,t){const{width:n}=e,{height:i}=e,[r,o]=dg(n,i);switch(t>4&&t<9?(r.width=i,r.height=n):(r.width=n,r.height=i),t){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,i);break;case 4:o.transform(1,0,0,-1,0,i);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,i,0);break;case 7:o.transform(0,-1,-1,0,i,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(e,0,0,n,i),ro(e),r}function BA(e,t,n=0){return new Promise((function(i,r){let o,u,h,d,m,g,y,v,T,R,M,F,N,K,W,tt,X,z,q,x;function A(k=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=k,t.onProgress(Math.min(o,100))}function U(k){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(k,o),100),t.onProgress(o)}return o=n,u=t.maxIteration||10,h=1024*t.maxSizeMB*1024,A(),Pm(e,t).then((function(k){try{return[,d]=k,A(),m=WP(d,t),A(),new Promise((function(P,D){var Z;if(!(Z=t.exifOrientation))return GP(e).then((function(B){try{return Z=B,G.call(this)}catch(V){return D(V)}}).bind(this),D);function G(){return P(Z)}return G.call(this)})).then((function(P){try{return g=P,A(),mc().then((function(D){try{return y=D?m:KP(m,g),A(),v=t.initialQuality||1,T=t.fileType||e.type,km(y,T,e.name,e.lastModified,v).then((function(Z){try{{let nt=function(){if(u--&&(W>h||W>N)){let C,at;return C=x?.95*q.width:q.width,at=x?.95*q.height:q.height,[X,z]=dg(C,at),z.drawImage(q,0,0,C,at),v*=T==="image/png"?.85:.95,km(X,T,e.name,e.lastModified,v).then((function(lt){try{return tt=lt,ro(q),q=X,W=tt.size,U(Math.min(99,Math.floor((K-W)/(K-h)*100))),nt}catch($){return r($)}}),r)}return[1]},it=function(){return ro(q),ro(X),ro(m),ro(y),ro(d),U(100),i(tt)};var B=nt,V=it;if(R=Z,A(),M=R.size>h,F=R.size>e.size,!M&&!F)return U(100),i(R);var G;return N=e.size,K=R.size,W=K,q=y,x=!t.alwaysKeepResolution&&M,(G=(function(C){for(;C;){if(C.then)return void C.then(G,r);try{if(C.pop){if(C.length)return C.pop()?it.call(this):C;C=nt}else C=C.call(this)}catch(at){return r(at)}}}).bind(this))(nt)}}catch(nt){return r(nt)}}).bind(this),r)}catch(Z){return r(Z)}}).bind(this),r)}catch(D){return r(D)}}).bind(this),r)}catch(P){return r(P)}}).bind(this),r)}))}const B8=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let sv;function F8(e,t){return new Promise(((n,i)=>{sv||(sv=(function(u){const h=[];return h.push(u),URL.createObjectURL(new Blob(h))})(B8));const r=new Worker(sv);r.addEventListener("message",(function(u){if(t.signal&&t.signal.aborted)r.terminate();else if(u.data.progress===void 0){if(u.data.error)return i(new Error(u.data.error)),void r.terminate();n(u.data.file),r.terminate()}else t.onProgress(u.data.progress)})),r.addEventListener("error",i),t.signal&&t.signal.addEventListener("abort",(()=>{i(t.signal.reason),r.terminate()})),r.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function qi(e,t){return new Promise((function(n,i){let r,o,u,h,d,m;if(r={...t},u=0,{onProgress:h}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=T=>{u=T,typeof h=="function"&&h(u)},!(e instanceof Blob||e instanceof U8))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return i(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||m)return BA(e,r).then((function(T){try{return o=T,v.call(this)}catch(R){return i(R)}}).bind(this),i);var g=(function(){try{return v.call(this)}catch(T){return i(T)}}).bind(this),y=function(T){try{return BA(e,r).then((function(R){try{return o=R,g()}catch(M){return i(M)}}),i)}catch(R){return i(R)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",F8(e,r).then((function(T){try{return o=T,g()}catch{return y()}}),y)}catch{y()}function v(){try{o.name=e.name,o.lastModified=e.lastModified}catch{}try{r.preserveExif&&e.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===e.type)&&(o=VP(e,o))}catch{}return n(o)}}))}qi.getDataUrlFromFile=FP,qi.getFilefromDataUrl=tb,qi.loadImage=jP,qi.drawImageInCanvas=qP,qi.drawFileInCanvas=Pm,qi.canvasToFile=km,qi.getExifOrientation=GP,qi.handleMaxWidthOrHeight=WP,qi.followExifOrientation=KP,qi.cleanupCanvasMemory=ro,qi.isAutoOrientationInBrowser=mc,qi.approximateBelowMaximumCanvasSizeOfBrowser=HP,qi.copyExifWithoutOrientation=VP,qi.getBrowserName=eu,qi.version="2.0.2";const j8=()=>{};var FA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},H8=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=e[n++],u=e[n++],h=e[n++],d=((r&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=e[n++],u=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|u&63)}}return t.join("")},$P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const o=e[r],u=r+1<e.length,h=u?e[r+1]:0,d=r+2<e.length,m=d?e[r+2]:0,g=o>>2,y=(o&3)<<4|h>>4;let v=(h&15)<<2|m>>6,T=m&63;d||(T=64,u||(v=64)),i.push(n[g],n[y],n[v],n[T])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ZP(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):H8(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const o=n[e.charAt(r++)],h=r<e.length?n[e.charAt(r)]:0;++r;const m=r<e.length?n[e.charAt(r)]:64;++r;const y=r<e.length?n[e.charAt(r)]:64;if(++r,o==null||h==null||m==null||y==null)throw new q8;const v=o<<2|h>>4;if(i.push(v),m!==64){const T=h<<4&240|m>>2;if(i.push(T),y!==64){const R=m<<6&192|y;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class q8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G8=function(e){const t=ZP(e);return $P.encodeByteArray(t,!0)},Dm=function(e){return G8(e).replace(/\./g,"")},YP=function(e){try{return $P.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=()=>W8().__FIREBASE_DEFAULTS__,Z8=()=>{if(typeof process>"u"||typeof FA>"u")return;const e=FA.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},$8=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&YP(e[1]);return t&&JSON.parse(t)},pg=()=>{try{return j8()||K8()||Z8()||$8()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},XP=e=>pg()?.emulatorHosts?.[e],QP=e=>{const t=XP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},JP=()=>pg()?.config,tk=e=>pg()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eb(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Dm(JSON.stringify(n)),Dm(JSON.stringify(u)),""].join(".")}const If={};function X8(){const e={prod:[],emulator:[]};for(const t of Object.keys(If))If[t]?e.emulator.push(t):e.prod.push(t);return e}function Q8(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let jA=!1;function nb(e,t){if(typeof window>"u"||typeof document>"u"||!vl(window.location.host)||If[e]===t||If[e]||jA)return;If[e]=t;function n(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=X8().prod.length>0;function u(){const v=document.getElementById(i);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{jA=!0,u()},v}function g(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=Q8(i),T=n("text"),R=document.getElementById(T)||document.createElement("span"),M=n("learnmore"),F=document.getElementById(M)||document.createElement("a"),N=n("preprendIcon"),K=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const W=v.element;h(W),g(F,M);const tt=m();d(K,N),W.append(K,R,F,tt),document.body.appendChild(W)}o?(R.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zi())}function t7(){const e=pg()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n7(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function i7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r7(){const e=Zi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function s7(){return!t7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o7(){try{return typeof indexedDB=="object"}catch{return!1}}function a7(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7="FirebaseError";class To extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=l7,Object.setPrototypeOf(this,To.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,o=this.errors[t],u=o?u7(o,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new To(r,h,i)}}function u7(e,t){return e.replace(c7,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const c7=/\{\$([^}]+)}/g;function h7(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function lu(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const o=e[r],u=t[r];if(HA(o)&&HA(u)){if(!lu(o,u))return!1}else if(o!==u)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function HA(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function cf(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function hf(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function f7(e,t){const n=new d7(e,t);return n.subscribe.bind(n)}class d7{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");p7(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=ov),r.error===void 0&&(r.error=ov),r.complete===void 0&&(r.complete=ov);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p7(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ov(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e){return e&&e._delegate?e._delegate:e}class ll{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Y8;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(y7(t))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ql){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ql){return this.instances.has(t)}getOptions(t=Ql){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:g7(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ql){return this.component?this.component.multipleInstances?t:Ql:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g7(e){return e===Ql?void 0:e}function y7(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new m7(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ce||(Ce={}));const v7={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},w7=Ce.INFO,b7={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},T7=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=b7[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ib{constructor(t){this.name=t,this._logLevel=w7,this._logHandler=T7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?v7[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}const E7=(e,t)=>t.some(n=>e instanceof n);let qA,GA;function S7(){return qA||(qA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x7(){return GA||(GA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nk=new WeakMap,o0=new WeakMap,ik=new WeakMap,av=new WeakMap,rb=new WeakMap;function A7(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",u)},o=()=>{n(tl(e.result)),r()},u=()=>{i(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&nk.set(n,e)}).catch(()=>{}),rb.set(t,e),t}function R7(e){if(o0.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",u),e.removeEventListener("abort",u)},o=()=>{n(),r()},u=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",u),e.addEventListener("abort",u)});o0.set(e,t)}let a0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return o0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ik.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tl(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function C7(e){a0=e(a0)}function I7(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(lv(this),t,...n);return ik.set(i,t.sort?t.sort():[t]),tl(i)}:x7().includes(e)?function(...t){return e.apply(lv(this),t),tl(nk.get(this))}:function(...t){return tl(e.apply(lv(this),t))}}function P7(e){return typeof e=="function"?I7(e):(e instanceof IDBTransaction&&R7(e),E7(e,S7())?new Proxy(e,a0):e)}function tl(e){if(e instanceof IDBRequest)return A7(e);if(av.has(e))return av.get(e);const t=P7(e);return t!==e&&(av.set(e,t),rb.set(t,e)),t}const lv=e=>rb.get(e);function k7(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const u=indexedDB.open(e,t),h=tl(u);return i&&u.addEventListener("upgradeneeded",d=>{i(tl(u.result),d.oldVersion,d.newVersion,tl(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const D7=["get","getKey","getAll","getAllKeys","count"],M7=["put","add","delete","clear"],uv=new Map;function WA(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uv.get(t))return uv.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=M7.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||D7.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,r?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),r&&d.done]))[0]};return uv.set(t,o),o}C7(e=>({...e,get:(t,n,i)=>WA(t,n)||e.get(t,n,i),has:(t,n)=>!!WA(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L7(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function L7(e){return e.getComponent()?.type==="VERSION"}const l0="@firebase/app",KA="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new ib("@firebase/app"),N7="@firebase/app-compat",V7="@firebase/analytics-compat",z7="@firebase/analytics",U7="@firebase/app-check-compat",B7="@firebase/app-check",F7="@firebase/auth",j7="@firebase/auth-compat",H7="@firebase/database",q7="@firebase/data-connect",G7="@firebase/database-compat",W7="@firebase/functions",K7="@firebase/functions-compat",Z7="@firebase/installations",$7="@firebase/installations-compat",Y7="@firebase/messaging",X7="@firebase/messaging-compat",Q7="@firebase/performance",J7="@firebase/performance-compat",tH="@firebase/remote-config",eH="@firebase/remote-config-compat",nH="@firebase/storage",iH="@firebase/storage-compat",rH="@firebase/firestore",sH="@firebase/ai",oH="@firebase/firestore-compat",aH="firebase",lH="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="[DEFAULT]",uH={[l0]:"fire-core",[N7]:"fire-core-compat",[z7]:"fire-analytics",[V7]:"fire-analytics-compat",[B7]:"fire-app-check",[U7]:"fire-app-check-compat",[F7]:"fire-auth",[j7]:"fire-auth-compat",[H7]:"fire-rtdb",[q7]:"fire-data-connect",[G7]:"fire-rtdb-compat",[W7]:"fire-fn",[K7]:"fire-fn-compat",[Z7]:"fire-iid",[$7]:"fire-iid-compat",[Y7]:"fire-fcm",[X7]:"fire-fcm-compat",[Q7]:"fire-perf",[J7]:"fire-perf-compat",[tH]:"fire-rc",[eH]:"fire-rc-compat",[nH]:"fire-gcs",[iH]:"fire-gcs-compat",[rH]:"fire-fst",[oH]:"fire-fst-compat",[sH]:"fire-vertex","fire-js":"fire-js",[aH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map,cH=new Map,c0=new Map;function ZA(e,t){try{e.container.addComponent(t)}catch(n){Qo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function uu(e){const t=e.name;if(c0.has(t))return Qo.debug(`There were multiple attempts to register component ${t}.`),!1;c0.set(t,e);for(const n of Mm.values())ZA(n,e);for(const n of cH.values())ZA(n,e);return!0}function mg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ds(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},el=new yd("app","Firebase",hH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw el.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=lH;function rk(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:u0,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw el.create("bad-app-name",{appName:String(r)});if(n||(n=JP()),!n)throw el.create("no-options");const o=Mm.get(r);if(o){if(lu(n,o.options)&&lu(i,o.config))return o;throw el.create("duplicate-app",{appName:r})}const u=new _7(r);for(const d of c0.values())u.addComponent(d);const h=new fH(n,i,u);return Mm.set(r,h),h}function sb(e=u0){const t=Mm.get(e);if(!t&&e===u0&&JP())return rk();if(!t)throw el.create("no-app",{appName:e});return t}function co(e,t,n){let i=uH[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const u=[`Unable to register library "${i}" with version "${t}":`];r&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qo.warn(u.join(" "));return}uu(new ll(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH="firebase-heartbeat-database",pH=1,Zf="firebase-heartbeat-store";let cv=null;function sk(){return cv||(cv=k7(dH,pH,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Zf)}catch(n){console.warn(n)}}}}).catch(e=>{throw el.create("idb-open",{originalErrorMessage:e.message})})),cv}async function mH(e){try{const n=(await sk()).transaction(Zf),i=await n.objectStore(Zf).get(ok(e));return await n.done,i}catch(t){if(t instanceof To)Qo.warn(t.message);else{const n=el.create("idb-get",{originalErrorMessage:t?.message});Qo.warn(n.message)}}}async function $A(e,t){try{const i=(await sk()).transaction(Zf,"readwrite");await i.objectStore(Zf).put(t,ok(e)),await i.done}catch(n){if(n instanceof To)Qo.warn(n.message);else{const i=el.create("idb-set",{originalErrorMessage:n?.message});Qo.warn(i.message)}}}function ok(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=1024,yH=30;class _H{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wH(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=YA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>yH){const r=bH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Qo.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=YA(),{heartbeatsToSend:n,unsentEntries:i}=vH(this._heartbeatsCache.heartbeats),r=Dm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Qo.warn(t),""}}}function YA(){return new Date().toISOString().substring(0,10)}function vH(e,t=gH){const n=[];let i=e.slice();for(const r of e){const o=n.find(u=>u.agent===r.agent);if(o){if(o.dates.push(r.date),XA(n)>t){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),XA(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class wH{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o7()?a7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mH(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return $A(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return $A(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function XA(e){return Dm(JSON.stringify({version:2,heartbeats:e})).length}function bH(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(e){uu(new ll("platform-logger",t=>new O7(t),"PRIVATE")),uu(new ll("heartbeat",t=>new _H(t),"PRIVATE")),co(l0,KA,e),co(l0,KA,"esm2020"),co("fire-js","")}TH("");var EH="firebase",SH="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(EH,SH,"app");var QA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nl,ak;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(q,x){function A(){}A.prototype=x.prototype,q.D=x.prototype,q.prototype=new A,q.prototype.constructor=q,q.C=function(U,k,P){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return x.prototype[k].apply(U,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(q,x,A){A||(A=0);var U=Array(16);if(typeof x=="string")for(var k=0;16>k;++k)U[k]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(k=0;16>k;++k)U[k]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=q.g[0],A=q.g[1],k=q.g[2];var P=q.g[3],D=x+(P^A&(k^P))+U[0]+3614090360&4294967295;x=A+(D<<7&4294967295|D>>>25),D=P+(k^x&(A^k))+U[1]+3905402710&4294967295,P=x+(D<<12&4294967295|D>>>20),D=k+(A^P&(x^A))+U[2]+606105819&4294967295,k=P+(D<<17&4294967295|D>>>15),D=A+(x^k&(P^x))+U[3]+3250441966&4294967295,A=k+(D<<22&4294967295|D>>>10),D=x+(P^A&(k^P))+U[4]+4118548399&4294967295,x=A+(D<<7&4294967295|D>>>25),D=P+(k^x&(A^k))+U[5]+1200080426&4294967295,P=x+(D<<12&4294967295|D>>>20),D=k+(A^P&(x^A))+U[6]+2821735955&4294967295,k=P+(D<<17&4294967295|D>>>15),D=A+(x^k&(P^x))+U[7]+4249261313&4294967295,A=k+(D<<22&4294967295|D>>>10),D=x+(P^A&(k^P))+U[8]+1770035416&4294967295,x=A+(D<<7&4294967295|D>>>25),D=P+(k^x&(A^k))+U[9]+2336552879&4294967295,P=x+(D<<12&4294967295|D>>>20),D=k+(A^P&(x^A))+U[10]+4294925233&4294967295,k=P+(D<<17&4294967295|D>>>15),D=A+(x^k&(P^x))+U[11]+2304563134&4294967295,A=k+(D<<22&4294967295|D>>>10),D=x+(P^A&(k^P))+U[12]+1804603682&4294967295,x=A+(D<<7&4294967295|D>>>25),D=P+(k^x&(A^k))+U[13]+4254626195&4294967295,P=x+(D<<12&4294967295|D>>>20),D=k+(A^P&(x^A))+U[14]+2792965006&4294967295,k=P+(D<<17&4294967295|D>>>15),D=A+(x^k&(P^x))+U[15]+1236535329&4294967295,A=k+(D<<22&4294967295|D>>>10),D=x+(k^P&(A^k))+U[1]+4129170786&4294967295,x=A+(D<<5&4294967295|D>>>27),D=P+(A^k&(x^A))+U[6]+3225465664&4294967295,P=x+(D<<9&4294967295|D>>>23),D=k+(x^A&(P^x))+U[11]+643717713&4294967295,k=P+(D<<14&4294967295|D>>>18),D=A+(P^x&(k^P))+U[0]+3921069994&4294967295,A=k+(D<<20&4294967295|D>>>12),D=x+(k^P&(A^k))+U[5]+3593408605&4294967295,x=A+(D<<5&4294967295|D>>>27),D=P+(A^k&(x^A))+U[10]+38016083&4294967295,P=x+(D<<9&4294967295|D>>>23),D=k+(x^A&(P^x))+U[15]+3634488961&4294967295,k=P+(D<<14&4294967295|D>>>18),D=A+(P^x&(k^P))+U[4]+3889429448&4294967295,A=k+(D<<20&4294967295|D>>>12),D=x+(k^P&(A^k))+U[9]+568446438&4294967295,x=A+(D<<5&4294967295|D>>>27),D=P+(A^k&(x^A))+U[14]+3275163606&4294967295,P=x+(D<<9&4294967295|D>>>23),D=k+(x^A&(P^x))+U[3]+4107603335&4294967295,k=P+(D<<14&4294967295|D>>>18),D=A+(P^x&(k^P))+U[8]+1163531501&4294967295,A=k+(D<<20&4294967295|D>>>12),D=x+(k^P&(A^k))+U[13]+2850285829&4294967295,x=A+(D<<5&4294967295|D>>>27),D=P+(A^k&(x^A))+U[2]+4243563512&4294967295,P=x+(D<<9&4294967295|D>>>23),D=k+(x^A&(P^x))+U[7]+1735328473&4294967295,k=P+(D<<14&4294967295|D>>>18),D=A+(P^x&(k^P))+U[12]+2368359562&4294967295,A=k+(D<<20&4294967295|D>>>12),D=x+(A^k^P)+U[5]+4294588738&4294967295,x=A+(D<<4&4294967295|D>>>28),D=P+(x^A^k)+U[8]+2272392833&4294967295,P=x+(D<<11&4294967295|D>>>21),D=k+(P^x^A)+U[11]+1839030562&4294967295,k=P+(D<<16&4294967295|D>>>16),D=A+(k^P^x)+U[14]+4259657740&4294967295,A=k+(D<<23&4294967295|D>>>9),D=x+(A^k^P)+U[1]+2763975236&4294967295,x=A+(D<<4&4294967295|D>>>28),D=P+(x^A^k)+U[4]+1272893353&4294967295,P=x+(D<<11&4294967295|D>>>21),D=k+(P^x^A)+U[7]+4139469664&4294967295,k=P+(D<<16&4294967295|D>>>16),D=A+(k^P^x)+U[10]+3200236656&4294967295,A=k+(D<<23&4294967295|D>>>9),D=x+(A^k^P)+U[13]+681279174&4294967295,x=A+(D<<4&4294967295|D>>>28),D=P+(x^A^k)+U[0]+3936430074&4294967295,P=x+(D<<11&4294967295|D>>>21),D=k+(P^x^A)+U[3]+3572445317&4294967295,k=P+(D<<16&4294967295|D>>>16),D=A+(k^P^x)+U[6]+76029189&4294967295,A=k+(D<<23&4294967295|D>>>9),D=x+(A^k^P)+U[9]+3654602809&4294967295,x=A+(D<<4&4294967295|D>>>28),D=P+(x^A^k)+U[12]+3873151461&4294967295,P=x+(D<<11&4294967295|D>>>21),D=k+(P^x^A)+U[15]+530742520&4294967295,k=P+(D<<16&4294967295|D>>>16),D=A+(k^P^x)+U[2]+3299628645&4294967295,A=k+(D<<23&4294967295|D>>>9),D=x+(k^(A|~P))+U[0]+4096336452&4294967295,x=A+(D<<6&4294967295|D>>>26),D=P+(A^(x|~k))+U[7]+1126891415&4294967295,P=x+(D<<10&4294967295|D>>>22),D=k+(x^(P|~A))+U[14]+2878612391&4294967295,k=P+(D<<15&4294967295|D>>>17),D=A+(P^(k|~x))+U[5]+4237533241&4294967295,A=k+(D<<21&4294967295|D>>>11),D=x+(k^(A|~P))+U[12]+1700485571&4294967295,x=A+(D<<6&4294967295|D>>>26),D=P+(A^(x|~k))+U[3]+2399980690&4294967295,P=x+(D<<10&4294967295|D>>>22),D=k+(x^(P|~A))+U[10]+4293915773&4294967295,k=P+(D<<15&4294967295|D>>>17),D=A+(P^(k|~x))+U[1]+2240044497&4294967295,A=k+(D<<21&4294967295|D>>>11),D=x+(k^(A|~P))+U[8]+1873313359&4294967295,x=A+(D<<6&4294967295|D>>>26),D=P+(A^(x|~k))+U[15]+4264355552&4294967295,P=x+(D<<10&4294967295|D>>>22),D=k+(x^(P|~A))+U[6]+2734768916&4294967295,k=P+(D<<15&4294967295|D>>>17),D=A+(P^(k|~x))+U[13]+1309151649&4294967295,A=k+(D<<21&4294967295|D>>>11),D=x+(k^(A|~P))+U[4]+4149444226&4294967295,x=A+(D<<6&4294967295|D>>>26),D=P+(A^(x|~k))+U[11]+3174756917&4294967295,P=x+(D<<10&4294967295|D>>>22),D=k+(x^(P|~A))+U[2]+718787259&4294967295,k=P+(D<<15&4294967295|D>>>17),D=A+(P^(k|~x))+U[9]+3951481745&4294967295,q.g[0]=q.g[0]+x&4294967295,q.g[1]=q.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,q.g[2]=q.g[2]+k&4294967295,q.g[3]=q.g[3]+P&4294967295}i.prototype.u=function(q,x){x===void 0&&(x=q.length);for(var A=x-this.blockSize,U=this.B,k=this.h,P=0;P<x;){if(k==0)for(;P<=A;)r(this,q,P),P+=this.blockSize;if(typeof q=="string"){for(;P<x;)if(U[k++]=q.charCodeAt(P++),k==this.blockSize){r(this,U),k=0;break}}else for(;P<x;)if(U[k++]=q[P++],k==this.blockSize){r(this,U),k=0;break}}this.h=k,this.o+=x},i.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var x=1;x<q.length-8;++x)q[x]=0;var A=8*this.o;for(x=q.length-8;x<q.length;++x)q[x]=A&255,A/=256;for(this.u(q),q=Array(16),x=A=0;4>x;++x)for(var U=0;32>U;U+=8)q[A++]=this.g[x]>>>U&255;return q};function o(q,x){var A=h;return Object.prototype.hasOwnProperty.call(A,q)?A[q]:A[q]=x(q)}function u(q,x){this.h=x;for(var A=[],U=!0,k=q.length-1;0<=k;k--){var P=q[k]|0;U&&P==x||(A[k]=P,U=!1)}this.g=A}var h={};function d(q){return-128<=q&&128>q?o(q,function(x){return new u([x|0],0>x?-1:0)}):new u([q|0],0>q?-1:0)}function m(q){if(isNaN(q)||!isFinite(q))return y;if(0>q)return F(m(-q));for(var x=[],A=1,U=0;q>=A;U++)x[U]=q/A|0,A*=4294967296;return new u(x,0)}function g(q,x){if(q.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(q.charAt(0)=="-")return F(g(q.substring(1),x));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(x,8)),U=y,k=0;k<q.length;k+=8){var P=Math.min(8,q.length-k),D=parseInt(q.substring(k,k+P),x);8>P?(P=m(Math.pow(x,P)),U=U.j(P).add(m(D))):(U=U.j(A),U=U.add(m(D)))}return U}var y=d(0),v=d(1),T=d(16777216);e=u.prototype,e.m=function(){if(M(this))return-F(this).m();for(var q=0,x=1,A=0;A<this.g.length;A++){var U=this.i(A);q+=(0<=U?U:4294967296+U)*x,x*=4294967296}return q},e.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(R(this))return"0";if(M(this))return"-"+F(this).toString(q);for(var x=m(Math.pow(q,6)),A=this,U="";;){var k=tt(A,x).g;A=N(A,k.j(x));var P=((0<A.g.length?A.g[0]:A.h)>>>0).toString(q);if(A=k,R(A))return P+U;for(;6>P.length;)P="0"+P;U=P+U}},e.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function R(q){if(q.h!=0)return!1;for(var x=0;x<q.g.length;x++)if(q.g[x]!=0)return!1;return!0}function M(q){return q.h==-1}e.l=function(q){return q=N(this,q),M(q)?-1:R(q)?0:1};function F(q){for(var x=q.g.length,A=[],U=0;U<x;U++)A[U]=~q.g[U];return new u(A,~q.h).add(v)}e.abs=function(){return M(this)?F(this):this},e.add=function(q){for(var x=Math.max(this.g.length,q.g.length),A=[],U=0,k=0;k<=x;k++){var P=U+(this.i(k)&65535)+(q.i(k)&65535),D=(P>>>16)+(this.i(k)>>>16)+(q.i(k)>>>16);U=D>>>16,P&=65535,D&=65535,A[k]=D<<16|P}return new u(A,A[A.length-1]&-2147483648?-1:0)};function N(q,x){return q.add(F(x))}e.j=function(q){if(R(this)||R(q))return y;if(M(this))return M(q)?F(this).j(F(q)):F(F(this).j(q));if(M(q))return F(this.j(F(q)));if(0>this.l(T)&&0>q.l(T))return m(this.m()*q.m());for(var x=this.g.length+q.g.length,A=[],U=0;U<2*x;U++)A[U]=0;for(U=0;U<this.g.length;U++)for(var k=0;k<q.g.length;k++){var P=this.i(U)>>>16,D=this.i(U)&65535,Z=q.i(k)>>>16,G=q.i(k)&65535;A[2*U+2*k]+=D*G,K(A,2*U+2*k),A[2*U+2*k+1]+=P*G,K(A,2*U+2*k+1),A[2*U+2*k+1]+=D*Z,K(A,2*U+2*k+1),A[2*U+2*k+2]+=P*Z,K(A,2*U+2*k+2)}for(U=0;U<x;U++)A[U]=A[2*U+1]<<16|A[2*U];for(U=x;U<2*x;U++)A[U]=0;return new u(A,0)};function K(q,x){for(;(q[x]&65535)!=q[x];)q[x+1]+=q[x]>>>16,q[x]&=65535,x++}function W(q,x){this.g=q,this.h=x}function tt(q,x){if(R(x))throw Error("division by zero");if(R(q))return new W(y,y);if(M(q))return x=tt(F(q),x),new W(F(x.g),F(x.h));if(M(x))return x=tt(q,F(x)),new W(F(x.g),x.h);if(30<q.g.length){if(M(q)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var A=v,U=x;0>=U.l(q);)A=X(A),U=X(U);var k=z(A,1),P=z(U,1);for(U=z(U,2),A=z(A,2);!R(U);){var D=P.add(U);0>=D.l(q)&&(k=k.add(A),P=D),U=z(U,1),A=z(A,1)}return x=N(q,k.j(x)),new W(k,x)}for(k=y;0<=q.l(x);){for(A=Math.max(1,Math.floor(q.m()/x.m())),U=Math.ceil(Math.log(A)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),P=m(A),D=P.j(x);M(D)||0<D.l(q);)A-=U,P=m(A),D=P.j(x);R(P)&&(P=v),k=k.add(P),q=N(q,D)}return new W(k,q)}e.A=function(q){return tt(this,q).h},e.and=function(q){for(var x=Math.max(this.g.length,q.g.length),A=[],U=0;U<x;U++)A[U]=this.i(U)&q.i(U);return new u(A,this.h&q.h)},e.or=function(q){for(var x=Math.max(this.g.length,q.g.length),A=[],U=0;U<x;U++)A[U]=this.i(U)|q.i(U);return new u(A,this.h|q.h)},e.xor=function(q){for(var x=Math.max(this.g.length,q.g.length),A=[],U=0;U<x;U++)A[U]=this.i(U)^q.i(U);return new u(A,this.h^q.h)};function X(q){for(var x=q.g.length+1,A=[],U=0;U<x;U++)A[U]=q.i(U)<<1|q.i(U-1)>>>31;return new u(A,q.h)}function z(q,x){var A=x>>5;x%=32;for(var U=q.g.length-A,k=[],P=0;P<U;P++)k[P]=0<x?q.i(P+A)>>>x|q.i(P+A+1)<<32-x:q.i(P+A);return new u(k,q.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ak=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,nl=u}).apply(typeof QA<"u"?QA:typeof self<"u"?self:typeof window<"u"?window:{});var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lk,ff,uk,rm,h0,ck,hk,fk;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,I,j){return _==Array.prototype||_==Object.prototype||(_[I]=j.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var I=0;I<_.length;++I){var j=_[I];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var i=n(this);function r(_,I){if(I)t:{var j=i;_=_.split(".");for(var et=0;et<_.length-1;et++){var dt=_[et];if(!(dt in j))break t;j=j[dt]}_=_[_.length-1],et=j[_],I=I(et),I!=et&&I!=null&&t(j,_,{configurable:!0,writable:!0,value:I})}}function o(_,I){_ instanceof String&&(_+="");var j=0,et=!1,dt={next:function(){if(!et&&j<_.length){var Tt=j++;return{value:I(Tt,_[Tt]),done:!1}}return et=!0,{done:!0,value:void 0}}};return dt[Symbol.iterator]=function(){return dt},dt}r("Array.prototype.values",function(_){return _||function(){return o(this,function(I,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(_){var I=typeof _;return I=I!="object"?I:_?Array.isArray(_)?"array":I:"null",I=="array"||I=="object"&&typeof _.length=="number"}function m(_){var I=typeof _;return I=="object"&&_!=null||I=="function"}function g(_,I,j){return _.call.apply(_.bind,arguments)}function y(_,I,j){if(!_)throw Error();if(2<arguments.length){var et=Array.prototype.slice.call(arguments,2);return function(){var dt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(dt,et),_.apply(I,dt)}}return function(){return _.apply(I,arguments)}}function v(_,I,j){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,v.apply(null,arguments)}function T(_,I){var j=Array.prototype.slice.call(arguments,1);return function(){var et=j.slice();return et.push.apply(et,arguments),_.apply(this,et)}}function R(_,I){function j(){}j.prototype=I.prototype,_.aa=I.prototype,_.prototype=new j,_.prototype.constructor=_,_.Qb=function(et,dt,Tt){for(var kt=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)kt[Ae-2]=arguments[Ae];return I.prototype[dt].apply(et,kt)}}function M(_){const I=_.length;if(0<I){const j=Array(I);for(let et=0;et<I;et++)j[et]=_[et];return j}return[]}function F(_,I){for(let j=1;j<arguments.length;j++){const et=arguments[j];if(d(et)){const dt=_.length||0,Tt=et.length||0;_.length=dt+Tt;for(let kt=0;kt<Tt;kt++)_[dt+kt]=et[kt]}else _.push(et)}}class N{constructor(I,j){this.i=I,this.j=j,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function K(_){return/^[\s\xa0]*$/.test(_)}function W(){var _=h.navigator;return _&&(_=_.userAgent)?_:""}function tt(_){return tt[" "](_),_}tt[" "]=function(){};var X=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function z(_,I,j){for(const et in _)I.call(j,_[et],et,_)}function q(_,I){for(const j in _)I.call(void 0,_[j],j,_)}function x(_){const I={};for(const j in _)I[j]=_[j];return I}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(_,I){let j,et;for(let dt=1;dt<arguments.length;dt++){et=arguments[dt];for(j in et)_[j]=et[j];for(let Tt=0;Tt<A.length;Tt++)j=A[Tt],Object.prototype.hasOwnProperty.call(et,j)&&(_[j]=et[j])}}function k(_){var I=1;_=_.split(":");const j=[];for(;0<I&&_.length;)j.push(_.shift()),I--;return _.length&&j.push(_.join(":")),j}function P(_){h.setTimeout(()=>{throw _},0)}function D(){var _=it;let I=null;return _.g&&(I=_.g,_.g=_.g.next,_.g||(_.h=null),I.next=null),I}class Z{constructor(){this.h=this.g=null}add(I,j){const et=G.get();et.set(I,j),this.h?this.h.next=et:this.g=et,this.h=et}}var G=new N(()=>new B,_=>_.reset());class B{constructor(){this.next=this.g=this.h=null}set(I,j){this.h=I,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let V,nt=!1,it=new Z,C=()=>{const _=h.Promise.resolve(void 0);V=()=>{_.then(at)}};var at=()=>{for(var _;_=D();){try{_.h.call(_.g)}catch(j){P(j)}var I=G;I.j(_),100>I.h&&(I.h++,_.next=I.g,I.g=_)}nt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(_,I){this.type=_,this.g=this.target=I,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ht=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var _=!1,I=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const j=()=>{};h.addEventListener("test",j,I),h.removeEventListener("test",j,I)}catch{}return _})();function ut(_,I){if($.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var j=this.type=_.type,et=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=I,I=_.relatedTarget){if(X){t:{try{tt(I.nodeName);var dt=!0;break t}catch{}dt=!1}dt||(I=null)}}else j=="mouseover"?I=_.fromElement:j=="mouseout"&&(I=_.toElement);this.relatedTarget=I,et?(this.clientX=et.clientX!==void 0?et.clientX:et.pageX,this.clientY=et.clientY!==void 0?et.clientY:et.pageY,this.screenX=et.screenX||0,this.screenY=et.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:yt[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&ut.aa.h.call(this)}}R(ut,$);var yt={2:"touch",3:"pen",4:"mouse"};ut.prototype.h=function(){ut.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function Ht(_,I,j,et,dt){this.listener=_,this.proxy=null,this.src=I,this.type=j,this.capture=!!et,this.ha=dt,this.key=++Mt,this.da=this.fa=!1}function Ot(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function se(_){this.src=_,this.g={},this.h=0}se.prototype.add=function(_,I,j,et,dt){var Tt=_.toString();_=this.g[Tt],_||(_=this.g[Tt]=[],this.h++);var kt=on(_,I,et,dt);return-1<kt?(I=_[kt],j||(I.fa=!1)):(I=new Ht(I,this.src,Tt,!!et,dt),I.fa=j,_.push(I)),I};function oe(_,I){var j=I.type;if(j in _.g){var et=_.g[j],dt=Array.prototype.indexOf.call(et,I,void 0),Tt;(Tt=0<=dt)&&Array.prototype.splice.call(et,dt,1),Tt&&(Ot(I),_.g[j].length==0&&(delete _.g[j],_.h--))}}function on(_,I,j,et){for(var dt=0;dt<_.length;++dt){var Tt=_[dt];if(!Tt.da&&Tt.listener==I&&Tt.capture==!!j&&Tt.ha==et)return dt}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),he={};function Me(_,I,j,et,dt){if(Array.isArray(I)){for(var Tt=0;Tt<I.length;Tt++)Me(_,I[Tt],j,et,dt);return null}return j=Sn(j),_&&_[Bt]?_.K(I,j,m(et)?!!et.capture:!1,dt):ne(_,I,j,!1,et,dt)}function ne(_,I,j,et,dt,Tt){if(!I)throw Error("Invalid event type");var kt=m(dt)?!!dt.capture:!!dt,Ae=ke(_);if(Ae||(_[Be]=Ae=new se(_)),j=Ae.add(I,j,et,kt,Tt),j.proxy)return j;if(et=me(),j.proxy=et,et.src=_,et.listener=j,_.addEventListener)ht||(dt=kt),dt===void 0&&(dt=!1),_.addEventListener(I.toString(),et,dt);else if(_.attachEvent)_.attachEvent(ge(I.toString()),et);else if(_.addListener&&_.removeListener)_.addListener(et);else throw Error("addEventListener and attachEvent are unavailable.");return j}function me(){function _(j){return I.call(_.src,_.listener,j)}const I=hn;return _}function Fe(_,I,j,et,dt){if(Array.isArray(I))for(var Tt=0;Tt<I.length;Tt++)Fe(_,I[Tt],j,et,dt);else et=m(et)?!!et.capture:!!et,j=Sn(j),_&&_[Bt]?(_=_.i,I=String(I).toString(),I in _.g&&(Tt=_.g[I],j=on(Tt,j,et,dt),-1<j&&(Ot(Tt[j]),Array.prototype.splice.call(Tt,j,1),Tt.length==0&&(delete _.g[I],_.h--)))):_&&(_=ke(_))&&(I=_.g[I.toString()],_=-1,I&&(_=on(I,j,et,dt)),(j=-1<_?I[_]:null)&&Ee(j))}function Ee(_){if(typeof _!="number"&&_&&!_.da){var I=_.src;if(I&&I[Bt])oe(I.i,_);else{var j=_.type,et=_.proxy;I.removeEventListener?I.removeEventListener(j,et,_.capture):I.detachEvent?I.detachEvent(ge(j),et):I.addListener&&I.removeListener&&I.removeListener(et),(j=ke(I))?(oe(j,_),j.h==0&&(j.src=null,I[Be]=null)):Ot(_)}}}function ge(_){return _ in he?he[_]:he[_]="on"+_}function hn(_,I){if(_.da)_=!0;else{I=new ut(I,this);var j=_.listener,et=_.ha||_.src;_.fa&&Ee(_),_=j.call(et,I)}return _}function ke(_){return _=_[Be],_ instanceof se?_:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(_){return typeof _=="function"?_:(_[ve]||(_[ve]=function(I){return _.handleEvent(I)}),_[ve])}function _t(){lt.call(this),this.i=new se(this),this.M=this,this.F=null}R(_t,lt),_t.prototype[Bt]=!0,_t.prototype.removeEventListener=function(_,I,j,et){Fe(this,_,I,j,et)};function Et(_,I){var j,et=_.F;if(et)for(j=[];et;et=et.F)j.push(et);if(_=_.M,et=I.type||I,typeof I=="string")I=new $(I,_);else if(I instanceof $)I.target=I.target||_;else{var dt=I;I=new $(et,_),U(I,dt)}if(dt=!0,j)for(var Tt=j.length-1;0<=Tt;Tt--){var kt=I.g=j[Tt];dt=Dt(kt,et,!0,I)&&dt}if(kt=I.g=_,dt=Dt(kt,et,!0,I)&&dt,dt=Dt(kt,et,!1,I)&&dt,j)for(Tt=0;Tt<j.length;Tt++)kt=I.g=j[Tt],dt=Dt(kt,et,!1,I)&&dt}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var _=this.i,I;for(I in _.g){for(var j=_.g[I],et=0;et<j.length;et++)Ot(j[et]);delete _.g[I],_.h--}}this.F=null},_t.prototype.K=function(_,I,j,et){return this.i.add(String(_),I,!1,j,et)},_t.prototype.L=function(_,I,j,et){return this.i.add(String(_),I,!0,j,et)};function Dt(_,I,j,et){if(I=_.i.g[String(I)],!I)return!0;I=I.concat();for(var dt=!0,Tt=0;Tt<I.length;++Tt){var kt=I[Tt];if(kt&&!kt.da&&kt.capture==j){var Ae=kt.listener,Bn=kt.ha||kt.src;kt.fa&&oe(_.i,kt),dt=Ae.call(Bn,et)!==!1&&dt}}return dt&&!et.defaultPrevented}function Vt(_,I,j){if(typeof _=="function")j&&(_=v(_,j));else if(_&&typeof _.handleEvent=="function")_=v(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:h.setTimeout(_,I||0)}function Kt(_){_.g=Vt(()=>{_.g=null,_.i&&(_.i=!1,Kt(_))},_.l);const I=_.h;_.h=null,_.m.apply(null,I)}class ye extends lt{constructor(I,j){super(),this.m=I,this.l=j,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Kt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(_){lt.call(this),this.h=_,this.g={}}R(Ve,lt);var je=[];function Ke(_){z(_.g,function(I,j){this.g.hasOwnProperty(j)&&Ee(I)},_),_.g={}}Ve.prototype.N=function(){Ve.aa.N.call(this),Ke(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=h.JSON.stringify,tn=h.JSON.parse,xn=class{stringify(_){return h.JSON.stringify(_,void 0)}parse(_){return h.JSON.parse(_,void 0)}};function An(){}An.prototype.h=null;function Wr(_){return _.h||(_.h=_.i())}function Li(){}var Ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function we(){$.call(this,"d")}R(we,$);function Ze(){$.call(this,"c")}R(Ze,$);var ze={},zn=null;function mn(){return zn=zn||new _t}ze.La="serverreachability";function $e(_){$.call(this,ze.La,_)}R($e,$);function en(_){const I=mn();Et(I,new $e(I))}ze.STAT_EVENT="statevent";function Yi(_,I){$.call(this,ze.STAT_EVENT,_),this.stat=I}R(Yi,$);function ue(_){const I=mn();Et(I,new Yi(I,_))}ze.Ma="timingevent";function Ye(_,I){$.call(this,ze.Ma,_),this.size=I}R(Ye,$);function Ue(_,I){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){_()},I)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Un(_,I,j,et,dt,Tt){_.info(function(){if(_.g)if(Tt)for(var kt="",Ae=Tt.split("&"),Bn=0;Bn<Ae.length;Bn++){var Re=Ae[Bn].split("=");if(1<Re.length){var Qe=Re[0];Re=Re[1];var yn=Qe.split("_");kt=2<=yn.length&&yn[1]=="type"?kt+(Qe+"="+Re+"&"):kt+(Qe+"=redacted&")}}else kt=null;else kt=Tt;return"XMLHTTP REQ ("+et+") [attempt "+dt+"]: "+I+`
`+j+`
`+kt})}function Ut(_,I,j,et,dt,Tt,kt){_.info(function(){return"XMLHTTP RESP ("+et+") [ attempt "+dt+"]: "+I+`
`+j+`
`+Tt+" "+kt})}function Yn(_,I,j,et){_.info(function(){return"XMLHTTP TEXT ("+I+"): "+ar(_,j)+(et?" "+et:"")})}function Tr(_,I){_.info(function(){return"TIMEOUT: "+I})}Rn.prototype.info=function(){};function ar(_,I){if(!_.g)return I;if(!I)return null;try{var j=JSON.parse(I);if(j){for(_=0;_<j.length;_++)if(Array.isArray(j[_])){var et=j[_];if(!(2>et.length)){var dt=et[1];if(Array.isArray(dt)&&!(1>dt.length)){var Tt=dt[0];if(Tt!="noop"&&Tt!="stop"&&Tt!="close")for(var kt=1;kt<dt.length;kt++)dt[kt]=""}}}}return He(j)}catch{return I}}var gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sr;function xi(){}R(xi,An),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},Sr=new xi;function pi(_,I,j,et){this.j=_,this.i=I,this.l=j,this.R=et||1,this.U=new Ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mn}function Mn(){this.i=null,this.g="",this.h=!1}var El={},na={};function xr(_,I,j){_.L=1,_.v=Xi(gn(I)),_.m=j,_.P=!0,Kr(_,null)}function Kr(_,I){_.F=Date.now(),So(_),_.A=gn(_.v);var j=_.A,et=_.R;Array.isArray(et)||(et=[String(et)]),Al(j.i,"t",et),_.C=0,j=_.j.J,_.h=new Mn,_.g=xu(_.j,j?I:null,!_.m),0<_.O&&(_.M=new ye(v(_.Y,_,_.g),_.O)),I=_.U,j=_.g,et=_.ca;var dt="readystatechange";Array.isArray(dt)||(dt&&(je[0]=dt.toString()),dt=je);for(var Tt=0;Tt<dt.length;Tt++){var kt=Me(j,dt[Tt],et||I.handleEvent,!1,I.h||I);if(!kt)break;I.g[kt.key]=kt}I=_.H?x(_.H):{},_.m?(_.u||(_.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,I)):(_.u="GET",_.g.ea(_.A,_.u,null,I)),en(),Un(_.i,_.u,_.A,_.l,_.R,_.m)}pi.prototype.ca=function(_){_=_.target;const I=this.M;I&&yi(_)==3?I.j():this.Y(_)},pi.prototype.Y=function(_){try{if(_==this.g)t:{const yn=yi(this.g);var I=this.g.Ba();const Ss=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||Rl(this.g)))){this.J||yn!=4||I==7||(I==8||0>=Ss?en(3):en(2)),Fs(this);var j=this.g.Z();this.X=j;e:if(wu(this)){var et=Rl(this.g);_="";var dt=et.length,Tt=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){li(this),Zr(this);var kt="";break e}this.h.i=new h.TextDecoder}for(I=0;I<dt;I++)this.h.h=!0,_+=this.h.i.decode(et[I],{stream:!(Tt&&I==dt-1)});et.length=0,this.h.g+=_,this.C=0,kt=this.h.g}else kt=this.g.oa();if(this.o=j==200,Ut(this.i,this.u,this.A,this.l,this.R,yn,j),this.o){if(this.T&&!this.K){e:{if(this.g){var Ae,Bn=this.g;if((Ae=Bn.g?Bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ae)){var Re=Ae;break e}}Re=null}if(j=Re)Yn(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,j);else{this.o=!1,this.s=3,ue(12),li(this),Zr(this);break t}}if(this.P){j=!0;let fn;for(;!this.J&&this.C<kt.length;)if(fn=Eo(this,kt),fn==na){yn==4&&(this.s=4,ue(14),j=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==El){this.s=4,ue(15),Yn(this.i,this.l,kt,"[Invalid Chunk]"),j=!1;break}else Yn(this.i,this.l,fn,null),ys(this,fn);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||kt.length!=0||this.h.h||(this.s=1,ue(16),j=!1),this.o=this.o&&j,!j)Yn(this.i,this.l,kt,"[Invalid Chunked Response]"),li(this),Zr(this);else if(0<kt.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+kt.length),Ks(Qe),Qe.M=!0,ue(11))}}else Yn(this.i,this.l,kt,null),ys(this,kt);yn==4&&li(this),this.o&&!this.J&&(yn==4?Il(this.j,this):(this.o=!1,So(this)))}else eh(this.g),j==400&&0<kt.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),li(this),Zr(this)}}}catch{}finally{}};function wu(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function Eo(_,I){var j=_.C,et=I.indexOf(`
`,j);return et==-1?na:(j=Number(I.substring(j,et)),isNaN(j)?El:(et+=1,et+j>I.length?na:(I=I.slice(et,et+j),_.C=et+j,I)))}pi.prototype.cancel=function(){this.J=!0,li(this)};function So(_){_.S=Date.now()+_.I,bu(_,_.I)}function bu(_,I){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Ue(v(_.ba,_),I)}function Fs(_){_.B&&(h.clearTimeout(_.B),_.B=null)}pi.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Tr(this.i,this.A),this.L!=2&&(en(),ue(17)),li(this),this.s=2,Zr(this)):bu(this,this.S-_)};function Zr(_){_.j.G==0||_.J||Il(_.j,_)}function li(_){Fs(_);var I=_.M;I&&typeof I.ma=="function"&&I.ma(),_.M=null,Ke(_.U),_.g&&(I=_.g,_.g=null,I.abort(),I.ma())}function ys(_,I){try{var j=_.j;if(j.G!=0&&(j.g==_||be(j.h,_))){if(!_.K&&be(j.h,_)&&j.G==3){try{var et=j.Da.g.parse(I)}catch{et=null}if(Array.isArray(et)&&et.length==3){var dt=et;if(dt[0]==0){t:if(!j.u){if(j.g)if(j.g.F+3e3<_.F)ha(j),la(j);else break t;ua(j),ue(18)}}else j.za=dt[1],0<j.za-j.T&&37500>dt[2]&&j.F&&j.v==0&&!j.C&&(j.C=Ue(v(j.Za,j),6e3));if(1>=Yr(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Es(j,11)}else if((_.K||j.g==_)&&ha(j),!K(I))for(dt=j.Da.g.parse(I),I=0;I<dt.length;I++){let Re=dt[I];if(j.T=Re[0],Re=Re[1],j.G==2)if(Re[0]=="c"){j.K=Re[1],j.ia=Re[2];const Qe=Re[3];Qe!=null&&(j.la=Qe,j.j.info("VER="+j.la));const yn=Re[4];yn!=null&&(j.Aa=yn,j.j.info("SVER="+j.Aa));const Ss=Re[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(et=1.5*Ss,j.L=et,j.j.info("backChannelRequestTimeoutMs_="+et)),et=j;const fn=_.g;if(fn){const es=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var Tt=et.h;Tt.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(Tt.j=Tt.l,Tt.g=new Set,Tt.h&&(Xe(Tt,Tt.h),Tt.h=null))}if(et.D){const ns=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ns&&(et.ya=ns,Xt(et.I,et.D,ns))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-_.F,j.j.info("Handshake RTT: "+j.R+"ms")),et=j;var kt=_;if(et.qa=da(et,et.J?et.ia:null,et.W),kt.K){Xn(et.h,kt);var Ae=kt,Bn=et.L;Bn&&(Ae.I=Bn),Ae.B&&(Fs(Ae),So(Ae)),et.g=kt}else kr(et);0<j.i.length&&Ws(j)}else Re[0]!="stop"&&Re[0]!="close"||Es(j,7);else j.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Es(j,7):aa(j):Re[0]!="noop"&&j.l&&j.l.ta(Re),j.v=0)}}en(4)}catch{}}var js=class{constructor(_,I){this.g=_,this.map=I}};function $r(_){this.l=_||10,h.PerformanceNavigationTiming?(_=h.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xo(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Yr(_){return _.h?1:_.g?_.g.size:0}function be(_,I){return _.h?_.h==I:_.g?_.g.has(I):!1}function Xe(_,I){_.g?_.g.add(I):_.h=I}function Xn(_,I){_.h&&_.h==I?_.h=null:_.g&&_.g.has(I)&&_.g.delete(I)}$r.prototype.cancel=function(){if(this.i=Xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Xr(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let I=_.i;for(const j of _.g.values())I=I.concat(j.D);return I}return M(_.i)}function Hs(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(d(_)){for(var I=[],j=_.length,et=0;et<j;et++)I.push(_[et]);return I}I=[],j=0;for(et in _)I[j++]=_[et];return I}function qs(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(d(_)||typeof _=="string"){var I=[];_=_.length;for(var j=0;j<_;j++)I.push(j);return I}I=[],j=0;for(const et in _)I[j++]=et;return I}}}function ae(_,I){if(_.forEach&&typeof _.forEach=="function")_.forEach(I,void 0);else if(d(_)||typeof _=="string")Array.prototype.forEach.call(_,I,void 0);else for(var j=qs(_),et=Hs(_),dt=et.length,Tt=0;Tt<dt;Tt++)I.call(void 0,et[Tt],j&&j[Tt],_)}var nn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sl(_,I){if(_){_=_.split("&");for(var j=0;j<_.length;j++){var et=_[j].indexOf("="),dt=null;if(0<=et){var Tt=_[j].substring(0,et);dt=_[j].substring(et+1)}else Tt=_[j];I(Tt,dt?decodeURIComponent(dt.replace(/\+/g," ")):"")}}}function En(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof En){this.h=_.h,Ao(this,_.j),this.o=_.o,this.g=_.g,Ar(this,_.s),this.l=_.l;var I=_.i,j=new Cr;j.i=I.i,I.g&&(j.g=new Map(I.g),j.h=I.h),Ai(this,j),this.m=_.m}else _&&(I=String(_).match(nn))?(this.h=!1,Ao(this,I[1]||"",!0),this.o=mi(I[2]||""),this.g=mi(I[3]||"",!0),Ar(this,I[4]),this.l=mi(I[5]||"",!0),Ai(this,I[6]||"",!0),this.m=mi(I[7]||"")):(this.h=!1,this.i=new Cr(null,this.h))}En.prototype.toString=function(){var _=[],I=this.j;I&&_.push(Rr(I,_s,!0),":");var j=this.g;return(j||I=="file")&&(_.push("//"),(I=this.o)&&_.push(Rr(I,_s,!0),"@"),_.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&_.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&_.push("/"),_.push(Rr(j,j.charAt(0)=="/"?xl:Ro,!0))),(j=this.i.toString())&&_.push("?",j),(j=this.m)&&_.push("#",Rr(j,Gs)),_.join("")};function gn(_){return new En(_)}function Ao(_,I,j){_.j=j?mi(I,!0):I,_.j&&(_.j=_.j.replace(/:$/,""))}function Ar(_,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);_.s=I}else _.s=null}function Ai(_,I,j){I instanceof Cr?(_.i=I,Qi(_.i,_.h)):(j||(I=Rr(I,ra)),_.i=new Cr(I,_.h))}function Xt(_,I,j){_.i.set(I,j)}function Xi(_){return Xt(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function mi(_,I){return _?I?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Rr(_,I,j){return typeof _=="string"?(_=encodeURI(_).replace(I,ia),j&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ia(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var _s=/[#\/\?@]/g,Ro=/[#\?:]/g,xl=/[#\?]/g,ra=/[#\?@]/g,Gs=/#/g;function Cr(_,I){this.h=this.g=null,this.i=_||null,this.j=!!I}function Ri(_){_.g||(_.g=new Map,_.h=0,_.i&&Sl(_.i,function(I,j){_.add(decodeURIComponent(I.replace(/\+/g," ")),j)}))}e=Cr.prototype,e.add=function(_,I){Ri(this),this.i=null,_=Zt(this,_);var j=this.g.get(_);return j||this.g.set(_,j=[]),j.push(I),this.h+=1,this};function Qr(_,I){Ri(_),I=Zt(_,I),_.g.has(I)&&(_.i=null,_.h-=_.g.get(I).length,_.g.delete(I))}function Ir(_,I){return Ri(_),I=Zt(_,I),_.g.has(I)}e.forEach=function(_,I){Ri(this),this.g.forEach(function(j,et){j.forEach(function(dt){_.call(I,dt,et,this)},this)},this)},e.na=function(){Ri(this);const _=Array.from(this.g.values()),I=Array.from(this.g.keys()),j=[];for(let et=0;et<I.length;et++){const dt=_[et];for(let Tt=0;Tt<dt.length;Tt++)j.push(I[et])}return j},e.V=function(_){Ri(this);let I=[];if(typeof _=="string")Ir(this,_)&&(I=I.concat(this.g.get(Zt(this,_))));else{_=Array.from(this.g.values());for(let j=0;j<_.length;j++)I=I.concat(_[j])}return I},e.set=function(_,I){return Ri(this),this.i=null,_=Zt(this,_),Ir(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[I]),this.h+=1,this},e.get=function(_,I){return _?(_=this.V(_),0<_.length?String(_[0]):I):I};function Al(_,I,j){Qr(_,I),0<j.length&&(_.i=null,_.g.set(Zt(_,I),M(j)),_.h+=j.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],I=Array.from(this.g.keys());for(var j=0;j<I.length;j++){var et=I[j];const Tt=encodeURIComponent(String(et)),kt=this.V(et);for(et=0;et<kt.length;et++){var dt=Tt;kt[et]!==""&&(dt+="="+encodeURIComponent(String(kt[et]))),_.push(dt)}}return this.i=_.join("&")};function Zt(_,I){return I=String(I),_.j&&(I=I.toLowerCase()),I}function Qi(_,I){I&&!_.j&&(Ri(_),_.i=null,_.g.forEach(function(j,et){var dt=et.toLowerCase();et!=dt&&(Qr(this,et),Al(this,dt,j))},_)),_.j=I}function Oe(_,I){const j=new Rn;if(h.Image){const et=new Image;et.onload=T(Vi,j,"TestLoadImage: loaded",!0,I,et),et.onerror=T(Vi,j,"TestLoadImage: error",!1,I,et),et.onabort=T(Vi,j,"TestLoadImage: abort",!1,I,et),et.ontimeout=T(Vi,j,"TestLoadImage: timeout",!1,I,et),h.setTimeout(function(){et.ontimeout&&et.ontimeout()},1e4),et.src=_}else I(!1)}function lr(_,I){const j=new Rn,et=new AbortController,dt=setTimeout(()=>{et.abort(),Vi(j,"TestPingServer: timeout",!1,I)},1e4);fetch(_,{signal:et.signal}).then(Tt=>{clearTimeout(dt),Tt.ok?Vi(j,"TestPingServer: ok",!0,I):Vi(j,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(dt),Vi(j,"TestPingServer: error",!1,I)})}function Vi(_,I,j,et,dt){try{dt&&(dt.onload=null,dt.onerror=null,dt.onabort=null,dt.ontimeout=null),et(j)}catch{}}function vs(){this.g=new xn}function ur(_,I,j){const et=j||"";try{ae(_,function(dt,Tt){let kt=dt;m(dt)&&(kt=He(dt)),I.push(et+Tt+"="+encodeURIComponent(kt))})}catch(dt){throw I.push(et+"type="+encodeURIComponent("_badmap")),dt}}function zi(_){this.l=_.Ub||null,this.j=_.eb||!1}R(zi,An),zi.prototype.g=function(){return new Pr(this.l,this.j)},zi.prototype.i=(function(_){return function(){return _}})({});function Pr(_,I){_t.call(this),this.D=_,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Pr,_t),e=Pr.prototype,e.open=function(_,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=I,this.readyState=1,gi(this)},e.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(I.body=_),(this.D||h).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,an(this)),this.readyState=0},e.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ws(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function ws(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}e.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var I=_.value?_.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!_.done}))&&(this.response=this.responseText+=I)}_.done?an(this):gi(this),this.readyState==3&&ws(this)}},e.Ra=function(_){this.g&&(this.response=this.responseText=_,an(this))},e.Qa=function(_){this.g&&(this.response=_,an(this))},e.ga=function(){this.g&&an(this)};function an(_){_.readyState=4,_.l=null,_.j=null,_.v=null,gi(_)}e.setRequestHeader=function(_,I){this.u.append(_,I)},e.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],I=this.h.entries();for(var j=I.next();!j.done;)j=j.value,_.push(j[0]+": "+j[1]),j=I.next();return _.join(`\r
`)};function gi(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function sa(_){let I="";return z(_,function(j,et){I+=et,I+=":",I+=j,I+=`\r
`}),I}function Gn(_,I,j){t:{for(et in j){var et=!1;break t}et=!0}et||(j=sa(j),typeof _=="string"?j!=null&&encodeURIComponent(String(j)):Xt(_,I,j))}function qe(_){_t.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(qe,_t);var Co=/^https?$/i,bs=["POST","PUT"];e=qe.prototype,e.Ha=function(_){this.J=_},e.ea=function(_,I,j,et){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);I=I?I.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sr.g(),this.v=this.o?Wr(this.o):Wr(Sr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(I,String(_),!0),this.B=!1}catch(Tt){Tu(this,Tt);return}if(_=j||"",j=new Map(this.headers),et)if(Object.getPrototypeOf(et)===Object.prototype)for(var dt in et)j.set(dt,et[dt]);else if(typeof et.keys=="function"&&typeof et.get=="function")for(const Tt of et.keys())j.set(Tt,et.get(Tt));else throw Error("Unknown input type for opt_headers: "+String(et));et=Array.from(j.keys()).find(Tt=>Tt.toLowerCase()=="content-type"),dt=h.FormData&&_ instanceof h.FormData,!(0<=Array.prototype.indexOf.call(bs,I,void 0))||et||dt||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Tt,kt]of j)this.g.setRequestHeader(Tt,kt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ui(this),this.u=!0,this.g.send(_),this.u=!1}catch(Tt){Tu(this,Tt)}};function Tu(_,I){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=I,_.m=5,Io(_),Jr(_)}function Io(_){_.A||(_.A=!0,Et(_,"complete"),Et(_,"error"))}e.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Et(this,"complete"),Et(this,"abort"),Jr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jr(this,!0)),qe.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?fe(this):this.bb())},e.bb=function(){fe(this)};function fe(_){if(_.h&&typeof u<"u"&&(!_.v[1]||yi(_)!=4||_.Z()!=2)){if(_.u&&yi(_)==4)Vt(_.Ea,0,_);else if(Et(_,"readystatechange"),yi(_)==4){_.h=!1;try{const kt=_.Z();t:switch(kt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break t;default:I=!1}var j;if(!(j=I)){var et;if(et=kt===0){var dt=String(_.D).match(nn)[1]||null;!dt&&h.self&&h.self.location&&(dt=h.self.location.protocol.slice(0,-1)),et=!Co.test(dt?dt.toLowerCase():"")}j=et}if(j)Et(_,"complete"),Et(_,"success");else{_.m=6;try{var Tt=2<yi(_)?_.g.statusText:""}catch{Tt=""}_.l=Tt+" ["+_.Z()+"]",Io(_)}}finally{Jr(_)}}}}function Jr(_,I){if(_.g){ui(_);const j=_.g,et=_.v[0]?()=>{}:null;_.g=null,_.v=null,I||Et(_,"ready");try{j.onreadystatechange=et}catch{}}}function ui(_){_.I&&(h.clearTimeout(_.I),_.I=null)}e.isActive=function(){return!!this.g};function yi(_){return _.g?_.g.readyState:0}e.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(_){if(this.g){var I=this.g.responseText;return _&&I.indexOf(_)==0&&(I=I.substring(_.length)),tn(I)}};function Rl(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function eh(_){const I={};_=(_.g&&2<=yi(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let et=0;et<_.length;et++){if(K(_[et]))continue;var j=k(_[et]);const dt=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Tt=I[dt]||[];I[dt]=Tt,Tt.push(j)}q(I,function(et){return et.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(_,I,j){return j&&j.internalChannelParams&&j.internalChannelParams[_]||I}function oa(_){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,_),this.cb=Ts("retryDelaySeedMs",1e4,_),this.Wa=Ts("forwardChannelMaxRetries",2,_),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new $r(_&&_.concurrentRequestLimit),this.Da=new vs,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=oa.prototype,e.la=8,e.G=1,e.connect=function(_,I,j,et){ue(0),this.W=_,this.H=I||{},j&&et!==void 0&&(this.H.OSID=j,this.H.OAID=et),this.F=this.X,this.I=da(this,null,this.W),Ws(this)};function aa(_){if(Eu(_),_.G==3){var I=_.U++,j=gn(_.I);if(Xt(j,"SID",_.K),Xt(j,"RID",I),Xt(j,"TYPE","terminate"),Po(_,j),I=new pi(_,_.j,I),I.L=2,I.v=Xi(gn(j)),j=!1,h.navigator&&h.navigator.sendBeacon)try{j=h.navigator.sendBeacon(I.v.toString(),"")}catch{}!j&&h.Image&&(new Image().src=I.v,j=!0),j||(I.g=xu(I.j,null),I.g.ea(I.v)),I.F=Date.now(),So(I)}Su(_)}function la(_){_.g&&(Ks(_),_.g.cancel(),_.g=null)}function Eu(_){la(_),_.u&&(h.clearTimeout(_.u),_.u=null),ha(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&h.clearTimeout(_.s),_.s=null)}function Ws(_){if(!xo(_.h)&&!_.s){_.s=!0;var I=_.Ga;V||C(),nt||(V(),nt=!0),it.add(I,_),_.B=0}}function nh(_,I){return Yr(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=I.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Ue(v(_.Ga,_,I),fa(_,_.B)),_.B++,!0)}e.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const dt=new pi(this,this.j,_);let Tt=this.o;if(this.S&&(Tt?(Tt=x(Tt),U(Tt,this.S)):Tt=this.S),this.m!==null||this.O||(dt.H=Tt,Tt=null),this.P)t:{for(var I=0,j=0;j<this.i.length;j++){e:{var et=this.i[j];if("__data__"in et.map&&(et=et.map.__data__,typeof et=="string")){et=et.length;break e}et=void 0}if(et===void 0)break;if(I+=et,4096<I){I=j;break t}if(I===4096||j===this.i.length-1){I=j+1;break t}}I=1e3}else I=1e3;I=Cl(this,dt,I),j=gn(this.I),Xt(j,"RID",_),Xt(j,"CVER",22),this.D&&Xt(j,"X-HTTP-Session-Id",this.D),Po(this,j),Tt&&(this.O?I="headers="+encodeURIComponent(String(sa(Tt)))+"&"+I:this.m&&Gn(j,this.m,Tt)),Xe(this.h,dt),this.Ua&&Xt(j,"TYPE","init"),this.P?(Xt(j,"$req",I),Xt(j,"SID","null"),dt.T=!0,xr(dt,j,null)):xr(dt,j,I),this.G=2}}else this.G==3&&(_?Ui(this,_):this.i.length==0||xo(this.h)||Ui(this))};function Ui(_,I){var j;I?j=I.l:j=_.U++;const et=gn(_.I);Xt(et,"SID",_.K),Xt(et,"RID",j),Xt(et,"AID",_.T),Po(_,et),_.m&&_.o&&Gn(et,_.m,_.o),j=new pi(_,_.j,j,_.B+1),_.m===null&&(j.H=_.o),I&&(_.i=I.D.concat(_.i)),I=Cl(_,j,1e3),j.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Xe(_.h,j),xr(j,et,I)}function Po(_,I){_.H&&z(_.H,function(j,et){Xt(I,et,j)}),_.l&&ae({},function(j,et){Xt(I,et,j)})}function Cl(_,I,j){j=Math.min(_.i.length,j);var et=_.l?v(_.l.Na,_.l,_):null;t:{var dt=_.i;let Tt=-1;for(;;){const kt=["count="+j];Tt==-1?0<j?(Tt=dt[0].g,kt.push("ofs="+Tt)):Tt=0:kt.push("ofs="+Tt);let Ae=!0;for(let Bn=0;Bn<j;Bn++){let Re=dt[Bn].g;const Qe=dt[Bn].map;if(Re-=Tt,0>Re)Tt=Math.max(0,dt[Bn].g-100),Ae=!1;else try{ur(Qe,kt,"req"+Re+"_")}catch{et&&et(Qe)}}if(Ae){et=kt.join("&");break t}}}return _=_.i.splice(0,j),I.D=_,et}function kr(_){if(!_.g&&!_.u){_.Y=1;var I=_.Fa;V||C(),nt||(V(),nt=!0),it.add(I,_),_.v=0}}function ua(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Ue(v(_.Fa,_),fa(_,_.v)),_.v++,!0)}e.Fa=function(){if(this.u=null,ca(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Ue(v(this.ab,this),_)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),la(this),ca(this))};function Ks(_){_.A!=null&&(h.clearTimeout(_.A),_.A=null)}function ca(_){_.g=new pi(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var I=gn(_.qa);Xt(I,"RID","rpc"),Xt(I,"SID",_.K),Xt(I,"AID",_.T),Xt(I,"CI",_.F?"0":"1"),!_.F&&_.ja&&Xt(I,"TO",_.ja),Xt(I,"TYPE","xmlhttp"),Po(_,I),_.m&&_.o&&Gn(I,_.m,_.o),_.L&&(_.g.I=_.L);var j=_.g;_=_.ia,j.L=1,j.v=Xi(gn(I)),j.m=null,j.P=!0,Kr(j,_)}e.Za=function(){this.C!=null&&(this.C=null,la(this),ua(this),ue(19))};function ha(_){_.C!=null&&(h.clearTimeout(_.C),_.C=null)}function Il(_,I){var j=null;if(_.g==I){ha(_),Ks(_),_.g=null;var et=2}else if(be(_.h,I))j=I.D,Xn(_.h,I),et=1;else return;if(_.G!=0){if(I.o)if(et==1){j=I.m?I.m.length:0,I=Date.now()-I.F;var dt=_.B;et=mn(),Et(et,new Ye(et,j)),Ws(_)}else kr(_);else if(dt=I.s,dt==3||dt==0&&0<I.X||!(et==1&&nh(_,I)||et==2&&ua(_)))switch(j&&0<j.length&&(I=_.h,I.i=I.i.concat(j)),dt){case 1:Es(_,5);break;case 4:Es(_,10);break;case 3:Es(_,6);break;default:Es(_,2)}}}function fa(_,I){let j=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(j*=2),j*I}function Es(_,I){if(_.j.info("Error code "+I),I==2){var j=v(_.fb,_),et=_.Xa;const dt=!et;et=new En(et||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ao(et,"https"),Xi(et),dt?Oe(et.toString(),j):lr(et.toString(),j)}else ue(2);_.G=0,_.l&&_.l.sa(I),Su(_),Eu(_)}e.fb=function(_){_?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Su(_){if(_.G=0,_.ka=[],_.l){const I=Xr(_.h);(I.length!=0||_.i.length!=0)&&(F(_.ka,I),F(_.ka,_.i),_.h.i.length=0,M(_.i),_.i.length=0),_.l.ra()}}function da(_,I,j){var et=j instanceof En?gn(j):new En(j);if(et.g!="")I&&(et.g=I+"."+et.g),Ar(et,et.s);else{var dt=h.location;et=dt.protocol,I=I?I+"."+dt.hostname:dt.hostname,dt=+dt.port;var Tt=new En(null);et&&Ao(Tt,et),I&&(Tt.g=I),dt&&Ar(Tt,dt),j&&(Tt.l=j),et=Tt}return j=_.D,I=_.ya,j&&I&&Xt(et,j,I),Xt(et,"VER",_.la),Po(_,et),et}function xu(_,I,j){if(I&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=_.Ca&&!_.pa?new qe(new zi({eb:j})):new qe(_.pa),I.Ha(_.J),I}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pl(){}e=Pl.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ko(){}ko.prototype.g=function(_,I){return new Qn(_,I)};function Qn(_,I){_t.call(this),this.g=new oa(I),this.l=_,this.h=I&&I.messageUrlParams||null,_=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(_?_["X-WebChannel-Content-Type"]=I.messageContentType:_={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(_?_["X-WebChannel-Client-Profile"]=I.va:_={"X-WebChannel-Client-Profile":I.va}),this.g.S=_,(_=I&&I.Sb)&&!K(_)&&(this.g.m=_),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!K(I)&&(this.g.D=I,_=this.h,_!==null&&I in _&&(_=this.h,I in _&&delete _[I])),this.j=new Bi(this)}R(Qn,_t),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){aa(this.g)},Qn.prototype.o=function(_){var I=this.g;if(typeof _=="string"){var j={};j.__data__=_,_=j}else this.u&&(j={},j.__data__=He(_),_=j);I.i.push(new js(I.Ya++,_)),I.G==3&&Ws(I)},Qn.prototype.N=function(){this.g.l=null,delete this.j,aa(this.g),delete this.g,Qn.aa.N.call(this)};function ts(_){we.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var I=_.__sm__;if(I){t:{for(const j in I){_=j;break t}_=void 0}(this.i=_)&&(_=this.i,I=I!==null&&_ in I?I[_]:void 0),this.data=I}else this.data=_}R(ts,we);function Au(){Ze.call(this),this.status=1}R(Au,Ze);function Bi(_){this.g=_}R(Bi,Pl),Bi.prototype.ua=function(){Et(this.g,"a")},Bi.prototype.ta=function(_){Et(this.g,new ts(_))},Bi.prototype.sa=function(_){Et(this.g,new Au)},Bi.prototype.ra=function(){Et(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,fk=function(){return new ko},hk=function(){return mn()},ck=ze,h0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,rm=gs,Er.COMPLETE="complete",uk=Er,Li.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",_t.prototype.listen=_t.prototype.K,ff=Li,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,lk=qe}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});const JA="@firebase/firestore",tR="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new ib("@firebase/firestore");function sc(){return cu.logLevel}function zt(e,...t){if(cu.logLevel<=Ce.DEBUG){const n=t.map(ob);cu.debug(`Firestore (${Zc}): ${e}`,...n)}}function Jo(e,...t){if(cu.logLevel<=Ce.ERROR){const n=t.map(ob);cu.error(`Firestore (${Zc}): ${e}`,...n)}}function Ic(e,...t){if(cu.logLevel<=Ce.WARN){const n=t.map(ob);cu.warn(`Firestore (${Zc}): ${e}`,...n)}}function ob(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,dk(e,i,n)}function dk(e,t,n){let i=`FIRESTORE (${Zc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Jo(i),new Error(i)}function Je(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||dk(t,r,i)}function ce(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends To{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Gi.UNAUTHENTICATED)))}shutdown(){}}class AH{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RH{constructor(t){this.t=t,this.currentUser=Gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Je(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new su;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new su,t.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},h=d=>{zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new su)}}),0),u()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new pk(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Je(t===null||typeof t=="string",2055,{h:t}),new Gi(t)}}class CH{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Gi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IH{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new CH(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Gi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PH{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ds(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Je(this.o===void 0,3512);const i=o=>{o.error!=null&&zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,zt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eR(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=kH(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=t.charAt(r[o]%62))}return i}}function Ie(e,t){return e<t?-1:e>t?1:0}function f0(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),o=t.charAt(i);if(r!==o)return hv(r)===hv(o)?Ie(r,o):hv(r)?1:-1}return Ie(e.length,t.length)}const DH=55296,MH=57343;function hv(e){const t=e.charCodeAt(0);return t>=DH&&t<=MH}function Pc(e,t,n){return e.length===t.length&&e.every(((i,r)=>n(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="__name__";class io{constructor(t,n,i){n===void 0?n=0:n>t.length&&Jt(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Jt(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return io.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof io?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const o=io.compareSegments(t.get(r),n.get(r));if(o!==0)return o}return Ie(t.length,n.length)}static compareSegments(t,n){const i=io.isNumericId(t),r=io.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?io.extractNumericId(t).compare(io.extractNumericId(n)):f0(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nl.fromString(t.substring(4,t.length-2))}}class bn extends io{construct(t,n,i){return new bn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Nt(At.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((r=>r.length>0)))}return new bn(n)}static emptyPath(){return new bn([])}}const OH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mi extends io{construct(t,n,i){return new Mi(t,n,i)}static isValidIdentifier(t){return OH.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mi.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nR}static keyField(){return new Mi([nR])}static fromServerFormat(t){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new Nt(At.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new Nt(At.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Nt(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Nt(At.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Mi(n)}static emptyPath(){return new Mi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.path=t}static fromPath(t){return new Wt(bn.fromString(t))}static fromName(t){return new Wt(bn.fromString(t).popFirst(5))}static empty(){return new Wt(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&bn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return bn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Wt(new bn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(e,t,n){if(!n)throw new Nt(At.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function LH(e,t,n,i){if(t===!0&&i===!0)throw new Nt(At.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function iR(e){if(!Wt.isDocumentKey(e))throw new Nt(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rR(e){if(Wt.isDocumentKey(e))throw new Nt(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function gk(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function gg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Jt(12329,{type:typeof e})}function il(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nt(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gg(e);throw new Nt(At.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(e,t){const n={typeString:e};return t&&(n.value=t),n}function vd(e,t){if(!gk(e))throw new Nt(At.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const u=e[i];if(r&&typeof u!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new Nt(At.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=-62135596800,oR=1e6;class pn{static now(){return pn.fromMillis(Date.now())}static fromDate(t){return pn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*oR);return new pn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Nt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<sR)throw new Nt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oR}_compareTo(t){return this.seconds===t.seconds?Ie(this.nanoseconds,t.nanoseconds):Ie(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vd(t,pn._jsonSchema))return new pn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-sR;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pn._jsonSchemaVersion="firestore/timestamp/1.0",pn._jsonSchema={type:si("string",pn._jsonSchemaVersion),seconds:si("number"),nanoseconds:si("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(t){return new le(t)}static min(){return new le(new pn(0,0))}static max(){return new le(new pn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=-1;function NH(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=le.fromTimestamp(i===1e9?new pn(n+1,0):new pn(n,i));return new ul(r,Wt.empty(),t)}function VH(e){return new ul(e.readTime,e.key,$f)}class ul{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ul(le.min(),Wt.empty(),$f)}static max(){return new ul(le.max(),Wt.empty(),$f)}}function zH(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Wt.comparator(e.documentKey,t.documentKey),n!==0?n:Ie(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(e){if(e.code!==At.FAILED_PRECONDITION||e.message!==UH)throw e;zt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ct(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Ct?n:Ct.resolve(n)}catch(n){return Ct.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Ct.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Ct.reject(n)}static resolve(t){return new Ct(((n,i)=>{n(t)}))}static reject(t){return new Ct(((n,i)=>{i(t)}))}static waitFor(t){return new Ct(((n,i)=>{let r=0,o=0,u=!1;t.forEach((h=>{++r,h.next((()=>{++o,u&&o===r&&n()}),(d=>i(d)))})),u=!0,o===r&&n()}))}static or(t){let n=Ct.resolve(!1);for(const i of t)n=n.next((r=>r?Ct.resolve(r):i()));return n}static forEach(t,n){const i=[];return t.forEach(((r,o)=>{i.push(n.call(this,r,o))})),this.waitFor(i)}static mapArray(t,n){return new Ct(((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;n(t[m]).next((g=>{u[m]=g,++h,h===o&&i(u)}),(g=>r(g)))}}))}static doWhile(t,n){return new Ct(((i,r)=>{const o=()=>{t()===!0?n().next((()=>{o()}),r):i()};o()}))}}function FH(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=-1;function _g(e){return e==null}function Om(e){return e===0&&1/e==-1/0}function jH(e){return typeof e=="number"&&Number.isInteger(e)&&!Om(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="";function HH(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=aR(t)),t=qH(e.get(n),t);return aR(t)}function qH(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const o=e.charAt(r);switch(o){case"\0":n+="";break;case yk:n+="";break;default:n+=o}}return n}function aR(e){return e+yk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _k(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t,n){this.comparator=t,this.root=n||Di.EMPTY}insert(t,n){return new Vn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(t){return new Vn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Di.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,i)=>(t(n,i),!1)))}toString(){const t=[];return this.inorderTraversal(((n,i)=>(t.push(`${n}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jp(this.root,t,this.comparator,!1)}getReverseIterator(){return new jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jp(this.root,t,this.comparator,!0)}}class jp{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Di{constructor(t,n,i,r,o){this.key=t,this.value=n,this.color=i??Di.RED,this.left=r??Di.EMPTY,this.right=o??Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,o){return new Di(t??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Di.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Jt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Jt(27949);return t+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1;Di.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt(57766)}get value(){throw Jt(16141)}get color(){throw Jt(16727)}get left(){throw Jt(29726)}get right(){throw Jt(36894)}copy(t,n,i,r,o){return this}insert(t,n,i){return new Di(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.comparator=t,this.data=new Vn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,i)=>(t(n),!1)))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new uR(this.data.getIterator())}getIteratorFrom(t){return new uR(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((i=>{n=n.add(i)})),n}isEqual(t){if(!(t instanceof di)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new di(this.comparator);return n.data=t,n}}class uR{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.fields=t,t.sort(Mi.comparator)}static empty(){return new qr([])}unionWith(t){let n=new di(Mi.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new qr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Pc(this.fields,t.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vk("Invalid base64 string: "+o):o}})(t);return new Oi(n)}static fromUint8Array(t){const n=(function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o})(t);return new Oi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ie(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Oi.EMPTY_BYTE_STRING=new Oi("");const GH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(e){if(Je(!!e,39018),typeof e=="string"){let t=0;const n=GH.exec(e);if(Je(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:$n(e.seconds),nanos:$n(e.nanos)}}function $n(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hl(e){return typeof e=="string"?Oi.fromBase64String(e):Oi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="server_timestamp",bk="__type__",Tk="__previous_value__",Ek="__local_write_time__";function ub(e){return(e?.mapValue?.fields||{})[bk]?.stringValue===wk}function vg(e){const t=e.mapValue.fields[Tk];return ub(t)?vg(t):t}function Yf(e){const t=cl(e.mapValue.fields[Ek].timestampValue);return new pn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(t,n,i,r,o,u,h,d,m,g){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g}}const Lm="(default)";class Xf{constructor(t,n){this.projectId=t,this.database=n||Lm}static empty(){return new Xf("","")}get isDefaultDatabase(){return this.database===Lm}isEqual(t){return t instanceof Xf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="__type__",KH="__max__",Hp={mapValue:{}},xk="__vector__",Nm="value";function fl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ub(e)?4:$H(e)?9007199254740991:ZH(e)?10:11:Jt(28295,{value:e})}function wo(e,t){if(e===t)return!0;const n=fl(e);if(n!==fl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yf(e).isEqual(Yf(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=cl(r.timestampValue),h=cl(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(r,o){return hl(r.bytesValue).isEqual(hl(o.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(r,o){return $n(r.geoPointValue.latitude)===$n(o.geoPointValue.latitude)&&$n(r.geoPointValue.longitude)===$n(o.geoPointValue.longitude)})(e,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return $n(r.integerValue)===$n(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=$n(r.doubleValue),h=$n(o.doubleValue);return u===h?Om(u)===Om(h):isNaN(u)&&isNaN(h)}return!1})(e,t);case 9:return Pc(e.arrayValue.values||[],t.arrayValue.values||[],wo);case 10:case 11:return(function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(lR(u)!==lR(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!wo(u[d],h[d])))return!1;return!0})(e,t);default:return Jt(52216,{left:e})}}function Qf(e,t){return(e.values||[]).find((n=>wo(n,t)))!==void 0}function kc(e,t){if(e===t)return 0;const n=fl(e),i=fl(t);if(n!==i)return Ie(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(e.booleanValue,t.booleanValue);case 2:return(function(o,u){const h=$n(o.integerValue||o.doubleValue),d=$n(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(e,t);case 3:return cR(e.timestampValue,t.timestampValue);case 4:return cR(Yf(e),Yf(t));case 5:return f0(e.stringValue,t.stringValue);case 6:return(function(o,u){const h=hl(o),d=hl(u);return h.compareTo(d)})(e.bytesValue,t.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=Ie(h[m],d[m]);if(g!==0)return g}return Ie(h.length,d.length)})(e.referenceValue,t.referenceValue);case 8:return(function(o,u){const h=Ie($n(o.latitude),$n(u.latitude));return h!==0?h:Ie($n(o.longitude),$n(u.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return hR(e.arrayValue,t.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},m=h[Nm]?.arrayValue,g=d[Nm]?.arrayValue,y=Ie(m?.values?.length||0,g?.values?.length||0);return y!==0?y:hR(m,g)})(e.mapValue,t.mapValue);case 11:return(function(o,u){if(o===Hp.mapValue&&u===Hp.mapValue)return 0;if(o===Hp.mapValue)return 1;if(u===Hp.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const v=f0(d[y],g[y]);if(v!==0)return v;const T=kc(h[d[y]],m[g[y]]);if(T!==0)return T}return Ie(d.length,g.length)})(e.mapValue,t.mapValue);default:throw Jt(23264,{he:n})}}function cR(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ie(e,t);const n=cl(e),i=cl(t),r=Ie(n.seconds,i.seconds);return r!==0?r:Ie(n.nanos,i.nanos)}function hR(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=kc(n[r],i[r]);if(o)return o}return Ie(n.length,i.length)}function Dc(e){return d0(e)}function d0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const i=cl(n);return`time(${i.seconds},${i.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return hl(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Wt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=d0(o);return i+"]"})(e.arrayValue):"mapValue"in e?(function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const u of i)o?o=!1:r+=",",r+=`${u}:${d0(n.fields[u])}`;return r+"}"})(e.mapValue):Jt(61005,{value:e})}function sm(e){switch(fl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vg(e);return t?16+sm(t):16;case 5:return 2*e.stringValue.length;case 6:return hl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+sm(o)),0)})(e.arrayValue);case 10:case 11:return(function(i){let r=0;return wl(i.fields,((o,u)=>{r+=o.length+sm(u)})),r})(e.mapValue);default:throw Jt(13486,{value:e})}}function fR(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function p0(e){return!!e&&"integerValue"in e}function cb(e){return!!e&&"arrayValue"in e}function dR(e){return!!e&&"nullValue"in e}function pR(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function om(e){return!!e&&"mapValue"in e}function ZH(e){return(e?.mapValue?.fields||{})[Sk]?.stringValue===xk}function Pf(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return wl(e.mapValue.fields,((n,i)=>t.mapValue.fields[n]=Pf(i))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pf(e.arrayValue.values[n]);return t}return{...e}}function $H(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===KH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this.value=t}static empty(){return new yr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!om(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pf(n)}setAll(t){let n=Mi.emptyPath(),i={},r=[];t.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=h.popLast()}u?i[h.lastSegment()]=Pf(u):r.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(t){const n=this.field(t.popLast());om(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return wo(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];om(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){wl(n,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new yr(Pf(this.value))}}function Ak(e){const t=[];return wl(e.fields,((n,i)=>{const r=new Mi([n]);if(om(i)){const o=Ak(i.mapValue).fields;if(o.length===0)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)})),new qr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,n,i,r,o,u,h){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new Wi(t,0,le.min(),le.min(),le.min(),yr.empty(),0)}static newFoundDocument(t,n,i,r){return new Wi(t,1,n,le.min(),i,r,0)}static newNoDocument(t,n){return new Wi(t,2,n,le.min(),le.min(),yr.empty(),0)}static newUnknownDocument(t,n){return new Wi(t,3,n,le.min(),le.min(),yr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Wi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n){this.position=t,this.inclusive=n}}function mR(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const o=t[r],u=e.position[r];if(o.field.isKeyField()?i=Wt.comparator(Wt.fromName(u.referenceValue),n.key):i=kc(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function gR(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wo(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,n="asc"){this.field=t,this.dir=n}}function YH(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{}class ri extends Rk{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new QH(t,n,i):n==="array-contains"?new eq(t,i):n==="in"?new nq(t,i):n==="not-in"?new iq(t,i):n==="array-contains-any"?new rq(t,i):new ri(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new JH(t,i):new tq(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(kc(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(kc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zs extends Rk{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new zs(t,n)}matches(t){return Ck(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ck(e){return e.op==="and"}function Ik(e){return XH(e)&&Ck(e)}function XH(e){for(const t of e.filters)if(t instanceof zs)return!1;return!0}function m0(e){if(e instanceof ri)return e.field.canonicalString()+e.op.toString()+Dc(e.value);if(Ik(e))return e.filters.map((t=>m0(t))).join(",");{const t=e.filters.map((n=>m0(n))).join(",");return`${e.op}(${t})`}}function Pk(e,t){return e instanceof ri?(function(i,r){return r instanceof ri&&i.op===r.op&&i.field.isEqual(r.field)&&wo(i.value,r.value)})(e,t):e instanceof zs?(function(i,r){return r instanceof zs&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,u,h)=>o&&Pk(u,r.filters[h])),!0):!1})(e,t):void Jt(19439)}function kk(e){return e instanceof ri?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dc(n.value)}`})(e):e instanceof zs?(function(n){return n.op.toString()+" {"+n.getFilters().map(kk).join(" ,")+"}"})(e):"Filter"}class QH extends ri{constructor(t,n,i){super(t,n,i),this.key=Wt.fromName(i.referenceValue)}matches(t){const n=Wt.comparator(t.key,this.key);return this.matchesComparison(n)}}class JH extends ri{constructor(t,n){super(t,"in",n),this.keys=Dk("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class tq extends ri{constructor(t,n){super(t,"not-in",n),this.keys=Dk("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Dk(e,t){return(t.arrayValue?.values||[]).map((n=>Wt.fromName(n.referenceValue)))}class eq extends ri{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return cb(n)&&Qf(n.arrayValue,this.value)}}class nq extends ri{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Qf(this.value.arrayValue,n)}}class iq extends ri{constructor(t,n){super(t,"not-in",n)}matches(t){if(Qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qf(this.value.arrayValue,n)}}class rq extends ri{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!cb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Qf(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(t,n=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function yR(e,t=null,n=[],i=[],r=null,o=null,u=null){return new sq(e,t,n,i,r,o,u)}function hb(e){const t=ce(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((i=>m0(i))).join(","),n+="|ob:",n+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),_g(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Dc(i))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Dc(i))).join(",")),t.Te=n}return t.Te}function fb(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!YH(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Pk(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gR(e.startAt,t.startAt)&&gR(e.endAt,t.endAt)}function g0(e){return Wt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n=null,i=[],r=[],o=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oq(e,t,n,i,r,o,u,h){return new Xc(e,t,n,i,r,o,u,h)}function db(e){return new Xc(e)}function _R(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Mk(e){return e.collectionGroup!==null}function kf(e){const t=ce(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),n.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new di(Mi.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Jf(o,i))})),n.has(Mi.keyField().canonicalString())||t.Ie.push(new Jf(Mi.keyField(),i))}return t.Ie}function ho(e){const t=ce(e);return t.Ee||(t.Ee=aq(t,kf(e))),t.Ee}function aq(e,t){if(e.limitType==="F")return yR(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Jf(r.field,o)}));const n=e.endAt?new Vm(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Vm(e.startAt.position,e.startAt.inclusive):null;return yR(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function y0(e,t){const n=e.filters.concat([t]);return new Xc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function _0(e,t,n){return new Xc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wg(e,t){return fb(ho(e),ho(t))&&e.limitType===t.limitType}function Ok(e){return`${hb(ho(e))}|lt:${e.limitType}`}function oc(e){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((r=>kk(r))).join(", ")}]`),_g(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((r=>Dc(r))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((r=>Dc(r))).join(",")),`Target(${i})`})(ho(e))}; limitType=${e.limitType})`}function bg(e,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Wt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(e,t)&&(function(i,r){for(const o of kf(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(e,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(e,t)&&(function(i,r){return!(i.startAt&&!(function(u,h,d){const m=mR(u,h,d);return u.inclusive?m<=0:m<0})(i.startAt,kf(i),r)||i.endAt&&!(function(u,h,d){const m=mR(u,h,d);return u.inclusive?m>=0:m>0})(i.endAt,kf(i),r))})(e,t)}function lq(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Lk(e){return(t,n)=>{let i=!1;for(const r of kf(e)){const o=uq(r,t,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function uq(e,t,n){const i=e.field.isKeyField()?Wt.comparator(t.key,n.key):(function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?kc(d,m):Jt(42886)})(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Jt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){wl(this.inner,((n,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return _k(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=new Vn(Wt.comparator);function ta(){return cq}const Nk=new Vn(Wt.comparator);function df(...e){let t=Nk;for(const n of e)t=t.insert(n.key,n);return t}function Vk(e){let t=Nk;return e.forEach(((n,i)=>t=t.insert(n,i.overlayedDocument))),t}function nu(){return Df()}function zk(){return Df()}function Df(){return new gu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const hq=new Vn(Wt.comparator),fq=new di(Wt.comparator);function Pe(...e){let t=fq;for(const n of e)t=t.add(n);return t}const dq=new di(Ie);function pq(){return dq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Om(t)?"-0":t}}function Uk(e){return{integerValue:""+e}}function mq(e,t){return jH(t)?Uk(t):pb(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this._=void 0}}function gq(e,t,n){return e instanceof td?(function(r,o){const u={fields:{[bk]:{stringValue:wk},[Ek]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ub(o)&&(o=vg(o)),o&&(u.fields[Tk]=o),{mapValue:u}})(n,t):e instanceof ed?Fk(e,t):e instanceof nd?jk(e,t):(function(r,o){const u=Bk(r,o),h=vR(u)+vR(r.Ae);return p0(u)&&p0(r.Ae)?Uk(h):pb(r.serializer,h)})(e,t)}function yq(e,t,n){return e instanceof ed?Fk(e,t):e instanceof nd?jk(e,t):n}function Bk(e,t){return e instanceof zm?(function(i){return p0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class td extends Tg{}class ed extends Tg{constructor(t){super(),this.elements=t}}function Fk(e,t){const n=Hk(t);for(const i of e.elements)n.some((r=>wo(r,i)))||n.push(i);return{arrayValue:{values:n}}}class nd extends Tg{constructor(t){super(),this.elements=t}}function jk(e,t){let n=Hk(t);for(const i of e.elements)n=n.filter((r=>!wo(r,i)));return{arrayValue:{values:n}}}class zm extends Tg{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function vR(e){return $n(e.integerValue||e.doubleValue)}function Hk(e){return cb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(t,n){this.field=t,this.transform=n}}function vq(e,t){return e.field.isEqual(t.field)&&(function(i,r){return i instanceof ed&&r instanceof ed||i instanceof nd&&r instanceof nd?Pc(i.elements,r.elements,wo):i instanceof zm&&r instanceof zm?wo(i.Ae,r.Ae):i instanceof td&&r instanceof td})(e.transform,t.transform)}class wq{constructor(t,n){this.version=t,this.transformResults=n}}class Ls{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ls}static exists(t){return new Ls(void 0,t)}static updateTime(t){return new Ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function am(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Eg{}function qk(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new mb(e.key,Ls.none()):new wd(e.key,e.data,Ls.none());{const n=e.data,i=yr.empty();let r=new di(Mi.comparator);for(let o of t.fields)if(!r.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),r=r.add(o)}return new bl(e.key,i,new qr(r.toArray()),Ls.none())}}function bq(e,t,n){e instanceof wd?(function(r,o,u){const h=r.value.clone(),d=bR(r.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(e,t,n):e instanceof bl?(function(r,o,u){if(!am(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=bR(r.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(Gk(r)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(e,t,n):(function(r,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,n)}function Mf(e,t,n,i){return e instanceof wd?(function(o,u,h,d){if(!am(o.precondition,u))return h;const m=o.value.clone(),g=TR(o.fieldTransforms,d,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(e,t,n,i):e instanceof bl?(function(o,u,h,d){if(!am(o.precondition,u))return h;const m=TR(o.fieldTransforms,d,u),g=u.data;return g.setAll(Gk(o)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(e,t,n,i):(function(o,u,h){return am(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(e,t,n)}function Tq(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),o=Bk(i.transform,r||null);o!=null&&(n===null&&(n=yr.empty()),n.set(i.field,o))}return n||null}function wR(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Pc(i,r,((o,u)=>vq(o,u)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wd extends Eg{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bl extends Eg{constructor(t,n,i,r,o=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Gk(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function bR(e,t,n){const i=new Map;Je(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let r=0;r<n.length;r++){const o=e[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,yq(u,h,n[r]))}return i}function TR(e,t,n){const i=new Map;for(const r of e){const o=r.transform,u=n.data.field(r.field);i.set(r.field,gq(o,u,t))}return i}class mb extends Eg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eq extends Eg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&bq(o,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Mf(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Mf(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=zk();return this.mutations.forEach((r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(r.key)?null:h;const d=qk(u,h);d!==null&&i.set(r.key,d),u.isValidDocument()||u.convertToNoDocument(le.min())})),i}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Pe())}isEqual(t){return this.batchId===t.batchId&&Pc(this.mutations,t.mutations,((n,i)=>wR(n,i)))&&Pc(this.baseMutations,t.baseMutations,((n,i)=>wR(n,i)))}}class gb{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Je(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return hq})();const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new gb(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei,Ne;function Rq(e){switch(e){case At.OK:return Jt(64938);case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0;default:return Jt(15467,{code:e})}}function Wk(e){if(e===void 0)return Jo("GRPC error has no .code"),At.UNKNOWN;switch(e){case ei.OK:return At.OK;case ei.CANCELLED:return At.CANCELLED;case ei.UNKNOWN:return At.UNKNOWN;case ei.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case ei.INTERNAL:return At.INTERNAL;case ei.UNAVAILABLE:return At.UNAVAILABLE;case ei.UNAUTHENTICATED:return At.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case ei.NOT_FOUND:return At.NOT_FOUND;case ei.ALREADY_EXISTS:return At.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return At.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case ei.ABORTED:return At.ABORTED;case ei.OUT_OF_RANGE:return At.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return At.UNIMPLEMENTED;case ei.DATA_LOSS:return At.DATA_LOSS;default:return Jt(39323,{code:e})}}(Ne=ei||(ei={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=new nl([4294967295,4294967295],0);function ER(e){const t=Cq().encode(e),n=new ak;return n.update(t),new Uint8Array(n.digest())}function SR(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new nl([n,i],0),new nl([r,o],0)]}class yb{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new pf(`Invalid padding: ${n}`);if(i<0)throw new pf(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new pf(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new pf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=nl.fromNumber(this.ge)}ye(t,n,i){let r=t.add(n.multiply(nl.fromNumber(i)));return r.compare(Iq)===1&&(r=new nl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=ER(t),[i,r]=SR(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,r,o);if(!this.we(u))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new yb(o,r,n);return i.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const n=ER(t),[i,r]=SR(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,r,o);this.Se(u)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,n,i,r,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,bd.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Sg(le.min(),r,new Vn(Ie),ta(),Pe())}}class bd{constructor(t,n,i,r,o){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new bd(i,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,n,i,r){this.be=t,this.removedTargetIds=n,this.key=i,this.De=r}}class Kk{constructor(t,n){this.targetId=t,this.Ce=n}}class Zk{constructor(t,n,i=Oi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class xR{constructor(){this.ve=0,this.Fe=AR(),this.Me=Oi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pe(),n=Pe(),i=Pe();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Jt(38017,{changeType:o})}})),new bd(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=AR()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Pq{constructor(t){this.Ge=t,this.ze=new Map,this.je=ta(),this.Je=qp(),this.He=qp(),this.Ye=new Vn(Ie)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Jt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((i,r)=>{this.rt(r)&&n(r)}))}st(t){const n=t.targetId,i=t.Ce.count,r=this.ot(n);if(r){const o=r.target;if(g0(o))if(i===0){const u=new Wt(o.path);this.et(n,u,Wi.newNoDocument(u,le.min()))}else Je(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(t),d=h?this.ct(h,t,u):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let u,h;try{u=hl(i).toUint8Array()}catch(d){if(d instanceof vk)return Ic("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new yb(u,r,o)}catch(d){return Ic(d instanceof pf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(n,o,null),r++)})),r}Tt(t){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&g0(h.target)){const d=new Wt(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Wi.newNoDocument(d,t))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let i=Pe();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const r=new Sg(t,n,this.Ye,this.je,i);return this.je=ta(),this.Je=qp(),this.He=qp(),this.Ye=new Vn(Ie),r}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new xR,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new di(Ie),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new di(Ie),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||zt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new xR),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function qp(){return new Vn(Wt.comparator)}function AR(){return new Vn(Wt.comparator)}const kq={asc:"ASCENDING",desc:"DESCENDING"},Dq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mq={and:"AND",or:"OR"};class Oq{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function v0(e,t){return e.useProto3Json||_g(t)?t:{value:t}}function Um(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $k(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Lq(e,t){return Um(e,t.toTimestamp())}function fo(e){return Je(!!e,49232),le.fromTimestamp((function(n){const i=cl(n);return new pn(i.seconds,i.nanos)})(e))}function _b(e,t){return w0(e,t).canonicalString()}function w0(e,t){const n=(function(r){return new bn(["projects",r.projectId,"databases",r.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Yk(e){const t=bn.fromString(e);return Je(eD(t),10190,{key:t.toString()}),t}function b0(e,t){return _b(e.databaseId,t.path)}function fv(e,t){const n=Yk(t);if(n.get(1)!==e.databaseId.projectId)throw new Nt(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nt(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wt(Qk(n))}function Xk(e,t){return _b(e.databaseId,t)}function Nq(e){const t=Yk(e);return t.length===4?bn.emptyPath():Qk(t)}function T0(e){return new bn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qk(e){return Je(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function RR(e,t,n){return{name:b0(e,t),fields:n.value.mapValue.fields}}function Vq(e,t){let n;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Jt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(m,g){return m.useProto3Json?(Je(g===void 0||typeof g=="string",58123),Oi.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Oi.fromUint8Array(g||new Uint8Array))})(e,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(m){const g=m.code===void 0?At.UNKNOWN:Wk(m.code);return new Nt(g,m.message||"")})(u);n=new Zk(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=fv(e,i.document.name),o=fo(i.document.updateTime),u=i.document.createTime?fo(i.document.createTime):le.min(),h=new yr({mapValue:{fields:i.document.fields}}),d=Wi.newFoundDocument(r,o,u,h),m=i.targetIds||[],g=i.removedTargetIds||[];n=new lm(m,g,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=fv(e,i.document),o=i.readTime?fo(i.readTime):le.min(),u=Wi.newNoDocument(r,o),h=i.removedTargetIds||[];n=new lm([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=fv(e,i.document),o=i.removedTargetIds||[];n=new lm([],o,r,null)}else{if(!("filter"in t))return Jt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,u=new Aq(r,o),h=i.targetId;n=new Kk(h,u)}}return n}function zq(e,t){let n;if(t instanceof wd)n={update:RR(e,t.key,t.value)};else if(t instanceof mb)n={delete:b0(e,t.key)};else if(t instanceof bl)n={update:RR(e,t.key,t.data),updateMask:Kq(t.fieldMask)};else{if(!(t instanceof Eq))return Jt(16599,{Vt:t.type});n={verify:b0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof td)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ed)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof nd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zm)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Jt(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(n.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:Lq(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Jt(27497)})(e,t.precondition)),n}function Uq(e,t){return e&&e.length>0?(Je(t!==void 0,14353),e.map((n=>(function(r,o){let u=r.updateTime?fo(r.updateTime):fo(o);return u.isEqual(le.min())&&(u=fo(o)),new wq(u,r.transformResults||[])})(n,t)))):[]}function Bq(e,t){return{documents:[Xk(e,t.path)]}}function Fq(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Xk(e,r);const o=(function(m){if(m.length!==0)return tD(zs.create(m,"and"))})(t.filters);o&&(n.structuredQuery.where=o);const u=(function(m){if(m.length!==0)return m.map((g=>(function(v){return{field:ac(v.field),direction:qq(v.dir)}})(g)))})(t.orderBy);u&&(n.structuredQuery.orderBy=u);const h=v0(e,t.limit);return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:n,parent:r}}function jq(e){let t=Nq(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Je(i===1,65062);const g=n.from[0];g.allDescendants?r=g.collectionId:t=t.child(g.collectionId)}let o=[];n.where&&(o=(function(y){const v=Jk(y);return v instanceof zs&&Ik(v)?v.getFilters():[v]})(n.where));let u=[];n.orderBy&&(u=(function(y){return y.map((v=>(function(R){return new Jf(lc(R.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(v)))})(n.orderBy));let h=null;n.limit&&(h=(function(y){let v;return v=typeof y=="object"?y.value:y,_g(v)?null:v})(n.limit));let d=null;n.startAt&&(d=(function(y){const v=!!y.before,T=y.values||[];return new Vm(T,v)})(n.startAt));let m=null;return n.endAt&&(m=(function(y){const v=!y.before,T=y.values||[];return new Vm(T,v)})(n.endAt)),oq(t,r,u,o,h,"F",d,m)}function Hq(e,t){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt(28987,{purpose:r})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Jk(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=lc(n.unaryFilter.field);return ri.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=lc(n.unaryFilter.field);return ri.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=lc(n.unaryFilter.field);return ri.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=lc(n.unaryFilter.field);return ri.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Jt(61313);default:return Jt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return ri.create(lc(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Jt(58110);default:return Jt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return zs.create(n.compositeFilter.filters.map((i=>Jk(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Jt(1026)}})(n.compositeFilter.op))})(e):Jt(30097,{filter:e})}function qq(e){return kq[e]}function Gq(e){return Dq[e]}function Wq(e){return Mq[e]}function ac(e){return{fieldPath:e.canonicalString()}}function lc(e){return Mi.fromServerFormat(e.fieldPath)}function tD(e){return e instanceof ri?(function(n){if(n.op==="=="){if(pR(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NAN"}};if(dR(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pR(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NOT_NAN"}};if(dR(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ac(n.field),op:Gq(n.op),value:n.value}}})(e):e instanceof zs?(function(n){const i=n.getFilters().map((r=>tD(r)));return i.length===1?i[0]:{compositeFilter:{op:Wq(n.op),filters:i}}})(e):Jt(54877,{filter:e})}function Kq(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function eD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,n,i,r,o=le.min(),u=le.min(),h=Oi.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Ja(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(t){this.yt=t}}function $q(e){const t=jq({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?_0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(){this.Cn=new Xq}addToCollectionParentIndex(t,n){return this.Cn.add(n),Ct.resolve()}getCollectionParents(t,n){return Ct.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Ct.resolve()}deleteFieldIndex(t,n){return Ct.resolve()}deleteAllFieldIndexes(t){return Ct.resolve()}createTargetIndexes(t,n){return Ct.resolve()}getDocumentsMatchingTarget(t,n){return Ct.resolve(null)}getIndexType(t,n){return Ct.resolve(0)}getFieldIndexes(t,n){return Ct.resolve([])}getNextCollectionGroupToUpdate(t){return Ct.resolve(null)}getMinOffset(t,n){return Ct.resolve(ul.min())}getMinOffsetFromCollectionGroup(t,n){return Ct.resolve(ul.min())}updateCollectionGroup(t,n,i){return Ct.resolve()}updateIndexEntries(t,n){return Ct.resolve()}}class Xq{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new di(bn.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new di(bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nD=41943040;class mr{static withCacheSize(t){return new mr(t,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(nD,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Mc(0)}static cr(){return new Mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="LruGarbageCollector",Qq=1048576;function PR([e,t],[n,i]){const r=Ie(e,n);return r===0?Ie(t,i):r}class Jq{constructor(t){this.Ir=t,this.buffer=new di(PR),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();PR(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tG{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){zt(IR,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yc(n)?zt(IR,"Ignoring IndexedDB error during garbage collection: ",n):await $c(n)}await this.Vr(3e5)}))}}class eG{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(t,n){if(n===0)return Ct.resolve(yg.ce);const i=new Jq(n);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(zt("LruGarbageCollector","Garbage collection skipped; disabled"),Ct.resolve(CR)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CR):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,r,o,u,h,d,m;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,u=Date.now(),this.nthSequenceNumber(t,r)))).next((y=>(i=y,h=Date.now(),this.removeTargets(t,i,n)))).next((y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((y=>(m=Date.now(),sc()<=Ce.DEBUG&&zt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${y} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),Ct.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y}))))}}function nG(e,t){return new eG(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(){this.changes=new gu((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Wi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Ct.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,n)))).next((r=>(i!==null&&Mf(i.mutation,r,qr.empty(),pn.now()),r)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.getLocalViewOfDocuments(t,i,Pe()).next((()=>i))))}getLocalViewOfDocuments(t,n,i=Pe()){const r=nu();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,i).next((o=>{let u=df();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(t,n){const i=nu();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,Pe())))}populateOverlays(t,n,i){const r=[];return i.forEach((o=>{n.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(t,n,i,r){let o=ta();const u=Df(),h=(function(){return Df()})();return n.forEach(((d,m)=>{const g=i.get(m.key);r.has(m.key)&&(g===void 0||g.mutation instanceof bl)?o=o.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),Mf(g.mutation,m,g.mutation.getFieldMask(),pn.now())):u.set(m.key,qr.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((m,g)=>u.set(m,g))),n.forEach(((m,g)=>h.set(m,new rG(g,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,n){const i=Df();let r=new Vn(((u,h)=>u-h)),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=i.get(d)||qr.empty();g=h.applyToLocalView(m,g),i.set(d,g);const y=(r.get(h.batchId)||Pe()).add(d);r=r.insert(h.batchId,y)}))})).next((()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,y=zk();g.forEach((v=>{if(!o.has(v)){const T=qk(n.get(v),i.get(v));T!==null&&y.set(v,T),o=o.add(v)}})),u.push(this.documentOverlayCache.saveOverlays(t,m,y))}return Ct.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,n,i,r){return(function(u){return Wt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Mk(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next((o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-o.size):Ct.resolve(nu());let h=$f,d=o;return u.next((m=>Ct.forEach(m,((g,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(g)?Ct.resolve():this.remoteDocumentCache.getEntry(t,g).next((v=>{d=d.insert(g,v)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,d,m,Pe()))).next((g=>({batchId:h,changes:Vk(g)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Wt(n)).next((i=>{let r=df();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const o=n.collectionGroup;let u=df();return this.indexManager.getCollectionParents(t,o).next((h=>Ct.forEach(h,(d=>{const m=(function(y,v){return new Xc(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next((g=>{g.forEach(((y,v)=>{u=u.insert(y,v)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,o,r)))).next((u=>{o.forEach(((d,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,Wi.newInvalidDocument(g)))}));let h=df();return u.forEach(((d,m)=>{const g=o.get(d);g!==void 0&&Mf(g.mutation,m,qr.empty(),pn.now()),bg(n,m)&&(h=h.insert(d,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Ct.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:fo(r.createTime)}})(n)),Ct.resolve()}getNamedQuery(t,n){return Ct.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:$q(r.bundledQuery),readTime:fo(r.readTime)}})(n)),Ct.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(){this.overlays=new Vn(Wt.comparator),this.qr=new Map}getOverlay(t,n){return Ct.resolve(this.overlays.get(n))}getOverlays(t,n){const i=nu();return Ct.forEach(n,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,n,i){return i.forEach(((r,o)=>{this.St(t,n,o)})),Ct.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),Ct.resolve()}getOverlaysForCollection(t,n,i){const r=nu(),o=n.length+1,u=new Wt(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return Ct.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let o=new Vn(((m,g)=>m-g));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let g=o.get(m.largestBatchId);g===null&&(g=nu(),o=o.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=nu(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=r)););return Ct.resolve(h)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new xq(n,i));let o=this.qr.get(n);o===void 0&&(o=Pe(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(){this.sessionToken=Oi.EMPTY_BYTE_STRING}getSessionToken(t){return Ct.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Ct.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.Qr=new di(Ti.$r),this.Ur=new di(Ti.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Ti(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach((i=>this.addReference(i,n)))}removeReference(t,n){this.Gr(new Ti(t,n))}zr(t,n){t.forEach((i=>this.removeReference(i,n)))}jr(t){const n=new Wt(new bn([])),i=new Ti(n,t),r=new Ti(n,t+1),o=[];return this.Ur.forEachInRange([i,r],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Wt(new bn([])),i=new Ti(n,t),r=new Ti(n,t+1);let o=Pe();return this.Ur.forEachInRange([i,r],(u=>{o=o.add(u.key)})),o}containsKey(t){const n=new Ti(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Ti{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Wt.comparator(t.key,n.key)||Ie(t.Yr,n.Yr)}static Kr(t,n){return Ie(t.Yr,n.Yr)||Wt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new di(Ti.$r)}checkEmpty(t){return Ct.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Sq(o,n,i,r);this.mutationQueue.push(u);for(const h of r)this.Zr=this.Zr.add(new Ti(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Ct.resolve(u)}lookupMutationBatch(t,n){return Ct.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ei(i),o=r<0?0:r;return Ct.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ct.resolve(this.mutationQueue.length===0?lb:this.tr-1)}getAllMutationBatches(t){return Ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Ti(n,0),r=new Ti(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(u=>{const h=this.Xr(u.Yr);o.push(h)})),Ct.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new di(Ie);return n.forEach((r=>{const o=new Ti(r,0),u=new Ti(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{i=i.add(h.Yr)}))})),Ct.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let o=i;Wt.isDocumentKey(o)||(o=o.child(""));const u=new Ti(new Wt(o),0);let h=new di(Ie);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(d.Yr)),!0)}),u),Ct.resolve(this.ti(h))}ti(t){const n=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&n.push(r)})),n}removeMutationBatch(t,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Ct.forEach(n.mutations,(r=>{const o=new Ti(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,n){const i=new Ti(n,0),r=this.Zr.firstAfterOrEqual(i);return Ct.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ct.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(t){this.ri=t,this.docs=(function(){return new Vn(Wt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return Ct.resolve(i?i.document.mutableCopy():Wi.newInvalidDocument(n))}getEntries(t,n){let i=ta();return n.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Wi.newInvalidDocument(r))})),Ct.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let o=ta();const u=n.path,h=new Wt(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||zH(VH(g),i)<=0||(r.has(g.key)||bg(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Ct.resolve(o)}getAllFromCollectionGroup(t,n,i,r){Jt(9500)}ii(t,n){return Ct.forEach(this.docs,(i=>n(i)))}newChangeBuffer(t){return new hG(this)}getSize(t){return Ct.resolve(this.size)}}class hG extends iG{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),Ct.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(t){this.persistence=t,this.si=new gu((n=>hb(n)),fb),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new vb,this.targetCount=0,this.ai=Mc.ur()}forEachTarget(t,n){return this.si.forEach(((i,r)=>n(r))),Ct.resolve()}getLastRemoteSnapshotVersion(t){return Ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ct.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Ct.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),Ct.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Mc(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Ct.resolve()}updateTargetData(t,n){return this.Pr(n),Ct.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ct.resolve()}removeTargets(t,n,i){let r=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),Ct.waitFor(o).next((()=>r))}getTargetCount(t){return Ct.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return Ct.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),Ct.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach((u=>{o.push(r.markPotentiallyOrphaned(t,u))})),Ct.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Ct.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return Ct.resolve(i)}containsKey(t,n){return Ct.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,n){this.ui={},this.overlays={},this.ci=new yg(0),this.li=!1,this.li=!0,this.hi=new lG,this.referenceDelegate=t(this),this.Pi=new fG(this),this.indexManager=new Yq,this.remoteDocumentCache=(function(r){return new cG(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Zq(n),this.Ii=new oG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new aG,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new uG(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){zt("MemoryPersistence","Starting transaction:",t);const r=new dG(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,n){return Ct.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,n))))}}class dG extends BH{constructor(t){super(),this.currentSequenceNumber=t}}class wb{constructor(t){this.persistence=t,this.Ri=new vb,this.Vi=null}static mi(t){return new wb(t)}get fi(){if(this.Vi)return this.Vi;throw Jt(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),Ct.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),Ct.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Ct.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ct.forEach(this.fi,(i=>{const r=Wt.fromPath(i);return this.gi(t,r).next((o=>{o||n.removeEntry(r,le.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Ct.or([()=>Ct.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Bm{constructor(t,n){this.persistence=t,this.pi=new gu((i=>HH(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=nG(this,n)}static mi(t,n){return new Bm(t,n)}Ei(){}di(t){return Ct.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>n.next((r=>i+r))))}wr(t){let n=0;return this.pr(t,(i=>{n++})).next((()=>n))}pr(t,n){return Ct.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?Ct.resolve():n(r)))))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(u=>this.br(t,u,n).next((h=>{h||(i++,o.removeEntry(u,le.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Ct.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),Ct.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),Ct.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Ct.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=sm(t.data.value)),n}br(t,n,i){return Ct.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.pi.get(n);return Ct.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=r}static As(t,n){let i=Pe(),r=Pe();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new bb(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s7()?8:FH(Zi())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,r){const o={result:null};return this.ys(t,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(t,n,r,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new pG;return this.Ss(t,n,u).next((h=>{if(o.result=h,this.Vs)return this.bs(t,n,u,h.size)}))})).next((()=>o.result))}bs(t,n,i,r){return i.documentReadCount<this.fs?(sc()<=Ce.DEBUG&&zt("QueryEngine","SDK will not create cache indexes for query:",oc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ct.resolve()):(sc()<=Ce.DEBUG&&zt("QueryEngine","Query:",oc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(sc()<=Ce.DEBUG&&zt("QueryEngine","The SDK decides to create cache indexes for query:",oc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ho(n))):Ct.resolve())}ys(t,n){if(_R(n))return Ct.resolve(null);let i=ho(n);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=_0(n,null,"F"),i=ho(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const u=Pe(...o);return this.ps.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,i).next((d=>{const m=this.Ds(n,h);return this.Cs(n,m,u,d.readTime)?this.ys(t,_0(n,null,"F")):this.vs(t,m,n,d)}))))})))))}ws(t,n,i,r){return _R(n)||r.isEqual(le.min())?Ct.resolve(null):this.ps.getDocuments(t,i).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,i,r)?Ct.resolve(null):(sc()<=Ce.DEBUG&&zt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),oc(n)),this.vs(t,u,n,NH(r,$f)).next((h=>h)))}))}Ds(t,n){let i=new di(Lk(t));return n.forEach(((r,o)=>{bg(t,o)&&(i=i.add(o))})),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,n,i){return sc()<=Ce.DEBUG&&zt("QueryEngine","Using full collection scan to execute query:",oc(n)),this.ps.getDocumentsMatchingQuery(t,n,ul.min(),i)}vs(t,n,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LocalStore",gG=3e8;class yG{constructor(t,n,i,r){this.persistence=t,this.Fs=n,this.serializer=r,this.Ms=new Vn(Ie),this.xs=new gu((o=>hb(o)),fb),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function _G(e,t,n,i){return new yG(e,t,n,i)}async function rD(e,t){const n=ce(e);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let d=Pe();for(const m of r){u.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of o){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(i,d).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function vG(e,t){const n=ce(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const y=m.batch,v=y.keys();let T=Ct.resolve();return v.forEach((R=>{T=T.next((()=>g.getEntry(d,R))).next((M=>{const F=m.docVersions.get(R);Je(F!==null,48541),M.version.compareTo(F)<0&&(y.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),g.addEntry(M)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,y)))})(n,i,t,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Pe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(t)))).next((()=>n.localDocuments.getDocuments(i,r)))}))}function sD(e){const t=ce(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function wG(e,t){const n=ce(e),i=t.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const h=[];t.targetChanges.forEach(((g,y)=>{const v=r.get(y);if(!v)return;h.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,y))));let T=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?T=T.withResumeToken(Oi.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,i)),r=r.insert(y,T),(function(M,F,N){return M.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=gG?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(v,T,g)&&h.push(n.Pi.updateTargetData(o,T))}));let d=ta(),m=Pe();if(t.documentUpdates.forEach((g=>{t.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(bG(o,u,t.documentUpdates).next((g=>{d=g.ks,m=g.qs}))),!i.isEqual(le.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(g)}return Ct.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(n.Ms=r,o)))}function bG(e,t,n){let i=Pe(),r=Pe();return n.forEach((o=>i=i.add(o))),t.getEntries(e,i).next((o=>{let u=ta();return n.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(le.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):zt(Tb,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{ks:u,qs:r}}))}function TG(e,t){const n=ce(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=lb),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function EG(e,t){const n=ce(e);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return n.Pi.getTargetData(i,t).next((o=>o?(r=o,Ct.resolve(r)):n.Pi.allocateTargetId(i).next((u=>(r=new Ja(t,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i}))}async function E0(e,t,n){const i=ce(e),r=i.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Yc(u))throw u;zt(Tb,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function kR(e,t,n){const i=ce(e);let r=le.min(),o=Pe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,g){const y=ce(d),v=y.xs.get(g);return v!==void 0?Ct.resolve(y.Ms.get(v)):y.Pi.getTargetData(m,g)})(i,u,ho(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,t,n?r:le.min(),n?o:Pe()))).next((h=>(SG(i,lq(t),h),{documents:h,Qs:o})))))}function SG(e,t,n){let i=e.Os.get(t)||le.min();n.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),e.Os.set(t,i)}class DR{constructor(){this.activeTargetIds=pq()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xG{constructor(){this.Mo=new DR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new DR,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="ConnectivityMonitor";class OR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){zt(MR,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){zt(MR,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp=null;function S0(){return Gp===null?Gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gp++,"0x"+Gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="RestConnection",RG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CG{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Lm?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,n,i,r,o){const u=S0(),h=this.zo(t,n.toUriEncodedString());zt(dv,`Sending RPC '${t}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,r,o);const{host:m}=new URL(h),g=vl(m);return this.Jo(t,h,d,i,g).then((y=>(zt(dv,`Received RPC '${t}' ${u}: `,y),y)),(y=>{throw Ic(dv,`RPC '${t}' ${u} failed with error: `,y,"url: ",h,"request:",i),y}))}Ho(t,n,i,r,o,u){return this.Go(t,n,i,r,o)}jo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,n){const i=RG[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="WebChannelConnection";class PG extends CG{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,o){const u=S0();return new Promise(((h,d)=>{const m=new lk;m.setWithCredentials(!0),m.listenOnce(uk.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case rm.NO_ERROR:const y=m.getResponseJson();zt(Hi,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(y)),h(y);break;case rm.TIMEOUT:zt(Hi,`RPC '${t}' ${u} timed out`),d(new Nt(At.DEADLINE_EXCEEDED,"Request time out"));break;case rm.HTTP_ERROR:const v=m.getStatus();if(zt(Hi,`RPC '${t}' ${u} failed with status:`,v,"response text:",m.getResponseText()),v>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T?.error;if(R&&R.status&&R.message){const M=(function(N){const K=N.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(K)>=0?K:At.UNKNOWN})(R.status);d(new Nt(M,R.message))}else d(new Nt(At.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Nt(At.UNAVAILABLE,"Connection failed."));break;default:Jt(9055,{l_:t,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{zt(Hi,`RPC '${t}' ${u} completed.`)}}));const g=JSON.stringify(r);zt(Hi,`RPC '${t}' ${u} sending request:`,r),m.send(n,"POST",g,i,15)}))}T_(t,n,i){const r=S0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=fk(),h=hk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const g=o.join("");zt(Hi,`Creating RPC '${t}' stream ${r}: ${g}`,d);const y=u.createWebChannel(g,d);this.I_(y);let v=!1,T=!1;const R=new IG({Yo:F=>{T?zt(Hi,`Not sending because RPC '${t}' stream ${r} is closed:`,F):(v||(zt(Hi,`Opening RPC '${t}' stream ${r} transport.`),y.open(),v=!0),zt(Hi,`RPC '${t}' stream ${r} sending:`,F),y.send(F))},Zo:()=>y.close()}),M=(F,N,K)=>{F.listen(N,(W=>{try{K(W)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return M(y,ff.EventType.OPEN,(()=>{T||(zt(Hi,`RPC '${t}' stream ${r} transport opened.`),R.o_())})),M(y,ff.EventType.CLOSE,(()=>{T||(T=!0,zt(Hi,`RPC '${t}' stream ${r} transport closed`),R.a_(),this.E_(y))})),M(y,ff.EventType.ERROR,(F=>{T||(T=!0,Ic(Hi,`RPC '${t}' stream ${r} transport errored. Name:`,F.name,"Message:",F.message),R.a_(new Nt(At.UNAVAILABLE,"The operation could not be completed")))})),M(y,ff.EventType.MESSAGE,(F=>{if(!T){const N=F.data[0];Je(!!N,16349);const K=N,W=K?.error||K[0]?.error;if(W){zt(Hi,`RPC '${t}' stream ${r} received error:`,W);const tt=W.status;let X=(function(x){const A=ei[x];if(A!==void 0)return Wk(A)})(tt),z=W.message;X===void 0&&(X=At.INTERNAL,z="Unknown error status: "+tt+" with message "+W.message),T=!0,R.a_(new Nt(X,z)),y.close()}else zt(Hi,`RPC '${t}' stream ${r} received:`,N),R.u_(N)}})),M(h,ck.STAT_EVENT,(F=>{F.stat===h0.PROXY?zt(Hi,`RPC '${t}' stream ${r} detected buffering proxy`):F.stat===h0.NOPROXY&&zt(Hi,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function pv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(e){return new Oq(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&zt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="PersistentStream";class aD{constructor(t,n,i,r,o,u,h,d){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oD(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===At.RESOURCE_EXHAUSTED?(Jo(n.toString()),Jo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===At.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===n&&this.G_(i,r)}),(i=>{t((()=>{const r=new Nt(At.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return zt(LR,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(zt(LR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kG extends aD{constructor(t,n,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,u),this.serializer=o}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Vq(this.serializer,t),i=(function(o){if(!("targetChange"in o))return le.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?le.min():u.readTime?fo(u.readTime):le.min()})(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=T0(this.serializer),n.addTarget=(function(o,u){let h;const d=u.target;if(h=g0(d)?{documents:Bq(o,d)}:{query:Fq(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=$k(o,u.resumeToken);const m=v0(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(le.min())>0){h.readTime=Um(o,u.snapshotVersion.toTimestamp());const m=v0(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=Hq(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=T0(this.serializer),n.removeTarget=t,this.q_(n)}}class DG extends aD{constructor(t,n,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Je(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Je(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Je(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Uq(t.writeResults,t.commitTime),i=fo(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=T0(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((i=>zq(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{}class OG extends MG{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Nt(At.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(t,w0(n,i),r,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Nt(At.UNKNOWN,o.toString())}))}Ho(t,n,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(t,w0(n,i),r,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Nt(At.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LG{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jo(n),this.aa=!1):zt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="RemoteStore";class NG{constructor(t,n,i,r,o){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{yu(this)&&(zt(hu,"Restarting streams for network reachability change."),await(async function(d){const m=ce(d);m.Ea.add(4),await Td(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Ag(m)})(this))}))})),this.Ra=new LG(i,r)}}async function Ag(e){if(yu(e))for(const t of e.da)await t(!0)}async function Td(e){for(const t of e.da)await t(!1)}function lD(e,t){const n=ce(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ab(n)?xb(n):Qc(n).O_()&&Sb(n,t))}function Eb(e,t){const n=ce(e),i=Qc(n);n.Ia.delete(t),i.O_()&&uD(n,t),n.Ia.size===0&&(i.O_()?i.L_():yu(n)&&n.Ra.set("Unknown"))}function Sb(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(le.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qc(e).Y_(t)}function uD(e,t){e.Va.Ue(t),Qc(e).Z_(t)}function xb(e){e.Va=new Pq({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Qc(e).start(),e.Ra.ua()}function Ab(e){return yu(e)&&!Qc(e).x_()&&e.Ia.size>0}function yu(e){return ce(e).Ea.size===0}function cD(e){e.Va=void 0}async function VG(e){e.Ra.set("Online")}async function zG(e){e.Ia.forEach(((t,n)=>{Sb(e,t)}))}async function UG(e,t){cD(e),Ab(e)?(e.Ra.ha(t),xb(e)):e.Ra.set("Unknown")}async function BG(e,t,n){if(e.Ra.set("Online"),t instanceof Zk&&t.state===2&&t.cause)try{await(async function(r,o){const u=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.Ia.delete(h),r.Va.removeTarget(h))})(e,t)}catch(i){zt(hu,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Fm(e,i)}else if(t instanceof lm?e.Va.Ze(t):t instanceof Kk?e.Va.st(t):e.Va.tt(t),!n.isEqual(le.min()))try{const i=await sD(e.localStore);n.compareTo(i)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(m);g&&o.Ia.set(m,g.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(Oi.EMPTY_BYTE_STRING,g.snapshotVersion)),uD(o,d);const y=new Ja(g.target,d,m,g.sequenceNumber);Sb(o,y)})),o.remoteSyncer.applyRemoteEvent(h)})(e,n)}catch(i){zt(hu,"Failed to raise snapshot:",i),await Fm(e,i)}}async function Fm(e,t,n){if(!Yc(t))throw t;e.Ea.add(1),await Td(e),e.Ra.set("Offline"),n||(n=()=>sD(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{zt(hu,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Ag(e)}))}function hD(e,t){return t().catch((n=>Fm(e,n,t)))}async function Rg(e){const t=ce(e),n=dl(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:lb;for(;FG(t);)try{const r=await TG(t.localStore,i);if(r===null){t.Ta.length===0&&n.L_();break}i=r.batchId,jG(t,r)}catch(r){await Fm(t,r)}fD(t)&&dD(t)}function FG(e){return yu(e)&&e.Ta.length<10}function jG(e,t){e.Ta.push(t);const n=dl(e);n.O_()&&n.X_&&n.ea(t.mutations)}function fD(e){return yu(e)&&!dl(e).x_()&&e.Ta.length>0}function dD(e){dl(e).start()}async function HG(e){dl(e).ra()}async function qG(e){const t=dl(e);for(const n of e.Ta)t.ea(n.mutations)}async function GG(e,t,n){const i=e.Ta.shift(),r=gb.from(i,t,n);await hD(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await Rg(e)}async function WG(e,t){t&&dl(e).X_&&await(async function(i,r){if((function(u){return Rq(u)&&u!==At.ABORTED})(r.code)){const o=i.Ta.shift();dl(i).B_(),await hD(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Rg(i)}})(e,t),fD(e)&&dD(e)}async function NR(e,t){const n=ce(e);n.asyncQueue.verifyOperationInProgress(),zt(hu,"RemoteStore received new credentials");const i=yu(n);n.Ea.add(3),await Td(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ag(n)}async function KG(e,t){const n=ce(e);t?(n.Ea.delete(2),await Ag(n)):t||(n.Ea.add(2),await Td(n),n.Ra.set("Unknown"))}function Qc(e){return e.ma||(e.ma=(function(n,i,r){const o=ce(n);return o.sa(),new kG(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(e.datastore,e.asyncQueue,{Xo:VG.bind(null,e),t_:zG.bind(null,e),r_:UG.bind(null,e),H_:BG.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Ab(e)?xb(e):e.Ra.set("Unknown")):(await e.ma.stop(),cD(e))}))),e.ma}function dl(e){return e.fa||(e.fa=(function(n,i,r){const o=ce(n);return o.sa(),new DG(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:HG.bind(null,e),r_:WG.bind(null,e),ta:qG.bind(null,e),na:GG.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Rg(e)):(await e.fa.stop(),e.Ta.length>0&&(zt(hu,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t,n,i,r,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new su,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,o){const u=Date.now()+i,h=new Rb(t,n,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Nt(At.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cb(e,t){if(Jo("AsyncQueue",`${t}: ${e}`),Yc(e))return new Nt(At.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{static emptySet(t){return new Tc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Wt.comparator(n.key,i.key):(n,i)=>Wt.comparator(n.key,i.key),this.keyedMap=df(),this.sortedSet=new Vn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,i)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Tc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Tc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.ga=new Vn(Wt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Jt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,i)=>{t.push(i)})),t}}class Oc{constructor(t,n,i,r,o,u,h,d,m){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,n,i,r,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Oc(t,n,Tc.emptySet(n),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class $G{constructor(){this.queries=zR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=ce(n),o=r.queries;r.queries=zR(),o.forEach(((u,h)=>{for(const d of h.Sa)d.onError(i)}))})(this,new Nt(At.ABORTED,"Firestore shutting down"))}}function zR(){return new gu((e=>Ok(e)),wg)}async function YG(e,t){const n=ce(e);let i=3;const r=t.query;let o=n.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new ZG,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(r,!0);break;case 1:o.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(u){const h=Cb(u,`Initialization of query '${oc(t.query)}' failed`);return void t.onError(h)}n.queries.set(r,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&Ib(n)}async function XG(e,t){const n=ce(e),i=t.query;let r=3;const o=n.queries.get(i);if(o){const u=o.Sa.indexOf(t);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function QG(e,t){const n=ce(e);let i=!1;for(const r of t){const o=r.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(r)&&(i=!0);u.wa=r}}i&&Ib(n)}function JG(e,t,n){const i=ce(e),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(n);i.queries.delete(t)}function Ib(e){e.Ca.forEach((t=>{t.next()}))}var x0,UR;(UR=x0||(x0={})).Ma="default",UR.Cache="cache";class tW{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Oc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Oc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==x0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t){this.key=t}}class mD{constructor(t){this.key=t}}class eW{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=Lk(t),this.tu=new Tc(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new VR,r=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((g,y)=>{const v=r.get(g),T=bg(this.query,y)?y:null,R=!!v&&this.mutatedKeys.has(v.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let F=!1;v&&T?v.data.isEqual(T.data)?R!==M&&(i.track({type:3,doc:T}),F=!0):this.su(v,T)||(i.track({type:2,doc:T}),F=!0,(d&&this.eu(T,d)>0||m&&this.eu(T,m)<0)&&(h=!0)):!v&&T?(i.track({type:0,doc:T}),F=!0):v&&!T&&(i.track({type:1,doc:v}),F=!0,(d||m)&&(h=!0)),F&&(T?(u=u.add(T),o=M?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((g,y)=>(function(T,R){const M=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt(20277,{Rt:F})}};return M(T)-M(R)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(i),r=r??!1;const h=n&&!r?this._u():[],d=this.Xa.size===0&&this.current&&!r?1:0,m=d!==this.Za;return this.Za=d,u.length!==0||m?{snapshot:new Oc(this.query,t.tu,o,u,t.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return t.forEach((i=>{this.Xa.has(i)||n.push(new mD(i))})),this.Xa.forEach((i=>{t.has(i)||n.push(new pD(i))})),n}cu(t){this.Ya=t.Qs,this.Xa=Pe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Oc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pb="SyncEngine";class nW{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class iW{constructor(t){this.key=t,this.hu=!1}}class rW{constructor(t,n,i,r,o,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new gu((h=>Ok(h)),wg),this.Iu=new Map,this.Eu=new Set,this.du=new Vn(Wt.comparator),this.Au=new Map,this.Ru=new vb,this.Vu={},this.mu=new Map,this.fu=Mc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sW(e,t,n=!0){const i=bD(e);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await gD(i,t,n,!0),r}async function oW(e,t){const n=bD(e);await gD(n,t,!0,!1)}async function gD(e,t,n,i){const r=await EG(e.localStore,ho(t)),o=r.targetId,u=e.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await aW(e,t,o,u==="current",r.resumeToken)),e.isPrimaryClient&&n&&lD(e.remoteStore,r),h}async function aW(e,t,n,i,r){e.pu=(y,v,T)=>(async function(M,F,N,K){let W=F.view.ru(N);W.Cs&&(W=await kR(M.localStore,F.query,!1).then((({documents:q})=>F.view.ru(q,W))));const tt=K&&K.targetChanges.get(F.targetId),X=K&&K.targetMismatches.get(F.targetId)!=null,z=F.view.applyChanges(W,M.isPrimaryClient,tt,X);return FR(M,F.targetId,z.au),z.snapshot})(e,y,v,T);const o=await kR(e.localStore,t,!0),u=new eW(t,o.Qs),h=u.ru(o.documents),d=bd.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),m=u.applyChanges(h,e.isPrimaryClient,d);FR(e,n,m.au);const g=new nW(t,n,u);return e.Tu.set(t,g),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),m.snapshot}async function lW(e,t,n){const i=ce(e),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((u=>!wg(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await E0(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Eb(i.remoteStore,r.targetId),A0(i,r.targetId)})).catch($c)):(A0(i,r.targetId),await E0(i.localStore,r.targetId,!0))}async function uW(e,t){const n=ce(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Eb(n.remoteStore,i.targetId))}async function cW(e,t,n){const i=yW(e);try{const r=await(function(u,h){const d=ce(u),m=pn.now(),g=h.reduce(((T,R)=>T.add(R.key)),Pe());let y,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let R=ta(),M=Pe();return d.Ns.getEntries(T,g).next((F=>{R=F,R.forEach(((N,K)=>{K.isValidDocument()||(M=M.add(N))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,R))).next((F=>{y=F;const N=[];for(const K of h){const W=Tq(K,y.get(K.key).overlayedDocument);W!=null&&N.push(new bl(K.key,W,Ak(W.value.mapValue),Ls.exists(!0)))}return d.mutationQueue.addMutationBatch(T,m,N,h)})).next((F=>{v=F;const N=F.applyToLocalDocumentSet(y,M);return d.documentOverlayCache.saveOverlays(T,F.batchId,N)}))})).then((()=>({batchId:v.batchId,changes:Vk(y)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(u,h,d){let m=u.Vu[u.currentUser.toKey()];m||(m=new Vn(Ie)),m=m.insert(h,d),u.Vu[u.currentUser.toKey()]=m})(i,r.batchId,n),await Ed(i,r.changes),await Rg(i.remoteStore)}catch(r){const o=Cb(r,"Failed to persist write");n.reject(o)}}async function yD(e,t){const n=ce(e);try{const i=await wG(n.localStore,t);t.targetChanges.forEach(((r,o)=>{const u=n.Au.get(o);u&&(Je(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.hu=!0:r.modifiedDocuments.size>0?Je(u.hu,14607):r.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await Ed(n,i,t)}catch(i){await $c(i)}}function BR(e,t,n){const i=ce(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(u,h){const d=ce(u);d.onlineState=h;let m=!1;d.queries.forEach(((g,y)=>{for(const v of y.Sa)v.va(h)&&(m=!0)})),m&&Ib(d)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function hW(e,t,n){const i=ce(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),o=r&&r.key;if(o){let u=new Vn(Wt.comparator);u=u.insert(o,Wi.newNoDocument(o,le.min()));const h=Pe().add(o),d=new Sg(le.min(),new Map,new Vn(Ie),u,h);await yD(i,d),i.du=i.du.remove(o),i.Au.delete(t),kb(i)}else await E0(i.localStore,t,!1).then((()=>A0(i,t,n))).catch($c)}async function fW(e,t){const n=ce(e),i=t.batch.batchId;try{const r=await vG(n.localStore,t);vD(n,i,null),_D(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ed(n,r)}catch(r){await $c(r)}}async function dW(e,t,n){const i=ce(e);try{const r=await(function(u,h){const d=ce(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((y=>(Je(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(m,y)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(i.localStore,t);vD(i,t,n),_D(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Ed(i,r)}catch(r){await $c(r)}}function _D(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function vD(e,t,n){const i=ce(e);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(n?o.reject(n):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function A0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((i=>{e.Ru.containsKey(i)||wD(e,i)}))}function wD(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Eb(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),kb(e))}function FR(e,t,n){for(const i of n)i instanceof pD?(e.Ru.addReference(i.key,t),pW(e,i)):i instanceof mD?(zt(Pb,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||wD(e,i.key)):Jt(19791,{wu:i})}function pW(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(zt(Pb,"New document in limbo: "+n),e.Eu.add(i),kb(e))}function kb(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Wt(bn.fromString(t)),i=e.fu.next();e.Au.set(i,new iW(n)),e.du=e.du.insert(n,i),lD(e.remoteStore,new Ja(ho(db(n.path)),i,"TargetPurposeLimboResolution",yg.ce))}}async function Ed(e,t,n){const i=ce(e),r=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,t,n).then((m=>{if((m||n)&&i.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){r.push(m);const g=bb.As(d.targetId,m);o.push(g)}})))})),await Promise.all(u),i.Pu.H_(r),await(async function(d,m){const g=ce(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Ct.forEach(m,(v=>Ct.forEach(v.Es,(T=>g.persistence.referenceDelegate.addReference(y,v.targetId,T))).next((()=>Ct.forEach(v.ds,(T=>g.persistence.referenceDelegate.removeReference(y,v.targetId,T)))))))))}catch(y){if(!Yc(y))throw y;zt(Tb,"Failed to update sequence numbers: "+y)}for(const y of m){const v=y.targetId;if(!y.fromCache){const T=g.Ms.get(v),R=T.snapshotVersion,M=T.withLastLimboFreeSnapshotVersion(R);g.Ms=g.Ms.insert(v,M)}}})(i.localStore,o))}async function mW(e,t){const n=ce(e);if(!n.currentUser.isEqual(t)){zt(Pb,"User change. New user:",t.toKey());const i=await rD(n.localStore,t);n.currentUser=t,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new Nt(At.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Ed(n,i.Ls)}}function gW(e,t){const n=ce(e),i=n.Au.get(t);if(i&&i.hu)return Pe().add(i.key);{let r=Pe();const o=n.Iu.get(t);if(!o)return r;for(const u of o){const h=n.Tu.get(u);r=r.unionWith(h.view.nu)}return r}}function bD(e){const t=ce(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gW.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hW.bind(null,t),t.Pu.H_=QG.bind(null,t.eventManager),t.Pu.yu=JG.bind(null,t.eventManager),t}function yW(e){const t=ce(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fW.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dW.bind(null,t),t}class jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xg(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return _G(this.persistence,new mG,t.initialUser,this.serializer)}Cu(t){return new iD(wb.mi,this.serializer)}Du(t){return new xG}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jm.provider={build:()=>new jm};class _W extends jm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Je(this.persistence.referenceDelegate instanceof Bm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new tG(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new iD((i=>Bm.mi(i,n)),this.serializer)}}class R0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>BR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mW.bind(null,this.syncEngine),await KG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $G})()}createDatastore(t){const n=xg(t.databaseInfo.databaseId),i=(function(o){return new PG(o)})(t.databaseInfo);return(function(o,u,h,d){return new OG(o,u,h,d)})(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return(function(i,r,o,u,h){return new NG(i,r,o,u,h)})(this.localStore,this.datastore,t.asyncQueue,(n=>BR(this.syncEngine,n,0)),(function(){return OR.v()?new OR:new AG})())}createSyncEngine(t,n){return(function(r,o,u,h,d,m,g){const y=new rW(r,o,u,h,d,m);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=ce(n);zt(hu,"RemoteStore shutting down."),i.Ea.add(5),await Td(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}R0.provider={build:()=>new R0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Jo("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="FirestoreClient";class wW{constructor(t,n,i,r,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Gi.UNAUTHENTICATED,this.clientId=ab.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{zt(pl,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(zt(pl,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new su;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Cb(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function mv(e,t){e.asyncQueue.verifyOperationInProgress(),zt(pl,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async r=>{i.isEqual(r)||(await rD(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function jR(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bW(e);zt(pl,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((i=>NR(t.remoteStore,i))),e.setAppCheckTokenChangeListener(((i,r)=>NR(t.remoteStore,r))),e._onlineComponents=t}async function bW(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){zt(pl,"Using user provided OfflineComponentProvider");try{await mv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(r){return r.name==="FirebaseError"?r.code===At.FAILED_PRECONDITION||r.code===At.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;Ic("Error using user provided cache. Falling back to memory cache: "+n),await mv(e,new jm)}}else zt(pl,"Using default OfflineComponentProvider"),await mv(e,new _W(void 0));return e._offlineComponents}async function TD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(zt(pl,"Using user provided OnlineComponentProvider"),await jR(e,e._uninitializedComponentsProvider._online)):(zt(pl,"Using default OnlineComponentProvider"),await jR(e,new R0))),e._onlineComponents}function TW(e){return TD(e).then((t=>t.syncEngine))}async function HR(e){const t=await TD(e),n=t.eventManager;return n.onListen=sW.bind(null,t.syncEngine),n.onUnlisten=lW.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oW.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uW.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="firestore.googleapis.com",GR=!0;class WR{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Nt(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SD,this.ssl=GR}else this.host=t.host,this.ssl=t.ssl??GR;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Qq)throw new Nt(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ED(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Nt(At.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Nt(At.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Nt(At.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cg{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Nt(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Nt(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WR(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new xH;switch(i.type){case"firstParty":return new IH(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Nt(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=qR.get(n);i&&(zt("ComponentProvider","Removing Datastore"),qR.delete(n),i.terminate())})(this),Promise.resolve()}}function EW(e,t,n,i={}){e=il(e,Cg);const r=vl(t),o=e._getSettings(),u={...o,emulatorOptions:e._getEmulatorOptions()},h=`${t}:${n}`;r&&(eb(`https://${h}`),nb("Firestore",!0)),o.host!==SD&&o.host!==h&&Ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:r,emulatorOptions:i};if(!lu(d,u)&&(e._setSettings(d),i.mockUserToken)){let m,g;if(typeof i.mockUserToken=="string")m=i.mockUserToken,g=Gi.MOCK_USER;else{m=ek(i.mockUserToken,e._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Nt(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Gi(y)}e._authCredentials=new AH(new pk(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _u(this.firestore,t,this._query)}}class oi{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new oi(this.firestore,t,this._key)}toJSON(){return{type:oi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(vd(n,oi._jsonSchema))return new oi(t,i||null,new Wt(bn.fromString(n.referencePath)))}}oi._jsonSchemaVersion="firestore/documentReference/1.0",oi._jsonSchema={type:si("string",oi._jsonSchemaVersion),referencePath:si("string")};class rl extends _u{constructor(t,n,i){super(t,n,db(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new oi(this.firestore,null,new Wt(t))}withConverter(t){return new rl(this.firestore,t,this._path)}}function xD(e,t,...n){if(e=Dn(e),mk("collection","path",t),e instanceof Cg){const i=bn.fromString(t,...n);return rR(i),new rl(e,null,i)}{if(!(e instanceof oi||e instanceof rl))throw new Nt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(bn.fromString(t,...n));return rR(i),new rl(e.firestore,null,i)}}function Db(e,t,...n){if(e=Dn(e),arguments.length===1&&(t=ab.newId()),mk("doc","path",t),e instanceof Cg){const i=bn.fromString(t,...n);return iR(i),new oi(e,null,new Wt(i))}{if(!(e instanceof oi||e instanceof rl))throw new Nt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(bn.fromString(t,...n));return iR(i),new oi(e.firestore,e instanceof rl?e.converter:null,new Wt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="AsyncQueue";class ZR{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oD(this,"async_queue_retry"),this._c=()=>{const i=pv();i&&zt(KR,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=pv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=pv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new su;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Yc(t))throw t;zt(KR,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Jo("INTERNAL UNHANDLED ERROR: ",$R(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=Rb.createAndSchedule(this,t,n,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Jt(47125,{Pc:$R(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function $R(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(e){return(function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(e,["next","error","complete"])}class Lc extends Cg{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new ZR,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ZR(t),this._firestoreClient=void 0,await t}}}function SW(e,t){const n=typeof e=="object"?e:sb(),i=typeof e=="string"?e:Lm,r=mg(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=QP("firestore");o&&EW(r,...o)}return r}function AD(e){if(e._terminated)throw new Nt(At.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||xW(e),e._firestoreClient}function xW(e){const t=e._freezeSettings(),n=(function(r,o,u,h){return new WH(r,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ED(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new wW(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ps(Oi.fromBase64String(t))}catch(n){throw new Nt(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ps(Oi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vd(t,ps._jsonSchema))return ps.fromBase64String(t.bytes)}}ps._jsonSchemaVersion="firestore/bytes/1.0",ps._jsonSchema={type:si("string",ps._jsonSchemaVersion),bytes:si("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Nt(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Nt(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Nt(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ie(this._lat,t._lat)||Ie(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:po._jsonSchemaVersion}}static fromJSON(t){if(vd(t,po._jsonSchema))return new po(t.latitude,t.longitude)}}po._jsonSchemaVersion="firestore/geoPoint/1.0",po._jsonSchema={type:si("string",po._jsonSchemaVersion),latitude:si("number"),longitude:si("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vd(t,mo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new mo(t.vectorValues);throw new Nt(At.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mo._jsonSchemaVersion="firestore/vectorValue/1.0",mo._jsonSchema={type:si("string",mo._jsonSchemaVersion),vectorValues:si("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=/^__.*__$/;class RW{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new bl(t,this.data,this.fieldMask,n,this.fieldTransforms):new wd(t,this.data,n,this.fieldTransforms)}}class RD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new bl(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function CD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt(40011,{Ac:e})}}class Mb{constructor(t,n,i,r,o,u){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Mb({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Hm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(CD(this.Ac)&&AW.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CW{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||xg(t)}Cc(t,n,i,r=!1){return new Mb({Ac:t,methodName:n,Dc:i,path:Mi.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ob(e){const t=e._freezeSettings(),n=xg(e._databaseId);return new CW(e._databaseId,!!t.ignoreUndefinedProperties,n)}function IW(e,t,n,i,r,o={}){const u=e.Cc(o.merge||o.mergeFields?2:0,t,n,r);Nb("Data must be an object, but it was:",u,i);const h=ID(i,u);let d,m;if(o.merge)d=new qr(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const v=C0(t,y,n);if(!u.contains(v))throw new Nt(At.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);kD(g,v)||g.push(v)}d=new qr(g),m=u.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,m=u.fieldTransforms;return new RW(new yr(h),d,m)}class kg extends Pg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kg}}class Lb extends Pg{_toFieldTransform(t){return new _q(t.path,new td)}isEqual(t){return t instanceof Lb}}function PW(e,t,n,i){const r=e.Cc(1,t,n);Nb("Data must be an object, but it was:",r,i);const o=[],u=yr.empty();wl(i,((d,m)=>{const g=Vb(t,d,n);m=Dn(m);const y=r.yc(g);if(m instanceof kg)o.push(g);else{const v=Sd(m,y);v!=null&&(o.push(g),u.set(g,v))}}));const h=new qr(o);return new RD(u,h,r.fieldTransforms)}function kW(e,t,n,i,r,o){const u=e.Cc(1,t,n),h=[C0(t,i,n)],d=[r];if(o.length%2!=0)throw new Nt(At.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(C0(t,o[v])),d.push(o[v+1]);const m=[],g=yr.empty();for(let v=h.length-1;v>=0;--v)if(!kD(m,h[v])){const T=h[v];let R=d[v];R=Dn(R);const M=u.yc(T);if(R instanceof kg)m.push(T);else{const F=Sd(R,M);F!=null&&(m.push(T),g.set(T,F))}}const y=new qr(m);return new RD(g,y,u.fieldTransforms)}function DW(e,t,n,i=!1){return Sd(n,e.Cc(i?4:3,t))}function Sd(e,t){if(PD(e=Dn(e)))return Nb("Unsupported field value:",t,e),ID(e,t);if(e instanceof Pg)return(function(i,r){if(!CD(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let u=0;for(const h of i){let d=Sd(h,r.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(e,t)}return(function(i,r){if((i=Dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return mq(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=pn.fromDate(i);return{timestampValue:Um(r.serializer,o)}}if(i instanceof pn){const o=new pn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Um(r.serializer,o)}}if(i instanceof po)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ps)return{bytesValue:$k(r.serializer,i._byteString)};if(i instanceof oi){const o=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw r.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_b(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof mo)return(function(u,h){return{mapValue:{fields:{[Sk]:{stringValue:xk},[Nm]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return pb(h.serializer,m)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${gg(i)}`)})(e,t)}function ID(e,t){const n={};return _k(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wl(e,((i,r)=>{const o=Sd(r,t.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function PD(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof pn||e instanceof po||e instanceof ps||e instanceof oi||e instanceof Pg||e instanceof mo)}function Nb(e,t,n){if(!PD(n)||!gk(n)){const i=gg(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function C0(e,t,n){if((t=Dn(t))instanceof Ig)return t._internalPath;if(typeof t=="string")return Vb(e,t);throw Hm("Field path arguments must be of type string or ",e,!1,void 0,n)}const MW=new RegExp("[~\\*/\\[\\]]");function Vb(e,t,n){if(t.search(MW)>=0)throw Hm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ig(...t.split("."))._internalPath}catch{throw Hm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Hm(e,t,n,i,r){const o=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${t}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${i}`),u&&(d+=` in document ${r}`),d+=")"),new Nt(At.INVALID_ARGUMENT,h+e+d)}function kD(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n,i,r,o){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OW extends DD{data(){return super.data()}}function zb(e,t){return typeof t=="string"?Vb(e,t):t instanceof Ig?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Nt(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ub{}class MD extends Ub{}function NW(e,t,...n){let i=[];t instanceof Ub&&i.push(t),i=i.concat(n),(function(o){const u=o.filter((d=>d instanceof Fb)).length,h=o.filter((d=>d instanceof Bb)).length;if(u>1||u>0&&h>0)throw new Nt(At.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)e=r._apply(e);return e}class Bb extends MD{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Bb(t,n,i)}_apply(t){const n=this._parse(t);return OD(t._query,n),new _u(t.firestore,t.converter,y0(t._query,n))}_parse(t){const n=Ob(t.firestore);return(function(o,u,h,d,m,g,y){let v;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Nt(At.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){QR(y,g);const R=[];for(const M of y)R.push(XR(d,o,M));v={arrayValue:{values:R}}}else v=XR(d,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||QR(y,g),v=DW(h,u,y,g==="in"||g==="not-in");return ri.create(m,g,v)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Fb extends Ub{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Fb(t,n)}_parse(t){const n=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:zs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(r,o){let u=r;const h=o.getFlattenedFilters();for(const d of h)OD(u,d),u=y0(u,d)})(t._query,n),new _u(t.firestore,t.converter,y0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jb extends MD{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new jb(t,n)}_apply(t){const n=(function(r,o,u){if(r.startAt!==null)throw new Nt(At.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Nt(At.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jf(o,u)})(t._query,this._field,this._direction);return new _u(t.firestore,t.converter,(function(r,o){const u=r.explicitOrderBy.concat([o]);return new Xc(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,n))}}function VW(e,t="asc"){const n=t,i=zb("orderBy",e);return jb._create(i,n)}function XR(e,t,n){if(typeof(n=Dn(n))=="string"){if(n==="")throw new Nt(At.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mk(t)&&n.indexOf("/")!==-1)throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(bn.fromString(n));if(!Wt.isDocumentKey(i))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fR(e,new Wt(i))}if(n instanceof oi)return fR(e,n._key);throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gg(n)}.`)}function QR(e,t){if(!Array.isArray(e)||e.length===0)throw new Nt(At.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function OD(e,t){const n=(function(r,o){for(const u of r)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(e.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Nt(At.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Nt(At.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class zW{convertValue(t,n="none"){switch(fl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $n(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Jt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return wl(t,((r,o)=>{i[r]=this.convertValue(o,n)})),i}convertVectorValue(t){const n=t.fields?.[Nm].arrayValue?.values?.map((i=>$n(i.doubleValue)));return new mo(n)}convertGeoPoint(t){return new po($n(t.latitude),$n(t.longitude))}convertArray(t,n){return(t.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const i=vg(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Yf(t));default:return null}}convertTimestamp(t){const n=cl(t);return new pn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=bn.fromString(t);Je(eD(i),9688,{name:t});const r=new Xf(i.get(1),i.get(3)),o=new Wt(i.popFirst(5));return r.isEqual(n)||Jo(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class mf{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ou extends DD{constructor(t,n,i,r,o,u){super(t,n,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(zb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Nt(At.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ou._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ou._jsonSchemaVersion="firestore/documentSnapshot/1.0",ou._jsonSchema={type:si("string",ou._jsonSchemaVersion),bundleSource:si("string","DocumentSnapshot"),bundleName:si("string"),bundle:si("string")};class um extends ou{data(t={}){return super.data(t)}}class Ec{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new mf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new um(this._firestore,this._userDataWriter,i.key,i,new mf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Nt(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((h=>{const d=new um(r._firestore,r._userDataWriter,h.doc.key,h.doc,new mf(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new um(r._firestore,r._userDataWriter,h.doc.key,h.doc,new mf(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:BW(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Nt(At.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ec._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ab.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BW(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt(61501,{type:e})}}Ec._jsonSchemaVersion="firestore/querySnapshot/1.0",Ec._jsonSchema={type:si("string",Ec._jsonSchemaVersion),bundleSource:si("string","QuerySnapshot"),bundleName:si("string"),bundle:si("string")};class LD extends zW{constructor(t){super(),this.firestore=t}convertBytes(t){return new ps(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new oi(this.firestore,null,n)}}function FW(e,t,n,...i){e=il(e,oi);const r=il(e.firestore,Lc),o=Ob(r);let u;return u=typeof(t=Dn(t))=="string"||t instanceof Ig?kW(o,"updateDoc",e._key,t,n,i):PW(o,"updateDoc",e._key,t),Hb(r,[u.toMutation(e._key,Ls.exists(!0))])}function jW(e){return Hb(il(e.firestore,Lc),[new mb(e._key,Ls.none())])}function HW(e,t){const n=il(e.firestore,Lc),i=Db(e),r=UW(e.converter,t);return Hb(n,[IW(Ob(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,Ls.exists(!1))]).then((()=>i))}function qW(e,...t){e=Dn(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||YR(t[i])||(n=t[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(YR(t[i])){const d=t[i];t[i]=d.next?.bind(d),t[i+1]=d.error?.bind(d),t[i+2]=d.complete?.bind(d)}let o,u,h;if(e instanceof oi)u=il(e.firestore,Lc),h=db(e._key.path),o={next:d=>{t[i]&&t[i](GW(u,e,d))},error:t[i+1],complete:t[i+2]};else{const d=il(e,_u);u=il(d.firestore,Lc),h=d._query;const m=new LD(u);o={next:g=>{t[i]&&t[i](new Ec(u,m,d,g))},error:t[i+1],complete:t[i+2]},LW(e._query)}return(function(m,g,y,v){const T=new vW(v),R=new tW(g,T,y);return m.asyncQueue.enqueueAndForget((async()=>YG(await HR(m),R))),()=>{T.Nu(),m.asyncQueue.enqueueAndForget((async()=>XG(await HR(m),R)))}})(AD(u),h,r,o)}function Hb(e,t){return(function(i,r){const o=new su;return i.asyncQueue.enqueueAndForget((async()=>cW(await TW(i),r,o))),o.promise})(AD(e),t)}function GW(e,t,n){const i=n.docs.get(t._key),r=new LD(e);return new ou(e,r,t._key,i,new mf(n.hasPendingWrites,n.fromCache),t.converter)}function WW(){return new Lb("serverTimestamp")}(function(t,n=!0){(function(r){Zc=r})(mu),uu(new ll("firestore",((i,{instanceIdentifier:r,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new Lc(new RH(i.getProvider("auth-internal")),new PH(u,i.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Nt(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(m.options.projectId,g)})(u,r),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),co(JA,tR,t),co(JA,tR,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebasestorage.googleapis.com",VD="storageBucket",KW=120*1e3,ZW=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends To{constructor(t,n,i=0){super(gv(t),`Firebase Storage: ${n} (${gv(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return gv(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hn||(Hn={}));function gv(e){return"storage/"+e}function qb(){const e="An unknown error occurred, please check the error payload for server response.";return new qn(Hn.UNKNOWN,e)}function $W(e){return new qn(Hn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function YW(e){return new qn(Hn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XW(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qn(Hn.UNAUTHENTICATED,e)}function QW(){return new qn(Hn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JW(e){return new qn(Hn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function tK(){return new qn(Hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eK(){return new qn(Hn.CANCELED,"User canceled the upload/download.")}function nK(e){return new qn(Hn.INVALID_URL,"Invalid URL '"+e+"'.")}function iK(e){return new qn(Hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function rK(){return new qn(Hn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VD+"' property when initializing the app?")}function sK(){return new qn(Hn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oK(){return new qn(Hn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aK(e){return new qn(Hn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function I0(e){return new qn(Hn.INVALID_ARGUMENT,e)}function zD(){return new qn(Hn.APP_DELETED,"The Firebase app was deleted.")}function lK(e){return new qn(Hn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Of(e,t){return new qn(Hn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function sf(e){throw new qn(Hn.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Gr.makeFromUrl(t,n)}catch{return new Gr(t,"")}if(i.path==="")return i;throw iK(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(tt){tt.path.charAt(tt.path.length-1)==="/"&&(tt.path_=tt.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+r+u,"i"),d={bucket:1,path:3};function m(tt){tt.path_=decodeURIComponent(tt.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${g}/b/${r}/o${v}`,"i"),R={bucket:1,path:3},M=n===ND?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",N=new RegExp(`^https?://${M}/${r}/${F}`,"i"),W=[{regex:h,indices:d,postModify:o},{regex:T,indices:R,postModify:m},{regex:N,indices:{bucket:1,path:2},postModify:m}];for(let tt=0;tt<W.length;tt++){const X=W[tt],z=X.regex.exec(t);if(z){const q=z[X.indices.bucket];let x=z[X.indices.path];x||(x=""),i=new Gr(q,x),X.postModify(i);break}}if(i==null)throw nK(t);return i}}class uK{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(e,t,n){let i=1,r=null,o=null,u=!1,h=0;function d(){return h===2}let m=!1;function g(...F){m||(m=!0,t.apply(null,F))}function y(F){r=setTimeout(()=>{r=null,e(T,d())},F)}function v(){o&&clearTimeout(o)}function T(F,...N){if(m){v();return}if(F){v(),g.call(null,F,...N);return}if(d()||u){v(),g.call(null,F,...N);return}i<64&&(i*=2);let W;h===1?(h=2,W=0):W=(i+Math.random())*1e3,y(W)}let R=!1;function M(F){R||(R=!0,v(),!m&&(r!==null?(F||(h=2),clearTimeout(r),y(0)):F||(h=1)))}return y(0),o=setTimeout(()=>{u=!0,M(!0)},n),M}function hK(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(e){return e!==void 0}function dK(e){return typeof e=="object"&&!Array.isArray(e)}function Gb(e){return typeof e=="string"||e instanceof String}function JR(e){return Wb()&&e instanceof Blob}function Wb(){return typeof Blob<"u"}function tC(e,t,n,i){if(i<t)throw I0(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw I0(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function UD(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var au;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(au||(au={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(t,n,i,r,o,u,h,d,m,g,y,v=!0,T=!1){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,M)=>{this.resolve_=R,this.reject_=M,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Wp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===au.NO_ERROR,d=o.getStatus();if(!h||pK(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===au.ABORT;i(!1,new Wp(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;i(!0,new Wp(m,o))})},n=(i,r)=>{const o=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());fK(d)?o(d):o()}catch(d){u(d)}else if(h!==null){const d=qb();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(r.canceled){const d=this.appDelete_?zD():eK();u(d)}else{const d=tK();u(d)}};this.canceled_?n(!1,new Wp(!1,null,!0)):this.backoffId_=cK(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&hK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wp{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function gK(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function yK(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function _K(e,t){t&&(e["X-Firebase-GMPID"]=t)}function vK(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function wK(e,t,n,i,r,o,u=!0,h=!1){const d=UD(e.urlParams),m=e.url+d,g=Object.assign({},e.headers);return _K(g,t),gK(g,n),yK(g,o),vK(g,i),new mK(m,e.method,g,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function TK(...e){const t=bK();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(Wb())return new Blob(e);throw new qn(Hn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EK(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SK(e){if(typeof atob>"u")throw aK("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yv{constructor(t,n){this.data=t,this.contentType=n||null}}function xK(e,t){switch(e){case oo.RAW:return new yv(BD(t));case oo.BASE64:case oo.BASE64URL:return new yv(FD(e,t));case oo.DATA_URL:return new yv(RK(t),CK(t))}throw qb()}function BD(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=i,u=e.charCodeAt(++n);i=65536|(o&1023)<<10|u&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function AK(e){let t;try{t=decodeURIComponent(e)}catch{throw Of(oo.DATA_URL,"Malformed data URL.")}return BD(t)}function FD(e,t){switch(e){case oo.BASE64:{const r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw Of(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case oo.BASE64URL:{const r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw Of(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=SK(t)}catch(r){throw r.message.includes("polyfill")?r:Of(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class jD{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Of(oo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=IK(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function RK(e){const t=new jD(e);return t.base64?FD(oo.BASE64,t.rest):AK(t.rest)}function CK(e){return new jD(e).contentType}function IK(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n){let i=0,r="";JR(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,n){if(JR(this.data_)){const i=this.data_,r=EK(i,t,n);return r===null?null:new Za(r)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new Za(i,!0)}}static getBlob(...t){if(Wb()){const n=t.map(i=>i instanceof Za?i.data_:i);return new Za(TK.apply(null,n))}else{const n=t.map(u=>Gb(u)?xK(oo.RAW,u).data:u.data_);let i=0;n.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(u=>{for(let h=0;h<u.length;h++)r[o++]=u[h]}),new Za(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(e){let t;try{t=JSON.parse(e)}catch{return null}return dK(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function kK(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function qD(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DK(e,t){return t}class rr{constructor(t,n,i,r){this.server=t,this.local=n||t,this.writable=!!i,this.xform=r||DK}}let Kp=null;function MK(e){return!Gb(e)||e.length<2?e:qD(e)}function GD(){if(Kp)return Kp;const e=[];e.push(new rr("bucket")),e.push(new rr("generation")),e.push(new rr("metageneration")),e.push(new rr("name","fullPath",!0));function t(o,u){return MK(u)}const n=new rr("name");n.xform=t,e.push(n);function i(o,u){return u!==void 0?Number(u):u}const r=new rr("size");return r.xform=i,e.push(r),e.push(new rr("timeCreated")),e.push(new rr("updated")),e.push(new rr("md5Hash",null,!0)),e.push(new rr("cacheControl",null,!0)),e.push(new rr("contentDisposition",null,!0)),e.push(new rr("contentEncoding",null,!0)),e.push(new rr("contentLanguage",null,!0)),e.push(new rr("contentType",null,!0)),e.push(new rr("metadata","customMetadata",!0)),Kp=e,Kp}function OK(e,t){function n(){const i=e.bucket,r=e.fullPath,o=new Gr(i,r);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function LK(e,t,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const u=n[o];i[u.local]=u.xform(i,t[u.server])}return OK(i,e),i}function WD(e,t,n){const i=HD(t);return i===null?null:LK(e,i,n)}function NK(e,t,n,i){const r=HD(t);if(r===null||!Gb(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(m=>{const g=e.bucket,y=e.fullPath,v="/b/"+u(g)+"/o/"+u(y),T=Dg(v,n,i),R=UD({alt:"media",token:m});return T+R})[0]}function VK(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class Kb{constructor(t,n,i,r){this.url=t,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(e){if(!e)throw qb()}function zK(e,t){function n(i,r){const o=WD(e,r,t);return KD(o!==null),o}return n}function UK(e,t){function n(i,r){const o=WD(e,r,t);return KD(o!==null),NK(o,r,e.host,e._protocol)}return n}function ZD(e){function t(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=QW():r=XW():n.getStatus()===402?r=YW(e.bucket):n.getStatus()===403?r=JW(e.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return t}function $D(e){const t=ZD(e);function n(i,r){let o=t(i,r);return i.getStatus()===404&&(o=$W(e.path)),o.serverResponse=r.serverResponse,o}return n}function BK(e,t,n){const i=t.fullServerUrl(),r=Dg(i,e.host,e._protocol),o="GET",u=e.maxOperationRetryTime,h=new Kb(r,o,UK(e,n),u);return h.errorHandler=$D(t),h}function FK(e,t){const n=t.fullServerUrl(),i=Dg(n,e.host,e._protocol),r="DELETE",o=e.maxOperationRetryTime;function u(d,m){}const h=new Kb(i,r,u,o);return h.successCodes=[200,204],h.errorHandler=$D(t),h}function jK(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function HK(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=jK(null,t)),i}function qK(e,t,n,i,r){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let W="";for(let tt=0;tt<2;tt++)W=W+Math.random().toString().slice(2);return W}const d=h();u["Content-Type"]="multipart/related; boundary="+d;const m=HK(t,i,r),g=VK(m,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+m.contentType+`\r
\r
`,v=`\r
--`+d+"--",T=Za.getBlob(y,i,v);if(T===null)throw sK();const R={name:m.fullPath},M=Dg(o,e.host,e._protocol),F="POST",N=e.maxUploadRetryTime,K=new Kb(M,F,zK(e,n),N);return K.urlParams=R,K.headers=u,K.body=T.uploadData(),K.errorHandler=ZD(t),K}class GK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=au.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=au.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=au.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,r,o){if(this.sent_)throw sf("cannot .send() more than once");if(vl(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class WK extends GK{initXhr(){this.xhr_.responseType="text"}}function Zb(){return new WK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n){this._service=t,n instanceof Gr?this._location=n:this._location=Gr.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new fu(t,n)}get root(){const t=new Gr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qD(this._location.path)}get storage(){return this._service}get parent(){const t=PK(this._location.path);if(t===null)return null;const n=new Gr(this._location.bucket,t);return new fu(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw lK(t)}}function KK(e,t,n){e._throwIfRoot("uploadBytes");const i=qK(e.storage,e._location,GD(),new Za(t,!0),n);return e.storage.makeRequestWithTokens(i,Zb).then(r=>({metadata:r,ref:e}))}function ZK(e){e._throwIfRoot("getDownloadURL");const t=BK(e.storage,e._location,GD());return e.storage.makeRequestWithTokens(t,Zb).then(n=>{if(n===null)throw oK();return n})}function $K(e){e._throwIfRoot("deleteObject");const t=FK(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Zb)}function YK(e,t){const n=kK(e._location.path,t),i=new Gr(e._location.bucket,n);return new fu(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XK(e){return/^[A-Za-z]+:\/\//.test(e)}function QK(e,t){return new fu(e,t)}function YD(e,t){if(e instanceof $b){const n=e;if(n._bucket==null)throw rK();const i=new fu(n,n._bucket);return t!=null?YD(i,t):i}else return t!==void 0?YK(e,t):e}function JK(e,t){if(t&&XK(t)){if(e instanceof $b)return QK(e,t);throw I0("To use ref(service, url), the first argument must be a Storage instance.")}else return YD(e,t)}function eC(e,t){const n=t?.[VD];return n==null?null:Gr.makeFromBucketSpec(n,e)}function tZ(e,t,n,i={}){e.host=`${t}:${n}`;const r=vl(t);r&&(eb(`https://${e.host}/b`),nb("Storage",!0)),e._isUsingEmulator=!0,e._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(e._overrideAuthToken=typeof o=="string"?o:ek(o,e.app.options.projectId))}class $b{constructor(t,n,i,r,o,u=!1){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=ND,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KW,this._maxUploadRetryTime=ZW,this._requests=new Set,r!=null?this._bucket=Gr.makeFromBucketSpec(r,this._host):this._bucket=eC(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Gr.makeFromBucketSpec(this._url,t):this._bucket=eC(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){tC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){tC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new fu(this,t)}_makeRequest(t,n,i,r,o=!0){if(this._deleted)return new uK(zD());{const u=wK(t,this._appId,i,r,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const nC="@firebase/storage",iC="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="storage";function eZ(e,t,n){return e=Dn(e),KK(e,t,n)}function nZ(e){return e=Dn(e),ZK(e)}function QD(e){return e=Dn(e),$K(e)}function P0(e,t){return e=Dn(e),JK(e,t)}function iZ(e=sb(),t){e=Dn(e);const i=mg(e,XD).getImmediate({identifier:t}),r=QP("storage");return r&&rZ(i,...r),i}function rZ(e,t,n,i={}){tZ(e,t,n,i)}function sZ(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new $b(n,i,r,t,mu)}function oZ(){uu(new ll(XD,sZ,"PUBLIC").setMultipleInstances(!0)),co(nC,iC,""),co(nC,iC,"esm2020")}oZ();function JD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aZ=JD,tM=new yd("auth","Firebase",JD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new ib("@firebase/auth");function lZ(e,...t){qm.logLevel<=Ce.WARN&&qm.warn(`Auth (${mu}): ${e}`,...t)}function cm(e,...t){qm.logLevel<=Ce.ERROR&&qm.error(`Auth (${mu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e,...t){throw Yb(e,...t)}function go(e,...t){return Yb(e,...t)}function eM(e,t,n){const i={...aZ(),[t]:n};return new yd("auth","Firebase",i).create(t,{appName:e.name})}function sl(e){return eM(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yb(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return tM.create(e,...t)}function Qt(e,t,...n){if(!e)throw Yb(t,...n)}function Wo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw cm(t),new Error(t)}function ea(e,t){e||Wo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){return typeof self<"u"&&self.location?.href||""}function uZ(){return rC()==="http:"||rC()==="https:"}function rC(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uZ()||n7()||"connection"in navigator)?navigator.onLine:!0}function hZ(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t,n){this.shortDelay=t,this.longDelay=n,ea(n>t,"Short delay should be less than long delay!"),this.isMobile=J8()||i7()}get(){return cZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(e,t){ea(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pZ=new xd(3e4,6e4);function vu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Tl(e,t,n,i,r={}){return iM(e,r,async()=>{let o={},u={};i&&(t==="GET"?u=i:o={body:JSON.stringify(i)});const h=_d({key:e.config.apiKey,...u}).slice(1),d=await e._getAdditionalHeaders();d["Content-Type"]="application/json",e.languageCode&&(d["X-Firebase-Locale"]=e.languageCode);const m={method:t,headers:d,...o};return e7()||(m.referrerPolicy="no-referrer"),e.emulatorConfig&&vl(e.emulatorConfig.host)&&(m.credentials="include"),nM.fetch()(await rM(e,e.config.apiHost,n,h),m)})}async function iM(e,t,n){e._canInitEmulator=!1;const i={...fZ,...t};try{const r=new gZ(e),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Zp(e,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zp(e,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Zp(e,"email-already-in-use",u);if(d==="USER_DISABLED")throw Zp(e,"user-disabled",u);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw eM(e,g,m);Us(e,g)}}catch(r){if(r instanceof To)throw r;Us(e,"network-request-failed",{message:String(r)})}}async function Mg(e,t,n,i,r={}){const o=await Tl(e,t,n,i,r);return"mfaPendingCredential"in o&&Us(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function rM(e,t,n,i){const r=`${t}${n}?${i}`,o=e,u=o.config.emulator?Xb(e.config,r):`${e.config.apiScheme}://${r}`;return dZ.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function mZ(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(go(this.auth,"network-request-failed")),pZ.get())})}}function Zp(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=go(e,t,i);return r.customData._tokenResponse=n,r}function sC(e){return e!==void 0&&e.enterprise!==void 0}class yZ{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return mZ(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _Z(e,t){return Tl(e,"GET","/v2/recaptchaConfig",vu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vZ(e,t){return Tl(e,"POST","/v1/accounts:delete",t)}async function Gm(e,t){return Tl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wZ(e,t=!1){const n=Dn(e),i=await n.getIdToken(t),r=Qb(i);Qt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,u=o?.sign_in_provider;return{claims:r,token:i,authTime:Lf(_v(r.auth_time)),issuedAtTime:Lf(_v(r.iat)),expirationTime:Lf(_v(r.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function _v(e){return Number(e)*1e3}function Qb(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return cm("JWT malformed, contained fewer than 3 sections"),null;try{const r=YP(n);return r?JSON.parse(r):(cm("Failed to decode base64 JWT payload"),null)}catch(r){return cm("Caught error parsing JWT payload as JSON",r?.toString()),null}}function oC(e){const t=Qb(e);return Qt(t,"internal-error"),Qt(typeof t.exp<"u","internal-error"),Qt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof To&&bZ(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function bZ({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lf(this.lastLoginAt),this.creationTime=Lf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(e){const t=e.auth,n=await e.getIdToken(),i=await id(e,Gm(t,{idToken:n}));Qt(i?.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const o=r.providerUserInfo?.length?sM(r.providerUserInfo):[],u=SZ(e.providerData,o),h=e.isAnonymous,d=!(e.email&&r.passwordHash)&&!u?.length,m=h?d:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:u,metadata:new D0(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(e,g)}async function EZ(e){const t=Dn(e);await Wm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SZ(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function sM(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xZ(e,t){const n=await iM(e,{},async()=>{const i=_d({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,u=await rM(e,r,"/v1/token",`key=${o}`),h=await e._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return e.emulatorConfig&&vl(e.emulatorConfig.host)&&(d.credentials="include"),nM.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AZ(e,t){return Tl(e,"POST","/v2/accounts:revokeToken",vu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Qt(t.idToken,"internal-error"),Qt(typeof t.idToken<"u","internal-error"),Qt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):oC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Qt(t.length!==0,"internal-error");const n=oC(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await xZ(t,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,u=new Sc;return i&&(Qt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),r&&(Qt(typeof r=="string","internal-error",{appName:t}),u.accessToken=r),o&&(Qt(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Sc,this.toJSON())}_performRefresh(){return Wo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(e,t){Qt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Os{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new TZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new D0(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await id(this,this.stsTokenManager.getToken(this.auth,t));return Qt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return wZ(this,t)}reload(){return EZ(this)}_assign(t){this!==t&&(Qt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Os({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Wm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ds(this.auth.app))return Promise.reject(sl(this.auth));const t=await this.getIdToken();return await id(this,vZ(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,o=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:T,providerData:R,stsTokenManager:M}=n;Qt(y&&M,t,"internal-error");const F=Sc.fromJSON(this.name,M);Qt(typeof y=="string",t,"internal-error"),Ga(i,t.name),Ga(r,t.name),Qt(typeof v=="boolean",t,"internal-error"),Qt(typeof T=="boolean",t,"internal-error"),Ga(o,t.name),Ga(u,t.name),Ga(h,t.name),Ga(d,t.name),Ga(m,t.name),Ga(g,t.name);const N=new Os({uid:y,auth:t,email:r,emailVerified:v,displayName:i,isAnonymous:T,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:F,createdAt:m,lastLoginAt:g});return R&&Array.isArray(R)&&(N.providerData=R.map(K=>({...K}))),d&&(N._redirectEventId=d),N}static async _fromIdTokenResponse(t,n,i=!1){const r=new Sc;r.updateFromServerResponse(n);const o=new Os({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Wm(o),o}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];Qt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?sM(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!o?.length,h=new Sc;h.updateFromIdToken(i);const d=new Os({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:u}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new D0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Map;function Ko(e){ea(e instanceof Function,"Expected a class definition");let t=aC.get(e);return t?(ea(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,aC.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}oM.type="NONE";const lC=oM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(e,t,n){return`firebase:${e}:${t}:${n}`}class xc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=hm(this.userKey,r.apiKey,o),this.fullPersistenceKey=hm("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Gm(this.auth,{idToken:t}).catch(()=>{});return n?Os._fromGetAccountInfoResponse(this.auth,n,t):null}return Os._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new xc(Ko(lC),t,i);const r=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Ko(lC);const u=hm(i,t.config.apiKey,t.name);let h=null;for(const m of n)try{const g=await m._get(u);if(g){let y;if(typeof g=="string"){const v=await Gm(t,{idToken:g}).catch(()=>{});if(!v)break;y=await Os._fromGetAccountInfoResponse(t,v,g)}else y=Os._fromJSON(t,g);m!==o&&(h=y),o=m;break}}catch{}const d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new xc(o,t,i):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new xc(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fM(t))return"Blackberry";if(dM(t))return"Webos";if(lM(t))return"Safari";if((t.includes("chrome/")||uM(t))&&!t.includes("edge/"))return"Chrome";if(hM(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function aM(e=Zi()){return/firefox\//i.test(e)}function lM(e=Zi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uM(e=Zi()){return/crios\//i.test(e)}function cM(e=Zi()){return/iemobile/i.test(e)}function hM(e=Zi()){return/android/i.test(e)}function fM(e=Zi()){return/blackberry/i.test(e)}function dM(e=Zi()){return/webos/i.test(e)}function Jb(e=Zi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function RZ(e=Zi()){return Jb(e)&&!!window.navigator?.standalone}function CZ(){return r7()&&document.documentMode===10}function pM(e=Zi()){return Jb(e)||hM(e)||dM(e)||fM(e)||/windows phone/i.test(e)||cM(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(e,t=[]){let n;switch(e){case"Browser":n=uC(Zi());break;case"Worker":n=`${uC(Zi())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${mu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IZ{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=o=>new Promise((u,h)=>{try{const d=t(o);u(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PZ(e,t={}){return Tl(e,"GET","/v2/passwordPolicy",vu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ=6;class DZ{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MZ{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cC(this),this.idTokenSubscription=new cC(this),this.beforeStateQueue=new IZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ko(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xc.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Gm(this,{idToken:t}),i=await Os._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ds(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===u)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wm(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hZ()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ds(this.app))return Promise.reject(sl(this));const n=t?Dn(t):null;return n&&Qt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Qt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ds(this.app)?Promise.reject(sl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ds(this.app)?Promise.reject(sl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ko(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PZ(this),n=new DZ(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new yd("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await AZ(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ko(t)||this._popupRedirectResolver;Qt(n,this,"argument-error"),this.redirectPersistenceManager=await xc.create(this,[Ko(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qt(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=t.addObserver(n,i,r);return()=>{u=!0,d()}}else{const d=t.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=mM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lZ(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Jc(e){return Dn(e)}class cC{constructor(t){this.auth=t,this.observer=null,this.addObserver=f7(n=>this.observer=n)}get next(){return Qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OZ(e){Og=e}function gM(e){return Og.loadJS(e)}function LZ(){return Og.recaptchaEnterpriseScript}function NZ(){return Og.gapiScript}function VZ(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class zZ{constructor(){this.enterprise=new UZ}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class UZ{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const BZ="recaptcha-enterprise",yM="NO_RECAPTCHA";class FZ{constructor(t){this.type=BZ,this.auth=Jc(t)}async verify(t="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{_Z(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new yZ(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function r(o,u,h){const d=window.grecaptcha;sC(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(m=>{u(m)}).catch(()=>{u(yM)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zZ().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!n&&sC(window.grecaptcha))r(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=LZ();d.length!==0&&(d+=h),gM(d).then(()=>{r(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function hC(e,t,n,i=!1,r=!1){const o=new FZ(e);let u;if(r)u=yM;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function fC(e,t,n,i,r){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await hC(e,t,n,n==="getOobCode");return i(e,o)}else return i(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await hC(e,t,n,n==="getOobCode");return i(e,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jZ(e,t){const n=mg(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(lu(o,t??{}))return r;Us(r,"already-initialized")}return n.initialize({options:t})}function HZ(e,t){const n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ko);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function qZ(e,t,n){const i=Jc(e);Qt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=_M(t),{host:u,port:h}=GZ(t),d=h===null?"":`:${h}`,m={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Qt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Qt(lu(m,i.config.emulator)&&lu(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,vl(u)?(eb(`${o}//${u}${d}`),nb("Auth",!0)):WZ()}function _M(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function GZ(e){const t=_M(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:dC(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:dC(u)}}}function dC(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function WZ(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wo("not implemented")}_getIdTokenResponse(t){return Wo("not implemented")}_linkToIdToken(t,n){return Wo("not implemented")}_getReauthenticationResolver(t){return Wo("not implemented")}}async function KZ(e,t){return Tl(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZZ(e,t){return Mg(e,"POST","/v1/accounts:signInWithPassword",vu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Z(e,t){return Mg(e,"POST","/v1/accounts:signInWithEmailLink",vu(e,t))}async function YZ(e,t){return Mg(e,"POST","/v1/accounts:signInWithEmailLink",vu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends t1{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new rd(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new rd(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fC(t,n,"signInWithPassword",ZZ);case"emailLink":return $Z(t,{email:this._email,oobCode:this._password});default:Us(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fC(t,i,"signUpPassword",KZ);case"emailLink":return YZ(t,{idToken:n,email:this._email,oobCode:this._password});default:Us(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(e,t){return Mg(e,"POST","/v1/accounts:signInWithIdp",vu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ="http://localhost";class du extends t1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new du(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=n;if(!i||!r)return null;const u=new du(i,r);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const n=this.buildRequest();return Ac(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ac(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ac(t,n)}buildRequest(){const t={requestUri:XZ,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=_d(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QZ(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JZ(e){const t=cf(hf(e)).link,n=t?cf(hf(t)).deep_link_id:null,i=cf(hf(e)).deep_link_id;return(i?cf(hf(i)).link:null)||i||n||t||e}class e1{constructor(t){const n=cf(hf(t)),i=n.apiKey??null,r=n.oobCode??null,o=QZ(n.mode??null);Qt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=JZ(t);try{return new e1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this.providerId=th.PROVIDER_ID}static credential(t,n){return rd._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=e1.parseLink(n);return Qt(i,"argument-error"),rd._fromEmailAndCode(t,i.code,i.tenantId)}}th.PROVIDER_ID="password";th.EMAIL_PASSWORD_SIGN_IN_METHOD="password";th.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends vM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Ad{constructor(){super("facebook.com")}static credential(t){return du._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $a.credentialFromTaggedObject(t)}static credentialFromError(t){return $a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $a.credential(t.oauthAccessToken)}catch{return null}}}$a.FACEBOOK_SIGN_IN_METHOD="facebook.com";$a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Ad{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return du._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ya.credentialFromTaggedObject(t)}static credentialFromError(t){return Ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ya.credential(n,i)}catch{return null}}}Ya.GOOGLE_SIGN_IN_METHOD="google.com";Ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Ad{constructor(){super("github.com")}static credential(t){return du._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xa.credentialFromTaggedObject(t)}static credentialFromError(t){return Xa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xa.credential(t.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Ad{constructor(){super("twitter.com")}static credential(t,n){return du._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Qa.credentialFromTaggedObject(t)}static credentialFromError(t){return Qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Qa.credential(n,i)}catch{return null}}}Qa.TWITTER_SIGN_IN_METHOD="twitter.com";Qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const o=await Os._fromIdTokenResponse(t,i,r),u=pC(i);return new Nc({user:o,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=pC(i);return new Nc({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function pC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends To{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Km.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new Km(t,n,i,r)}}function wM(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Km._fromErrorAndOperation(e,o,t,i):o})}async function t$(e,t,n=!1){const i=await id(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Nc._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(e,t,n=!1){const{auth:i}=e;if(ds(i.app))return Promise.reject(sl(i));const r="reauthenticate";try{const o=await id(e,wM(i,r,t,e),n);Qt(o.idToken,i,"internal-error");const u=Qb(o.idToken);Qt(u,i,"internal-error");const{sub:h}=u;return Qt(e.uid===h,i,"user-mismatch"),Nc._forOperation(e,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Us(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(e,t,n=!1){if(ds(e.app))return Promise.reject(sl(e));const i="signIn",r=await wM(e,i,t),o=await Nc._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}async function n$(e,t){return bM(Jc(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(e){const t=Jc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function r$(e,t,n){return ds(e.app)?Promise.reject(sl(e)):n$(Dn(e),th.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&i$(e),i})}function s$(e,t,n,i){return Dn(e).onIdTokenChanged(t,n,i)}function o$(e,t,n){return Dn(e).beforeAuthStateChanged(t,n)}function a$(e,t,n,i){return Dn(e).onAuthStateChanged(t,n,i)}function l$(e){return Dn(e).signOut()}const Zm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zm,"1"),this.storage.removeItem(Zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=1e3,c$=10;class EM extends TM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);CZ()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,c$):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},u$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}EM.type="LOCAL";const h$=EM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM extends TM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}SM.type="SESSION";const xM=SM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Lg(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:o}=n.data,u=this.handlersMap[r];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async m=>m(n.origin,o)),d=await f$(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const m=n1("",20);r.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(y){const v=y;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:m,data:n},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(){return window}function p$(e){yo().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){return typeof yo().WorkerGlobalScope<"u"&&typeof yo().importScripts=="function"}async function m$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g$(){return navigator?.serviceWorker?.controller||null}function y$(){return AM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="firebaseLocalStorageDb",_$=1,$m="firebaseLocalStorage",CM="fbase_key";class Rd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ng(e,t){return e.transaction([$m],t?"readwrite":"readonly").objectStore($m)}function v$(){const e=indexedDB.deleteDatabase(RM);return new Rd(e).toPromise()}function M0(){const e=indexedDB.open(RM,_$);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore($m,{keyPath:CM})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains($m)?t(i):(i.close(),await v$(),t(await M0()))})})}async function mC(e,t,n){const i=Ng(e,!0).put({[CM]:t,value:n});return new Rd(i).toPromise()}async function w$(e,t){const n=Ng(e,!1).get(t),i=await new Rd(n).toPromise();return i===void 0?null:i.value}function gC(e,t){const n=Ng(e,!0).delete(t);return new Rd(n).toPromise()}const b$=800,T$=3;class IM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>T$)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lg._getInstance(y$()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await m$(),!this.activeServiceWorker)return;this.sender=new d$(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||g$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await M0();return await mC(t,Zm,"1"),await gC(t,Zm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>mC(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>w$(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gC(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Ng(r,!1).getAll();return new Rd(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IM.type="LOCAL";const E$=IM;new xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(e,t){return t?Ko(t):(Qt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends t1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ac(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ac(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ac(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function x$(e){return bM(e.auth,new i1(e),e.bypassAuthState)}function A$(e){const{auth:t,user:n}=e;return Qt(n,t,"internal-error"),e$(n,new i1(e),e.bypassAuthState)}async function R$(e){const{auth:t,user:n}=e;return Qt(n,t,"internal-error"),t$(n,new i1(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t,n,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return x$;case"linkViaPopup":case"linkViaRedirect":return R$;case"reauthViaPopup":case"reauthViaRedirect":return A$;default:Us(this.auth,"internal-error")}}resolve(t){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=new xd(2e3,1e4);class gc extends PM{constructor(t,n,i,r,o){super(t,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,gc.currentPopupAction&&gc.currentPopupAction.cancel(),gc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Qt(t,this.auth,"internal-error"),t}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const t=n1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gc.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(go(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,C$.get())};t()}}gc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="pendingRedirect",fm=new Map;class P$ extends PM{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=fm.get(this.auth._key());if(!t){try{const i=await k$(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}fm.set(this.auth._key(),t)}return this.bypassAuthState||fm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k$(e,t){const n=O$(t),i=M$(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function D$(e,t){fm.set(e._key(),t)}function M$(e){return Ko(e._redirectPersistence)}function O$(e){return hm(I$,e.config.apiKey,e.name)}async function L$(e,t,n=!1){if(ds(e.app))return Promise.reject(sl(e));const i=Jc(e),r=S$(i,t),u=await new P$(i,r,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=600*1e3;class V${constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!z$(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!kM(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";n.onError(go(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=N$&&this.cachedEventUids.clear(),this.cachedEventUids.has(yC(t))}saveEventToCache(t){this.cachedEventUids.add(yC(t)),this.lastProcessedEventTime=Date.now()}}function yC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function kM({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function z$(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kM(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(e,t={}){return Tl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F$=/^https?/;async function j$(e){if(e.config.emulator)return;const{authorizedDomains:t}=await U$(e);for(const n of t)try{if(H$(n))return}catch{}Us(e,"unauthorized-domain")}function H$(e){const t=k0(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const u=new URL(e);return u.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!F$.test(n))return!1;if(B$.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=new xd(3e4,6e4);function _C(){const e=yo().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function G$(e){return new Promise((t,n)=>{function i(){_C(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_C(),n(go(e,"network-request-failed"))},timeout:q$.get()})}if(yo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(yo().gapi?.load)i();else{const r=VZ("iframefcb");return yo()[r]=()=>{gapi.load?i():n(go(e,"network-request-failed"))},gM(`${NZ()}?onload=${r}`).catch(o=>n(o))}}).catch(t=>{throw dm=null,t})}let dm=null;function W$(e){return dm=dm||G$(e),dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=new xd(5e3,15e3),Z$="__/auth/iframe",$$="emulator/auth/iframe",Y$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q$(e){const t=e.config;Qt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Xb(t,$$):`https://${e.config.authDomain}/${Z$}`,i={apiKey:t.apiKey,appName:e.name,v:mu},r=X$.get(e.config.apiHost);r&&(i.eid=r);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${_d(i).slice(1)}`}async function J$(e){const t=await W$(e),n=yo().gapi;return Qt(n,e,"internal-error"),t.open({where:document.body,url:Q$(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y$,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const u=go(e,"network-request-failed"),h=yo().setTimeout(()=>{o(u)},K$.get());function d(){yo().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eY=500,nY=600,iY="_blank",rY="http://localhost";class vC{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sY(e,t,n,i=eY,r=nY){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...tY,width:i.toString(),height:r.toString(),top:o,left:u},m=Zi().toLowerCase();n&&(h=uM(m)?iY:n),aM(m)&&(t=t||rY,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,R])=>`${v}${T}=${R},`,"");if(RZ(m)&&h!=="_self")return oY(t||"",h),new vC(null);const y=window.open(t||"",h,g);Qt(y,e,"popup-blocked");try{y.focus()}catch{}return new vC(y)}function oY(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY="__/auth/handler",lY="emulator/auth/handler",uY=encodeURIComponent("fac");async function wC(e,t,n,i,r,o){Qt(e.config.authDomain,e,"auth-domain-config-required"),Qt(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:mu,eventId:r};if(t instanceof vM){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",h7(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(t instanceof Ad){const g=t.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}e.tenantId&&(u.tid=e.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await e._getAppCheckToken(),m=d?`#${uY}=${encodeURIComponent(d)}`:"";return`${cY(e)}?${_d(h).slice(1)}${m}`}function cY({config:e}){return e.emulator?Xb(e,lY):`https://${e.authDomain}/${aY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="webStorageSupport";class hY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xM,this._completeRedirectFn=L$,this._overrideRedirectResult=D$}async _openPopup(t,n,i,r){ea(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await wC(t,n,i,k0(),r);return sY(t,o,n1())}async _openRedirect(t,n,i,r){await this._originValidation(t);const o=await wC(t,n,i,k0(),r);return p$(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(ea(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await J$(t),i=new V$(t);return n.register("authEvent",r=>(Qt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(vv,{type:vv},r=>{const o=r?.[0]?.[vv];o!==void 0&&n(!!o),Us(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j$(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return pM()||lM()||Jb()}}const fY=hY;var bC="@firebase/auth",TC="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mY(e){uu(new ll("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Qt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mM(e)},m=new MZ(i,r,o,d);return HZ(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),uu(new ll("auth-internal",t=>{const n=Jc(t.getProvider("auth").getImmediate());return(i=>new dY(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(bC,TC,pY(e)),co(bC,TC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY=300,yY=tk("authIdTokenMaxAge")||gY;let EC=null;const _Y=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>yY)return;const r=n?.token;EC!==r&&(EC=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function vY(e=sb()){const t=mg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=jZ(e,{popupRedirectResolver:fY,persistence:[E$,h$,xM]}),i=tk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=_Y(o.toString());o$(n,u,()=>u(n.currentUser)),s$(n,h=>u(h))}}const r=XP("auth");return r&&qZ(n,`http://${r}`),n}function wY(){return document.getElementsByTagName("head")?.[0]??document}OZ({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const o=go("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",wY().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mY("Browser");const bY={apiKey:"AIzaSyDea9j3FwUYCr4MmtUGeN1Dbrd8KXiQEOo",authDomain:"love-letters-portal.firebaseapp.com",projectId:"love-letters-portal",storageBucket:"love-letters-portal.firebasestorage.app",messagingSenderId:"1007931164401",appId:"1:1007931164401:web:da528413d39af4ce024b50",measurementId:"G-V0TZG964T8"},r1=rk(bY),Ym=SW(r1),O0=iZ(r1),sd=vY(r1);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function TY(e,t,n,i){function r(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function h(g){try{m(i.next(g))}catch(y){u(y)}}function d(g){try{m(i.throw(g))}catch(y){u(y)}}function m(g){g.done?o(g.value):r(g.value).then(h,d)}m((i=i.apply(e,[])).next())})}function EY(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(g){return d([m,g])}}function d(m){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(o=m[0]&2?r.return:m[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,m[1])).done)return o;switch(r=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,r=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){n.label=m[1];break}if(m[0]===6&&n.label<o[1]){n.label=o[1],o=m;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(m);break}o[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(g){m=[6,g],r=0}finally{i=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yc=function(){return yc=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},yc.apply(this,arguments)},DM=function(e){return{loading:e==null,value:e}},SY=function(){return function(e,t){switch(t.type){case"error":return yc(yc({},e),{error:t.error,loading:!1,value:void 0});case"reset":return DM(t.defaultValue);case"value":return yc(yc({},e),{error:void 0,loading:!1,value:t.value});default:return e}}},xY=(function(e){var t=e?e():void 0,n=Q.useReducer(SY(),DM(t)),i=n[0],r=n[1],o=Q.useCallback(function(){var d=e?e():void 0;r({type:"reset",defaultValue:d})},[e]),u=Q.useCallback(function(d){r({type:"error",error:d})},[]),h=Q.useCallback(function(d){r({type:"value",value:d})},[]);return Q.useMemo(function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:h,value:i.value}},[i.error,i.loading,o,u,h,i.value])}),s1=(function(e,t){var n=xY(function(){return e.currentUser}),i=n.error,r=n.loading,o=n.setError,u=n.setValue,h=n.value;return Q.useEffect(function(){var d=a$(e,function(m){return TY(void 0,void 0,void 0,function(){var g;return EY(this,function(y){switch(y.label){case 0:return[3,4];case 1:return y.trys.push([1,3,,4]),[4,t.onUserChanged(m)];case 2:return y.sent(),[3,4];case 3:return g=y.sent(),o(g),[3,4];case 4:return u(m),[2]}})})},o);return function(){d()}},[e]),[h,r,i]});function AY({onLocationSelect:e}){return OF({click(t){e(t.latlng)}}),null}function RY({location:e}){const t=oP();return Q.useEffect(()=>{e&&t.setView([e.lat,e.lng],15)},[e,t]),null}function CY({post:e,onEdit:t,onDelete:n,isAdmin:i}){Q.useEffect(()=>{(async()=>(delete L.Icon.Default.prototype._getIconUrl,L.Icon.Default.mergeOptions({iconRetinaUrl:(await $_(async()=>{const{default:u}=await import("./marker-icon-2x-D4k_ikNW.js");return{default:u}},[])).default,iconUrl:(await $_(async()=>{const{default:u}=await import("./marker-icon-C2eJqgqv.js");return{default:u}},[])).default,shadowUrl:(await $_(async()=>{const{default:u}=await import("./marker-shadow-DU6CIJ0p.js");return{default:u}},[])).default})))()},[]);const r=new Date(e.createdAt?.toDate()).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),o=e.mediaUrls||(e.mediaUrl?[e.mediaUrl]:[]);return ot.jsxs(sr.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative bg-white rounded-2xl shadow-lg p-5 border border-subtle flex flex-col gap-4",children:[i&&ot.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 z-20",children:[ot.jsx("button",{onClick:()=>t(e),className:"bg-blue-100 text-blue-600 p-1.5 rounded-full hover:bg-blue-200 transition",children:ot.jsx(r4,{size:14})}),ot.jsx("button",{onClick:()=>n(e),className:"bg-red-100 text-red-600 p-1.5 rounded-full hover:bg-red-200 transition",children:ot.jsx(o4,{size:14})})]}),ot.jsxs("div",{className:"flex items-center gap-2 text-sm text-text/70",children:[ot.jsx(BC,{size:14}),ot.jsxs("span",{children:[r," Uhr"]})]}),o.length>0&&ot.jsx("div",{className:"rounded-lg overflow-hidden border border-subtle will-change-transform",children:ot.jsx(ZF.Carousel,{showThumbs:!1,showStatus:!1,infiniteLoop:!0,useKeyboardArrows:!0,autoPlay:!1,dynamicHeight:!0,children:o.map((u,h)=>ot.jsx("div",{children:ot.jsx("img",{src:u,alt:`Blog content ${h+1}`,className:"w-full h-auto object-cover"})},h))})}),e.text&&ot.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-0",children:ot.jsx("p",{className:"text-text/90 whitespace-pre-wrap",children:e.text})}),e.location&&ot.jsxs("div",{children:[ot.jsxs("h4",{className:"font-bold text-sm text-text/70 mb-2 flex items-center gap-2",children:[ot.jsx(jC,{size:16,className:"text-accent"})," Standort"]}),ot.jsx("div",{className:"h-48 rounded-lg overflow-hidden border border-subtle",children:ot.jsxs(aP,{center:[e.location.lat,e.location.lng],zoom:14,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[ot.jsx(uP,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),ot.jsx(lP,{position:[e.location.lat,e.location.lng],children:ot.jsx(NF,{children:"Hier war ich!"})})]})})]})]})}const IY=({date:e})=>{const t=new Date(e).toLocaleDateString("de-DE",{weekday:"long",day:"2-digit",month:"long",year:"numeric"});return ot.jsxs("div",{className:"flex items-center my-8",children:[ot.jsx("div",{className:"flex-grow border-t border-subtle"}),ot.jsx("span",{className:"flex-shrink-0 mx-4 text-sm font-bold text-text/70 tracking-wider",children:t}),ot.jsx("div",{className:"flex-grow border-t border-subtle"})]})};function PY(){const[e,t]=s1(sd),[n,i]=Q.useState([]),[r,o]=Q.useState(!1),[u,h]=Q.useState(!0),[d,m]=Q.useState(!1),[g,y]=Q.useState(null);Q.useEffect(()=>{if(t){h(!0);return}e?e.getIdTokenResult(!0).then(F=>{o(F.claims.admin===!0),h(!1)}):(o(!1),h(!1))},[e,t]),Q.useEffect(()=>{const F=NW(xD(Ym,"blogPosts"),VW("createdAt","desc")),N=qW(F,K=>{i(K.docs.map(W=>({...W.data(),id:W.id})))});return()=>N()},[]);const v=[];let T=null;n.forEach(F=>{if(!F.createdAt)return;const N=new Date(F.createdAt.toDate()).toLocaleDateString("de-DE");N!==T&&(v.push({type:"date",date:F.createdAt.toDate(),id:N}),T=N),v.push({type:"post",...F})});const R=F=>{y(F),m(!0)},M=async F=>{if(window.confirm("Soll der Post wirklich gelöscht werden?"))try{const N=F.mediaUrls||(F.mediaUrl?[F.mediaUrl]:[]);N.length>0&&await Promise.all(N.map(K=>QD(P0(O0,K)))),await jW(Db(Ym,"blogPosts",F.id))}catch(N){alert("Fehler beim Löschen des Posts. Grund: "+N.message)}};return t||u?ot.jsx("div",{className:"flex justify-center mt-10",children:ot.jsx(yf,{className:"animate-spin text-primary",size:48})}):ot.jsxs("div",{className:`w-full max-w-2xl font-sans ${d?"maps-in-background":""}`,children:[ot.jsxs("header",{className:"mb-12 text-center",children:[ot.jsxs("h2",{className:"text-4xl font-bold text-text flex items-center justify-center gap-3",children:[ot.jsx(gm,{className:"text-primary",size:36}),ot.jsx("span",{children:"Meine Reise"})]}),ot.jsx("p",{className:"text-text/70 mt-2",children:"Momente meiner Reise nach Porto."})]}),r&&ot.jsx(MM,{formId:"new-post"},"new-post-form"),ot.jsx("main",{className:"flex flex-col gap-6",children:v.length>0?v.map(F=>F.type==="date"?ot.jsx(IY,{date:F.date},F.id):ot.jsx(CY,{post:F,onEdit:R,onDelete:M,isAdmin:r},F.id)):!r&&ot.jsx("p",{className:"text-center text-text/70 mt-8",children:"Noch keine Blogeinträge vorhanden."})}),ot.jsx(dw,{children:d&&ot.jsx(DY,{post:g,onClose:()=>m(!1)},g.id)})]})}function kY({image:e,onRemove:t}){const{attributes:n,listeners:i,setNodeRef:r,transform:o,transition:u}=I8({id:e.id}),h={transform:Wf.Transform.toString(o),transition:u};return ot.jsxs("div",{ref:r,style:h,...n,className:"relative group touch-none",children:[ot.jsx("img",{src:e.src,alt:"Vorschau",className:"rounded-md w-full h-24 object-cover"}),ot.jsx("button",{type:"button",...i,className:"absolute top-1 left-1 bg-black/50 text-white rounded-full p-0.5 cursor-grab active:cursor-grabbing",children:ot.jsx(LN,{size:12})}),ot.jsx("button",{type:"button",onClick:t,className:"absolute top-1 right-1 bg-black/50 text-white rounded-full p-0.5 hover:bg-black/80",children:ot.jsx(HC,{size:12})})]})}function MM({postToEdit:e,onFormSubmit:t,formId:n}){const i=Z=>Z?new Date(Z.getTime()-Z.getTimezoneOffset()*6e4).toISOString().slice(0,16):"",[r,o]=Q.useState(e?.text||""),[u,h]=Q.useState((e?.mediaUrls||(e?.mediaUrl?[e.mediaUrl]:[])).map((Z,G)=>({id:`existing-${G}-${Z}`,src:Z,type:"existing"}))),[d,m]=Q.useState([]),[g,y]=Q.useState(e?.location||null),[v,T]=Q.useState(i(e?.createdAt?.toDate())),[R,M]=Q.useState(!1),[F,N]=Q.useState(!1),[K,W]=Q.useState(""),[tt,X]=Q.useState(!1),z=Q.useRef(null),q=uj(RA(Yw),RA(Zw,{coordinateGetter:D8})),x=Z=>y({lat:Z.lat,lng:Z.lng}),A=Z=>{const G=u.find(B=>B.id===Z);G.type==="existing"&&m(B=>[...B,G.src]),h(B=>B.filter(V=>V.id!==Z))},U=()=>{if(!navigator.geolocation){W("Dein Browser unterstützt keine Standortermittlung.");return}X(!0),W(""),navigator.geolocation.getCurrentPosition(Z=>{y({lat:Z.coords.latitude,lng:Z.coords.longitude}),X(!1)},Z=>{W(`Standort konnte nicht ermittelt werden: ${Z.message}`),X(!1)},{enableHighAccuracy:!0})},k=Z=>{const{active:G,over:B}=Z;G.id!==B.id&&h(V=>{const nt=V.findIndex(C=>C.id===G.id),it=V.findIndex(C=>C.id===B.id);return Xw(V,nt,it)})},P=Z=>{const G=Array.from(Z.target.files);if(G.length===0)return;N(!0),W("");const B={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},V=G.map(nt=>qi(nt,B).then(it=>({id:`new-${it.name}-${Math.random()}`,src:URL.createObjectURL(it),type:"new",fileObject:it})).catch(it=>(W(`Fehler bei Komprimierung von ${nt.name}.`),null)));Promise.all(V).then(nt=>{h(it=>[...it,...nt.filter(Boolean)]),N(!1)})},D=async Z=>{Z.preventDefault();const G=u.filter(V=>V.type==="new"),B=u.filter(V=>V.type==="existing").map(V=>V.src);if(!(!r&&G.length===0&&B.length===0&&!g)){M(!0),W("");try{d.length>0&&await Promise.all(d.map(C=>QD(P0(O0,C))));let V=[];if(G.length>0){const C=G.map(at=>{const lt=`blog-media/${Date.now()}-${at.fileObject.name}`,$=P0(O0,lt);return eZ($,at.fileObject).then(()=>nZ($))});V=await Promise.all(C)}const nt=[...B,...V],it={text:r,location:g,mediaUrls:nt};e?(it.createdAt=v?pn.fromDate(new Date(v)):e.createdAt,await FW(Db(Ym,"blogPosts",e.id),it)):(it.createdAt=v?pn.fromDate(new Date(v)):WW(),await HW(xD(Ym,"blogPosts"),it)),e||(o(""),y(null),T(""),h([]),z.current&&(z.current.value="")),t&&t()}catch(V){W(`Fehler: ${V.message}.`)}finally{M(!1)}}};return ot.jsxs("form",{onSubmit:D,className:"bg-white/90 rounded-2xl shadow-lg p-4 mb-12 flex flex-col gap-4 border border-subtle",children:[ot.jsx("textarea",{value:r,onChange:Z=>o(Z.target.value),placeholder:"Was ist heute Schönes passiert?",className:"w-full p-3 border border-subtle rounded-lg focus:outline-none focus:ring-2 focus:ring-accent",rows:"4"}),ot.jsxs("div",{children:[ot.jsxs("label",{className:"block text-text/80 text-sm font-bold mb-2 flex items-center gap-2",children:[ot.jsx(gf,{size:16})," Datum & Uhrzeit"]}),ot.jsx("input",{type:"datetime-local",value:v,onChange:Z=>T(Z.target.value),className:"w-full p-2 border border-subtle rounded-lg focus:outline-none focus:ring-2 focus:ring-accent"})]}),ot.jsxs("div",{children:[ot.jsxs("button",{type:"button",onClick:()=>z.current&&z.current.click(),disabled:F,className:"cursor-pointer flex items-center gap-2 p-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm w-fit disabled:opacity-50",children:[F?ot.jsx(yf,{size:16,className:"animate-spin text-primary"}):ot.jsx(FN,{className:"text-primary"}),ot.jsx("span",{children:F?"Bilder werden verarbeitet...":"Bilder hinzufügen..."})]}),ot.jsx("input",{ref:z,onChange:P,type:"file",accept:"image/*",className:"hidden",multiple:!0}),u.length>0&&ot.jsx(h8,{sensors:q,collisionDetection:hj,onDragEnd:k,children:ot.jsx(T8,{items:u.map(Z=>Z.id),strategy:Qw,children:ot.jsx("div",{className:"mt-4 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:u.map(Z=>ot.jsx(kY,{image:Z,onRemove:()=>A(Z.id)},Z.id))})})})]}),ot.jsxs("div",{children:[ot.jsxs("div",{className:"flex justify-between items-center mb-2",children:[ot.jsx("label",{className:"block text-text/80 text-sm font-bold",children:"Ort auswählen"}),ot.jsxs("button",{type:"button",onClick:U,disabled:tt,className:"flex items-center gap-1.5 text-xs font-semibold text-primary hover:text-accent disabled:opacity-50 transition",children:[tt?ot.jsx(yf,{size:14,className:"animate-spin"}):ot.jsx(qN,{size:14}),tt?"Suche...":"Meinen Standort verwenden"]})]}),ot.jsx("div",{className:"h-64 rounded-lg overflow-hidden border border-subtle",children:ot.jsxs(aP,{center:g?[g.lat,g.lng]:[41.1579,-8.6291],zoom:13,style:{height:"100%",width:"100%"},children:[ot.jsx(uP,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),ot.jsx(AY,{onLocationSelect:x}),ot.jsx(RY,{location:g}),g&&ot.jsx(lP,{position:[g.lat,g.lng]})]})}),g&&ot.jsxs("div",{className:"mt-2 flex items-center gap-1.5 text-sm text-green-600 font-medium",children:[" ",ot.jsx(jC,{size:14})," Standort ausgewählt!"," "]})]}),K&&ot.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-100 p-3 rounded-lg",children:[" ",ot.jsx(l4,{size:18})," ",ot.jsx("span",{children:K})," "]}),ot.jsx("button",{type:"submit",disabled:R||F,className:"w-full flex justify-center items-center gap-2 bg-primary hover:bg-primary/90 text-white font-bold py-3 rounded-lg transition-transform transform active:scale-95 disabled:bg-primary/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:R?ot.jsxs(ot.Fragment,{children:[ot.jsx(yf,{className:"animate-spin"})," ",ot.jsx("span",{children:"Wird gespeichert..."})]}):ot.jsxs(ot.Fragment,{children:[ot.jsx(n4,{size:18})," ",ot.jsx("span",{children:e?"Änderungen speichern":"Posten"})]})})]})}function DY({post:e,onClose:t}){return ot.jsx(sr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:t,children:ot.jsxs(sr.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-background rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-subtle",onClick:n=>n.stopPropagation(),children:[ot.jsxs("div",{className:"sticky top-0 bg-background p-4 border-b border-subtle flex justify-between items-center z-10 md:sticky",children:[ot.jsx("h3",{className:"font-bold text-lg text-text",children:"Post bearbeiten"}),ot.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200",children:ot.jsx(HC,{size:20})})]}),ot.jsx("div",{className:"p-4",children:ot.jsx(MM,{postToEdit:e,onFormSubmit:t,formId:e.id})})]})})}function MY(){const[e,t]=Q.useState(""),[n,i]=Q.useState(""),[r,o]=Q.useState(""),u=Jm(),h=async d=>{d.preventDefault(),o("");try{await r$(sd,e,n),u("/loveletters")}catch(m){o("Login fehlgeschlagen. Bitte überprüfe E-Mail und Passwort."),console.error("Firebase Login Error:",m)}};return ot.jsx("div",{className:"w-full max-w-sm mx-auto mt-10 font-sans",children:ot.jsxs("form",{onSubmit:h,className:"bg-white/90 shadow-lg rounded-2xl px-8 pt-6 pb-8 mb-4 border border-subtle",children:[ot.jsx("h2",{className:"text-2xl font-bold text-center text-text mb-6",children:"Login"}),ot.jsxs("div",{className:"mb-4",children:[ot.jsx("label",{className:"block text-text/80 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),ot.jsx("input",{id:"email",type:"email",value:e,onChange:d=>t(d.target.value),className:"shadow-inner appearance-none border border-subtle rounded-lg w-full py-2 px-3 text-text leading-tight focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),ot.jsxs("div",{className:"mb-6",children:[ot.jsx("label",{className:"block text-text/80 text-sm font-bold mb-2",htmlFor:"password",children:"Passwort"}),ot.jsx("input",{id:"password",type:"password",value:n,onChange:d=>i(d.target.value),className:"shadow-inner appearance-none border border-subtle rounded-lg w-full py-2 px-3 text-text leading-tight focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),r&&ot.jsx("p",{className:"text-red-500 text-xs italic text-center mb-4",children:r}),ot.jsx("div",{children:ot.jsx("button",{type:"submit",className:"bg-primary hover:bg-primary/90 text-white font-bold py-2 px-4 rounded-lg w-full transition-transform transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:"Anmelden"})})]})})}function OY(){const[e]=s1(sd),t=Jm(),n=()=>{l$(sd),t("/login")},i={color:"hsl(215, 35%, 45%)",fontWeight:"bold"};return ot.jsx("nav",{className:"w-full max-w-xl bg-white/90 rounded-full shadow-md p-2 top-4 z-50 mb-6 md:sticky",children:ot.jsx("div",{className:"flex justify-around items-center text-text/80",children:e?ot.jsxs(ot.Fragment,{children:[ot.jsxs(af,{to:"/loveletters",style:({isActive:r})=>r?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[ot.jsx(UN,{size:24}),ot.jsx("span",{className:"text-xs mt-1 font-sans",children:"Loveletters"})]}),ot.jsxs(af,{to:"/blog",style:({isActive:r})=>r?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[ot.jsx(gm,{size:24}),ot.jsx("span",{className:"text-xs mt-1 font-sans",children:"Blog"})]}),ot.jsxs("button",{onClick:n,className:"flex flex-col items-center hover:text-primary transition-colors",children:[ot.jsx($N,{size:24}),ot.jsx("span",{className:"text-xs mt-1 font-sans",children:"Logout"})]})]}):ot.jsxs(ot.Fragment,{children:[ot.jsxs(af,{to:"/blog",style:({isActive:r})=>r?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[ot.jsx(gm,{size:24}),ot.jsx("span",{className:"text-xs mt-1 font-sans",children:"Blog"})]}),ot.jsxs(af,{to:"/login",style:({isActive:r})=>r?i:void 0,className:"flex flex-col items-center hover:text-primary transition-colors",children:[ot.jsx(FC,{size:24}),ot.jsx("span",{className:"text-xs mt-1 font-sans",children:"Login"})]})]})})})}function LY({children:e}){const[t,n]=s1(sd);return n?ot.jsx("div",{className:"flex w-full h-[80vh] justify-center items-center",children:ot.jsx(yf,{className:"animate-spin text-primary",size:48})}):t?e:ot.jsx(WL,{to:"/login",replace:!0})}function NY(){return ot.jsxs("div",{className:"min-h-screen bg-background text-text flex flex-col items-center p-4",children:[ot.jsx(OY,{}),ot.jsxs(ZL,{children:[ot.jsx(of,{path:"/",element:ot.jsx(j6,{})}),ot.jsx(of,{path:"/loveletters",element:ot.jsx(LY,{children:ot.jsx(yF,{})})}),ot.jsx(of,{path:"/blog",element:ot.jsx(PY,{})}),ot.jsx(of,{path:"/login",element:ot.jsx(MY,{})})]})]})}const VY="/projects/loveletter/";iL.createRoot(document.getElementById("root")).render(ot.jsx(Si.StrictMode,{children:ot.jsx(yN,{basename:VY,children:ot.jsx(NY,{})})}));
